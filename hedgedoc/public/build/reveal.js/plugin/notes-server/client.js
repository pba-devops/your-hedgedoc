(function(){if(window.location.search.match(/receiver/gi))return;var o=io.connect(window.location.origin),n=Math.random().toString().slice(2);console.log("View slide notes at "+window.location.origin+"/notes/"+n),window.open(window.location.origin+"/notes/"+n,"notes-"+n);function e(){var t=Reveal.getCurrentSlide(),i=t.querySelector("aside.notes"),a={notes:"",markdown:!1,socketId:n,state:Reveal.getState()};t.hasAttribute("data-notes")&&(a.notes=t.getAttribute("data-notes")),i&&(a.notes=i.innerHTML,a.markdown=typeof i.getAttribute("data-markdown")=="string"),o.emit("statechanged",a)}o.on("new-subscriber",function(t){e()}),o.on("statechanged-speaker",function(t){Reveal.setState(t.state)}),Reveal.addEventListener("slidechanged",e),Reveal.addEventListener("fragmentshown",e),Reveal.addEventListener("fragmenthidden",e),Reveal.addEventListener("overviewhidden",e),Reveal.addEventListener("overviewshown",e),Reveal.addEventListener("paused",e),Reveal.addEventListener("resumed",e),e()})();
