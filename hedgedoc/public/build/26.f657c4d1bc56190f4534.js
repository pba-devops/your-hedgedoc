(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1093:function(R,$){var k={};k.FONTEM=360,k.FONTSIZE=30,k.STEP=k.FONTSIZE*93/720,k.SPACE=10,k.TOPNOTE=15,k.STAVEHEIGHT=100,k.INDENT=50,R.exports=k},1094:function(R,$){var k=function(w,x,a,f,r){switch(r=r||{},this.x=0,this.c=w,this.dx=x,this.w=a,this.pitch=f,this.scalex=r.scalex||1,this.scaley=r.scaley||1,this.type=r.type||"symbol",this.pitch2=r.pitch2,this.linewidth=r.linewidth,this.klass=r.klass,this.anchor=r.anchor?r.anchor:"middle",this.top=f,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=f,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),r.thickness&&(this.top+=r.thickness/2,this.bottom-=r.thickness/2),r.stemHeight&&(r.stemHeight>0?this.top+=r.stemHeight:this.bottom+=r.stemHeight),r.dim&&(this.dim=r.dim),r.position&&(this.position=r.position),this.height=r.height?r.height:4,r.top&&(this.top=r.top),r.bottom&&(this.bottom=r.bottom),r.name?this.name=r.name:this.c?this.name=this.c:this.name=this.type,r.realWidth?this.realWidth=r.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":r.position&&r.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":r.position&&r.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?r.position&&r.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};k.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var C=0,w=this.type==="chord"?this.realWidth/2:0,x=this.x-w-C,a=x+this.realWidth+C;return{left:x,right:a}},k.prototype.invertLane=function(C){this.lane===void 0&&(this.lane=0),this.lane=C-this.lane-1},k.prototype.putChordInLane=function(C){this.lane=C,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane},k.prototype.getLane=function(){return this.lane===void 0?0:this.lane},k.prototype.setX=function(C){this.x=C+this.dx},R.exports=k},1095:function(R,$){function k(C){return parseFloat(C.toFixed(2))}R.exports=k},1096:function(R,$){var k={};k.cloneArray=function(C){for(var w=[],x=0;x<C.length;x++)w.push(Object.assign({},C[x]));return w},k.cloneHashOfHash=function(C){var w={};for(var x in C)C.hasOwnProperty(x)&&(w[x]=Object.assign({},C[x]));return w},k.cloneHashOfArrayOfHash=function(C){var w={};for(var x in C)C.hasOwnProperty(x)&&(w[x]=k.cloneArray(C[x]));return w},k.strip=function(C){return C.replace(/^\s+/,"").replace(/\s+$/,"")},k.startsWith=function(C,w){return C.indexOf(w)===0},k.endsWith=function(C,w){var x=C.length-w.length;return x>=0&&C.lastIndexOf(w)===x},k.last=function(C){return C.length===0?null:C[C.length-1]},R.exports=k},1097:function(R,$,k){var C=k(1093),w={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};w["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},w["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},w["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},w["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var x=function(r){for(var h=[],c=0,d=r.length;c<d;c++){h[c]=[];for(var u=0,g=r[c].length;u<g;u++)h[c][u]=r[c][u]}return h},a=function(r,h,c){for(var d=0,u=r.length;d<u;d++){var g=r[d],p,o;for(p=1,o=g.length;p<o;p++)g[p]*=p%2?h:c}},f={printSymbol:function(r,h,c,d,u){if(!w[c])return null;var g=x(w[c].d);g[0][1]+=r,g[0][2]+=h;for(var p="",o=0;o<g.length;o++)p+=g[o].join(" ");return u.path=p,d.path(u)},getPathForSymbol:function(r,h,c,d,u){if(d=d||1,u=u||1,!w[c])return null;var g=x(w[c].d);return(d!==1||u!==1)&&a(g,d,u),g[0][1]+=r,g[0][2]+=h,g},getSymbolWidth:function(r){return w[r]?w[r].w:0},symbolHeightInPitches:function(r){var h=w[r]?w[r].h:0;return h/C.STEP},getSymbolAlign:function(r){return r.substring(0,7)==="scripts"&&r!=="scripts.roll"?"center":"left"},getYCorr:function(r){switch(r){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(r,h){w[r]=h}};R.exports=f},1098:function(R,$,k){var C=k(1095);function w(x,a,f){var r=a.y;if(a.phrases){var u=x.paper.richTextLine(a.phrases,a.x,a.y,a.klass,a.anchor);return u}if(a.lane){var h=a.dim.font.size*.25;r+=(a.dim.font.size+h)*a.lane}var c;a.dim?(c=a.dim,c.attr.class=a.klass):c=x.controller.getFontAndAttr.calc(a.type,a.klass),a.anchor&&(c.attr["text-anchor"]=a.anchor),a["dominant-baseline"]&&(c.attr["dominant-baseline"]=a["dominant-baseline"]),c.attr.x=a.x,c.attr.y=r,a.centerVertically||(c.attr.y+=c.font.size),a.type==="debugfont"&&(console.log("Debug msg: "+a.text),c.attr.stroke="#ff0000"),a.cursor&&(c.attr.cursor=a.cursor);var d=a.text.replace(/\n\n/g,`
 
`);d=d.replace(/^\n/,`\xA0
`),c.font.box&&(f||x.paper.openGroup({klass:c.attr.class,fill:x.foregroundColor,"data-name":a.name}),c.attr["text-anchor"]==="end"?c.attr.x-=c.font.padding:c.attr["text-anchor"]==="start"&&(c.attr.x+=c.font.padding),c.attr.y+=c.font.padding,delete c.attr.class),a.noClass&&delete c.attr.class,c.attr.x=C(c.attr.x),c.attr.y=C(c.attr.y),a.name&&(c.attr["data-name"]=a.name);var u=x.paper.text(d,c.attr);if(c.font.box){var g=u.getBBox(),p=0;c.attr["text-anchor"]==="middle"?p=g.width/2+c.font.padding:c.attr["text-anchor"]==="end"&&(p=g.width+c.font.padding*2);var o=0;a.centerVertically&&(o=g.height-c.font.padding),x.paper.rect({"data-name":"box",x:Math.round(a.x-p),y:Math.round(r-o),width:Math.round(g.width+c.font.padding*2),height:Math.round(g.height+c.font.padding*2)}),f||(u=x.paper.closeGroup())}return u}R.exports=w},1099:function(R,$){var k=function(){for(var C=0,w,x=arguments[C++],a=[],f,r,h,c;x;){if(f=/^[^\x25]+/.exec(x))a.push(f[0]);else if(f=/^\x25{2}/.exec(x))a.push("%");else if(f=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(x)){if((w=arguments[f[1]||C++])==null||w==null)throw"Too few arguments.";if(/[^s]/.test(f[7])&&typeof w!="number")throw"Expecting number but found "+typeof w;switch(f[7]){case"b":w=w.toString(2);break;case"c":w=String.fromCharCode(w);break;case"d":w=parseInt(w);break;case"e":w=f[6]?w.toExponential(f[6]):w.toExponential();break;case"f":w=f[6]?parseFloat(w).toFixed(f[6]):parseFloat(w);break;case"o":w=w.toString(8);break;case"s":w=(w=String(w))&&f[6]?w.substring(0,f[6]):w;break;case"u":w=Math.abs(w);break;case"x":w=w.toString(16);break;case"X":w=w.toString(16).toUpperCase();break}w=/[def]/.test(f[7])&&f[2]&&w>0?"+"+w:w,h=f[3]?f[3]=="0"?"0":f[3][1]:" ",c=f[5]-String(w).length,r=f[5]?str_repeat(h,c):"",a.push(f[4]?w+r:r+w)}else throw"Huh ?!";x=x.substring(f[0].length)}return a.join("")};R.exports=k},1100:function(R,$,k){var C=k(1130),w=k(1131),x=function(f,r,h,c,d,u){u||(u={}),this.tuneNumber=d,this.abcelem=f,this.duration=r,this.durationClass=u.durationClassOveride?u.durationClassOveride:this.duration,this.minspacing=h||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=c,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};x.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},x.prototype.addExtra=function(a){this.fixed.w=Math.max(this.fixed.w,a.dx+a.w),this.fixed.t===void 0?this.fixed.t=a.top:this.fixed.t=Math.max(this.fixed.t,a.top),this.fixed.b===void 0?this.fixed.b=a.bottom:this.fixed.b=Math.min(this.fixed.b,a.bottom),a.dx<this.extraw&&(this.extraw=a.dx),this.extra[this.extra.length]=a,this._addChild(a)},x.prototype.addHead=function(a){a.dx<this.extraw&&(this.extraw=a.dx),this.heads[this.heads.length]=a,this.addRight(a)},x.prototype.addRight=function(a){this.fixed.w=Math.max(this.fixed.w,a.dx+a.w),a.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=a.top:this.fixed.t=Math.max(this.fixed.t,a.top)),a.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=a.bottom:this.fixed.b=Math.min(this.fixed.b,a.bottom)),a.dx+a.w>this.w&&(this.w=a.dx+a.w),this.right[this.right.length]=a,this._addChild(a)},x.prototype.addFixed=function(a){this._addChild(a)},x.prototype.addFixedX=function(a){this._addChild(a)},x.prototype.addCentered=function(a){var f=a.w/2;-f<this.extraw&&(this.extraw=-f),this.extra[this.extra.length]=a,a.dx+f>this.w&&(this.w=a.dx+f),this.right[this.right.length]=a,this._addChild(a)},x.prototype.setLimit=function(a,f){f[a]&&(this.specialY[a]?this.specialY[a]=Math.max(this.specialY[a],f[a]):this.specialY[a]=f[a])},x.prototype._addChild=function(a){var f=!0;this.abcelem.el_type=="clef"&&a.type=="barNumber"&&(f=!1),a.parent=this,this.children[this.children.length]=a,f&&this.pushTop(a.top),this.pushBottom(a.bottom),this.setLimit("tempoHeightAbove",a),this.setLimit("partHeightAbove",a),this.setLimit("volumeHeightAbove",a),this.setLimit("dynamicHeightAbove",a),this.setLimit("endingHeightAbove",a),this.setLimit("chordHeightAbove",a),this.setLimit("lyricHeightAbove",a),this.setLimit("lyricHeightBelow",a),this.setLimit("chordHeightBelow",a),this.setLimit("volumeHeightBelow",a),this.setLimit("dynamicHeightBelow",a)},x.prototype.pushTop=function(a){a!==void 0&&(this.top===void 0?this.top=a:this.top=Math.max(a,this.top))},x.prototype.pushBottom=function(a){a!==void 0&&(this.bottom===void 0?this.bottom=a:this.bottom=Math.min(a,this.bottom))},x.prototype.setX=function(a){this.x=a;for(var f=0;f<this.children.length;f++)this.children[f].setX(a)},x.prototype.center=function(a,f){var r=(f.x-a.x)/2+a.x;this.x=r-this.w/2;for(var h=0;h<this.children.length;h++)this.children[h].setX(this.x)},x.prototype.setHint=function(){this.hint=!0},x.prototype.highlight=function(a,f){C.bind(this)(a,f)},x.prototype.unhighlight=function(a,f){w.bind(this)(a,f)},R.exports=x},1101:function(R,$,k){var C=k(1104);function w(){return window.abcjsAudioContext||C(),window.abcjsAudioContext}R.exports=w},1102:function(R,$){function k(C,w,x){var a=C.paper.path(w);return a}R.exports=k},1103:function(R,$,k){var C=k(1119),w=k(1163),x=k(1128),a={};(function(){"use strict";a.numberOfTunes=function(c){var d=c.split(`
X:`),u=d.length;return u===0&&(u=1),u};var f=a.TuneBook=function(c){var d=w(c);this.header=d.header,this.tunes=d.tunes};f.prototype.getTuneById=function(c){for(var d=0;d<this.tunes.length;d++)if(this.tunes[d].id===""+c)return this.tunes[d];return null},f.prototype.getTuneByTitle=function(c){for(var d=0;d<this.tunes.length;d++)if(this.tunes[d].title===c)return this.tunes[d];return null},a.parseOnly=function(c,d){for(var u=a.numberOfTunes(c),g=[],p=0;p<u;p++)g.push(1);function o(){}return a.renderEngine(o,g,c,d)},a.renderEngine=function(c,d,u,g){var p=[],o=function(L){return L&&!L.propertyIsEnumerable("length")&&typeof L=="object"&&typeof L.length=="number"};if(!(d===void 0||u===void 0)){o(d)||(d=[d]),g===void 0&&(g={});for(var t=g.startingTune?parseInt(g.startingTune,10):0,n=new f(u),e=new C,l=0;l<d.length;l++){var m=d[l];if(m==="*"||typeof m=="string"&&(m=document.getElementById(m)),m)if(t>=0&&t<n.tunes.length){e.parse(n.tunes[t].abc,g,n.tunes[t].startPos-n.header.length);var b=e.getTune();g.tablature&&(b.tablatures=x.preparePlugins(b,t,g));var E=e.getWarnings();E&&(b.warnings=E);var M=c(m,b,l,n.tunes[t].abc);p.push(M||b)}else m.innerHTML&&(m.innerHTML="");t++}return p}};function r(c){for(var d=[],u=0;u<c.lines.length;u++){var g=c.lines[u];if(g.staff)for(var p=0;p<g.staff.length;p++){var o=g.staff[p];if(!d[p])d[p]=o;else for(var t=0;t<o.voices.length;t++)d[p].voices[t]&&(d[p].voices[t]=d[p].voices[t].concat(o.voices[t]))}}return d}function h(c,d){for(var u=[],g=null,p=null,o=null,t=!1,n=0;n<c.voices.length;n++){var e=c.voices[n];u.push([]);for(var l=0;l<e.length;l++){var m=e[l];if(o===null&&m.startChar>=0&&(o=m.startChar,m.chord===void 0?p=g:p=null),m.chord&&(g=m),m.el_type==="bar"){if(t){var b=d.abc.substring(o,m.endChar),E={abc:b};g=p&&p.chord&&p.chord.length>0?p.chord[0].name:null,g&&(E.lastChord=g),m.startEnding&&(E.startEnding=m.startEnding),m.endEnding&&(E.endEnding=m.endEnding),u[n].push(E),o=null,t=!1}}else m.el_type==="note"&&(t=!0)}}return u}a.extractMeasures=function(c){for(var d=[],u=new f(c),g=0;g<u.tunes.length;g++){for(var p=u.tunes[g],o=p.abc.split("K:"),t=o[1].split(`
`),n=o[0]+"K:"+t[0]+`
`,e=null,l=null,m=null,b=[],E=!1,M=a.parseOnly(p.abc)[0],L=M.getPickupLength()>0,z=0;z<M.lines.length;z++){var G=M.lines[z];if(G.staff)for(var T=0;T<1;T++)for(var P=G.staff[T],O=0;O<1;O++)for(var H=P.voices[O],D=0;D<H.length;D++){var F=H[D];if(m===null&&F.startChar>=0&&(m=F.startChar,F.chord===void 0?l=e:l=null),F.chord&&(e=F),F.el_type==="bar"){if(E){var N=p.abc.substring(m,F.endChar),B={abc:N};e=l&&l.chord&&l.chord.length>0?l.chord[0].name:null,e&&(B.lastChord=e),F.startEnding&&(B.startEnding=F.startEnding),F.endEnding&&(B.endEnding=F.endEnding),b.push(B),m=null,E=!1}}else F.el_type==="note"&&(E=!0)}}d.push({header:n,measures:b,hasPickup:L})}return d}})(),R.exports=a},1104:function(R,$){function k(C){if(C)window.abcjsAudioContext=C;else if(!window.abcjsAudioContext){var w=window.AudioContext||window.webkitAudioContext;if(w)window.abcjsAudioContext=new w;else return!1}return window.abcjsAudioContext.state!=="suspended"}R.exports=k},1105:function(R,$,k){var C=k(1101);function w(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var x=C();if(x)return x.resume!==void 0}R.exports=w},1106:function(R,$){var k=function(w,x){var a=this;if(x||(x={}),a.qpm=x.qpm?parseInt(x.qpm,10):null,!a.qpm){var f=w.metaText?w.metaText.tempo:null;a.qpm=w.getBpm(f)}a.extraMeasuresAtBeginning=x.extraMeasuresAtBeginning?parseInt(x.extraMeasuresAtBeginning,10):0,a.beatCallback=x.beatCallback,a.eventCallback=x.eventCallback,a.lineEndCallback=x.lineEndCallback,a.lineEndAnticipation=x.lineEndAnticipation?parseInt(x.lineEndAnticipation,10):0,a.beatSubdivisions=x.beatSubdivisions?parseInt(x.beatSubdivisions,10):1,a.joggerTimer=null,a.replaceTarget=function(h){a.noteTimings=h.setTiming(a.qpm,a.extraMeasuresAtBeginning),h.noteTimings.length===0&&(a.noteTimings=h.setTiming(0,0)),a.lineEndCallback&&(a.lineEndTimings=C(h.noteTimings,a.lineEndAnticipation)),a.startTime=null,a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.currentTime=0,a.isPaused=!1,a.isRunning=!1,a.pausedPercent=null,a.justUnpaused=!1,a.newSeekPercent=0,a.lastTimestamp=0,a.noteTimings.length!==0&&(a.millisecondsPerBeat=1e3/(a.qpm/60)/a.beatSubdivisions,a.lastMoment=a.noteTimings[a.noteTimings.length-1].milliseconds,a.totalBeats=Math.round(a.lastMoment/a.millisecondsPerBeat))},a.replaceTarget(w),a.doTiming=function(h){if(a.lastTimestamp!==h&&(a.lastTimestamp=h,a.startTime||(a.startTime=h),!a.isPaused&&a.isRunning)){for(a.currentTime=h-a.startTime,a.currentTime+=16;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;){if(a.eventCallback&&a.noteTimings[a.currentEvent].type==="event"){var c=a.startTime;a.eventCallback(a.noteTimings[a.currentEvent]),c!==a.startTime&&(a.currentTime=h-a.startTime)}a.currentEvent++}if(a.lineEndCallback&&a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds<a.currentTime&&a.currentEvent<a.noteTimings.length){var d=a.noteTimings[a.currentEvent].milliseconds===a.currentTime?a.noteTimings[a.currentEvent]:a.noteTimings[a.currentEvent-1];a.lineEndCallback(a.lineEndTimings[a.currentLine],d,{line:a.currentLine,endTimings:a.lineEndTimings,currentTime:a.currentTime}),a.currentLine++}if(a.currentTime<a.lastMoment){if(requestAnimationFrame(a.doTiming),a.currentBeat*a.millisecondsPerBeat<a.currentTime){var u=a.doBeatCallback(h);u!==null&&(a.currentTime=u)}}else if(a.currentBeat<=a.totalBeats&&a.beatCallback){var g=a.doBeatCallback(h);g!==null&&(a.currentTime=g),requestAnimationFrame(a.doTiming)}if(a.currentTime>=a.lastMoment)if(a.eventCallback){var p=a.eventCallback(null);a.shouldStop(p).then(function(o){o&&a.stop()})}else a.stop()}},a.shouldStop=function(h){return new Promise(function(c){if(!h)return c(!0);if(h==="continue")return c(!1);h.then&&h.then(function(d){c(d!=="continue")})})},a.doBeatCallback=function(h){if(a.beatCallback){for(var c=a.currentEvent;c<a.noteTimings.length&&a.noteTimings[c].left===null;)c++;var d,u;if(c<a.noteTimings.length){for(d=a.noteTimings[c].milliseconds,c=Math.max(0,a.currentEvent-1);c>=0&&a.noteTimings[c].left===null;)c--;u=a.noteTimings[c]}var g={},p={};if(u){g.top=u.top,g.height=u.height;var o=Math.max(0,h-a.startTime-u.milliseconds),t=d-u.milliseconds,n=u.endX-u.left,e=t?o*n/t:0;g.left=u.left+e,a.currentEvent===0&&u.milliseconds>h-a.startTime&&(g.left=void 0),p={timestamp:h,startTime:a.startTime,ev:u,endMs:d,offMs:o,offPx:e,gapMs:t,gapPx:n}}else p={timestamp:h,startTime:a.startTime};var l=a.startTime;if(a.beatCallback(a.currentBeat/a.beatSubdivisions,a.totalBeats/a.beatSubdivisions,a.lastMoment,g,p),l!==a.startTime)return h-a.startTime;a.currentBeat++}return null};var r=60;a.animationJogger=function(){a.isRunning&&(a.doTiming(performance.now()),a.joggerTimer=setTimeout(a.animationJogger,r))},a.start=function(h,c){if(a.isRunning=!0,a.isPaused&&(a.isPaused=!1,h===void 0&&(a.justUnpaused=!0)),h)a.setProgress(h,c);else if(h===0)a.reset();else if(a.pausedPercent!==null){var d=performance.now();a.currentTime=a.lastMoment*a.pausedPercent,a.startTime=d-a.currentTime,a.pausedPercent=null,a.reportNext=!0}requestAnimationFrame(a.doTiming),a.joggerTimer=setTimeout(a.animationJogger,r)},a.pause=function(){a.isPaused=!0;var h=performance.now();a.pausedPercent=(h-a.startTime)/a.lastMoment,a.isRunning=!1,a.joggerTimer&&(clearTimeout(a.joggerTimer),a.joggerTimer=null)},a.currentMillisecond=function(){return a.currentTime},a.reset=function(){a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.startTime=null,a.pausedPercent=null},a.stop=function(){a.pause(),a.reset()},a.setProgress=function(h,c){var d;switch(c){case"seconds":a.currentTime=h*1e3,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),d=a.currentTime/a.lastMoment;break;case"beats":a.currentTime=h*a.millisecondsPerBeat*a.beatSubdivisions,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),d=a.currentTime/a.lastMoment;break;default:d=h,d<0&&(d=0),d>1&&(d=1),a.currentTime=a.lastMoment*d;break}a.isRunning||(a.pausedPercent=d);var u=performance.now();a.startTime=u-a.currentTime;var g=a.currentEvent;for(a.currentEvent=0;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;)a.currentEvent++;if(a.lineEndCallback)for(a.currentLine=0;a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds+a.lineEndAnticipation<a.currentTime;)a.currentLine++;var p=a.currentBeat;a.currentBeat=Math.floor(a.currentTime/a.millisecondsPerBeat),a.beatCallback&&p!==a.currentBeat&&a.doBeatCallback(a.startTime+a.currentTime),a.eventCallback&&a.currentEvent>=0&&a.noteTimings[a.currentEvent].type==="event"&&a.eventCallback(a.noteTimings[a.currentEvent]),a.lineEndCallback&&a.lineEndCallback(a.lineEndTimings[a.currentLine],a.noteTimings[a.currentEvent],{line:a.currentLine,endTimings:a.lineEndTimings}),a.joggerTimer=setTimeout(a.animationJogger,r)}};function C(w,x){for(var a=[],f=null,r=0;r<w.length;r++){var h=w[r];h.type!=="end"&&h.top!==f&&(a.push({measureNumber:h.measureNumber,milliseconds:h.milliseconds-x,top:h.top,bottom:h.top+h.height}),f=h.top)}return a}R.exports=k},1107:function(R,$,k){var C=k(1096),w={};(function(){"use strict";var x,a,f,r,h;w.initialize=function(y,S,A,Y,U){x=y,a=S,f=A,r=Y,h=U,c()};function c(){f.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},f.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},f.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},f.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},f.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},f.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},f.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},f.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},f.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},f.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},f.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},r.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},r.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},r.formatting.annotationfont=f.annotationfont,r.formatting.gchordfont=f.gchordfont,r.formatting.historyfont=f.historyfont,r.formatting.infofont=f.infofont,r.formatting.measurefont=f.measurefont,r.formatting.partsfont=f.partsfont,r.formatting.repeatfont=f.repeatfont,r.formatting.textfont=f.textfont,r.formatting.tripletfont=f.tripletfont,r.formatting.vocalfont=f.vocalfont,r.formatting.wordsfont=f.wordsfont}var d={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},u=function(y){switch(y){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},g=function(y,S,A,Y,U){function V(){var S0=parseInt(y[0].token);return y.shift(),S?y.length===0?{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:S0}:y.length===1&&y[0].token==="box"&&d[U]?{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:S0,box:!0}:(a("Extra parameters in font definition.",A,Y),{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:S0}):(a("Can't set just the size of the font since there is no default value.",A,Y),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:S0})}if(y[0].token==="*"){if(y.shift(),y[0].type==="number")return V();a("Expected font size number after *.",A,Y)}if(y[0].type==="number")return V();for(var K=[],q,a0="normal",J="normal",s0="none",c0=!1,v0="face",Z=!1;y.length;){var h0=y.shift(),e0=h0.token.toLowerCase();switch(v0){case"face":Z||e0!=="utf"&&h0.type!=="number"&&e0!=="bold"&&e0!=="italic"&&e0!=="underline"&&e0!=="box"?K.length>0&&h0.token==="-"?(Z=!0,K[K.length-1]=K[K.length-1]+h0.token):Z?(Z=!1,K[K.length-1]=K[K.length-1]+h0.token):K.push(h0.token):h0.type==="number"?(q?a("Font size specified twice in font definition.",A,Y):q=h0.token,v0="modifier"):e0==="bold"?a0="bold":e0==="italic"?J="italic":e0==="underline"?s0="underline":e0==="box"?(d[U]?c0=!0:a(`This font style doesn't support "box"`,A,Y),v0="finished"):e0==="utf"?(h0=y.shift(),v0="size"):a("Unknown parameter "+h0.token+" in font definition.",A,Y);break;case"size":h0.type==="number"?q?a("Font size specified twice in font definition.",A,Y):q=h0.token:a("Expected font size in font definition.",A,Y),v0="modifier";break;case"modifier":e0==="bold"?a0="bold":e0==="italic"?J="italic":e0==="underline"?s0="underline":e0==="box"?(d[U]?c0=!0:a(`This font style doesn't support "box"`,A,Y),v0="finished"):a("Unknown parameter "+h0.token+" in font definition.",A,Y);break;case"finished":a('Extra characters found after "box" in font definition.',A,Y);break}}q===void 0?S?q=S.size:(a("Must specify the size of the font since there is no default value.",A,Y),q=12):q=parseFloat(q),K=K.join(" "),K===""&&(S?K=S.face:(a("Must specify the name of the font since there is no default value.",A,Y),K="sans-serif"));var d0=u(K),g0={};return d0?(g0.face=d0.face,g0.weight=d0.weight,g0.style=d0.style,g0.decoration=d0.decoration,g0.size=q,c0&&(g0.box=!0),g0):(g0.face=K,g0.weight=a0,g0.style=J,g0.decoration=s0,g0.size=q,c0&&(g0.box=!0),g0)},p=function(y,S,A){return S.length===0?'Directive "'+y+'" requires a font as a parameter.':(f[y]=g(S,f[y],A,0,y),f.is_in_header&&(r.formatting[y]=f[y]),null)},o=function(y,S,A){return S.length===0?'Directive "'+y+'" requires a font as a parameter.':(r.formatting[y]=g(S,r.formatting[y],A,0,y),null)},t=function(y,S){var A="";S.forEach(function(U){A+=U.token});var Y=parseFloat(A);if(isNaN(Y)||Y===0)return'Directive "'+y+'" requires a number as a parameter.';r.formatting.scale=Y},n=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],e=function(y){var S=y.split(/\s+/);if(S.length!==2&&S.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var A=S[0],Y=parseInt(S[1],10);if((isNaN(Y)||Y<35||Y>81)&&S[1]&&(Y=n.indexOf(S[1].toLowerCase())+35),isNaN(Y)||Y<35||Y>81)return{error:'Expected drum name, received "'+S[1]+'"'};var U={sound:Y};return S.length===3&&(U.noteHead=S[2]),{key:A,value:U}},l=function(y,S){var A=x.getMeasurement(S);return A.used===0||S.length!==0?{error:'Directive "'+y+'" requires a measurement as a parameter.'}:A.value},m=function(y,S){var A=x.getMeasurement(S);return A.used===0||S.length!==0?'Directive "'+y+'" requires a measurement as a parameter.':(r.formatting[y]=A.value,null)},b=function(y,S,A,Y,U){if(A.length!==1||A[0].type!=="number")return'Directive "'+S+'" requires a number as a parameter.';var V=A[0].intt;return Y!==void 0&&V<Y?'Directive "'+S+'" requires a number greater than or equal to '+Y+" as a parameter.":U!==void 0&&V>U?'Directive "'+S+'" requires a number less than or equal to '+U+" as a parameter.":(f[y]=V,null)},E=function(y,S,A){if(A.length===1&&(A[0].token==="true"||A[0].token==="false"))return f[y]=A[0].token==="true",null;var Y=b(y,S,A,0,1);return Y!==null?Y:(f[y]=f[y]===1,null)},M=function(y,S,A,Y){if(A.length!==1)return'Directive "'+S+'" requires one of [ '+Y.join(", ")+" ] as a parameter.";for(var U=A[0].token,V=!1,K=0;!V&&K<Y.length;K++)Y[K]===U&&(V=!0);return V?(f[y]=U,null):'Directive "'+S+'" requires one of [ '+Y.join(", ")+" ] as a parameter."},L=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],z=["gchord","ptstress","beatstring"],G=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],T=["program"],P=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],O=["beat"],H=["drone"],D=["portamento"],F=["expand","grace","trim"],N=["drum","chordname"],B=["bassprog","chordprog"],I=function(y,S,A){var Y=y.shift().token,U=[];if(L.indexOf(Y)>=0)y.length!==0&&a("Unexpected parameter in MIDI "+Y,A,0);else if(z.indexOf(Y)>=0)y.length!==1?a("Expected one parameter in MIDI "+Y,A,0):U.push(y[0].token);else if(G.indexOf(Y)>=0)y.length!==1?a("Expected one parameter in MIDI "+Y,A,0):y[0].type!=="number"?a("Expected one integer parameter in MIDI "+Y,A,0):U.push(y[0].intt);else if(T.indexOf(Y)>=0)y.length!==1&&y.length!==2?a("Expected one or two parameters in MIDI "+Y,A,0):y[0].type!=="number"||y.length===2&&y[1].type!=="number"?a("Expected integer parameter in MIDI "+Y,A,0):(U.push(y[0].intt),y.length===2&&U.push(y[1].intt));else if(P.indexOf(Y)>=0)y.length!==2?a("Expected two parameters in MIDI "+Y,A,0):y[0].type!=="number"||y[1].type!=="number"?a("Expected two integer parameters in MIDI "+Y,A,0):(U.push(y[0].intt),U.push(y[1].intt));else if(D.indexOf(Y)>=0)y.length!==2?a("Expected two parameters in MIDI "+Y,A,0):y[0].type!=="alpha"||y[1].type!=="number"?a("Expected one string and one integer parameters in MIDI "+Y,A,0):(U.push(y[0].token),U.push(y[1].intt));else if(Y==="drummap")y.length===2&&y[0].type==="alpha"&&y[1].type==="number"?(S.formatting||(S.formatting={}),S.formatting.midi||(S.formatting.midi={}),S.formatting.midi.drummap||(S.formatting.midi.drummap={}),S.formatting.midi.drummap[y[0].token]=y[1].intt,U=S.formatting.midi.drummap):y.length===3&&y[0].type==="punct"&&y[1].type==="alpha"&&y[2].type==="number"?(S.formatting||(S.formatting={}),S.formatting.midi||(S.formatting.midi={}),S.formatting.midi.drummap||(S.formatting.midi.drummap={}),S.formatting.midi.drummap[y[0].token+y[1].token]=y[2].intt,U=S.formatting.midi.drummap):a("Expected one note name and one integer parameter in MIDI "+Y,A,0);else if(F.indexOf(Y)>=0)y.length!==3||y[0].type!=="number"||y[1].token!=="/"||y[2].type!=="number"?a("Expected fraction parameter in MIDI "+Y,A,0):(U.push(y[0].intt),U.push(y[2].intt));else if(O.indexOf(Y)>=0)y.length!==4?a("Expected four parameters in MIDI "+Y,A,0):y[0].type!=="number"||y[1].type!=="number"||y[2].type!=="number"||y[3].type!=="number"?a("Expected four integer parameters in MIDI "+Y,A,0):(U.push(y[0].intt),U.push(y[1].intt),U.push(y[2].intt),U.push(y[3].intt));else if(H.indexOf(Y)>=0)y.length!==5?a("Expected five parameters in MIDI "+Y,A,0):y[0].type!=="number"||y[1].type!=="number"||y[2].type!=="number"||y[3].type!=="number"||y[4].type!=="number"?a("Expected five integer parameters in MIDI "+Y,A,0):(U.push(y[0].intt),U.push(y[1].intt),U.push(y[2].intt),U.push(y[3].intt),U.push(y[4].intt));else if(T.indexOf(Y)>=0)y.length!==1||y.length!==4?a("Expected one or two parameters in MIDI "+Y,A,0):y[0].type!=="number"?a("Expected integer parameter in MIDI "+Y,A,0):y.length===4?(y[1].token!=="octave"&&a("Expected octave parameter in MIDI "+Y,A,0),y[2].token!=="="&&a("Expected octave parameter in MIDI "+Y,A,0),y[3].type!=="number"&&a("Expected integer parameter for octave in MIDI "+Y,A,0)):(U.push(y[0].intt),y.length===4&&U.push(y[3].intt));else if(N.indexOf(Y)>=0)if(y.length<2)a("Expected string parameter and at least one integer parameter in MIDI "+Y,A,0);else if(y[0].type!=="alpha")a("Expected string parameter and at least one integer parameter in MIDI "+Y,A,0);else{var V=y.shift();for(U.push(V.token);y.length>0;)V=y.shift(),V.type!=="number"&&a("Expected integer parameter in MIDI "+Y,A,0),U.push(V.intt)}else if(B.indexOf(Y)>=0){if(y.length!==1&&y.length!==2)a("Expected one or two parameters in MIDI "+Y,A,0);else if(y[0].type!=="number")a("Expected integer parameter in MIDI "+Y,A,0);else if(y.length===2&&y[1].type!=="alpha")a("Expected alpha parameter in MIDI "+Y,A,0);else if(U.push(y[0].intt),y.length===2){var K=y[1].token;K.indexOf("octave=")!=-1?(K=K.replace("octave=",""),K=parseInt(K),isNaN(K)?a("Expected octave value in MIDI"+Y):(K<-1&&(a("Expected octave= in MIDI "+Y+" to be >= -1 (recv:"+K+")"),K=-1),K>3&&(a("Expected octave= in MIDI "+Y+" to be <= 3 (recv:"+K+")"),K=3),U.push(K))):a("Expected octave= in MIDI"+Y)}}h.hasBeginMusic()?h.appendElement("midi",-1,-1,{cmd:Y,params:U}):(S.formatting.midi===void 0&&(S.formatting.midi={}),S.formatting.midi[Y]=U)};w.parseFontChangeLine=function(y){y=y.replace(/\$\$/g,"");var S=y.split("$");if(S.length>1&&f.setfont){var A=[];S[0]!==""&&A.push({text:S[0]});for(var Y=1;Y<S.length;Y++)if(S[Y][0]==="0")A.push({text:S[Y].substring(1).replace(/\x03/g,"$$")});else{var U=parseInt(S[Y][0],10);f.setfont[U]?A.push({font:f.setfont[U],text:S[Y].substring(1).replace(/\x03/g,"$$")}):A[A.length-1].text+="$"+S[Y].replace(/\x03/g,"$$")}return A}return y.replace(/\x03/g,"$$")};var W=["auto","above","below","hidden"];w.addDirective=function(y){var S=x.tokenize(y,0,y.length);if(S.length===0||S[0].type!=="alpha")return null;var A=y.substring(y.indexOf(S[0].token)+S[0].token.length);A=x.stripComment(A);var Y=S.shift().token.toLowerCase(),U="",V;switch(Y){case"bagpipes":r.formatting.bagpipes=!0;break;case"flatbeams":r.formatting.flatbeams=!0;break;case"jazzchords":r.formatting.jazzchords=!0;break;case"accentAbove":r.formatting.accentAbove=!0;break;case"germanAlphabet":r.formatting.germanAlphabet=!0;break;case"landscape":f.landscape=!0;break;case"papersize":f.papersize=A;break;case"graceslurs":if(S.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(S[0].token==="0"||S[0].token==="false")r.formatting.graceSlurs=!1;else if(S[0].token==="1"||S[0].token==="true")r.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+S[0].token+")";break;case"lineThickness":var K=X(S);if(K.value!==void 0&&(r.formatting.lineThickness=K.value),K.error)return K.error;break;case"stretchlast":var q=X(S);if(q.value!==void 0&&(r.formatting.stretchlast=q.value),q.error)return q.error;break;case"titlecaps":f.titlecaps=!0;break;case"titleleft":r.formatting.titleleft=!0;break;case"measurebox":r.formatting.measurebox=!0;break;case"vocal":return M("vocalPosition",Y,S,W);case"dynamic":return M("dynamicPosition",Y,S,W);case"gchord":return M("chordPosition",Y,S,W);case"ornament":return M("ornamentPosition",Y,S,W);case"volume":return M("volumePosition",Y,S,W);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return m(Y,S);case"voicescale":if(S.length!==1||S[0].type!=="number")return"voicescale requires one float as a parameter";var a0=S.shift();return f.currentVoice&&(f.currentVoice.scale=a0.floatt,h.changeVoiceScale(f.currentVoice.scale)),null;case"voicecolor":if(S.length!==1)return"voicecolor requires one string as a parameter";var J=S.shift();return f.currentVoice&&(f.currentVoice.color=J.token,h.changeVoiceColor(f.currentVoice.color)),null;case"vskip":var s0=Math.round(l(Y,S));return s0.error?s0.error:(h.addSpacing(s0),null);case"scale":t(Y,S);break;case"sep":if(S.length===0)h.addSeparator(14,14,85,{startChar:f.iChar,endChar:f.iChar+5});else{var c0=x.getMeasurement(S);if(c0.used===0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var v0=c0.value;if(c0=x.getMeasurement(S),c0.used===0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var Z=c0.value;if(c0=x.getMeasurement(S),c0.used===0||S.length!==0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var h0=c0.value;h.addSeparator(v0,Z,h0,{startChar:f.iChar,endChar:f.iChar+A.length})}break;case"barsperstaff":if(U=b("barsperstaff",Y,S),U!==null)return U;break;case"staffnonote":if(S.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(S[0].token==="0")f.staffnonote=!0;else if(S[0].token==="1")f.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+S[0].token+")";break;case"printtempo":if(U=E("printTempo",Y,S),U!==null)return U;break;case"partsbox":if(U=E("partsBox",Y,S),U!==null)return U;f.partsfont.box=f.partsBox;break;case"freegchord":if(U=E("freegchord",Y,S),U!==null)return U;break;case"measurenb":case"barnumbers":if(U=b("barNumbers",Y,S),U!==null)return U;break;case"setbarnb":if(S.length!==1||S[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";f.currBarNumber=h.setBarNumberImmediate(S[0].intt);break;case"begintext":var e0="";for(V=x.nextLine();V&&V.indexOf("%%endtext")!==0;)C.startsWith(V,"%%")?e0+=V.substring(2)+`
`:e0+=V+`
`,V=x.nextLine();h.addText(e0,{startChar:f.iChar,endChar:f.iChar+e0.length+7});break;case"continueall":f.continueall=!0;break;case"beginps":for(V=x.nextLine();V&&V.indexOf("%%endps")!==0;)x.nextLine();a("Postscript ignored",y,0);break;case"deco":A.length>0&&f.ignoredDecorations.push(A.substring(0,A.indexOf(" "))),a("Decoration redefinition ignored",y,0);break;case"text":var d0=x.translateString(A);h.addText(w.parseFontChangeLine(d0),{startChar:f.iChar,endChar:f.iChar+A.length+7});break;case"center":var g0=x.translateString(A);h.addCentered(w.parseFontChangeLine(g0));break;case"font":break;case"setfont":var S0=x.tokenize(A,0,A.length);if(S0.length>=4&&S0[0].token==="-"&&S0[1].type==="number"){var x0=parseInt(S0[1].token);x0>=1&&x0<=9&&(f.setfont||(f.setfont=[]),S0.shift(),S0.shift(),f.setfont[x0]=g(S0,f.setfont[x0],y,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return p(Y,S,y);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return o(Y,S,y);case"barlabelfont":case"barnumberfont":case"barnumfont":return p("measurefont",S,y);case"staves":case"score":f.score_is_present=!0;for(var w0=function(A0,P0,D0,F0,I0){(P0||f.staves.length===0)&&f.staves.push({index:f.staves.length,numVoices:0});var L0=C.last(f.staves);D0!==void 0&&L0.bracket===void 0&&(L0.bracket=D0),F0!==void 0&&L0.brace===void 0&&(L0.brace=F0),I0&&(L0.connectBarLines="end"),f.voices[A0]===void 0&&(f.voices[A0]={staffNum:L0.index,index:L0.numVoices},L0.numVoices++)},C0=!1,E0=!1,N0=!1,T0=!1,n0=!1,i0=!1,j=!1,Q,r0=function(){if(j=!0,Q){var A0="start";Q.staffNum>0&&(f.staves[Q.staffNum-1].connectBarLines==="start"||f.staves[Q.staffNum-1].connectBarLines==="continue")&&(A0="continue"),f.staves[Q.staffNum].connectBarLines=A0}};S.length;){var _=S.shift();switch(_.token){case"(":C0?a("Can't nest parenthesis in %%score",y,_.start):(C0=!0,T0=!0);break;case")":!C0||T0?a("Unexpected close parenthesis in %%score",y,_.start):C0=!1;break;case"[":E0?a("Can't nest brackets in %%score",y,_.start):(E0=!0,n0=!0);break;case"]":!E0||n0?a("Unexpected close bracket in %%score",y,_.start):(E0=!1,f.staves[Q.staffNum].bracket="end");break;case"{":N0?a("Can't nest braces in %%score",y,_.start):(N0=!0,i0=!0);break;case"}":!N0||i0?a("Unexpected close brace in %%score",y,_.start):(N0=!1,f.staves[Q.staffNum].brace="end");break;case"|":r0();break;default:for(var t0="";(_.type==="alpha"||_.type==="number")&&(t0+=_.token,_.continueId);)_=S.shift();var p0=!C0||T0,b0=n0?"start":E0?"continue":void 0,l0=i0?"start":N0?"continue":void 0;w0(t0,p0,b0,l0,j),T0=!1,n0=!1,i0=!1,j=!1,Q=f.voices[t0],Y==="staves"&&r0();break}}break;case"newpage":var o0=x.getInt(A);h.addNewPage(o0.digits===0?-1:o0.value);break;case"abc":var u0=A.split(" ");switch(u0[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var B0=u0.shift();h.addMetaText(Y+B0,u0.join(" "),{startChar:f.iChar,endChar:f.iChar+A.length+5});break;default:return"Unknown directive: "+Y+u0[0]}break;case"header":case"footer":var m0=x.getMeat(A,0,A.length);m0=A.substring(m0.start,m0.end),m0[0]==='"'&&m0[m0.length-1]==='"'&&(m0=m0.substring(1,m0.length-1));var f0=m0.split("	"),M0={};f0.length===1?M0={left:"",center:f0[0],right:""}:f0.length===2?M0={left:f0[0],center:f0[1],right:""}:M0={left:f0[0],center:f0[1],right:f0[2]},f0.length>3&&a("Too many tabs in "+Y+": "+f0.length+" found.",A,0),h.addMetaTextObj(Y,M0,{startChar:f.iChar,endChar:f.iChar+y.length});break;case"midi":var k0=x.tokenize(A,0,A.length,!0);k0.length>0&&k0[0].token==="="&&k0.shift(),k0.length===0?a("Expected midi command",A,0):I(k0,r,A);break;case"percmap":var y0=e(A);y0.error?a(y0.error,y,8):(r.formatting.percmap||(r.formatting.percmap={}),r.formatting.percmap[y0.key]=y0.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":r.formatting[Y]=A;break;default:return"Unknown directive: "+Y}return null},w.globalFormatting=function(y){for(var S in y)if(y.hasOwnProperty(S)){var A=""+y[S],Y=x.tokenize(A,0,A.length),U;switch(S){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":p(S,Y,A);break;case"scale":t(S,Y);break;case"partsbox":U=E("partsBox",S,Y),U!==null&&a(U),f.partsfont.box=f.partsBox;break;case"freegchord":U=E("freegchord",S,Y),U!==null&&a(U);break;case"fontboxpadding":(Y.length!==1||Y[0].type!=="number")&&a('Directive "'+S+'" requires a number as a parameter.'),r.formatting.fontboxpadding=Y[0].floatt;break;case"stafftopmargin":(Y.length!==1||Y[0].type!=="number")&&a('Directive "'+S+'" requires a number as a parameter.'),r.formatting.stafftopmargin=Y[0].floatt;break;case"stretchlast":var V=X(Y);if(V.value!==void 0&&(r.formatting.stretchlast=V.value),V.error)return V.error;break;default:a("Formatting directive unrecognized: ",S,0)}}};function X(y){if(y.length===0)return{value:1};if(y.length===1)if(y[0].type==="number"){if(y[0].floatt>=0||y[0].floatt<=1)return{value:y[0].floatt}}else{if(y[0].token==="false")return{value:0};if(y[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+y[0].token+")"}}})(),R.exports=w},1108:function(R,$,k){var C=k(1107),w=k(1120),x={};(function(){var a,f,r,h,c;x.initialize=function(n,e,l,m,b){a=n,f=e,r=l,h=m,c=b},x.standardKey=function(n,e,l,m){return w.keySignature(r,n,e,l,m)};var d={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},u=function(n,e){var l=d[n],m=l?l.mid:0;return m+e};x.fixClef=function(n){var e=d[n.type];e&&(n.clefPos=e.pitch,n.type=e.clef)},x.deepCopyKey=function(n){var e={accidentals:[],root:n.root,acc:n.acc,mode:n.mode};return n.accidentals.forEach(function(l){e.accidentals.push(Object.assign({},l))}),e};var g={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};x.addPosToKey=function(n,e){var l=n.verticalPos;e.accidentals.forEach(function(m){var b=g[m.note];b=b-l,m.verticalPos=b}),e.impliedNaturals&&e.impliedNaturals.forEach(function(m){var b=g[m.note];b=b-l,m.verticalPos=b}),l<-10?(e.accidentals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)}),e.impliedNaturals&&e.impliedNaturals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)})):l<-4?(e.accidentals.forEach(function(m){m.verticalPos-=7,l===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)}),e.impliedNaturals&&e.impliedNaturals.forEach(function(m){m.verticalPos-=7,l===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)})):l>=7&&(e.accidentals.forEach(function(m){m.verticalPos+=7}),e.impliedNaturals&&e.impliedNaturals.forEach(function(m){m.verticalPos+=7}))},x.fixKey=function(n,e){var l=Object.assign({},e);return x.addPosToKey(n,l),l};var p=function(n){var e=0,l=n[e++];(l==="^"||l==="_")&&(l=n[e++]);var m=g[l];for(m===void 0&&(m=6);e<n.length;e++)if(n[e]===",")m-=7;else if(n[e]==="'")m+=7;else break;return{mid:m-6,str:n.substring(e)}},o=function(n){for(var e=0;e<n.length;e++)n[e].note==="b"?n[e].note="B":n[e].note==="a"?n[e].note="A":n[e].note==="F"?n[e].note="f":n[e].note==="E"?n[e].note="e":n[e].note==="D"?n[e].note="d":n[e].note==="C"?n[e].note="c":n[e].note==="G"&&n[e].acc==="sharp"?n[e].note="g":n[e].note==="g"&&n[e].acc==="flat"&&(n[e].note="G")};x.parseKey=function(n,e){n.length===0&&(n="none");var l=a.tokenize(n,0,n.length),m={};if(l.length===0)return f("Must pass in key signature.",n,0),m;switch(l[0].token){case"HP":C.addDirective("bagpipes"),r.key={root:"HP",accidentals:[],acc:"",mode:""},m.foundKey=!0,l.shift();break;case"Hp":C.addDirective("bagpipes"),r.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},m.foundKey=!0,l.shift();break;case"none":r.key={root:"none",accidentals:[],acc:"",mode:""},m.foundKey=!0,l.shift();break;default:var b=a.getKeyPitch(l[0].token);if(b.len>0){m.foundKey=!0;var E="",M="";l[0].token.length>1?l[0].token=l[0].token.substring(1):l.shift();var L=b.token;if(l.length>0){var z=a.getSharpFlat(l[0].token);if(z.len>0&&(l[0].token.length>1?l[0].token=l[0].token.substring(1):l.shift(),L+=z.token,E=z.token),l.length>0){var G=a.getMode(l[0].token);G.len>0&&(l.shift(),L+=G.token,M=G.token)}if(x.standardKey(L,b.token,E,0)===void 0)return f("Unsupported key signature: "+L,n,0),m}var T=x.deepCopyKey(r.key),P=!e&&r.globalTranspose?-r.globalTranspose:0,O;if(e&&(O=r.globalTransposeOrigKeySig),r.key=x.deepCopyKey(x.standardKey(L,b.token,E,P)),e&&(r.globalTransposeOrigKeySig=O),r.key.mode=M,T){for(var H,D=0;D<r.key.accidentals.length;D++)for(H=0;H<T.accidentals.length;H++)T.accidentals[H].note&&r.key.accidentals[D].note.toLowerCase()===T.accidentals[H].note.toLowerCase()&&(T.accidentals[H].note=null);for(H=0;H<T.accidentals.length;H++)T.accidentals[H].note&&(r.key.impliedNaturals||(r.key.impliedNaturals=[]),r.key.impliedNaturals.push({acc:"natural",note:T.accidentals[H].note}))}}break}if(l.length===0||(l[0].token==="exp"&&l.shift(),l.length===0)||(l[0].token==="oct"&&l.shift(),l.length===0))return m;var F=a.getKeyAccidentals2(l);if(F.warn&&f(F.warn,n,0),F.accs){m.foundKey||(m.foundKey=!0,r.key={root:"none",acc:"",mode:"",accidentals:[]}),o(F.accs);for(var N=0;N<F.accs.length;N++){for(var B=!1,I=0;I<r.key.accidentals.length&&!B;I++)r.key.accidentals[I].note===F.accs[N].note&&(B=!0,r.key.accidentals[I].acc!==F.accs[N].acc&&(r.key.accidentals[I].acc=F.accs[N].acc,r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(F.accs[N])));if(!B&&(r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(F.accs[N]),r.key.accidentals.push(F.accs[N]),r.key.impliedNaturals))for(var W=0;W<r.key.impliedNaturals.length;W++)r.key.impliedNaturals[W].note===F.accs[N].note&&r.key.impliedNaturals.splice(W,1)}}for(var X;l.length>0;)switch(l[0].token){case"m":case"middle":if(l.shift(),l.length===0)return f("Expected = after middle",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after middle",n,X.start);break}if(l.length===0)return f("Expected parameter after middle=",n,0),m;var y=a.getPitchFromTokens(l);y.warn&&f(y.warn,n,0),y.position&&(r.clef.verticalPos=y.position-6);break;case"transpose":if(l.shift(),l.length===0)return f("Expected = after transpose",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after transpose",n,X.start);break}if(l.length===0)return f("Expected parameter after transpose=",n,0),m;if(l[0].type!=="number"){f("Expected number after transpose",n,l[0].start);break}r.clef.transpose=l[0].intt,l.shift();break;case"stafflines":if(l.shift(),l.length===0)return f("Expected = after stafflines",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after stafflines",n,X.start);break}if(l.length===0)return f("Expected parameter after stafflines=",n,0),m;if(l[0].type!=="number"){f("Expected number after stafflines",n,l[0].start);break}r.clef.stafflines=l[0].intt,l.shift();break;case"staffscale":if(l.shift(),l.length===0)return f("Expected = after staffscale",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after staffscale",n,X.start);break}if(l.length===0)return f("Expected parameter after staffscale=",n,0),m;if(l[0].type!=="number"){f("Expected number after staffscale",n,l[0].start);break}r.clef.staffscale=l[0].floatt,l.shift();break;case"octave":if(l.shift(),l.length===0)return f("Expected = after octave",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after octave",n,X.start);break}if(l.length===0)return f("Expected parameter after octave=",n,0),m;if(l[0].type!=="number"){f("Expected number after octave",n,l[0].start);break}r.octave=l[0].intt,l.shift();break;case"style":if(l.shift(),l.length===0)return f("Expected = after style",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after style",n,X.start);break}if(l.length===0)return f("Expected parameter after style=",n,0),m;switch(l[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":r.style=l[0].token,l.shift();break;default:f("error parsing style element: "+l[0].token,n,l[0].start);break}break;case"clef":if(l.shift(),l.length===0)return f("Expected = after clef",n,0),m;if(X=l.shift(),X.token!=="="){f("Expected = after clef",n,X.start);break}if(l.length===0)return f("Expected parameter after clef=",n,0),m;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var S=l.shift();switch(S.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":S.token="alto";break;case"F":S.token="bass";break;case"G":S.token="treble";break;case"c":S.token="alto";break;case"f":S.token="bass";break;case"g":S.token="treble";break;default:f("Expected clef name. Found "+S.token,n,S.start);break}l.length>0&&l[0].type==="number"&&(S.token+=l[0].token,l.shift()),l.length>1&&(l[0].token==="-"||l[0].token==="+"||l[0].token==="^"||l[0].token==="_")&&l[1].token==="8"&&(S.token+=l[0].token+l[1].token,l.shift(),l.shift()),r.clef={type:S.token,verticalPos:u(S.token,0)},r.currentVoice&&r.currentVoice.transpose!==void 0&&(r.clef.transpose=r.currentVoice.transpose),m.foundClef=!0;break;default:f("Unknown parameter: "+l[0].token,n,l[0].start),l.shift()}return m};var t=function(n){var e=r.voices[n];if(!(r.currentVoice&&r.currentVoice.index===e.index&&r.currentVoice.staffNum===e.staffNum))return r.currentVoice=e,c.setCurrentVoice(e.staffNum,e.index,n)};x.parseVoice=function(n,e,l){var m=a.getMeat(n,e,l),b=m.start,E=m.end,M=a.getToken(n,b,E);if(M.length===0){f("Expected a voice id",n,b);return}var L=!1;r.voices[M]===void 0&&(r.voices[M]={},L=!0,r.score_is_present&&f("Can't have an unknown V: id when the %score directive is present",n,b)),b+=M.length,b+=a.eatWhiteSpace(n,b);for(var z={startStaff:L},G=function(y){var S=a.getVoiceToken(n,b,E);S.warn!==void 0?f("Expected value for "+y+" in voice: "+S.warn,n,b):S.err!==void 0?f("Expected value for "+y+" in voice: "+S.err,n,b):S.token.length===0&&n[b]!=='"'?f("Expected value for "+y+" in voice",n,b):z[y]=S.token,b+=S.len},T=function(y,S,A){var Y=a.getVoiceToken(n,b,E);Y.warn!==void 0?f("Expected value for "+S+" in voice: "+Y.warn,n,b):Y.err!==void 0?f("Expected value for "+S+" in voice: "+Y.err,n,b):Y.token.length===0&&n[b]!=='"'?f("Expected value for "+S+" in voice",n,b):(A==="number"&&(Y.token=parseFloat(Y.token)),r.voices[y][S]=Y.token),b+=Y.len},P=function(y,S){var A=a.getVoiceToken(n,b,E);if(A.warn!==void 0)f("Expected value for "+y+" in voice: "+A.warn,n,b);else if(A.err!==void 0)f("Expected value for "+y+" in voice: "+A.err,n,b);else if(A.token.length===0&&n[b]!=='"')f("Expected value for "+y+" in voice",n,b);else return S==="number"&&(A.token=parseFloat(A.token)),A.token;b+=A.len},O=function(y,S){var A={_B:2,_E:9,_b:-10,_e:-3},Y=a.getVoiceToken(n,b,E);if(Y.warn!==void 0)f("Expected one of (_B, _E, _b, _e) for "+S+" in voice: "+Y.warn,n,b);else if(Y.token.length===0&&n[b]!=='"')f("Expected one of (_B, _E, _b, _e) for "+S+" in voice",n,b);else{var U=A[Y.token];U?r.voices[y][S]=U:f("Expected one of (_B, _E, _b, _e) for "+S+" in voice",n,b)}b+=Y.len};b<E;){var H=a.getVoiceToken(n,b,E);if(b+=H.len,H.warn)f("Error parsing voice: "+H.warn,n,b);else{var D=null;switch(H.token){case"clef":case"cl":G("clef");var F=0;z.clef!==void 0&&(z.clef=z.clef.replace(/[',]/g,""),z.clef.indexOf("+16")!==-1&&(F+=14,z.clef=z.clef.replace("+16","")),z.verticalPos=u(z.clef,F));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var N=0;z.clef=H.token.replace(/[',]/g,""),z.verticalPos=u(z.clef,N),r.voices[M].clef=H.token;break;case"staves":case"stave":case"stv":G("staves");break;case"brace":case"brc":G("brace");break;case"bracket":case"brk":G("bracket");break;case"name":case"nm":G("name");break;case"subname":case"sname":case"snm":G("subname");break;case"merge":z.startStaff=!1;break;case"stem":case"stems":D=a.getVoiceToken(n,b,E),D.warn!==void 0?f("Expected value for stems in voice: "+D.warn,n,b):D.err!==void 0?f("Expected value for stems in voice: "+D.err,n,b):D.token==="up"||D.token==="down"?r.voices[M].stem=D.token:f("Expected up or down for voice stem",n,b),b+=D.len;break;case"up":case"down":r.voices[M].stem=H.token;break;case"middle":case"m":G("verticalPos"),z.verticalPos=p(z.verticalPos).mid;break;case"gchords":case"gch":r.voices[M].suppressChords=!0,D=a.getVoiceToken(n,b,E),D.token==="0"&&(b=b+D.len);break;case"space":case"spc":G("spacing");break;case"scale":T(M,"scale","number");break;case"score":O(M,"scoreTranspose");break;case"transpose":T(M,"transpose","number");break;case"stafflines":T(M,"stafflines","number");break;case"staffscale":T(M,"staffscale","number");break;case"octave":T(M,"octave","number");break;case"volume":T(M,"volume","number");break;case"cue":var B=P("cue","string");B==="on"?r.voices[M].scale=.6:r.voices[M].scale=1;break;case"style":D=a.getVoiceToken(n,b,E),D.warn!==void 0?f("Expected value for style in voice: "+D.warn,n,b):D.err!==void 0?f("Expected value for style in voice: "+D.err,n,b):D.token==="normal"||D.token==="harmonic"||D.token==="rhythm"||D.token==="x"||D.token==="triangle"?r.voices[M].style=D.token:f("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",n,b),b+=D.len;break}}b+=a.eatWhiteSpace(n,b)}if((z.startStaff||r.staves.length===0)&&(r.staves.push({index:r.staves.length,meter:r.origMeter}),r.score_is_present||(r.staves[r.staves.length-1].numVoices=0)),r.voices[M].staffNum===void 0){r.voices[M].staffNum=r.staves.length-1;var I=0;for(var W in r.voices)r.voices.hasOwnProperty(W)&&r.voices[W].staffNum===r.voices[M].staffNum&&I++;r.voices[M].index=I-1}var X=r.staves[r.voices[M].staffNum];return r.score_is_present||X.numVoices++,z.clef&&(X.clef={type:z.clef,verticalPos:z.verticalPos}),z.spacing&&(X.spacing_below_offset=z.spacing),z.verticalPos&&(X.verticalPos=z.verticalPos),z.name&&(X.name?X.name.push(z.name):X.name=[z.name]),z.subname&&(X.subname?X.subname.push(z.subname):X.subname=[z.subname]),t(M)}})(),R.exports=x},1109:function(R,$){var k=function(C,w,x,a){if(C)for(var f=0;f<C.length;f++){var r=C[f],h=r.getAttribute("highlight");h||(h="fill"),r.setAttribute(h,a);var c=r.getAttribute("class");c||(c=""),c=c.replace(x,""),c=c.replace(w,""),w.length>0&&(c.length>0&&c[c.length-1]!==" "&&(c+=" "),c+=w),r.setAttribute("class",c)}};R.exports=k},1110:function(R,$){function k(C,w,x){if(w.text){w.marginLeft||(w.marginLeft=0),w.klass||(w.klass=""),w.anchor||(w.anchor="start"),w.info||(w.info={startChar:-2,endChar:-2}),w.marginTop&&C.push({move:w.marginTop});var a={left:w.marginLeft,text:w.text,font:w.font,anchor:w.anchor,startChar:w.info.startChar,endChar:w.info.endChar,"dominant-baseline":w["dominant-baseline"]};w.absElemType&&(a.absElemType=w.absElemType),!w.inGroup&&w.klass&&(a.klass=w.klass),w.name&&(a.name=w.name),C.push(a);var f=x.calc("A",w.font,w.klass),r=w.text.split(`
`).length;if(w.text[w.text.length-1]===`
`&&r--,!w.noMove){var h=f.height*1.1*r;C.push({move:Math.round(h)}),w.marginBottom&&C.push({move:w.marginBottom})}}}R.exports=k},1111:function(R,$){function k(C,w,x,a,f){return w+(a-w)/(x-C)*(f-C)}R.exports=k},1112:function(R,$,k){var C=k(1095);function w(){this.ingroup=!1}w.prototype.beginGroup=function(a,f){this.paper=a,this.controller=f,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},w.prototype.isInGroup=function(){return this.ingroup},w.prototype.addPath=function(a){if(a=a||[],a.length!==0){a[0][0]="m",a[0][1]=C(a[0][1]-this.lastM[0]),a[0][2]=C(a[0][2]-this.lastM[1]),this.lastM[0]+=a[0][1],this.lastM[1]+=a[0][2],this.path.push(a[0]);for(var f=1,r=a.length;f<r;f++)a[f][0]==="m"&&(this.lastM[0]+=a[f][1],this.lastM[1]+=a[f][2]),this.path.push(a[f])}},w.prototype.endGroup=function(a,f){this.ingroup=!1;for(var r="",h=0;h<this.path.length;h++)r+=this.path[h].join(" ");this.path=[];var c=this.paper.closeGroup();return c&&(c.setAttribute("class",this.controller.classes.generate(a)),c.setAttribute("fill",this.controller.renderer.foregroundColor),c.setAttribute("stroke","none"),c.setAttribute("data-name",f)),c};var x=new w;R.exports=x},1113:function(R,$,k){var C=k(1229),w=k(1230),x=k(1104),a=k(1101),f=k(1105),r=k(1116),h=k(1115),c=k(1231),d=k(1232),u=k(1114),g="MIDI is not supported in this browser.",p="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",o="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",t="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function n(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options=void 0,e.pickupLength=0,e.init=function(b){b||(b={}),b.options&&(e.options=b.options),x(b.audioContext);var E=a().currentTime;if(e.debugCallback=b.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:g});var M=b.options?b.options:{};e.soundFontUrl=M.soundFontUrl?M.soundFontUrl:o,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),M.soundFontVolumeMultiplier||M.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=M.soundFontVolumeMultiplier:e.soundFontUrl===o||e.soundFontUrl===t?e.soundFontVolumeMultiplier=3:e.soundFontUrl===p?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,M.programOffsets?e.programOffsets=M.programOffsets:e.soundFontUrl===p?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var L=M.fadeLength!==void 0?parseInt(M.fadeLength,10):NaN;if(e.fadeLength=isNaN(L)?200:L,L=M.noteEnd!==void 0?parseInt(M.noteEnd,10):NaN,e.noteEnd=isNaN(L)?0:L,e.pan=M.pan,e.meterSize=1,b.visualObj){e.flattened=b.visualObj.setUpAudio(M);var z=b.visualObj.getMeterFraction();z.den&&(e.meterSize=b.visualObj.getMeterFraction().num/b.visualObj.getMeterFraction().den),e.pickupLength=b.visualObj.getPickupLength()}else if(b.sequence)e.flattened=b.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=b.millisecondsPerMeasure?b.millisecondsPerMeasure:b.visualObj?b.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=b.visualObj?b.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=M.sequenceCallback,e.callbackContext=M.callbackContext,e.onEnded=M.onEnded,e.meterFraction=b.visualObj?b.visualObj.getMeterFraction():{den:1};var G={},T=[],P=[],O=h[0];e.flattened.tracks.forEach(function(B){B.forEach(function(I){if(I.cmd==="program"&&h[I.instrument]&&(O=h[I.instrument]),I.pitch!==void 0){var W=I.pitch,X=r[W],y=I.instrument!==void 0?h[I.instrument]:O;if(X)if(G[y]||(G[y]={}),!u[y]||!u[y][X])G[y][X]=!0;else{var S=y+":"+X;T.indexOf(S)<0&&T.push(S)}else{var A=y+":"+X;console.log("Can't find note: ",W,A),P.indexOf(A)<0&&P.push(A)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((a().currentTime-E)*1e3)+"ms"),E=a().currentTime;var H=[];Object.keys(G).forEach(function(B){Object.keys(G[B]).forEach(function(I){H.push({instrument:B,note:I})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(H));for(var D=[],F=256,N=0;N<H.length;N+=F)D.push(H.slice(N,N+F));return new Promise(function(B,I){var W={cached:T,error:P,loaded:[]},X=0,y=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+X+" len="+D.length),X<D.length?e._loadBatch(D[X],e.soundFontUrl,E).then(function(S){e.debugCallback&&e.debugCallback("loadBatch then"),E=a().currentTime,S&&(S.error&&(W.error=W.error.concat(S.error)),S.loaded&&(W.loaded=W.loaded.concat(S.loaded))),X++,y()},I):(e.debugCallback&&e.debugCallback("resolve init"),B(W))};y()})},e._loadBatch=function(b,E,M,L){var z=[];return b.forEach(function(G){e.debugCallback&&e.debugCallback("getNote "+G.instrument+":"+G.note),z.push(C(E,G.instrument,G.note,a()))}),Promise.all(z).then(function(G){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((a().currentTime-M)*1e3)+"ms");for(var T=[],P=[],O=[],H=[],D=0;D<G.length;D++){var F=G[D],N=F.instrument+":"+F.name;F.status==="loaded"?T.push(N):F.status==="pending"?O.push(N):F.status==="cached"?P.push(N):H.push(N+" "+F.message)}if(O.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(O)),L?L=L*2:L=50,L<9e4)return new Promise(function(W,X){setTimeout(function(){var y=[];for(D=0;D<O.length;D++)N=O[D].split(":"),y.push({instrument:N[0],note:N[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(y)),e._loadBatch(y,E,M,L).then(function(S){W(S)}).catch(function(S){X(S)})},L)});for(var B=[],I=0;I<b.length;I++)B.push(b[I].instrument+"/"+b[I].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+B.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:T,cached:P,error:H})}).catch(function(G){e.debugCallback&&e.debugCallback("loadBatch catch "+G.message)})},e.prime=function(){var b=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(E){var M=a().currentTime,L=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*L,e.duration<=0)return e.audioBuffers=[],E({status:"empty",seconds:0});e.duration+=b;var z=Math.floor(a().sampleRate*e.duration);e.stop();var G=w(e.flattened);e.options.swing&&m(G,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(G,e.callbackContext);var T=l(G.length,e.pan),P={};G.forEach(function(W,X){var y=T&&T.length>X?T[X]:0;W.forEach(function(S){var A=S.instrument+":"+S.pitch+":"+S.volume+":"+Math.round((S.end-S.start)*1e3)/1e3+":"+y+":"+L+":"+(S.cents?S.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+A),P[A]||(P[A]=[]),P[A].push(S.start)})});for(var O=[],H=a().createBuffer(2,z,a().sampleRate),D=0;D<Object.keys(P).length;D++){var F=Object.keys(P)[D],N=F.split(":"),B=N[6]!==void 0?parseFloat(N[6]):0;N={instrument:N[0],pitch:parseInt(N[1],10),volume:parseInt(N[2],10),len:parseFloat(N[3]),pan:parseFloat(N[4]),tempoMultiplier:parseFloat(N[5]),cents:B},O.push(d(H,a().sampleRate,N,P[F],e.soundFontVolumeMultiplier,e.programOffsets[N.instrument],b,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[H],e.debugCallback&&(e.debugCallback("sampleRate = "+a().sampleRate),e.debugCallback("totalSamples = "+z),e.debugCallback("creationTime = "+Math.floor((a().currentTime-M)*1e3)+"ms"));function I(W){var X=W&&W.audioBuffers&&W.audioBuffers.length>0?W.audioBuffers[0].duration:0;return{status:a().state,duration:X}}Promise.all(O).then(function(){a().state==="suspended"?a().resume().then(function(){E(I(e))}):a().state==="interrupted"?a().suspend().then(function(){a().resume().then(function(){E(I(e))})}):E(I(e))})})):Promise.reject(new Error(g))};function l(b,E){if(E==null)return null;var M=[];if(E.length){for(var L=0;L<b;L++)if(L<E.length){var z=parseFloat(E[L]);z<-1?z=-1:z>1&&(z=1),M.push(z)}else M.push(0);return M}else{var G=parseFloat(E);if(G*(b-1)>2)return null;for(var T=b%2===0,P=T?0-G/2:0,O=P+G,H=0;H<b;H++)T=H%2===0,T?(M.push(P),P-=G):(M.push(O),O+=G);return M}return null}e.start=function(){if(!e.audioBufferPossible)throw new Error(g);e.debugCallback&&e.debugCallback("start called");var b=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(b),e.startTimeSec=a().currentTime-b,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(g);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(b,E){var M;switch(E){case"seconds":M=b;break;case"beats":M=b*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:M=(e.duration-e.fadeLength/1e3)*b;break}if(!e.audioBufferPossible)throw new Error(g);e.debugCallback&&e.debugCallback("seek called sec="+M),e.isRunning?(e.stop(),e._kickOffSound(M)):e.pausedTimeSec=M,e.pausedTimeSec=M},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(E){try{E.stop()}catch(M){console.log("direct source didn't stop:",M)}}),e.directSource=[];var b=a().currentTime-e.startTimeSec;return b},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return c(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return f()?!0:(console.warn(g),e.debugCallback&&e.debugCallback(g),!1)},e._kickOffSound=function(b){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(E,M){e.directSource[M]=a().createBufferSource(),e.directSource[M].buffer=E,e.directSource[M].connect(a().destination)}),e.directSource.forEach(function(E){E.start(0,b)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})};function m(b,E,M,L){if(!(M.den!=4&&M.den!=8)&&(E=parseFloat(E),!(isNaN(E)||E<=50))){E>75&&(E=75),E=E/50-1;var z=0,G=.25;M.den===8&&(G=G/2);for(var T=G/2,P=T*E,O=0;O<b.length;O++)for(var H=b[O],D=0;D<H.length;D++){var F=H[D];if((F.start-L)%T==0&&(F.start-L)%G!=0&&(D==0||H[D-1].start<=H[D].start-T)&&(D==H.length-1||H[D+1].start>=H[D].start+T)){var N=F.start;F.start+=P,F.volume*=1+z,D>0&&H[D-1].end==N&&(H[D-1].end=F.start,H[D-1].volume*=1-z)}}}}}R.exports=n},1114:function(R,$){var k={};R.exports=k},1115:function(R,$){var k=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];R.exports=k},1116:function(R,$){var k={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};R.exports=k},1119:function(R,$,k){var C=k(1096),w=k(1107),x=k(1154),a=k(1156),f=k(1158),r=k(1124),h=k(1125),c=k(1162),d=function(){"use strict";var u=new h,g=new c(u),p,o="",t="";this.getTune=function(){var F={formatting:u.formatting,lines:u.lines,media:u.media,metaText:u.metaText,metaTextInfo:u.metaTextInfo,version:u.version,addElementToEvents:u.addElementToEvents,addUsefulCallbackInfo:u.addUsefulCallbackInfo,getTotalTime:u.getTotalTime,getTotalBeats:u.getTotalBeats,getBarLength:u.getBarLength,getBeatLength:u.getBeatLength,getBeatsPerMeasure:u.getBeatsPerMeasure,getBpm:u.getBpm,getMeter:u.getMeter,getMeterFraction:u.getMeterFraction,getPickupLength:u.getPickupLength,getKeySignature:u.getKeySignature,getElementFromChar:u.getElementFromChar,makeVoicesArray:u.makeVoicesArray,millisecondsPerMeasure:u.millisecondsPerMeasure,setupEvents:u.setupEvents,setTiming:u.setTiming,setUpAudio:u.setUpAudio,deline:u.deline,findSelectableElement:u.findSelectableElement,getSelectableArray:u.getSelectableArray};return u.lineBreaks&&(F.lineBreaks=u.lineBreaks),u.visualTranspose&&(F.visualTranspose=u.visualTranspose),F};function n(F,N,B){F.positioning||(F.positioning={}),F.positioning[N]=B}function e(F,N,B){F.fonts||(F.fonts={}),F.fonts[N]=B}var l={reset:function(){for(var F in this)this.hasOwnProperty(F)&&typeof this[F]!="function"&&delete this[F];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(F,N){return this[F].decoration!==N[F].decoration||this[F].face!==N[F].face||this[F].size!==N[F].size||this[F].style!==N[F].style||this[F].weight!==N[F].weight},addFormattingOptions:function(F,N,B){B==="note"?(this.vocalPosition!=="auto"&&n(F,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&n(F,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&n(F,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&n(F,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&n(F,"volumePosition",this.volumePosition),this.differentFont("annotationfont",N)&&e(F,"annotationfont",this.annotationfont),this.differentFont("gchordfont",N)&&e(F,"gchordfont",this.gchordfont),this.differentFont("vocalfont",N)&&e(F,"vocalfont",this.vocalfont),this.differentFont("tripletfont",N)&&e(F,"tripletfont",this.tripletfont)):B==="bar"&&(this.dynamicPosition!=="auto"&&n(F,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&n(F,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&n(F,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&n(F,"volumePosition",this.volumePosition),this.differentFont("measurefont",N)&&e(F,"measurefont",this.measurefont),this.differentFont("repeatfont",N)&&e(F,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var F=0;F<this.inTie.length;F++)if(this.endingHoldOver.inTie.push([]),this.inTie[F])for(var N=0;N<this.inTie[F].length;N++)this.endingHoldOver.inTie[F].push(this.inTie[F][N]);for(var B in this.inTieChord)this.inTieChord.hasOwnProperty(B)&&(this.endingHoldOver.inTieChord[B]=this.inTieChord[B])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var F=0;F<this.endingHoldOver.inTie.length;F++){this.inTie.push([]);for(var N=0;N<this.endingHoldOver.inTie[F].length;N++)this.inTie[F].push(this.endingHoldOver.inTie[F][N])}for(var B in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(B)&&(this.inTieChord[B]=this.endingHoldOver.inTieChord[B])}}},m=function(F){l.warnings||(l.warnings=[]),l.warnings.push(F)},b=function(F){l.warningObjects||(l.warningObjects=[]),l.warningObjects.push(F)},E=function(F){var N=F.replace(/\x12/g," ");return N=N.replace(/&/g,"&amp;"),N=N.replace(/</g,"&lt;"),N.replace(/>/g,"&gt;")},M=function(F,N,B){N||(N=" ");var I=N[B];(I===" "||!I)&&(I="SPACE");var W=E(N.substring(B-64,B))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+I+"</span>"+E(N.substring(B+1).substring(0,64));m("Music Line:"+p.lineIndex+":"+(B+1)+": "+F+":  "+W),b({message:F,line:N,startChar:l.iChar+B,column:B})},L,z;this.getWarnings=function(){return l.warnings},this.getWarningObjects=function(){return l.warningObjects};var G=function(F,N){if(N.indexOf("")>=0){o+=N;return}if(N=o+N,o="",!F){M("Can't add words before the first line of music",F,0);return}N=C.strip(N),N[N.length-1]!=="-"&&(N=N+" ");for(var B=[],I=0,W=!1,X=function(Y){var U=C.strip(N.substring(I,Y));if(U=U.replace(/\\([-_*|~])/g,"$1"),I=Y+1,U.length>0){W&&(U=U.replace(/~/g," "));var V=N[Y];return V!=="_"&&V!=="-"&&(V=" "),B.push({syllable:p.translateString(U),divider:V}),W=!1,!0}return!1},y=!1,S=0;S<N.length;S++){switch(N[S]){case" ":case"":X(S);break;case"-":!y&&!X(S)&&B.length>0&&(C.last(B).divider="-",B.push({skip:!0,to:"next"}));break;case"_":y||(X(S),B.push({skip:!0,to:"slur"}));break;case"*":y||(X(S),B.push({skip:!0,to:"next"}));break;case"|":y||(X(S),B.push({skip:!0,to:"bar"}));break;case"~":y||(W=!0);break}y=N[S]==="\\"}var A=!1;F.forEach(function(Y){if(B.length!==0){if(B[0].skip){switch(B[0].to){case"next":Y.el_type==="note"&&Y.pitches!==null&&!A&&B.shift();break;case"slur":Y.el_type==="note"&&Y.pitches!==null&&B.shift();break;case"bar":Y.el_type==="bar"&&B.shift();break}Y.el_type!=="bar"&&(Y.lyric===void 0?Y.lyric=[{syllable:"",divider:" "}]:Y.lyric.push({syllable:"",divider:" "}))}else if(Y.el_type==="note"&&Y.rest===void 0&&!A){var U=B.shift();U.syllable&&(U.syllable=U.syllable.replace(/ +/g,"\xA0")),Y.lyric===void 0?Y.lyric=[U]:Y.lyric.push(U)}}})},T=function(F,N){if(N.indexOf("")>=0){t+=N;return}if(N=t+N,t="",!F){M("Can't add symbols before the first line of music",F,0);return}N=C.strip(N),N[N.length-1]!=="-"&&(N=N+" ");for(var B=[],I=0,W=!1,X=function(A){var Y=C.strip(N.substring(I,A));if(I=A+1,Y.length>0){W&&(Y=Y.replace(/~/g," "));var U=N[A];return U!=="_"&&U!=="-"&&(U=" "),B.push({syllable:p.translateString(Y),divider:U}),W=!1,!0}return!1},y=0;y<N.length;y++)switch(N[y]){case" ":case"":X(y);break;case"-":!X(y)&&B.length>0&&(C.last(B).divider="-",B.push({skip:!0,to:"next"}));break;case"_":X(y),B.push({skip:!0,to:"slur"});break;case"*":X(y),B.push({skip:!0,to:"next"});break;case"|":X(y),B.push({skip:!0,to:"bar"});break;case"~":W=!0;break}var S=!1;F.forEach(function(A){if(B.length!==0){if(B[0].skip)switch(B[0].to){case"next":A.el_type==="note"&&A.pitches!==null&&!S&&B.shift();break;case"slur":A.el_type==="note"&&A.pitches!==null&&B.shift();break;case"bar":A.el_type==="bar"&&B.shift();break}else if(A.el_type==="note"&&A.rest===void 0&&!S){var Y=B.shift();A.lyric===void 0?A.lyric=[Y]:A.lyric.push(Y)}}})},P=function(F){if(C.startsWith(F,"%%")){var N=w.addDirective(F.substring(2));N&&M(N,F,2);return}var B=F.indexOf("%");if(B>=0&&(F=F.substring(0,B)),F=F.replace(/\s+$/,""),F.length!==0){if(o){G(g.getCurrentVoice(),F.substring(2));return}if(t){T(g.getCurrentVoice(),F.substring(2));return}if(F.length<2||F[1]!==":"||z.lineContinuation){z.parseMusic(F);return}var I=L.parseHeader(F);I.regular&&z.parseMusic(F),I.newline&&z.startNewLine(),I.words&&G(g.getCurrentVoice(),F.substring(2)),I.symbols&&T(g.getCurrentVoice(),F.substring(2))}};function O(F,N){F.push({el_type:"hint"});for(var B=0;B<N.length;B++){var I=N[B],W=Object.assign({},I);if(F.push(W),I.el_type==="bar")return}}function H(F,N){for(var B=0;B<F.length;B++){var I=F[B],W=N[B];if(W)for(var X=0;X<W.voices.length;X++){var y=W.voices[X],S=I.voices[X];S&&O(S,y)}}}function D(){for(var F=0;F<u.lines.length;F++){var N=u.lines[F].staff;if(N){for(var B=F+1;B<u.lines.length&&u.lines[B].staff===void 0;)B++;if(B<u.lines.length){var I=u.lines[B].staff;H(N,I)}}}}this.parse=function(F,N,B){N||(N={}),B||(B=0),u.reset(),F=F.replace(/\r\n?/g,`
`)+`
`;var I=F.split(`
\\`);if(I.length>1){for(var W=1;W<I.length;W++)for(;I[W].length>0&&I[W][0]!==`
`;)I[W]=I[W].substr(1),I[W-1]+=" ";F=I.join("  ")}F=F.replace(/\\([ \t]*)(%.*)*\n/g,function(V,K,q){var a0=q?Array(q.length+1).join(" "):"";return K+""+a0+`
`});var X=F.split(`
`);C.last(X).length===0&&X.pop(),p=new f(X,l),L=new x(p,M,l,u,g),z=new a(p,M,l,u,g,L),N.print&&(u.media="print"),l.reset(),l.iChar=B,N.visualTranspose?(l.globalTranspose=parseInt(N.visualTranspose),l.globalTranspose===0?l.globalTranspose=void 0:g.setVisualTranspose(N.visualTranspose)):l.globalTranspose=void 0,N.lineBreaks&&(l.lineBreaks=N.lineBreaks),L.reset(p,M,l,u);try{N.format&&w.globalFormatting(N.format);for(var y=p.nextLine();y;){if(N.header_only&&l.is_in_header===!1||N.stop_on_warning&&l.warnings)throw"normal_abort";var S=l.is_in_header;P(y),S&&!l.is_in_header&&(g.setRunningFont("annotationfont",l.annotationfont),g.setRunningFont("gchordfont",l.gchordfont),g.setRunningFont("tripletfont",l.tripletfont),g.setRunningFont("vocalfont",l.vocalfont)),y=p.nextLine()}o&&G(g.getCurrentVoice(),""),t&&T(g.getCurrentVoice(),""),l.openSlurs=g.cleanUp(l.barsperstaff,l.staffnonote,l.openSlurs)}catch(V){if(V!=="normal_abort")throw V}var A=11*72,Y=8.5*72;switch(l.papersize){case"legal":A=14*72,Y=8.5*72;break;case"A4":A=11.7*72,Y=8.3*72;break}if(l.landscape){var U=A;A=Y,Y=U}u.formatting.pagewidth||(u.formatting.pagewidth=Y),u.formatting.pageheight||(u.formatting.pageheight=A),N.hint_measures&&D(),r.wrapLines(u,l.lineBreaks,l.barNumbers)}};R.exports=d},1120:function(R,$,k){var C=k(1155),w=k(1121),x=k(1122),a={},f={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},r=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],h=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];a.keySignature=function(o,t,n,e,l){if(o.clef.type==="perc"||o.clef.type==="none")return{accidentals:x(t),root:n,acc:e};l||(l=0),o.localTransposeVerticalMovement=0,o.localTransposePreferFlats=!1;var m=x(t);if(!m)return o.key;if(o.localTranspose=(o.globalTranspose?o.globalTranspose:0)+l,!o.localTranspose)return{accidentals:m,root:n,acc:e};if(o.globalTransposeOrigKeySig=m,o.localTranspose%12===0)return o.localTransposeVerticalMovement=o.localTranspose/12*7,{accidentals:m,root:n,acc:e};var b=t[0];t[1]==="b"||t[1]==="#"?(b+=t[1],t=t.substr(2)):t=t.substr(1);var E=f[b],M=E!==void 0;M||(E=0,b="C",t="");for(var L=E+o.localTranspose;L<0;)L+=12;L>11&&(L=L%12);var z=t[0]==="m"?h[L]:r[L],G=z+t,T=x(G);T.length>0&&T[0].acc==="flat"&&(o.localTransposePreferFlats=!0);var P=G.charCodeAt(0)-b.charCodeAt(0);return o.localTranspose>0?(P<0||P===0&&(b[1]==="#"||G[1]==="b"))&&(P+=7):o.localTranspose<0&&(P>0||P===0&&(b[1]==="b"||G[1]==="#"))&&(P-=7),o.localTranspose>0?o.localTransposeVerticalMovement=P+Math.floor(o.localTranspose/12)*7:o.localTransposeVerticalMovement=P+Math.ceil(o.localTranspose/12)*7,M?{accidentals:T,root:z[0],acc:z.length>1?z[1]:""}:{accidentals:[],root:n,acc:e}},a.chordName=function(o,t){return w(t,o.localTranspose,o.localTransposePreferFlats,o.freegchord)};var c=["c","d","e","f","g","a","b"];function d(o,t,n,e,l){for(var m=c[(o+49)%7],b=0,E=0;E<e.length;E++)e[E].note.toLowerCase()===m&&(b=u[e[E].acc]);for(var M=u[n],L=M-b,z=c[(t+49)%7],G=0,T=0;T<l.accidentals.length;T++)l.accidentals[T].note.toLowerCase()===z&&(G=u[l.accidentals[T].acc]);var P=L+G;return P<-2&&(t--,P+=z==="c"||z==="f"?1:2),P>2&&(t++,P-=z==="b"||z==="e"?1:2),[t,P]}var u={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},g={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},p={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};a.note=function(o,t){if(!(!o.localTranspose||o.clef.type==="perc")){var n=t.pitch;if(o.localTransposeVerticalMovement&&(t.pitch=t.pitch+o.localTransposeVerticalMovement,t.name)){var e=t.accidental?t.name.substring(1):t.name,l=t.accidental?t.name[0]:"",m=C.pitchIndex(e);t.name=l+C.noteName(m+o.localTransposeVerticalMovement)}if(t.accidental){var b=d(n,t.pitch,t.accidental,o.globalTransposeOrigKeySig,o.targetKey);t.pitch=b[0],t.accidental=g[b[1]],t.name&&(t.name=p[b[1]]+t.name.replace(/[_^=]/g,""))}}},R.exports=a},1121:function(R,$){var k=["C","C\u266F","D","D\u266F","E","F","F\u266F","G","G\u266F","A","A\u266F","B"],C=["C","D\u266D","D","E\u266D","E","F","G\u266D","G","A\u266D","A","B\u266D","B"],w=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],x=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function a(f,r,h,c){if(!r||r%12===0)return f;for(;r<0;)r+=12;r>11&&(r=r%12);var d=f.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!d)return f;var u=d[1],g=d[2],p=d[3],o=d[4],t=k.indexOf(u);if(t<0&&(t=C.indexOf(u)),t<0&&(t=w.indexOf(u)),t<0&&(t=x.indexOf(u)),t<0)return f;if(t+=r,t=t%12,h?c?f=x[t]:f=C[t]:c?f=w[t]:f=k[t],g&&(f+=g),p){var t=k.indexOf(p);t<0&&(t=C.indexOf(p)),t<0&&(t=w.indexOf(p)),t<0&&(t=x.indexOf(p)),f+="/",t>=0?(t+=r,t=t%12,h?c?f+=x[t]:f+=C[t]:c?f+=w[t]:f+=k[t]):f+=p}return o&&(f+=o),f}R.exports=a},1122:function(R,$,k){var{relativeMajor:C}=k(1123),w={acc:"sharp",note:"f"},x={acc:"sharp",note:"c"},a={acc:"sharp",note:"g"},f={acc:"sharp",note:"d"},r={acc:"sharp",note:"A"},h={acc:"sharp",note:"e"},c={acc:"sharp",note:"B"},d={acc:"flat",note:"B"},u={acc:"flat",note:"e"},g={acc:"flat",note:"A"},p={acc:"flat",note:"d"},o={acc:"flat",note:"G"},t={acc:"flat",note:"c"},n={acc:"flat",note:"F"},e={"C#":[w,x,a,f,r,h,c],"F#":[w,x,a,f,r,h],B:[w,x,a,f,r],E:[w,x,a,f],A:[w,x,a],D:[w,x],G:[w],C:[],F:[d],Bb:[d,u],Eb:[d,u,g],Cm:[d,u,g],Ab:[d,u,g,p],Db:[d,u,g,p,o],Gb:[d,u,g,p,o,t],Cb:[d,u,g,p,o,t,n],"A#":[d,u],"B#":[],"D#":[d,u,g],"E#":[d],"G#":[d,u,g,p],none:[]};function l(m){var b=e[C(m)];return b?JSON.parse(JSON.stringify(b)):null}R.exports=l},1123:function(R,$){var k={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},C=null;function w(){C={};for(var r=Object.keys(k),h=0;h<r.length;h++){var c=k[r[h]];C[r[h].toLowerCase()]=r[h];for(var d=0;d<c.modes.length;d++){var u=c.modes[d].toLowerCase();C[u]=r[h]}}}function x(r){C||w();var h=r.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!h||!h[2])return r;h=h[1]+h[2];var c=C[h];return c||r}function a(r,h){var c=k[r];if(!c||h==="")return r;var d=h.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!d)return r;for(var u=d[1],g=0;g<c.modes.length;g++){var p=c.modes[g],o=p.toLowerCase().indexOf(u);if(o!==-1&&o===p.length-u.length)return p.substring(0,p.length-u.length)}return r}function f(r,h){var c=k[r];if(!c)return r;for(;h<0;)h+=12;for(var d=(c.stepsFromC+h)%12,u=0;u<Object.keys(k).length;u++){var g=Object.keys(k)[u];if(k[g].stepsFromC===d)return g}return r}R.exports={relativeMajor:x,relativeMode:a,transposeKey:f}},1124:function(R,$){function k(u,g,p){if(!(!g||u.lines.length===0)){var o=u.deline({lineBreaks:!1}),t=w(o,g);u.lines=C(o,t,p),u.lineBreaks=t}}function C(u,g,p){for(var o=[],t=[],n=[],e=1,l=0;l<g.length;l++){var m=g[l];if(u[m.ogLine].staff){var b=u[m.ogLine].staff[m.staff];if(o[m.line]||(o[m.line]={staff:[]}),!o[m.line].staff[m.staff]){o[m.line].staff[m.staff]={voices:[]},p!==void 0&&m.staff===0&&m.line>0&&(o[m.line].staff[m.staff].barNumber=e);for(var E=Object.keys(b),M=0;M<E.length;M++){var L=E[M]==="voices";E[M]==="meter"&&m.line!==0&&(L=!0),L||(o[m.line].staff[m.staff][E[M]]=b[E[M]])}t[m.staff]&&(o[m.line].staff[m.staff].key=t[m.staff])}o[m.line].staff[m.staff].voices[m.voice]||(o[m.line].staff[m.staff].voices[m.voice]=[]),o[m.line].staff[m.staff].voices[m.voice]=u[m.ogLine].staff[m.staff].voices[m.voice].slice(m.start,m.end+1),n[m.staff*10+m.voice]&&o[m.line].staff[m.staff].voices[m.voice].unshift({el_type:"stem",direction:n[m.staff*10+m.voice].direction});for(var z=o[m.line].staff[m.staff].voices[m.voice],G=z.length-1;G>=0;G--)if(z[G].el_type==="key"){t[m.staff]={root:z[G].root,acc:z[G].acc,mode:z[G].mode,accidentals:z[G].accidentals.filter(function(P){return P.acc!=="natural"})};break}for(G=z.length-1;G>=0;G--)if(z[G].el_type==="stem"){n[m.staff*10+m.voice]={direction:z[G].direction};break}if(p!==void 0&&m.staff===0&&m.voice===0)for(G=0;G<z.length;G++)z[G].el_type==="bar"&&(e++,G===z.length-1?delete z[G].barNumber:z[G].barNumber=e)}else o[m.line]=u[m.ogLine]}for(var T=0;T<o.length;T++)o[T].staff&&(o[T].staff=o[T].staff.filter(function(P){return P!=null}));return o}function w(u,g){for(var p=[],o=0,t=0,n=0,e=0;e<u.length;e++){var l=u[e];if(l.staff){var m=t,b=g[o];o++;for(var E=0;E<l.staff.length;E++)for(var M=l.staff[E],L=0;L<M.voices.length;L++){n=m;for(var z=0,G=0,T=M.voices[L],P=0,O=0;O<T.length;O++){var H=T[O];H.el_type==="bar"&&(b[G]===z&&(p.push({ogLine:e,line:n,staff:E,voice:L,start:P,end:O}),P=O+1,n++,t=Math.max(t,n),G++),z++)}p.push({ogLine:e,line:n,staff:E,voice:L,start:P,end:T.length}),n++,t=Math.max(t,n)}}else p.push({ogLine:e,line:n}),n++,t=Math.max(t,n)}return p}function x(u,g){for(var p=[],o=[],t=0,n=0;n<u.length;n++){var e=u[n],l=t+e;if(l<g)t=l;else{var m=g-t,b=l-g;m<b&&t>0?(p.push(n-1),o.push(Math.round(t-e)),t=e):n<u.length-1&&(p.push(n),o.push(Math.round(t)),t=0)}}return o.push(Math.round(t)),{lineBreaks:p,totals:o}}function a(u){for(var g=[],p=0;p<u.length;p++)g.push(u[p]);return g}function f(u,g,p,o,t,n,e,l,m,b,E){for(var M=b;M<u.length;M++){var L=u[M];p+=L,o+=L;var z=Math.abs(p-g[l]),G=Math.abs(z-n)<g[0]/10;if(G)if(z<n){var T=a(t),P=a(m);P.push(M-1),T.push(o-L),E.push({accumulator:p,lineAccumulator:L,lineWidths:T,lastVariance:Math.abs(p-g[l+1]),highestVariance:Math.max(e,n),currLine:l+1,lineBreaks:P,startIndex:M+1})}else z>n&&M<u.length-1&&(T=a(t),P=a(m),E.push({accumulator:p,lineAccumulator:o,lineWidths:T,lastVariance:z,highestVariance:Math.max(e,z),currLine:l,lineBreaks:P,startIndex:M+1}));z>n?(m.push(M-1),l++,e=Math.max(e,n),n=Math.abs(p-g[l]),t.push(o-L),o=L):n=z}t.push(o)}function r(u,g,p,o){for(var t=Math.ceil(u.total/g),n=Math.floor(u.total/t),e=[],l=0;l<t;l++)e.push(n*(l+1));var m=[];m.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var b=0;b<m.length;)f(u.measureWidths,e,m[b].accumulator,m[b].lineAccumulator,m[b].lineWidths,m[b].lastVariance,m[b].highestVariance,m[b].currLine,m[b].lineBreaks,m[b].startIndex,m),b++;for(l=0;l<m.length;l++){var E=m[l];E.variances=[],E.aveVariance=0;for(var M=0;M<E.lineWidths.length;M++){var L=E.lineWidths[M];E.variances.push(L-e[0]),E.aveVariance+=Math.abs(L-e[0])}E.aveVariance=E.aveVariance/E.lineWidths.length,o.attempts.push({type:"optimizeLineWidths",lineBreaks:E.lineBreaks,variances:E.variances,aveVariance:E.aveVariance,widths:u.measureWidths})}var z=9999999,G=-1;for(l=0;l<m.length;l++)E=m[l],E.aveVariance<z&&(z=E.aveVariance,G=l);return{failed:!1,lineBreaks:m[G].lineBreaks,variance:m[G].highestVariance}}function h(u,g,p){for(var o=[],t=[],n=0,e=!1,l=0;l<u.length;l++)n+=u[l],n>g&&(e=!0),l%p===p-1&&(l!==u.length-1&&o.push(l),t.push(Math.round(n)),n=0);return{failed:e,totals:t,lineBreaks:o}}function c(u,g,p){var o={lineBreaks:u,staffwidth:g};for(var t in p)p.hasOwnProperty(t)&&t!=="wrap"&&t!=="staffwidth"&&(o[t]=p[t]);return{revisedParams:o}}function d(u,g,p){if(g.length===0||p.staffwidth<g[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:p};var o=p.scale?Math.max(p.scale,.1):1,t=p.wrap.minSpacing?Math.max(parseFloat(p.wrap.minSpacing),1):1,n=p.wrap.minSpacingLimit?Math.max(parseFloat(p.wrap.minSpacingLimit),1):t-.1,e=p.wrap.maxSpacing?Math.max(parseFloat(p.wrap.maxSpacing),1):void 0;p.wrap.lastLineLimit&&!e&&(e=Math.max(parseFloat(p.wrap.lastLineLimit),1));for(var l=p.wrap.preferredMeasuresPerLine?Math.max(parseInt(p.wrap.preferredMeasuresPerLine,10),0):void 0,m=[],b=[],E=0;E<g.length;E++){var M=g[E],L=p.staffwidth-M.left,z=L/t/o,G=L/e/o,T=L/n/o,P={widths:M,lineBreakPoint:z,minLineSize:G,attempts:[],staffWidth:p.staffwidth,minWidth:Math.round(T)},O=null;if(l){var H=h(M.measureWidths,z,l);P.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:l,lineBreaks:H.lineBreaks,failed:H.failed,totals:H.totals}),H.failed||(O=H.lineBreaks)}if(!O){var D=x(M.measureWidths,z);P.attempts.push({type:"Free Form",lineBreaks:D.lineBreaks,totals:D.totals}),O=D.lineBreaks,O.length>0&&M.measureWidths.length<25&&(D=r(M,z,O,P),P.attempts.push({type:"Optimize",failed:D.failed,reason:D.reason,lineBreaks:D.lineBreaks,totals:D.totals}),D.failed||(O=D.lineBreaks))}m.push(O),b.push(P)}var F=p.staffwidth,N=c(m,F,p);return N.explanation=b,N.reParse=!0,N}R.exports={wrapLines:k,calcLineWraps:d}},1125:function(R,$,k){var C=k(1096),w=k(1093),x=k(1126),a=k(1159),f=k(1161),r=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function h(o,t,n,e){for(var l=0;l<e.length;l++)o[n][e[l]]=t[n][e[l]]}this.copyTopInfo=function(o){var t=["tempo","title","header","rhythm","origin","composer","author","partOrder"];h(this,o,"metaText",t),h(this,o,"metaTextInfo",t)},this.copyBottomInfo=function(o){var t=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];h(this,o,"metaText",t),h(this,o,"metaTextInfo",t)},this.getBeatLength=function(){var o=this.getMeterFraction(),t=1;return(o.num===6||o.num===9||o.num===12||o.num===3&&o.den===8)&&(t=3),t/o.den};function c(o,t){for(var n=0,e=0;e<o.length;e++)if(o[e].staff)for(var l=0;l<o[e].staff.length;l++)for(var m=0;m<o[e].staff[l].voices.length;m++)for(var b=o[e].staff[l].voices[m],E=1,M=0;M<b.length;M++){var L=b[M].rest&&b[M].rest.type==="spacer";if(b[M].startTriplet&&(E=b[M].tripletMultiplier),b[M].duration&&!L&&b[M].el_type!=="tempo"&&(n+=b[M].duration*E),b[M].endTriplet&&(E=1),n>=t&&(n-=t),b[M].el_type==="bar")return n}return n}this.getPickupLength=function(){var o=this.getBarLength(),t=c(this.lines,o);return t<1e-8||o-t<1e-8?0:t},this.getBarLength=function(){var o=this.getMeterFraction();return o.num/o.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(o){var t;if(o)t=o;else{var n=this.metaText?this.metaText.tempo:null;t=this.getBpm(n)}t<=0&&(t=1);var e=this.getBeatsPerMeasure(),l=e/t;return l*6e4},this.getBeatsPerMeasure=function(){var o=this.getBeatLength(),t=this.getBarLength();return t/o},this.getMeter=function(){for(var o=0;o<this.lines.length;o++){var t=this.lines[o];if(t.staff)for(var n=0;n<t.staff.length;n++){var e=t.staff[n].meter;if(e)return e}}return{type:"common_time"}},this.getMeterFraction=function(){var o=this.getMeter(),t=4,n=4;return o&&(o.type==="specified"?(t=parseInt(o.value[0].num,10),n=parseInt(o.value[0].den,10)):o.type==="cut_time"?(t=2,n=2):o.type==="common_time"&&(t=4,n=4)),this.meter={num:t,den:n},this.meter},this.getKeySignature=function(){for(var o=0;o<this.lines.length;o++){var t=this.lines[o];if(t.staff){for(var n=0;n<t.staff.length;n++)if(t.staff[n].key)return t.staff[n].key}}return{}},this.getElementFromChar=function(o){for(var t=0;t<this.lines.length;t++){var n=this.lines[t];if(n.staff)for(var e=0;e<n.staff.length;e++)for(var l=n.staff[e],m=0;m<l.voices.length;m++)for(var b=l.voices[m],E=0;E<b.length;E++){var M=b[E];if(M.startChar&&M.endChar&&M.startChar<=o&&M.endChar>o)return M}}return null};function d(o){for(var t,n,e,l,m=o.length-1;m>=0;m--){var b=o[m];b.type==="bar"?(b.top=e,b.nextTop=t,t=e,b.bottom=l,b.nextBottom=n,n=l):b.type==="event"&&(e=b.top,l=b.top+b.height)}}function u(o){var t=[];for(var n in o)o.hasOwnProperty(n)&&t.push(o[n]);return t=t.sort(function(e,l){var m=e.milliseconds-l.milliseconds;return m!==0?m:e.type==="bar"?-1:1}),t}this.addElementToEvents=function(o,t,n,e,l,m,b,E,M,L){if(t.hint)return{isTiedState:void 0,duration:0};var z=t.durationClass?t.durationClass:t.duration;if(t.abcelem.rest&&t.abcelem.rest.type==="spacer"&&(z=0),z>0){for(var G=[],T=0;T<t.elemset.length;T++)t.elemset[T]!==null&&G.push(t.elemset[T]);var P=t.startTie;if(M!==void 0)o["event"+M].elements.push(G),L&&(o["event"+n]||(o["event"+n]={type:"event",milliseconds:n,line:m,measureNumber:b,top:e,height:l,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),o["event"+n].measureStart=!0,L=!1),P||(M=void 0);else{if(!o["event"+n])o["event"+n]={type:"event",milliseconds:n,line:m,measureNumber:b,top:e,height:l,left:t.x,width:t.w,elements:[G],startChar:t.abcelem.startChar,endChar:t.abcelem.endChar,startCharArray:[t.abcelem.startChar],endCharArray:[t.abcelem.endChar],midiPitches:t.abcelem.midiPitches?C.cloneArray(t.abcelem.midiPitches):[]},t.abcelem.midiGraceNotePitches&&(o["event"+n].midiGraceNotePitches=C.cloneArray(t.abcelem.midiGraceNotePitches));else{if(o["event"+n].left?o["event"+n].left=Math.min(o["event"+n].left,t.x):o["event"+n].left=t.x,o["event"+n].elements.push(G),o["event"+n].startCharArray.push(t.abcelem.startChar),o["event"+n].endCharArray.push(t.abcelem.endChar),o["event"+n].startChar===null&&(o["event"+n].startChar=t.abcelem.startChar),o["event"+n].endChar===null&&(o["event"+n].endChar=t.abcelem.endChar),t.abcelem.midiPitches&&t.abcelem.midiPitches.length){o["event"+n].midiPitches||(o["event"+n].midiPitches=[]);for(var T=0;T<t.abcelem.midiPitches.length;T++)o["event"+n].midiPitches.push(t.abcelem.midiPitches[T])}if(t.abcelem.midiGraceNotePitches&&t.abcelem.midiGraceNotePitches.length){o["event"+n].midiGraceNotePitches||(o["event"+n].midiGraceNotePitches=[]);for(var O=0;O<t.abcelem.midiGraceNotePitches.length;O++)o["event"+n].midiGraceNotePitches.push(t.abcelem.midiGraceNotePitches[O])}}L&&(o["event"+n].measureStart=!0,L=!1)}}return{isTiedState:M,duration:z/E,nextIsBar:L||t.type==="bar"}},this.makeVoicesArray=function(){for(var o=[],t=[],n={},e=0;e<this.engraver.staffgroups.length;e++){var l=this.engraver.staffgroups[e];if(l&&l.staffs&&l.staffs.length>0){var m=l.staffs[0],b=m.absoluteY,E=b-m.top*w.STEP,M=l.staffs[l.staffs.length-1];b=M.absoluteY;for(var L=b-M.bottom*w.STEP,z=L-E,G=l.voices,T=0;T<G.length;T++)if(!(G[T].staff&&G[T].staff.isTabStaff)){var P=!1;o[T]||(o[T]=[]),t[T]===void 0&&(t[T]=0);for(var O=G[T].children,H=0;H<O.length;H++)O[H].type==="tempo"&&(n[t[T]]=this.getBpm(O[H].abcelem)),o[T].push({top:E,height:z,line:l.line,measureNumber:t[T],elem:O[H]}),O[H].type==="bar"&&P&&t[T]++,(O[H].type==="note"||O[H].type==="rest")&&(P=!0)}}}return this.tempoLocations=n,o},this.setupEvents=function(o,t,n,e){e||(e=1);for(var l=[],m={},b=o,E,M=!0,L=this.makeVoicesArray(),z=0,G=0;G<L.length;G++){var T=b,P=Math.round(T*1e3),O=0,H=-1,D=L[G],F=n;t=this.getBeatLength()*F/60;for(var N=-1,B=0;B<D.length;B++){var I=D[B].measureNumber;N!==I&&this.tempoLocations[I]&&(F=this.tempoLocations[I],t=e*this.getBeatLength()*F/60,N=I);var W=D[B].elem,X=this.addElementToEvents(m,W,P,D[B].top,D[B].height,D[B].line,D[B].measureNumber,t,E,M);E=X.isTiedState,M=X.nextIsBar,T+=X.duration;var y;if(W.duration>0&&m["event"+P]&&(y="event"+P),P=Math.round(T*1e3),W.type==="bar"){var S=W.abcelem.type,A=S==="bar_right_repeat"||S==="bar_dbl_repeat",Y=W.abcelem.startEnding==="1",U=S==="bar_left_repeat"||S==="bar_dbl_repeat"||S==="bar_right_repeat";if(A){B>0&&(m[y].endX=W.x),H===-1&&(H=B);var V=0;N=-1;for(var K=O;K<H;K++){I=D[K].measureNumber,N!==I&&this.tempoLocations[I]&&(F=this.tempoLocations[I],t=e*this.getBeatLength()*F/60,N=I);var q=D[K].elem;X=this.addElementToEvents(m,q,P,D[K].top,D[K].height,D[K].line,D[K].measureNumber,t,E,M),E=X.isTiedState,M=X.nextIsBar,T+=X.duration,V=P,P=Math.round(T*1e3)}m["event"+V]&&(m["event"+V].endX=D[H].elem.x),M=!0,H=-1}Y&&(H=B),U&&(O=B)}}z=Math.max(z,P)}return l=u(m),d(l),p(this.lines,l),l.push({type:"end",milliseconds:z}),this.addUsefulCallbackInfo(l,F*e),l},this.addUsefulCallbackInfo=function(o,t){for(var n=this.millisecondsPerMeasure(t),e=0;e<o.length;e++){var l=o[e];l.millisecondsPerMeasure=n}};function g(o,t){for(;t<o.length&&o[t].left===null;)t++;return o[t]}function p(o,t){if(!(t.length<1)){for(var n=0;n<t.length-1;n++){var e=t[n],l=g(t,n+1);if(e.left!==null){var m=l&&e.top===l.top?l.left:o[e.line].staffGroup.w;e.endX!==void 0?m>e.left&&(e.endX=Math.min(e.endX,m)):e.endX=m}}var b=t[t.length-1];b.endX=o[b.line].staffGroup.w}}this.getBpm=function(o){var t;if(o||(o=this.metaText?this.metaText.tempo:null),o){t=o.bpm;var n=this.getBeatLength(),e=o.duration&&o.duration.length>0?o.duration[0]:n;t=t*e/n}if(!t){t=180;var l=this.getMeterFraction();l&&l.num!==3&&l.num%3===0&&(t=120)}return t},this.setTiming=function(o,t){if(t=t||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var n=this.metaText?this.metaText.tempo:null,e=this.getBpm(n),l=1;o?n&&(l=o/e):o=e;var m=this.getBeatLength(),b=o/60,E=this.getBarLength(),M=E/m*t/b;M&&(M-=this.getPickupLength()/m/b);var L=m*b;return this.noteTimings=this.setupEvents(M,L,o,l),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*b):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(o){o||(o={});var t=x(this,o);return a(t,o,this.formatting.percmap,this.formatting.midi)},this.deline=function(o){return f(this.lines,o)},this.findSelectableElement=function(o){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(o):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}};R.exports=r},1126:function(R,$,k){var C,w=k(1096);(function(){"use strict";var x=1,a=128;C=function(e,l){l=l||{};var m,b=l.program||0,E=l.midiTranspose||0;e.visualTranspose&&(E-=e.visualTranspose);var M=l.channel||0,L=!1,z=l.drum||"",G=l.drumBars||1,T=l.drumIntro||0,P=z!=="",O=!!l.drumOff,H=[],D=!1,F=50;b=parseInt(b,10),E=parseInt(E,10),M=parseInt(M,10),M===10&&(b=a),z=z.split(" "),G=parseInt(G,10),T=parseInt(T,10);var N=e.formatting.bagpipes;N&&(b=71);var B=[];if(e.formatting.midi){var I=e.formatting.midi;I.program&&I.program.length>0&&(b=I.program[0],I.program.length>1&&(b=I.program[1],M=I.program[0]),L=!0),I.transpose&&(E=I.transpose[0]),I.channel&&(M=I.channel[0],L=!0),I.drum&&(z=I.drum),I.drumbars&&(G=I.drumbars[0]),I.drumon&&(P=!0),M===10&&(b=a),I.beat&&B.push({el_type:"beat",beats:I.beat}),I.nobeataccents&&B.push({el_type:"beataccents",value:!1})}l.qpm?m=parseInt(l.qpm,10):e.metaText.tempo?m=u(e.metaText.tempo,e.getBeatLength()):l.defaultQpm?m=l.defaultQpm:m=180;var W=[];N&&W.push({el_type:"bagpipes"}),W.push({el_type:"instrument",program:b}),M&&W.push({el_type:"channel",channel:M}),E&&W.push({el_type:"transpose",transpose:E}),W.push({el_type:"tempo",qpm:m});for(var X=0;X<B.length;X++)W.push(B[X]);var y=[],S=[],A=[],Y=[0],U={};U[0]={el_type:"tempo",qpm:m,timing:0};for(var V,K=[],q=[],a0=!1,J=e.lines,s0=0;s0<J.length;s0++){var c0=J[s0];if(c0.staff){let M0=function(k0){var y0={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},A0;if(k0.decoration)if(k0.decoration.indexOf("pppp")>=0?A0="pppp":k0.decoration.indexOf("ppp")>=0?A0="ppp":k0.decoration.indexOf("pp")>=0?A0="pp":k0.decoration.indexOf("p")>=0?A0="p":k0.decoration.indexOf("mp")>=0?A0="mp":k0.decoration.indexOf("mf")>=0?A0="mf":k0.decoration.indexOf("f")>=0?A0="f":k0.decoration.indexOf("ff")>=0?A0="ff":k0.decoration.indexOf("fff")>=0?A0="fff":k0.decoration.indexOf("ffff")>=0&&(A0="ffff"),A0&&(V=y0[A0].slice(0),y[Z].push({el_type:"beat",beats:V.slice(0)}),S[d0]=!1,A[d0]=!1),k0.decoration.indexOf("crescendo(")>=0){var P0=f(g0,T0,"crescendo)"),D0=Math.min(127,V[0]+F),F0=r(g0,T0+P0+1,Object.keys(y0));F0&&(D0=y0[F0][0]),P0>0?S[d0]=Math.floor((D0-V[0])/P0):S[d0]=!1,A[d0]=!1}else if(k0.decoration.indexOf("crescendo)")>=0)S[d0]=!1;else if(k0.decoration.indexOf("diminuendo(")>=0){var I0=f(g0,T0,"diminuendo)"),L0=Math.max(15,V[0]-F),O0=r(g0,T0+I0+1,Object.keys(y0));O0&&(L0=y0[O0][0]),S[d0]=!1,I0>0?A[d0]=Math.floor((L0-V[0])/I0):A[d0]=!1}else k0.decoration.indexOf("diminuendo)")>=0&&(A[d0]=!1)};for(var v0=c0.staff,Z=0,h0=0;h0<v0.length;h0++){var e0=v0[h0];if(!(e0.clef&&e0.clef.type==="TAB"))for(var d0=0;d0<e0.voices.length;d0++){var g0=e0.voices[d0];if(!y[Z]){y[Z]=[].concat(JSON.parse(JSON.stringify(W)));var S0=d(c0.staff,Z);S0&&y[Z].unshift({el_type:"name",trackName:S0})}if(E&&e0.clef.type==="perc"&&y[Z].push({el_type:"transpose",transpose:0}),e0.clef&&e0.clef.type==="perc"&&!L)for(var x0=0;x0<y[Z].length;x0++)y[Z][x0].el_type==="instrument"&&(y[Z][x0].program=a);else e0.key&&o(y[Z],e0.key);e0.meter&&t(y[Z],e0.meter),!a0&&P&&(y[Z].push({el_type:"drum",params:{pattern:z,bars:G,on:P,intro:T}}),a0=!0),e0.clef&&e0.clef.type!=="perc"&&e0.clef.transpose&&(e0.clef.el_type="clef",y[Z].push({el_type:"transpose",transpose:e0.clef.transpose})),e0.clef&&e0.clef.type&&(e0.clef.type.indexOf("-8")>=0?y[Z].push({el_type:"transpose",transpose:-12}):e0.clef.type.indexOf("+8")>=0&&y[Z].push({el_type:"transpose",transpose:12})),e.formatting.midi&&e.formatting.midi.drumoff&&(y[Z].push({el_type:"bar"}),y[Z].push({el_type:"drum",params:{pattern:"",on:!1}}));var w0=0,C0=0,E0=0,N0=0;V=[105,95,85,1];for(var T0=0;T0<g0.length;T0++){var n0=g0[T0];switch(n0.el_type){case"note":if(S[d0]&&(V[0]+=S[d0],V[1]+=S[d0],V[2]+=S[d0],y[Z].push({el_type:"beat",beats:V.slice(0)})),A[d0]&&(V[0]+=A[d0],V[1]+=A[d0],V[2]+=A[d0],y[Z].push({el_type:"beat",beats:V.slice(0)})),M0(n0),!n0.rest||n0.rest.type!=="spacer"){var i0={elem:n0,el_type:"note",timing:Y[Z]};if(n0.style?i0.style=n0.style:H[Z]&&(i0.style=H[Z]),i0.duration=n0.duration===0?.25:n0.duration,n0.startTriplet){if(C0=n0.tripletMultiplier,E0=n0.startTriplet*C0*n0.duration,n0.startTriplet!==n0.tripletR&&T0+n0.tripletR<=g0.length){for(var j=0,Q=T0;Q<T0+n0.tripletR;Q++)j+=g0[Q].duration;E0=C0*j}i0.duration=i0.duration*C0,i0.duration=Math.round(i0.duration*1e6)/1e6,N0=i0.duration}else C0&&(n0.endTriplet?(C0=0,i0.duration=Math.round((E0-N0)*1e6)/1e6):(i0.duration=i0.duration*C0,i0.duration=Math.round(i0.duration*1e6)/1e6,N0+=i0.duration));n0.rest&&(i0.rest=n0.rest),n0.decoration&&(i0.decoration=n0.decoration.slice(0)),n0.pitches&&(i0.pitches=w.cloneArray(n0.pitches)),n0.gracenotes&&(i0.gracenotes=w.cloneArray(n0.gracenotes)),n0.chord&&(i0.chord=w.cloneArray(n0.chord)),y[Z].push(i0),n0.style==="rhythm"&&(D=!0,c(y)),w0++,Y[Z]+=i0.duration}break;case"key":case"keySignature":o(y[Z],n0);break;case"meter":t(y[Z],n0);break;case"clef":n0.transpose&&y[Z].push({el_type:"transpose",transpose:n0.transpose}),n0.type&&(n0.type.indexOf("-8")>=0?y[Z].push({el_type:"transpose",transpose:-12}):n0.type.indexOf("+8")>=0&&y[Z].push({el_type:"transpose",transpose:12}));break;case"tempo":m=u(n0,e.getBeatLength()),y[Z].push({el_type:"tempo",qpm:m,timing:Y[Z]}),U[""+Y[Z]]={el_type:"tempo",qpm:m,timing:Y[Z]};break;case"bar":w0>0&&y[Z].push({el_type:"bar"}),M0(n0),w0=0;var r0=n0.type==="bar_right_repeat"||n0.type==="bar_dbl_repeat",_=n0.startEnding==="1",t0=n0.type==="bar_left_repeat"||n0.type==="bar_dbl_repeat"||n0.type==="bar_right_repeat";if(r0){var p0=K[Z];p0||(p0=0);var b0=q[Z];b0||(b0=y[Z].length);for(var l0=p0;l0<b0;l0++){var o0=Object.assign({},y[Z][l0]);o0.pitches&&(o0.pitches=w.cloneArray(o0.pitches)),y[Z].push(o0)}q[Z]=void 0,K[Z]=void 0}_&&(q[Z]=y[Z].length),t0&&(K[Z]=y[Z].length),D=!1;break;case"style":H[Z]=n0.head;break;case"timeSignature":y[Z].push(g(n0));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var u0=!1;switch(n0.cmd){case"drumon":P=!0,u0=!0;break;case"drumoff":P=!1,u0=!0;break;case"drum":z=n0.params,u0=!0;break;case"drumbars":G=n0.params[0],u0=!0;break;case"drummap":break;case"channel":n0.params[0]===10&&y[Z].push({el_type:"instrument",program:a});break;case"program":n(y[Z],{el_type:"instrument",program:n0.params[0]}),L=!0;break;case"transpose":y[Z].push({el_type:"transpose",transpose:n0.params[0]});break;case"gchordoff":y[Z].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":y[Z].push({el_type:"gchordOn",tacet:!1});break;case"beat":y[Z].push({el_type:"beat",beats:n0.params});break;case"nobeataccents":y[Z].push({el_type:"beataccents",value:!1});break;case"beataccents":y[Z].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":y[Z].push({el_type:n0.cmd,volume:n0.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":y[Z].push({el_type:n0.cmd,param:n0.params[0]});break;case"bassprog":case"chordprog":y[Z].push({el_type:n0.cmd,value:n0.params[0],octaveShift:n0.params[1]});break;case"gchordbars":y[Z].push({el_type:n0.cmd,param:n0.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",n0.cmd,n0)}u0&&(y[0].push({el_type:"drum",params:{pattern:z,bars:G,intro:T,on:P}}),a0=!0);break;default:console.log("MIDI: element type "+n0.el_type+" not handled.")}}Z++,Y[Z]||(Y[Z]=0)}}}}if(h(y,U),T)for(var B0=e.getPickupLength(),m0=0;m0<y.length;m0++){for(var f0=0;y[m0][f0].el_type!=="note"&&y[m0].length>f0;)f0++;if(y[m0].length>f0){for(var Q=0;Q<T;Q++)B0===0||Q<T-1?(y[m0].splice(f0,0,{el_type:"note",rest:{type:"rest"},duration:x},{el_type:"bar"}),f0+=2):y[m0].splice(f0++,0,{el_type:"note",rest:{type:"rest"},duration:x-B0});O&&(P=!1,y[m0].splice(f0++,0,{el_type:"drum",params:{pattern:z,bars:G,intro:T,on:P}}),O=!1)}}return y.length>0&&y[0].length>0&&(y[0][0].pickupLength=e.getPickupLength()),y};function f(e,l,m){for(var b=0,E=l+1;E<e.length;E++)if(e[E].el_type==="note"&&b++,e[E].decoration&&e[E].decoration.indexOf(m)>=0)return b;return b}function r(e,l,m){for(var b=Math.min(e.length,l+3),E=l;E<b;E++)if(e[E].el_type==="note"&&e[E].decoration){for(var M=0;M<e[E].decoration.length;M++)if(m.indexOf(e[E].decoration[M])>=0)return e[E].decoration[M]}return null}function h(e,l){if(!(!l||l.length===0))for(var m=Object.keys(l),b=0;b<e.length;b++)for(var E=e[b],M=l[0]?l[0].qpm:0,L=0;L<E.length;L++){var z=E[L];z.el_type==="tempo"&&(M=z.qpm),m.indexOf(""+z.timing)>=0&&M!==l[""+z.timing].qpm&&(M=l[""+z.timing].qpm,z.el_type==="tempo"?(z.qpm=l[""+z.timing].qpm,L++):(e[b].splice(L,0,{el_type:"tempo",qpm:l[""+z.timing].qpm,timing:z.timing}),L+=2))}}function c(e){for(var l=0;l<e.length;l++)for(var m=e[l],b=m.length-1;b>=0&&m[b].el_type!=="bar";)m[b].noChordVoice=!0,b--}function d(e,l){if(!(!e||e.length<=l||!e[l].title))return e[l].title.join(" ")}function u(e,l){var m=.25;e.duration&&(m=e.duration[0]);var b=60;return e.bpm&&(b=e.bpm),m*b/l}function g(e){var l;switch(e.type){case"common_time":l={el_type:"meter",num:4,den:4};break;case"cut_time":l={el_type:"meter",num:2,den:2};break;case"specified":l={el_type:"meter",num:e.value[0].num,den:e.value[0].den};break;default:l={el_type:"meter"}}return x=l.num/l.den,l}function p(e){for(var l=[],m=0;m<e.length;m++)e[m].acc!=="natural"&&l.push(e[m]);return l}function o(e,l){var m;l.root==="HP"?m={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:m={el_type:"key",accidentals:p(l.accidentals)},n(e,m)}function t(e,l){var m=g(l);n(e,m)}function n(e,l){for(var m=e.length-1;m>=0;m--)if(e[m].el_type===l.el_type){JSON.stringify(e[m])!==JSON.stringify(l)&&e.push(l);return}e.push(l)}})(),R.exports=C},1127:function(R,$){var k={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function C(w){var x=(w.accidental?w.accidental[0]:"x")+w.verticalPos;return k[x]}R.exports=C},1128:function(R,$,k){var C=k(1164),w={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},x={inited:!1,plugins:{},register:function(a){var f=a.name,r=a.tablature;this.plugins[f]=r},setError:function(a,f){a.warnings?a.warning.push(f):a.warnings=[f]},preparePlugins:function(a,f,r){this.inited||(this.register(new C),this.inited=!0);var h=null,c=0;if(r.tablature){var d=r.tablature;h=[];for(var u=0;u<d.length;u++){var g=d[u],p=g.instrument;if(p==null)return this.setError(a,"tablature 'instrument' is missing"),h;var o=w[p],t=null;if(o&&(t=this.plugins[o.name]),t){r.visualTranspose!=0&&(g.visualTranspose=r.visualTranspose),g.abcSrc=r.tablature.abcSrc;var n={classz:t,tuneNumber:f,params:g,instance:null,tabType:o};h.push(n),c++}else if(p==="")h.push(null);else return this.setError(a,"Undefined tablature plugin: "+p),h}}return h},layoutTablatures:function(f,r){var h=r.tablatures,c=0;if(h&&h.length>0)for(var d=h.length,u=0;u<d;++u)h[u]&&h[u].params.firstStaffOnly&&(h[u].params.suppress=!1);for(var g=0;g<r.lines.length;g++){var p=r.lines[g];if(p.staff&&c++,c>1&&h&&h.length>0)for(var d=h.length,u=0;u<d;++u)h[u].params.firstStaffOnly&&(h[u].params.suppress=!0);var o=p.staff;if(o){for(var t=o.length,n=0;n<o.length;n++)if(h[n]&&n<t){var e=h[n];e.instance==null&&(e.instance=new e.classz,e.instance.init(r,e.tuneNumber,e.params,e.tabType)),e.instance.render(f,p,n)}}}}};R.exports=x},1129:function(R,$){var k=function(w,x){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=w,this.voicetotal=x,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};k.prototype.addChild=function(C){if(C.type==="bar"){for(var w=!0,x=0;w&&x<this.children.length;x++)this.children[x].type.indexOf("staff-extra")<0&&this.children[x].type!=="tempo"&&(w=!1);w||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=C,this.setRange(C)},k.prototype.setLimit=function(C,w){var x=w.specialY;x||(x=w),x[C]&&(this.specialY[C]?this.specialY[C]=Math.max(this.specialY[C],x[C]):this.specialY[C]=x[C])},k.prototype.adjustRange=function(C){C.bottom!==void 0&&(this.bottom=Math.min(this.bottom,C.bottom)),C.top!==void 0&&(this.top=Math.max(this.top,C.top))},k.prototype.setRange=function(C){this.adjustRange(C),this.setLimit("tempoHeightAbove",C),this.setLimit("partHeightAbove",C),this.setLimit("volumeHeightAbove",C),this.setLimit("dynamicHeightAbove",C),this.setLimit("endingHeightAbove",C),this.setLimit("chordHeightAbove",C),this.setLimit("lyricHeightAbove",C),this.setLimit("lyricHeightBelow",C),this.setLimit("chordHeightBelow",C),this.setLimit("volumeHeightBelow",C),this.setLimit("dynamicHeightBelow",C)},k.prototype.addOther=function(C){this.otherchildren.push(C),this.setRange(C)},k.prototype.addBeam=function(C){this.beams.push(C)},k.prototype.setWidth=function(C){this.w=C},R.exports=k},1130:function(R,$,k){var C=k(1109),w=function(x,a){x===void 0&&(x="abcjs-note_selected"),a===void 0&&(a="#ff0000"),C(this.elemset,x,"",a)};R.exports=w},1131:function(R,$,k){var C=k(1109),w=function(x,a){x===void 0&&(x="abcjs-note_selected"),a===void 0&&(a="#000000"),C(this.elemset,"",x,a)};R.exports=w},1132:function(R,$){var k={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},C=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function w(a){var f=a.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(f&&f.length===5){var r=k[f[1]],h=C.indexOf(f[2]),c=f[4].length-f[3].length;return 48+h+r+c*12}return 0}function x(a){a=parseInt(a,10);var f=Math.floor(a/12),r=a%12,h=C[r];if(h==="-"&&(h="^"+C[r-1]),f>4)for(h=h.toLowerCase(),f-=5;f>0;)h+="'",f--;else for(;f<4;)h+=",",f++;return h}R.exports={noteToMidi:w,midiToNote:x}},1133:function(R,$,k){var{noteToMidi:C,midiToNote:w}=k(1132);function x(f,r){var h=C(f);r&&(h+=r);var c=w(h),d=!1,u=!1,g=!1,p=null,o=null,t=!1,n=0;f.startsWith("_")?(d=!0,n=-1,f[1]=="/"?(d=!1,o="v",n=0):f[1]=="_"&&(t=!0,n-=1)):f.startsWith("^")?(u=!0,n=1,f[1]=="/"?(u=!1,o="^",n=0):f[1]=="^"&&(t=!0,n+=1)):f.startsWith("=")&&(p=!0,n=0),g=d||u||o!=null,(g||p)&&(o!=null||t?c=f.slice(2):c=f.slice(1));var e=(c.match(/,/g)||[]).length,l=(c.match(/'/g)||[]).length;this.pitch=h,this.pitchAltered=0,this.name=c,this.acc=n,this.isSharp=u,this.isKeySharp=!1,this.isDouble=t,this.isAltered=g,this.isFlat=d,this.isKeyFlat=!1,this.natural=p,this.quarter=o,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=e,this.isQuoted=l}function a(f){var r=f.name,h=new x(r);return h.pitch=f.pitch,h.hasComma=f.hasComma,h.isLower=f.isLower,h.isQuoted=f.isQuoted,h.isSharp=f.isSharp,h.isKeySharp=f.isKeySharp,h.isFlat=f.isFlat,h.isKeyFlat=f.isKeyFlat,h}x.prototype.sameNoteAs=function(f){return f.pitch===this.pitch},x.prototype.isLowerThan=function(f){return f.pitch>this.pitch},x.prototype.checkKeyAccidentals=function(f,r){if(!(this.isAltered||this.natural)){if(r[this.name.toUpperCase()])switch(r[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(f)for(var h=this.name,c=0;c<f.length;c++){var d=f[c];h==d.note.toUpperCase()&&(d.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),d.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}},x.prototype.getAccidentalEquiv=function(){var f=a(this);return f.isSharp||f.isKeySharp?(f=f.nextNote(),f.isFlat=!0,f.isSharp=!1,f.isKeySharp=!1):(f.isFlat||f.isKeyFlat)&&(f=f.prevNote(),f.isSharp=!0,f.isFlat=!1,f.isKeyFlat=!1),f},x.prototype.nextNote=function(){var f=w(this.pitch+1+this.pitchAltered);return new x(f)},x.prototype.prevNote=function(){var f=w(this.pitch-1+this.pitchAltered);return new x(f)},x.prototype.emitNoAccidentals=function(){var f=this.name;this.isLower&&(f=f.toLowerCase());for(var r=0;r<this.isQuoted;r++)f+="'";for(var h=0;h<this.hasComma;h++)f+=",";return f},x.prototype.emit=function(){var f=this.name;(this.isSharp||this.isKeySharp)&&(f="^"+f,this.isDouble&&(f="^"+f)),(this.isFlat||this.isKeyFlat)&&(f="_"+f,this.isDouble&&(f="_"+f)),this.quarter&&(this.quarter=="^"?f="^/"+f:f="_/"+f),this.natural&&(f="="+f);for(var r=1;r<=this.hasComma;r++)f+=",";if(this.isLower){f=f.toLowerCase();for(var h=1;h<=this.isQuoted;h++)f+="'"}return f},R.exports=x},1134:function(R,$,k){var C=k(1103),w=k(1125),x=k(1135),a=k(1119),f=k(1124),r={};function h(){var g=window.innerWidth;for(var p in r)if(r.hasOwnProperty(p)){var o=r[p],t=o.offsetLeft;g-=t*2,o.style.width=g+"px"}}try{window.addEventListener("resize",h),window.addEventListener("orientationChange",h)}catch(g){}function c(g,p,o,t,n){o.viewportHorizontal?(g.innerHTML='<div class="abcjs-inner"></div>',o.scrollHorizontal?(g.style.overflowX="auto",g.style.overflowY="hidden"):g.style.overflow="hidden",r[g.id]=g,g=g.children[0]):o.viewportVertical?(g.innerHTML='<div class="abcjs-inner scroll-amount"></div>',g.style.overflowX="hidden",g.style.overflowY="auto",g=g.children[0]):g.innerHTML="";var e=new x(g,o);if(e.engraveABC(p,t,n),p.engraver=e,o.viewportVertical||o.viewportHorizontal){var l=g.parentNode;l.style.width=g.style.width}}var d=function(g,p,o,t,n){var e={},l;if(o){for(l in o)o.hasOwnProperty(l)&&(e[l]=o[l]);e.warnings_id&&e.tablature&&(e.tablature.warning_id=e.warnings_id)}if(t)for(l in t)t.hasOwnProperty(l)&&(l==="listener"?t[l].highlight&&(e.clickListener=t[l].highlight):e[l]=t[l]);if(n)for(l in n)n.hasOwnProperty(l)&&(e[l]=n[l]);function m(b,E,M,L){var z=!1;return b==="*"&&(z=!0,b=document.createElement("div"),b.setAttribute("style","visibility: hidden;"),document.body.appendChild(b)),!z&&e.wrap&&e.staffwidth?(E=u(b,E,M,L,e),E):(e.afterParsing&&e.afterParsing(E,M,L),c(b,E,e,M,0),z&&b.parentNode.removeChild(b),null)}return C.renderEngine(m,g,p,e)};function u(g,p,o,t,n){var e=new x(g,n),l=e.getMeasureWidths(p),m=f.calcLineWraps(p,l,n);if(m.reParse){var b=new a;b.parse(t,m.revisedParams),p=b.getTune();var E=b.getWarnings();E&&(p.warnings=E)}return n.afterParsing&&n.afterParsing(p,o,t),c(g,p,m.revisedParams,o,0),p.explanation=m.explanation,p}R.exports=d},1135:function(R,$,k){var C=k(1093),w=k(1171),x=k(1189),a=k(1191),f=k(1192),r=k(1193),h=k(1194),c=k(1195),d=k(1196),u=k(1197),g=k(1205),p=k(1206),o=k(1207),t=k(1208),n=k(1128),e=k(1227),l=function(E,M){M=M||{},this.findSelectableElement=e,this.oneSvgPerLine=M.oneSvgPerLine,this.selectionColor=M.selectionColor,this.dragColor=M.dragColor?M.dragColor:M.selectionColor,this.dragging=!!M.dragging,this.selectTypes=M.selectTypes,this.responsive=M.responsive,this.space=3*C.SPACE,this.initialClef=M.initialClef,this.timeBasedLayout=M.timeBasedLayout,this.expandToWidest=!!M.expandToWidest,this.scale=M.scale?parseFloat(M.scale):0,this.classes=new g({shouldAddClasses:M.add_classes}),this.scale>.1||(this.scale=void 0),M.staffwidth?(this.staffwidthScreen=M.staffwidth,this.staffwidthPrint=M.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],M.clickListener&&this.addSelectListener(M.clickListener),this.renderer=new x(E),this.renderer.setPaddingOverride(M),M.showDebug&&(this.renderer.showDebug=M.showDebug),M.jazzchords&&(this.jazzchords=M.jazzchords),M.accentAbove&&(this.accentAbove=M.accentAbove),M.germanAlphabet&&(this.germanAlphabet=M.germanAlphabet),M.lineThickness&&(this.lineThickness=M.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=M.foregroundColor?M.foregroundColor:"currentColor",M.ariaLabel!==void 0&&(this.renderer.ariaLabel=M.ariaLabel),this.renderer.minPadding=M.minPadding?M.minPadding:0,this.reset()};l.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},l.prototype.engraveABC=function(E,M,L){E[0]===void 0&&(E=[E]),this.reset();for(var z=0;z<E.length;z++)M===void 0&&(M=z),this.getFontAndAttr=new p(E[z].formatting,this.classes),this.getTextSize=new o(this.getFontAndAttr,this.renderer.paper),this.engraveTune(E[z],M,L)},l.prototype.adjustNonScaledItems=function(E){this.width/=E,this.renderer.adjustNonScaledItems(E)},l.prototype.getMeasureWidths=function(E){this.reset(),this.getFontAndAttr=new p(E.formatting,this.classes),this.getTextSize=new o(this.getFontAndAttr,this.renderer.paper);var M=this.jazzchords;this.setupTune(E,0),this.constructTuneElements(E),u(this.renderer,E,0,this.space,this.timeBasedLayout);for(var L=[],z,G=!0,T=0;T<E.lines.length;T++){var P=E.lines[T];if(P.staff){if(G&&(z={left:0,measureWidths:[],total:0},L.push(z),G=!1),P.staffGroup.voices.length>0)for(var O=P.staffGroup.voices[0],H=!1,D=0,F=0;F<O.children.length;F++){var N=O.children[F];!H&&!N.isClef&&!N.isKeySig&&(H=!0,z.left=N.x,D=N.x),N.type==="bar"&&(z.measureWidths.push(N.x-D),z.total+=N.x-D,D=N.x)}}else G=!0}return this.jazzchords=M,L},l.prototype.setupTune=function(E,M){this.classes.reset(),E.formatting.jazzchords!==void 0&&(this.jazzchords=E.formatting.jazzchords),E.formatting.accentAbove!==void 0&&(this.accentAbove=E.formatting.accentAbove),this.renderer.newTune(E),this.engraver=new w(this.getTextSize,M,{bagpipes:E.formatting.bagpipes,flatbeams:E.formatting.flatbeams,graceSlurs:E.formatting.graceSlurs!==!1,percmap:E.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=E.getMeterFraction().num/E.getMeterFraction().den,E.formatting.staffwidth?this.width=E.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var L=E.formatting.scale?E.formatting.scale:this.scale;return this.responsive==="resize"&&(L=void 0),L===void 0&&(L=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(L),L},l.prototype.constructTuneElements=function(E){E.topText=new h(E.metaText,E.metaTextInfo,E.formatting,E.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var M,L,z=!1,G=!1;for(M=0;M<E.lines.length;M++)if(L=E.lines[M],L.staff)G=!0,L.staffGroup=this.engraver.createABCLine(L.staff,z?null:E.metaText.tempo,M),z=!0;else if(L.subtitle){if(G){var T=this.width/2+this.renderer.padding.left;L.nonMusic=new r(this.renderer.spacing.subtitle,E.formatting,L.subtitle,T,this.renderer.padding.left,this.getTextSize)}}else L.text!==void 0?(G=!0,L.nonMusic=new a(L.text,L.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):L.separator!==void 0&&L.separator.lineLength&&(G=!0,L.nonMusic=new f(L.separator.spaceAbove,L.separator.lineLength,L.separator.spaceBelow));E.bottomText=new c(E.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)},l.prototype.engraveTune=function(E,M,L){var z=this.jazzchords,G=this.setupTune(E,M);this.constructTuneElements(E);var T=u(this.renderer,E,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&T>this.width+1&&(E.topText=new h(E.metaText,E.metaTextInfo,E.formatting,E.lines,T,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),E.lines&&E.lines.length>0))for(var P=E.lines.length,O=0;O<P;++O){var H=E.lines[O];if(H.nonMusic&&H.nonMusic.rows&&H.nonMusic.rows.length>0)for(var D=H.nonMusic.rows.length,F=0;F<D;++F){var N=H.nonMusic.rows[F];N.left&&(H.subtitle?N.left=T/2+this.renderer.padding.left:H.text&&H.text.length>0&&H.text[0].center&&(N.left=T/2+this.renderer.padding.left))}}E.tablatures&&n.layoutTablatures(this.renderer,E);var B=t(this.renderer,this.classes,E,this.width,T,this.responsive,G,this.selectTypes,M,L);if(this.staffgroups=B.staffgroups,this.selectables=B.selectables,this.oneSvgPerLine){var I=this.renderer.paper.svg.parentNode;this.svgs=m(this.renderer,I,E.metaText.title,this.responsive,G)}else this.svgs=[this.renderer.paper.svg];d(this,this.svgs),this.jazzchords=z};function m(E,M,L,z,G){L||(L="Untitled");var T=M.querySelector("svg");z==="resize"&&(M.style.paddingBottom="");for(var P=T.querySelector("style"),O=z==="resize"?T.viewBox.baseVal.width:T.getAttribute("width"),H=M.querySelectorAll("svg > g"),D=0,F=[],N=[],B=0;B<H.length;B++){var I=H[B],W=I.getBBox(),X=W.y-D,y=W.height+X,S=document.createElement("div"),A="overflow: hidden;";z!=="resize"&&(A+="height:"+y*G+"px;"),S.setAttribute("style",A);var Y=b(T),U='Sheet Music for "'+L+'" section '+(B+1);Y.setAttribute("aria-label",U),z!=="resize"&&Y.setAttribute("height",y),z==="resize"&&(Y.style.position="");var V=E.firefox112?y+1:y;Y.setAttribute("viewBox","0 "+D+" "+O+" "+V),Y.appendChild(P.cloneNode(!0));var K=document.createElement("title");K.innerText=U,Y.appendChild(K),Y.appendChild(I),S.appendChild(Y),N.push(Y),M.appendChild(S),D=W.y+W.height}return M.removeChild(T),N}function b(E){for(var M="http://www.w3.org/2000/svg",L=document.createElementNS(M,"svg"),z=0;z<E.attributes.length;z++){var G=E.attributes[z];G.name!=="height"&&G.name!="aria-label"&&L.setAttribute(G.name,G.value)}return L}l.prototype.getDim=function(E){if(!E.dim){var M=E.svgEl.getBBox();E.dim={left:Math.round(M.x),top:Math.round(M.y),right:Math.round(M.x+M.width),bottom:Math.round(M.y+M.height)}}return E.dim},l.prototype.addSelectListener=function(E){this.listeners[this.listeners.length]=E},R.exports=l},1136:function(R,$){var k=function(w){this.type="TieElem",this.anchor1=w.anchor1,this.anchor2=w.anchor2,w.isGrace&&(this.isGrace=!0),w.fixedY&&(this.fixedY=!0),w.stemDir&&(this.stemDir=w.stemDir),w.voiceNumber!==void 0&&(this.voiceNumber=w.voiceNumber),w.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};k.prototype.addInternalNote=function(C){this.internalNotes.push(C)},k.prototype.setEndAnchor=function(C){this.anchor2=C,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},k.prototype.setStartX=function(C){this.startLimitX=C},k.prototype.setEndX=function(C){this.endLimitX=C},k.prototype.setHint=function(){this.hint=!0},k.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var C;this.anchor1?C=this.anchor1.pitch:this.anchor2?C=this.anchor2.pitch:C=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=C>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=C>=6}},k.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var C=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(C=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(C=!0);for(var w=0;w<this.internalNotes.length;w++){var x=this.internalNotes[w];x.stemDir==="down"&&(C=!0)}this.above=C}},k.prototype.calcX=function(C,w){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=C,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=w},k.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},k.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var C=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,w=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!C&&w<this.startY?(this.endY=w,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&C?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var x=!!this.anchor1.parent.beam,a=!!this.anchor2.parent.beam;if(x){var f=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];f||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(a){var r=this.anchor2.parent===this.anchor2.parent.beam.elems[0];r||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},k.prototype.avoidCollisionAbove=function(){if(this.above){for(var C=-50,w=0;w<this.internalNotes.length;w++)this.internalNotes[w].highestVert>C&&(C=this.internalNotes[w].highestVert);C>this.startY&&C>this.endY&&(this.startY=this.endY=C-1)}},k.prototype.getYBounds=function(){var C=10,w=1e3;this.isTie?(this.calcTieDirection(),this.calcX(C,w),this.calcTieY()):(this.calcSlurDirection(),this.calcX(C,w),this.calcSlurY());var x,a;return this.above?(a=Math.min(this.startY,this.endY),x=a+3):(x=Math.min(this.startY,this.endY),a=x-3),[x,a]},R.exports=k},1137:function(R,$,k){const C=k(1110);function w(x,a,f,r,h,c,d,u){var g=u.calc("i",f,r);if(a==="")x.push({move:g.height});else{if(typeof a=="string"){C(x,{marginLeft:c,text:a,font:f,klass:r,marginTop:d.marginTop,anchor:d.anchor,absElemType:d.absElemType,info:d.info,name:h},u);return}d.marginTop&&x.push({move:d.marginTop});var p=0,o=0,t={left:c,anchor:d.anchor,phrases:[]};r&&(t.klass=r),x.push(t);for(var n=0;n<a.length;n++){var e=a[n],l=e.font?e.font:u.attr(f,r).font,m={content:e.text};l&&(m.attrs={"font-family":u.getFamily(l.face),"font-size":l.size,"font-weight":l.weight,"font-style":l.style,"font-decoration":l.decoration}),t.phrases.push(m);var b=u.calc(e.text,l,r);p=Math.max(p,b.height),e.text[e.text.length-1]===" "&&(o=g.width)}x.push({move:p})}}R.exports=w},1138:function(R,$){function k(w,x,a,f){if(w.indexOf(x)===0){var r=w.replace(x,""),h=parseInt(r,10);""+h===r&&(a[f]=h)}}function C(w,x){var a=[];if(w.absEl.elemset){for(var f={},r=0;r<w.absEl.elemset.length;r++){var h=w.absEl.elemset[r];if(h)for(var c=h.getAttribute("class").split(" "),d=0;d<c.length;d++)f[c[d]]=!0}for(var u=0;u<Object.keys(f).length;u++)a.push(Object.keys(f)[u])}for(var g={},p=0;p<a.length;p++)k(a[p],"abcjs-v",g,"voice"),k(a[p],"abcjs-l",g,"line"),k(a[p],"abcjs-m",g,"measure");w.staffPos&&(g.staffPos=w.staffPos);for(var o=x.target;o&&o.dataset&&!o.dataset.name&&o.tagName.toLowerCase()!=="svg";)o=o.parentNode;for(var t=x.target;t&&t.dataset&&!t.dataset.index&&t.tagName.toLowerCase()!=="svg";)t=t.parentNode;return t&&t.dataset&&(g.name=t.dataset.name,g.clickedName=o.dataset.name,g.parentClasses=t.classList),o&&o.classList&&(g.clickedClasses=o.classList),g.selectableElement=w.svgEl,{classes:a,analysis:g}}R.exports=C},1139:function(R,$){function k(a,f,r,h,c){var d=a.padding.left,u=0,g,p;for(g=0;g<r.length;g++)r[g].header&&(p=f.calc(r[g].header,"voicefont",""),u=Math.max(u,p.width));if(u=C(u,h,f),u=C(u,c,f),u){var o=f.calc("A","voicefont","");u+=o.width}d+=u;var t=0;return t=w(h,d,t),t=w(c,d,t),d+t}function C(a,f,r){if(f){for(var h=0;h<f.length;h++)if(f[h].header){var c=r.calc(f[h].header,"voicefont","");a=Math.max(a,c.width)}}return a}function w(a,f,r){if(a)for(var h=0;h<a.length;h++)x(f,a[h]),r=Math.max(r,a[h].getWidth());return r}function x(a,f){f.x=a}R.exports=k},1140:function(R,$,k){var C=k(1098),w=k(1097),x=k(1112);function a(r,h,c,d,u){var g,p;if(!d)return null;if(d.length>1&&d.indexOf(".")<0){var o=x.isInGroup()?"":u.klass;r.paper.openGroup({"data-name":u.name,klass:o});for(var t=0,n=0;n<d.length;n++){var e=d[n];p=w.getYCorr(e),g=w.printSymbol(h+t,r.calcY(c+p),e,r.paper,{stroke:u.stroke,fill:u.fill}),g?n<d.length-1&&(t+=f(e,d[n+1],w.getSymbolWidth(e))):C(r,{x:h,y:r.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var l=r.paper.closeGroup();return l}else return p=w.getYCorr(d),x.isInGroup()?g=w.printSymbol(h,r.calcY(c+p),d,r.paper,{"data-name":u.name}):g=w.printSymbol(h,r.calcY(c+p),d,r.paper,{klass:u.klass,stroke:u.stroke,fill:u.fill,"data-name":u.name}),g||(C(r,{x:h,y:r.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function f(r,h,c){var d=c;return r==="f"&&h==="f"&&(d=d*2/3),r==="p"&&h==="p"&&(d=d*5/6),r==="f"&&h==="z"&&(d=d*5/8),d}R.exports=a},1141:function(R,$,k){var C=k(1098),w=k(1142),x=k(1143),a=k(1140);function f(h,c,d){c.pitch===void 0&&window.console.error(c.type+" Relative Element y-coordinate not set.");var u=h.calcY(c.pitch);switch(c.type){case"symbol":if(c.c===null)return null;var g="symbol";c.klass&&(g+=" "+c.klass),c.graphelem=a(h,c.x,c.pitch,c.c,{scalex:c.scalex,scaley:c.scaley,klass:h.controller.classes.generate(g),name:c.name});break;case"debug":c.graphelem=C(h,{x:c.x,y:h.calcY(15),text:""+c.c,type:"debugfont",klass:h.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:c.dim},!1);break;case"tabNumber":var p="middle",o="tabnumberfont",t="abcjs-tab-number";c.isGrace&&(o="tabgracefont",u+=2.5,t="tab-grace"),c.graphelem=C(h,{x:c.x,y:u,text:""+c.c,type:o,klass:h.controller.classes.generate(t),anchor:p,centerVertically:!1,dim:c.dim,cursor:"default"},!1);break;case"barNumber":c.graphelem=C(h,{x:c.x,y:u,text:""+c.c,type:"measurefont",klass:h.controller.classes.generate("bar-number"),anchor:"middle",dim:c.dim,name:"bar-number"},!0);break;case"lyric":c.graphelem=C(h,{x:c.x,y:u,text:c.c,type:"vocalfont",klass:h.controller.classes.generate("lyric"),anchor:"middle",dim:c.dim,name:"lyric"},!1);break;case"chord":c.graphelem=C(h,{x:c.x,y:u,text:c.c,type:"gchordfont",klass:h.controller.classes.generate("chord"),anchor:"middle",dim:c.dim,lane:c.getLane(),name:"chord"},!1);break;case"decoration":c.graphelem=C(h,{x:c.x,y:u+6,text:c.c,type:"annotationfont",klass:h.controller.classes.generate("annotation"),anchor:c.anchor,centerVertically:!0,dim:c.dim},!1);break;case"text":c.graphelem=C(h,{x:c.x,y:u,text:c.c,type:"annotationfont",klass:h.controller.classes.generate("annotation"),anchor:"start",centerVertically:c.centerVertically,dim:c.dim,lane:c.getLane(),name:"annotation"},!1);break;case"multimeasure-text":c.graphelem=C(h,{x:c.x+c.w/2,y:u,text:c.c,type:"tempofont",klass:h.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:c.dim},!1);break;case"part":c.graphelem=C(h,{x:c.x,y:u,text:c.c,type:"partsfont",klass:h.controller.classes.generate("part"),anchor:"start",dim:c.dim,name:c.c},!0);break;case"bar":c.graphelem=w(h,c.x,c.linewidth+h.lineThickness,u,d||h.calcY(c.pitch2),null,"bar");break;case"stem":var n=c.linewidth>0?c.linewidth+h.lineThickness:c.linewidth-h.lineThickness;c.graphelem=w(h,c.x,n,u,h.calcY(c.pitch2),"abcjs-stem","stem");break;case"ledger":c.graphelem=x(h,c.x,c.x+c.w,c.pitch,"abcjs-ledger","ledger",.35+h.lineThickness);break}return c.scalex!==1&&c.graphelem&&r(h.paper,c.graphelem,c.scalex,c.scaley,c.x,u),c.graphelem}function r(h,c,d,u,g,p){h.setAttributeOnElement(c,{style:"transform:scale("+d+","+u+");transform-origin:"+g+"px "+p+"px;"})}R.exports=f},1142:function(R,$,k){var C=k(1112),w=k(1095);function x(a,f,r,h,c,d,u){if(r<0||h<c){var g=w(c);c=w(h),h=g}else h=w(h),c=w(c);f=w(f);var p=w(f+r);if(a.firefox112){f+=r/2;var t={x1:f,x2:f,y1:h,y2:c,stroke:a.foregroundColor,"stroke-width":Math.abs(r)};return d&&(t.class=d),u&&(t["data-name"]=u),a.paper.lineToBack(t)}for(var o=[["M",f,h],["L",f,c],["L",p,c],["L",p,h],["z"]],t={path:""},n=0;n<o.length;n++)t.path+=o[n].join(" ");return d&&(t.class=d),u&&(t["data-name"]=u),C.isInGroup()||(t.stroke="none",t.fill=a.foregroundColor),a.paper.pathToBack(t)}R.exports=x},1143:function(R,$,k){var C=k(1221);function w(x,a,f,r,h,c,d){var u=x.calcY(r);return C(x,a,f,u,h,c,d)}R.exports=w},1144:function(R,$,k){var C=k(1224),w=k(1098);function x(a,f,r){for(var h=0;h<f.rows.length;h++){var c=f.rows[h];if(c.absmove)a.absolutemoveY(c.absmove);else if(c.move)a.moveY(c.move);else if(c.text||c.phrases){var d=c.left?c.left:0,u=w(a,{x:d,y:a.y,text:c.text,phrases:c.phrases,"dominant-baseline":c["dominant-baseline"],type:c.font,klass:c.klass,name:c.name,anchor:c.anchor});c.absElemType&&r.wrapSvgEl({el_type:c.absElemType,name:c.name,startChar:c.startChar,endChar:c.endChar,text:c.text},u)}else if(c.separator)C(a,c.separator);else if(c.startGroup)a.paper.openGroup({klass:c.klass,"data-name":c.name});else if(c.endGroup){var g=a.paper.closeGroup();c.absElemType&&r.wrapSvgEl({el_type:c.absElemType,name:c.name,startChar:c.startChar,endChar:c.endChar,text:""},g)}}}R.exports=x},1145:function(R,$){function k(C){return Math.pow(2,C/1200)}R.exports=k},1146:function(R,$){var k=function(){var C=this;C.tracks=[],C.totalDuration=0,C.currentInstrument=[],C.starts=[],C.addTrack=function(){return C.tracks.push([]),C.currentInstrument.push(0),C.starts.push(0),C.tracks.length-1},C.setInstrument=function(w,x){C.tracks[w].push({channel:0,cmd:"program",instrument:x}),C.currentInstrument[w]=x},C.appendNote=function(w,x,a,f,r){var h={cmd:"note",duration:a,gap:0,instrument:C.currentInstrument[w],pitch:x,start:C.starts[w],volume:f};r&&(h.cents=r),C.tracks[w].push(h),C.starts[w]+=a,C.totalDuration=Math.max(C.totalDuration,C.starts[w])}};R.exports=k},1147:function(R,$,k){var C=k(1105),w=k(1104),x=k(1101),a=k(1233),f=k(1234),r=k(1235),h=k(1236),c=k(1237);function d(t,n){var e=this;if(typeof t=="string"){var l=t;if(t=document.querySelector(l),!t)throw new Error('Cannot find element "'+l+'" in the DOM.')}else if(!(t instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(e.parent=t,e.options={},n&&(e.options=Object.assign({},n)),e.options.ac&&w(e.options.ac),u(e.parent,e.options),o(e),e.disable=function(b){var E=e.parent.querySelector(".abcjs-inline-audio");b?E.classList.add("abcjs-disabled"):E.classList.remove("abcjs-disabled")},e.setWarp=function(b,E){var M=e.parent.querySelector(".abcjs-midi-tempo");M.value=Math.round(E),e.setTempo(b)},e.setTempo=function(b){var E=e.parent.querySelector(".abcjs-midi-current-tempo");E&&(E.innerHTML=Math.round(b))},e.resetAll=function(){for(var b=e.parent.querySelectorAll(".abcjs-pushed"),E=0;E<b.length;E++){var M=b[E];M.classList.remove("abcjs-pushed")}},e.pushPlay=function(b){var E=e.parent.querySelector(".abcjs-midi-start");E&&(b?E.classList.add("abcjs-pushed"):E.classList.remove("abcjs-pushed"))},e.pushLoop=function(b){var E=e.parent.querySelector(".abcjs-midi-loop");E&&(b?E.classList.add("abcjs-pushed"):E.classList.remove("abcjs-pushed"))},e.setProgress=function(b,E){var M=e.parent.querySelector(".abcjs-midi-progress-background"),L=e.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!M||!L)){var z=M.clientWidth,G=z*b;L.style.left=G+"px";var T=e.parent.querySelector(".abcjs-midi-clock");if(T){var P=E*b/1e3,O=Math.floor(P/60),H=Math.floor(P%60),D=H<10?"0"+H:H;T.innerHTML=O+":"+D}}},e.options.afterResume){var m=!1;e.options.ac?m=e.options.ac.state!=="suspended":x()&&(m=x().state!=="suspended"),m&&e.options.afterResume()}}function u(t,n){var e=!!n.loopHandler,l=!!n.restartHandler,m=!!n.playHandler||!!n.playPromiseHandler,b=!!n.progressHandler,E=!!n.warpHandler,M=n.hasClock!==!1,L=`<div class="abcjs-inline-audio">
`;if(e){var z=n.repeatTitle?n.repeatTitle:"Click to toggle play once/repeat.",G=n.repeatAria?n.repeatAria:z;L+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+z+'" aria-label="'+G+'">'+a+`</button>
`}if(l){var T=n.restartTitle?n.restartTitle:"Click to go to beginning.",P=n.restartAria?n.restartAria:T;L+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+T+'" aria-label="'+P+'">'+c+`</button>
`}if(m){var O=n.playTitle?n.playTitle:"Click to play/pause.",H=n.playAria?n.playAria:O;L+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+O+'" aria-label="'+H+'">'+f+r+h+`</button>
`}if(b){var D=n.randomTitle?n.randomTitle:"Click to change the playback position.",F=n.randomAria?n.randomAria:D;L+='<button type="button" class="abcjs-midi-progress-background" title="'+D+'" aria-label="'+F+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(M&&(L+=`<span class="abcjs-midi-clock"></span>
`),E){var N=n.warpTitle?n.warpTitle:"Change the playback speed.",B=n.warpAria?n.warpAria:N,I=n.bpm?n.bpm:"BPM";L+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+N+'" aria-label="'+B+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+I+`)</span></span>
`}L+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',L+=`</div>
`,t.innerHTML=L}function g(t,n,e,l,m){var b=!0;if(x()?b=x().state==="suspended":w(),!C())throw{status:"NotSupported",message:"This browser does not support audio."};(b||m)&&e&&e.classList.add("abcjs-loading"),b?x().resume().then(function(){l?l().then(function(E){p(t,n,e,m)}):p(t,n,e,m)}):p(t,n,e,m)}function p(t,n,e,l){l?t(n).then(function(){e&&e.classList.remove("abcjs-loading")}):(t(n),e&&e.classList.remove("abcjs-loading"))}function o(t){var n=!!t.options.loopHandler,e=!!t.options.restartHandler,l=!!t.options.playHandler||!!t.options.playPromiseHandler,m=!!t.options.progressHandler,b=!!t.options.warpHandler,E=t.parent.querySelector(".abcjs-midi-start");n&&t.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(M){g(t.options.loopHandler,M,E,t.options.afterResume)}),e&&t.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(M){g(t.options.restartHandler,M,E,t.options.afterResume)}),l&&E.addEventListener("click",function(M){g(t.options.playPromiseHandler||t.options.playHandler,M,E,t.options.afterResume,!!t.options.playPromiseHandler)}),m&&t.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(M){g(t.options.progressHandler,M,E,t.options.afterResume)}),b&&t.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(M){g(t.options.warpHandler,M,E,t.options.afterResume)})}R.exports=d},1148:function(R,$,k){var C=k(1147),w=k(1113),x=k(1106),a=k(1101);function f(){var r=this;r.warp=100,r.cursorControl=null,r.visualObj=null,r.timer=null,r.midiBuffer=null,r.options=null,r.currentTempo=null,r.control=null,r.isLooping=!1,r.isStarted=!1,r.isLoaded=!1,r.isLoading=!1,r.load=function(c,d,u){u||(u={}),u.displayPlay===void 0&&(u.displayPlay=!0),u.displayProgress===void 0&&(u.displayProgress=!0),r.control=new C(c,{loopHandler:u.displayLoop?r.toggleLoop:void 0,restartHandler:u.displayRestart?r.restart:void 0,playPromiseHandler:u.displayPlay?r.play:void 0,progressHandler:u.displayProgress?r.randomAccess:void 0,warpHandler:u.displayWarp?r.onWarp:void 0,afterResume:r.init}),r.cursorControl=d,r.disable(!0)},r.disable=function(c){r.control&&r.control.disable(c)},r.setTune=function(c,d,u){return r.visualObj=c,r.disable(!1),r.options=u||{},r.control&&(r.pause(),r.setProgress(0,1),r.control.resetAll(),r.restart(),r.isStarted=!1),r.isLooping=!1,d?r.go():Promise.resolve({status:"no-audio-context"})},r.go=function(){r.isLoading=!0;var c=r.visualObj.millisecondsPerMeasure()*100/r.warp;r.currentTempo=Math.round(r.visualObj.getBeatsPerMeasure()/c*6e4),r.control&&r.control.setTempo(r.currentTempo),r.percent=0;var d;return r.midiBuffer||(r.midiBuffer=new w),a().resume().then(function(u){return r.midiBuffer.init({visualObj:r.visualObj,options:r.options,millisecondsPerMeasure:c})}).then(function(u){return d=u,r.midiBuffer.prime()}).then(function(){var u=16;return r.cursorControl&&r.cursorControl.beatSubdivisions!==void 0&&parseInt(r.cursorControl.beatSubdivisions,10)>=1&&parseInt(r.cursorControl.beatSubdivisions,10)<=64&&(u=parseInt(r.cursorControl.beatSubdivisions,10)),r.timer=new x(r.visualObj,{beatCallback:r.beatCallback,eventCallback:r.eventCallback,lineEndCallback:r.lineEndCallback,qpm:r.currentTempo,extraMeasuresAtBeginning:r.cursorControl?r.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:r.cursorControl?r.cursorControl.lineEndAnticipation:0,beatSubdivisions:u}),r.cursorControl&&r.cursorControl.onReady&&typeof r.cursorControl.onReady=="function"&&r.cursorControl.onReady(r),r.isLoaded=!0,r.isLoading=!1,Promise.resolve({status:"created",notesStatus:d})})},r.destroy=function(){r.timer&&(r.timer.reset(),r.timer.stop(),r.timer=null),r.midiBuffer&&(r.midiBuffer.stop(),r.midiBuffer=null),r.setProgress(0,1),r.control&&r.control.resetAll()},r.play=function(){return r.runWhenReady(r._play,void 0)};function h(c){return new Promise(function(d){setTimeout(d,c)})}r.runWhenReady=function(c,d){return r.visualObj?r.isLoading?h(500).then(function(){return r.isLoading?r.runWhenReady(c,d):c(d)}):r.isLoaded?c(d):r.go().then(function(){return c(d)}):Promise.resolve({status:"loading"})},r._play=function(){return a().resume().then(function(){return r.isStarted=!r.isStarted,r.isStarted?(r.cursorControl&&r.cursorControl.onStart&&typeof r.cursorControl.onStart=="function"&&r.cursorControl.onStart(),r.midiBuffer.start(),r.timer.start(r.percent),r.control&&r.control.pushPlay(!0)):r.pause(),Promise.resolve({status:"ok"})})},r.pause=function(){r.timer&&(r.timer.pause(),r.midiBuffer.pause(),r.control&&r.control.pushPlay(!1))},r.toggleLoop=function(){r.isLooping=!r.isLooping,r.control&&r.control.pushLoop(r.isLooping)},r.restart=function(){r.timer&&(r.timer.setProgress(0),r.midiBuffer.seek(0))},r.randomAccess=function(c){return r.runWhenReady(r._randomAccess,c)},r._randomAccess=function(c){var d=c.target.classList.contains("abcjs-midi-progress-indicator")?c.target.parentNode:c.target,u=(c.x-d.getBoundingClientRect().left)/d.offsetWidth;return u<0&&(u=0),u>1&&(u=1),r.seek(u),Promise.resolve({status:"ok"})},r.seek=function(c,d){r.timer&&r.midiBuffer&&(r.timer.setProgress(c,d),r.midiBuffer.seek(c,d))},r.setWarp=function(c){if(parseInt(c,10)>0){r.warp=parseInt(c,10);var d=r.isStarted,u=r.percent;return r.destroy(),r.isStarted=!1,r.go().then(function(){return r.setProgress(u,r.midiBuffer.duration*1e3),r.control&&r.control.setWarp(r.currentTempo,r.warp),d?r.play().then(function(){return r.seek(u),Promise.resolve()}):(r.seek(u),Promise.resolve())})}return Promise.resolve()},r.onWarp=function(c){var d=c.target.value;return r.setWarp(d)},r.setProgress=function(c,d){r.percent=c,r.control&&r.control.setProgress(c,d)},r.finished=function(){if(r.timer.reset(),r.isLooping)return r.timer.start(0),r.midiBuffer.finished(),r.midiBuffer.start(),"continue";r.timer.stop(),r.isStarted&&(r.control&&r.control.pushPlay(!1),r.isStarted=!1,r.midiBuffer.finished(),r.cursorControl&&r.cursorControl.onFinished&&typeof r.cursorControl.onFinished=="function"&&r.cursorControl.onFinished(),r.setProgress(0,1))},r.beatCallback=function(c,d,u,g){var p=c/d;r.setProgress(p,u),r.cursorControl&&r.cursorControl.onBeat&&typeof r.cursorControl.onBeat=="function"&&r.cursorControl.onBeat(c,d,u,g)},r.eventCallback=function(c){if(c)r.cursorControl&&r.cursorControl.onEvent&&typeof r.cursorControl.onEvent=="function"&&r.cursorControl.onEvent(c);else return r.finished()},r.lineEndCallback=function(c,d){r.cursorControl&&r.cursorControl.onLineEnd&&typeof r.cursorControl.onLineEnd=="function"&&r.cursorControl.onLineEnd(c,d)},r.getUrl=function(){return r.midiBuffer.download()},r.download=function(c){var d=r.getUrl(),u=document.createElement("a");document.body.appendChild(u),u.setAttribute("style","display: none;"),u.href=d,u.download=c||"output.wav",u.click(),window.URL.revokeObjectURL(d),document.body.removeChild(u)}}R.exports=f},1149:function(R,$,k){var C=k(1145),w;(function(){"use strict";function x(o,t){for(var n in t)t.hasOwnProperty(n)&&o.setAttribute(n,t[n]);return o}function a(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}a.prototype.setTempo=function(o){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+u(Math.round(6e7/o),6),this.endTrack())},a.prototype.setGlobalInfo=function(o,t,n,e){if(this.trackcount===0){this.startTrack();var l=Math.round(6e7/o);this.track+="%00%FF%51%03"+u(l,6),n&&(this.track+=h(n)),e&&(this.track+=c(e)),t&&(this.track+=r(t,"%01")),this.endTrack()}},a.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},a.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var o=u(this.track.length/3+4,8);this.track="MTrk"+o+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},a.prototype.setText=function(o,t){switch(o){case"name":this.trackName=r(t,"%03");break}},a.prototype.setInstrument=function(o){this.trackInstrument="%00%C0"+u(o,2),this.instrument=o},a.prototype.setChannel=function(o,t){this.channel=o;var n="%00%B"+this.channel.toString(16);this.track+=n+"%79%00",this.track+=n+"%40%00",this.track+=n+"%5B%30",t||(t=0),t=Math.round((t+1)*64),this.track+=n+"%0A"+u(t,2),this.track+=n+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var f=4096;a.prototype.startNote=function(o,t,n){if(this.track+=p(this.silencelength),this.silencelength=0,n){this.track+="%e"+this.channel.toString(16);var e=Math.round(C(n)*f);this.track+=g(8192+e),this.track+=p(0),this.noteWarped[o]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+o.toString(16)+u(t,2)},a.prototype.endNote=function(o){this.track+=p(this.silencelength),this.silencelength=0,this.noteWarped[o]&&(this.track+="%e"+this.channel.toString(16),this.track+=g(8192),this.track+=p(0),this.noteWarped[o]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+o.toString(16)+"%00"},a.prototype.addRest=function(o){this.silencelength+=o,this.silencelength<0&&(this.silencelength=0)},a.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+u(this.trackcount,4)+"%01%e0"+this.trackstrings},a.prototype.embed=function(o,t){var n=this.getData(),e=x(document.createElement("a"),{href:n});if(e.innerHTML="download midi",o.insertBefore(e,o.firstChild),!t){var l=x(document.createElement("embed"),{src:n,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});o.insertBefore(l,o.firstChild)}};function r(o,t){for(var n="",e=0;e<o.length;e++)n+=u(o.charCodeAt(e),2);return"%00%FF"+t+u(n.length/3,2)+n}function h(o){if(!o||!o.accidentals)return"";for(var t="%00%FF%59%02",n=0,e=256,l=0;l<o.accidentals.length;l++)o.accidentals[l].acc==="sharp"?n++:o.accidentals[l].acc==="flat"&&e--;var m=u(e!==256?e:n,2),b=o.mode==="m"?"%01":"%00";return t+m+b}function c(o){var t="%00%FF%58%04"+u(o.num,2),n={1:0,2:1,4:2,8:3,16:4,32:5},e=n[o.den];if(!e)return"";t+=u(e,2);var l;switch(o.num+"/"+o.den){case"2/4":case"3/4":case"4/4":case"5/4":l=24;break;case"6/4":l=72;break;case"2/2":case"3/2":case"4/2":l=48;break;case"3/8":case"6/8":case"9/8":case"12/8":l=36;break}return l?(t+=u(l,2),t+"%08"):""}function d(o){for(var t="",n=0;n<o.length;n+=2)t+="%",t+=o.substr(n,2);return t}function u(o,t){var n=o.toString(16);for(n=n.split(".")[0];n.length<t;)n="0"+n;return n.length>t&&(n=n.substring(0,t)),d(n)}function g(o){o=Math.round(o);var t=o%128,n=o-t;return u(n*2+t,4)}function p(o){var t=0,n=[];for(o=Math.round(o);o!==0;)n.push(o&127),o=o>>7;for(var e=n.length-1;e>=0;e--){t=t<<8;var l=n[e];e!==0&&(l=l|128),t=t|l}var m=t.toString(16).length;return m+=m%2,u(t,m)}w=function(){return new a}})(),R.exports=w},1150:function(R,$){try{if(typeof window.CustomEvent!="function"){var k=function(w,x){x=x||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(w,x.bubbles,x.cancelable,x.detail),a};k.prototype=window.Event.prototype,window.CustomEvent=k}}catch(w){}var C=function(w){typeof w=="string"?this.textarea=document.getElementById(w):this.textarea=w,this.initialText=this.textarea.value,this.isDragging=!1};C.prototype.addSelectionListener=function(w){this.textarea.onmousemove=function(x){this.isDragging&&w.fireSelectionChanged()}},C.prototype.addChangeListener=function(w){this.changelistener=w,this.textarea.onkeyup=function(){w.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,w.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,w.fireChanged()},this.textarea.onchange=function(){w.fireChanged()}},C.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},C.prototype.setSelection=function(w,x){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(w,x);else if(this.textarea.createTextRange){var a=this.textarea.createTextRange();a.collapse(!0),a.moveEnd("character",x),a.moveStart("character",w),a.select()}this.textarea.focus()},C.prototype.getString=function(){return this.textarea.value},C.prototype.setString=function(w){this.textarea.value=w,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},C.prototype.getElem=function(){return this.textarea},R.exports=C},1152:function(R,$){var k="6.4.4";R.exports=k},1153:function(R,$,k){var C=k(1106),w={};(function(){"use strict";var x,a;w.startAnimation=function(f,r,h){x&&(x.stop(),x=void 0),h.showCursor&&(a=f.querySelector(".abcjs-cursor"),a||(a=document.createElement("DIV"),a.className="abcjs-cursor cursor",a.style.position="absolute",f.appendChild(a),f.style.position="relative"));function c(n){for(var e=0;e<n.length;e++){var l=n[e];l.classList.contains("abcjs-bar")||(l.style.display="none")}}var d;function u(n){if(d){var e=f.querySelectorAll(d);c(e)}d=n}function g(n){var e=f.querySelectorAll(n);c(e)}function p(n){h.hideCurrentMeasure?g(n):h.hideFinishedMeasures&&u(n)}function o(n){return".abcjs-l"+n.line+".abcjs-m"+n.measureNumber}function t(n){if(n){if(n.measureStart){var e=o(n);e&&p(e)}a&&(a.style.left=n.left+"px",a.style.top=n.top+"px",a.style.width=n.width+"px",a.style.height=n.height+"px")}else x.stop(),x=void 0}x=new C(r,{qpm:h.bpm,eventCallback:t}),x.start()},w.pauseAnimation=function(f){x&&(f?x.pause():x.start())},w.stopAnimation=function(){x&&(x.stop(),x=void 0)}})(),R.exports=w},1154:function(R,$,k){var C=k(1096),w=k(1107),x=k(1108),a=function(f,r,h,c,d){this.reset=function(p,o,t,n){x.initialize(p,o,t,n,d),w.initialize(p,o,t,n,d)},this.reset(f,r,h,c),this.setTitle=function(p,o){h.hasMainTitle?d.addSubtitle(p,{startChar:h.iChar,endChar:h.iChar+o+2}):(d.addMetaText("title",p,{startChar:h.iChar,endChar:h.iChar+o+2}),h.hasMainTitle=!0)},this.setMeter=function(p){if(p=f.stripComment(p),p==="C")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"common_time"};if(p==="C|")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"cut_time"};if(p==="o")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"tempus_perfectum"};if(p==="c")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"tempus_imperfectum"};if(p==="o.")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(p==="c.")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(p.length===0||p.toLowerCase()==="none")return h.havent_set_length===!0&&(h.default_length=.125,h.havent_set_length=!1),null;var o=f.tokenize(p,0,p.length);try{var t=function(){var E={value:0,num:""},M=o.shift();for(M.token==="("&&(M=o.shift());;){if(M.type!=="number")throw"Expected top number of meter";if(E.value+=parseInt(M.token),E.num+=M.token,o.length===0||o[0].token==="/")return E;if(M=o.shift(),M.token===")"){if(o.length===0||o[0].token==="/")return E;throw"Unexpected paren in meter"}if(M.token!=="."&&M.token!=="+"||(E.num+=M.token,o.length===0))throw"Expected top number of meter";M=o.shift()}return E},n=function(){var E=t();if(o.length===0)return E;var M=o.shift();if(M.token!=="/")throw"Expected slash in meter";if(M=o.shift(),M.type!=="number")throw"Expected bottom number of meter";return E.den=M.token,E.value=E.value/parseInt(E.den),E};if(o.length===0)throw"Expected meter definition in M: line";for(var e={type:"specified",value:[]},l=0;;){var m=n();l+=m.value;var b={num:m.num};if(m.den!==void 0&&(b.den=m.den),e.value.push(b),o.length===0)break}return h.havent_set_length===!0&&(h.default_length=l<.75?.0625:.125,h.havent_set_length=!1),e}catch(E){r(E,p,0)}return null},this.calcTempo=function(p){var o=.25;h.meter&&h.meter.type==="specified"?o=1/parseInt(h.meter.value[0].den):h.origMeter&&h.origMeter.type==="specified"&&(o=1/parseInt(h.origMeter.value[0].den));for(var t=0;t<p.duration;t++)p.duration[t]=o*p.duration[t];return p},this.resolveTempo=function(){h.tempo&&(this.calcTempo(h.tempo),c.metaText.tempo=h.tempo,delete h.tempo)},this.addUserDefinition=function(p,o,t){var n=p.indexOf("=",o);if(n===-1){r("Need an = in a macro definition",p,o);return}var e=C.strip(p.substring(o,n)),l=C.strip(p.substring(n+1));if(e.length!==1){r("Macro definitions can only be one character",p,o);return}var m="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(m.indexOf(e)===-1){r("Macro definitions must be H-Y, h-w, or tilde",p,o);return}if(l.length===0){r("Missing macro definition",p,o);return}h.macros===void 0&&(h.macros={}),h.macros[e]=l},this.setDefaultLength=function(p,o,t){var n=p.substring(o,t).replace(/ /g,""),e=n.split("/");if(e.length===2){var l=parseInt(e[0]),m=parseInt(e[1]);m>0&&(h.default_length=l/m,h.havent_set_length=!1)}else e.length===1&&e[0]==="1"&&(h.default_length=1,h.havent_set_length=!1)};var u={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(p,o,t,n){try{var e=f.tokenize(p,o,t);if(e.length===0)throw"Missing parameter in Q: field";var l={startChar:n+o-2,endChar:n+t},m=!0,b=e.shift();if(b.type==="quote"&&(l.preString=b.token,b=e.shift(),e.length===0))return u[l.preString.toLowerCase()]&&(l.bpm=u[l.preString.toLowerCase()],l.suppressBpm=!0),{type:"immediate",tempo:l};if(b.type==="alpha"&&b.token==="C"){if(e.length===0)throw"Missing tempo after C in Q: field";if(b=e.shift(),b.type==="punct"&&b.token==="="){if(e.length===0)throw"Missing tempo after = in Q: field";if(b=e.shift(),b.type!=="number")throw"Expected number after = in Q: field";l.duration=[1],l.bpm=parseInt(b.token)}else if(b.type==="number"){if(l.duration=[parseInt(b.token)],e.length===0)throw"Missing = after duration in Q: field";if(b=e.shift(),b.type!=="punct"||b.token!=="=")throw"Expected = after duration in Q: field";if(e.length===0)throw"Missing tempo after = in Q: field";if(b=e.shift(),b.type!=="number")throw"Expected number after = in Q: field";l.bpm=parseInt(b.token)}else throw"Expected number or equal after C in Q: field"}else if(b.type==="number"){var E=parseInt(b.token);if(e.length===0||e[0].type==="quote")l.duration=[1],l.bpm=E;else{if(m=!1,b=e.shift(),b.type!=="punct"&&b.token!=="/"||(b=e.shift(),b.type!=="number"))throw"Expected fraction in Q: field";var M=parseInt(b.token);for(l.duration=[E/M];e.length>0&&e[0].token!=="="&&e[0].type!=="quote";){if(b=e.shift(),b.type!=="number"||(E=parseInt(b.token),b=e.shift(),b.type!=="punct"&&b.token!=="/")||(b=e.shift(),b.type!=="number"))throw"Expected fraction in Q: field";M=parseInt(b.token),l.duration.push(E/M)}if(b=e.shift(),b.type!=="punct"&&b.token!=="=")throw"Expected = in Q: field";if(b=e.shift(),b.type!=="number")throw"Expected tempo in Q: field";l.bpm=parseInt(b.token)}}else throw"Unknown value in Q: field";if(e.length!==0&&(b=e.shift(),b.type==="quote"&&(l.postString=b.token,b=e.shift()),e.length!==0))throw"Unexpected string at end of Q: field";return h.printTempo===!1&&(l.suppress=!0),{type:m?"delaySet":"immediate",tempo:l}}catch(L){return r(L,p,o),{type:"none"}}},this.letter_to_inline_header=function(p,o,t){var n=!1,e=f.eatWhiteSpace(p,o);if(o+=e,p.length>=o+5&&p[o]==="["&&p[o+2]===":"){var l=p.indexOf("]",o),m=h.iChar+o,b=h.iChar+l+1;switch(p.substring(o,o+3)){case"[I:":var E=w.addDirective(p.substring(o+3,l));return E&&r(E,p,o),[l-o+1+e];case"[M:":var M=this.setMeter(p.substring(o+3,l));return d.hasBeginMusic()&&M?d.appendStartingElement("meter",m,b,M):h.meter=M,[l-o+1+e];case"[K:":var L=x.parseKey(p.substring(o+3,l),!0);return L.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",m,b,h.clef),L.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",m,b,x.fixKey(h.clef,h.key)),[l-o+1+e];case"[P:":var z=w.parseFontChangeLine(p.substring(o+3,l));return t||c.lines.length<=c.lineNum?h.partForNextLine={title:z,startChar:m,endChar:b}:d.appendElement("part",m,b,{title:z}),[l-o+1+e];case"[L:":return this.setDefaultLength(p,o+3,l),[l-o+1+e];case"[Q:":if(l>0){var G=this.setTempo(p,o+3,l,h.iChar);return G.type==="delaySet"?d.hasBeginMusic()?d.appendElement("tempo",m,b,this.calcTempo(G.tempo)):h.tempoForNextLine=["tempo",m,b,this.calcTempo(G.tempo)]:G.type==="immediate"&&(!t&&d.hasBeginMusic()?d.appendElement("tempo",m,b,G.tempo):h.tempoForNextLine=["tempo",m,b,G.tempo]),[l-o+1+e,p[o+1],p.substring(o+3,l)]}break;case"[V:":if(l>0)return n=x.parseVoice(p,o+3,l),[l-o+1+e,p[o+1],p.substring(o+3,l),n];break;case"[r:":return[l-o+1+e];default:}}return[0]},this.letter_to_body_header=function(p,o){var t=!1;if(p.length>=o+3)switch(p.substring(o,o+2)){case"I:":var n=w.addDirective(p.substring(o+2));return n&&r(n,p,o),[p.length];case"M:":var e=this.setMeter(p.substring(o+2));return d.hasBeginMusic()&&e&&d.appendStartingElement("meter",h.iChar+o,h.iChar+p.length,e),[p.length];case"K:":var l=x.parseKey(p.substring(o+2),d.hasBeginMusic());return l.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",h.iChar+o,h.iChar+p.length,h.clef),l.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",h.iChar+o,h.iChar+p.length,x.fixKey(h.clef,h.key)),[p.length];case"P:":return d.hasBeginMusic()&&d.appendElement("part",h.iChar+o,h.iChar+p.length,{title:p.substring(o+2)}),[p.length];case"L:":return this.setDefaultLength(p,o+2,p.length),[p.length];case"Q:":var m=p.indexOf("",o+2);m===-1&&(m=p.length);var b=this.setTempo(p,o+2,m,h.iChar);return b.type==="delaySet"?d.appendElement("tempo",h.iChar+o,h.iChar+p.length,this.calcTempo(b.tempo)):b.type==="immediate"&&d.appendElement("tempo",h.iChar+o,h.iChar+p.length,b.tempo),[m,p[o],C.strip(p.substring(o+2))];case"V:":return t=x.parseVoice(p,o+2,p.length),[p.length,p[o],C.strip(p.substring(o+2)),t];default:}return[0]};var g={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(p){var o=g[p[0]],t=p.length-2,n=f.translateString(f.stripComment(p.substring(2)));if(o==="unalignedWords"||o==="notes")d.addMetaTextArray(o,w.parseFontChangeLine(n),{startChar:h.iChar,endChar:h.iChar+p.length});else if(o!==void 0)d.addMetaText(o,w.parseFontChangeLine(n),{startChar:h.iChar,endChar:h.iChar+p.length});else{var e=h.iChar,l=e+p.length;switch(p[0]){case"H":for(d.addMetaTextArray("history",w.parseFontChangeLine(n),{startChar:h.iChar,endChar:h.iChar+p.length}),p=f.peekLine();p&&p[1]!==":";)f.nextLine(),d.addMetaTextArray("history",w.parseFontChangeLine(f.translateString(f.stripComment(p))),{startChar:h.iChar,endChar:h.iChar+p.length}),p=f.peekLine();break;case"K":this.resolveTempo();var m=x.parseKey(p.substring(2),!1);!h.is_in_header&&d.hasBeginMusic()&&(m.foundClef&&d.appendStartingElement("clef",e,l,h.clef),m.foundKey&&d.appendStartingElement("key",e,l,x.fixKey(h.clef,h.key))),h.is_in_header=!1;break;case"L":this.setDefaultLength(p,2,p.length);break;case"M":h.origMeter=h.meter=this.setMeter(p.substring(2));break;case"P":h.is_in_header?d.addMetaText("partOrder",w.parseFontChangeLine(n),{startChar:h.iChar,endChar:h.iChar+p.length}):h.partForNextLine={title:n,startChar:e,endChar:l};break;case"Q":var b=this.setTempo(p,2,p.length,h.iChar);b.type==="delaySet"?h.tempo=b.tempo:b.type==="immediate"&&(c.metaText.tempo?h.tempoForNextLine=["tempo",e,l,b.tempo]:c.metaText.tempo=b.tempo);break;case"T":h.titlecaps&&(n=n.toUpperCase()),this.setTitle(w.parseFontChangeLine(f.theReverser(n)),t);break;case"U":this.addUserDefinition(p,2,p.length);break;case"V":if(x.parseVoice(p,2,p.length),!h.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":r("Ignored header",p,0);break;default:return{regular:!0}}}return{}}};R.exports=a},1155:function(R,$){var k={};const C=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];k.pitchIndex=function(w){return C.indexOf(w)},k.noteName=function(w){return C[w]},R.exports=k},1156:function(R,$,k){var C=k(1108),w=k(1120),x,a,f,r,h,c,{legalAccents:d,volumeDecorations:u,dynamicDecorations:g,accentPseudonyms:p,accentDynamicPseudonyms:o,nonDecorations:t,durations:n,pitches:e,rests:l,accMap:m,tripletQ:b}=k(1157),E=function(y,S,A,Y,U,V){x=y,a=S,f=A,r=Y,h=U,c=V,this.lineContinuation=!1},M=function(y,S,A){if(y.inTie[S]===void 0)return!1;var Y=y.currentVoice?y.currentVoice.staffNum*100+y.currentVoice.index:0;return!!(y.inTie[S][Y]&&(A.pitches!==void 0||A.rest.type!=="spacer"))},L={};E.prototype.parseMusic=function(y){c.resolveTempo(),f.is_in_header=!1;for(var S=0,A=f.iChar;x.isWhiteSpace(y[S])&&S<y.length;)S++;if(!(S===y.length||y[S]==="%")){var Y=f.start_new_line;f.continueall===void 0?f.start_new_line=!0:f.start_new_line=!1;var U=0,V=c.letter_to_body_header(y,S);V[0]>0&&(S+=V[0],V[1]==="V"&&this.startNewLine());for(var K=0;S<y.length;){var q=S;if(y[S]==="%")break;var a0=c.letter_to_inline_header(y,S,Y);if(a0[0]>0)S+=a0[0],a0[1]==="V"&&(Y=!0);else{(!h.hasBeginMusic()||Y&&!this.lineContinuation)&&(this.startNewLine(),Y=!1);for(var J;;)if(J=x.eatWhiteSpace(y,S),J>0&&(S+=J),S>0&&y[S-1]===""&&(J=c.letter_to_body_header(y,S),J[0]>0&&(J[1]==="V"&&this.startNewLine(),S=J[0],f.start_new_line=!1)),J=D(y,S),J[0]>0&&(S+=J[0]),J=G(y,S),J[0]>0){L.chord||(L.chord=[]);var s0=x.translateString(J[1]);s0=s0.replace(/;/g,`
`);for(var c0=!1,v0=0;v0<L.chord.length;v0++)L.chord[v0].position===J[2]&&(c0=!0,L.chord[v0].name+=`
`+s0);c0===!1&&(J[2]===null&&J[3]?L.chord.push({name:s0,rel_position:J[3]}):L.chord.push({name:s0,position:J[2]})),S+=J[0];var Z=x.skipWhiteSpace(y.substring(S));Z>0&&(L.force_end_beam_last=!0),S+=Z}else if(t.indexOf(y[S])===-1?J=H(y,S):J=[0],J[0]>0)J[1]===null?S+1<y.length&&this.startNewLine():J[1].length>0&&(J[1].indexOf("style=")===0?L.style=J[1].substr(6):(L.decoration===void 0&&(L.decoration=[]),J[1]==="beambr1"?L.beambr=1:J[1]==="beambr2"?L.beambr=2:L.decoration.push(J[1]))),S+=J[0];else if(J=T(y,S),J[0]>0)L.gracenotes=J[1],S+=J[0];else break;if(J=F(y,S),J[0]>0){K=0,L.gracenotes!==void 0&&(L.rest={type:"spacer"},L.duration=.125,f.addFormattingOptions(L,r.formatting,"note"),h.appendElement("note",A+S,A+S+J[0],L),f.measureNotEmpty=!0,L={});var h0={type:J[1]};h0.type.length===0?a("Unknown bar type",y,S):(f.inEnding&&h0.type!=="bar_thin"&&(h0.endEnding=!0,f.inEnding=!1),J[2]&&(h0.startEnding=J[2],f.inEnding&&(h0.endEnding=!0),f.inEnding=!0,J[1]==="bar_right_repeat"?f.restoreStartEndingHoldOvers():f.duplicateStartEndingHoldOvers()),L.decoration!==void 0&&(h0.decoration=L.decoration),L.chord!==void 0&&(h0.chord=L.chord),h0.startEnding&&f.barFirstEndingNum===void 0?f.barFirstEndingNum=f.currBarNumber:h0.startEnding&&h0.endEnding&&f.barFirstEndingNum?f.currBarNumber=f.barFirstEndingNum:h0.endEnding&&(f.barFirstEndingNum=void 0),h0.type!=="bar_invisible"&&f.measureNotEmpty&&X()&&(f.currBarNumber++,f.barNumbers&&f.currBarNumber%f.barNumbers===0&&(h0.barNumber=f.currBarNumber)),f.addFormattingOptions(L,r.formatting,"bar"),h.appendElement("bar",A+q,A+S+J[0],h0),f.measureNotEmpty=!1,L={}),S+=J[0]}else if(y[S]==="&")J=P(y,S),J[0]>0&&(h.appendElement("overlay",A,A+1,{}),S+=1,K++);else{if(J=N(y,S),J.consumed>0&&(J.startSlur!==void 0&&(L.startSlur=J.startSlur),J.dottedSlur&&(L.dottedSlur=!0),J.triplet!==void 0&&(U>0?a("Can't nest triplets",y,S):(L.startTriplet=J.triplet,L.tripletMultiplier=J.tripletQ/J.triplet,L.tripletR=J.num_notes,U=J.num_notes===void 0?J.triplet:J.num_notes)),S+=J.consumed),y[S]==="["){var e0=S;S++;for(var d0=null,g0=!1,S0=!1;!S0;){var x0=H(y,S);x0[0]>0&&(S+=x0[0]);var w0=I(y,S,{},!1);if(w0!==null&&w0.pitch!==void 0)x0[0]>0&&x0[1].indexOf("style=")!==0&&(L.decoration===void 0&&(L.decoration=[]),L.decoration.push(x0[1])),w0.end_beam&&(L.end_beam=!0,delete w0.end_beam),L.pitches===void 0?(L.duration=w0.duration,L.pitches=[w0]):L.pitches.push(w0),delete w0.duration,x0[0]>0&&x0[1].indexOf("style=")===0&&(L.pitches[L.pitches.length-1].style=x0[1].substr(6)),f.inTieChord[L.pitches.length]&&(w0.endTie=!0,f.inTieChord[L.pitches.length]=void 0),w0.startTie&&(f.inTieChord[L.pitches.length]=!0),S=w0.endChar,delete w0.endChar;else if(y[S]===" ")a("Spaces are not allowed in chords",y,S),S++;else{if(S<y.length&&y[S]==="]"){S++,f.next_note_duration!==0&&(L.duration=L.duration*f.next_note_duration,f.next_note_duration=0),M(f,K,L)&&(L.pitches.forEach(function(Q){Q.endTie=!0}),z(f,K,!1)),U>0&&!(L.rest&&L.rest.type==="spacer")&&(U--,U===0&&(L.endTriplet=!0));for(var C0=!1;S<y.length&&!C0;){switch(y[S]){case" ":case"	":B(L);break;case")":L.endSlur===void 0?L.endSlur=1:L.endSlur++;break;case"-":L.pitches.forEach(function(Q){Q.startTie={}}),z(f,K,!0);break;case">":case"<":var E0=W(y,S);S+=E0[0]-1,f.next_note_duration=E0[2],d0?d0=d0*E0[1]:d0=E0[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var N0=x.getFraction(y,S);d0=N0.value,S=N0.index;var T0=y[S];T0===" "&&(g0=!0),T0==="-"||T0===")"||T0===" "||T0==="<"||T0===">"?S--:C0=!0;break;case"0":d0=0;break;default:C0=!0;break}C0||S++}}else a("Expected ']' to end the chords",y,S);L.pitches!==void 0&&(d0!==null&&(L.duration=L.duration*d0,g0&&B(L)),f.addFormattingOptions(L,r.formatting,"note"),h.appendElement("note",A+q,A+S,L),f.measureNotEmpty=!0,L={}),S0=!0}}}else{var n0={},i0=I(y,S,n0,!0);if(n0.endTie!==void 0&&z(f,K,!0),i0!==null){i0.pitch!==void 0?(L.pitches=[{}],i0.accidental!==void 0&&(L.pitches[0].accidental=i0.accidental),L.pitches[0].pitch=i0.pitch,L.pitches[0].name=i0.name,(i0.midipitch||i0.midipitch===0)&&(L.pitches[0].midipitch=i0.midipitch),i0.endSlur!==void 0&&(L.pitches[0].endSlur=i0.endSlur),i0.endTie!==void 0&&(L.pitches[0].endTie=i0.endTie),i0.startSlur!==void 0&&(L.pitches[0].startSlur=i0.startSlur),L.startSlur!==void 0&&(L.pitches[0].startSlur=L.startSlur),L.dottedSlur!==void 0&&(L.pitches[0].dottedSlur=!0),i0.startTie!==void 0&&(L.pitches[0].startTie=i0.startTie),L.startTie!==void 0&&(L.pitches[0].startTie=L.startTie)):(L.rest=i0.rest,i0.rest.type==="multimeasure"&&X()&&(f.currBarNumber+=i0.rest.text-1),i0.endSlur!==void 0&&(L.endSlur=i0.endSlur),i0.endTie!==void 0&&(L.rest.endTie=i0.endTie),i0.startSlur!==void 0&&(L.startSlur=i0.startSlur),i0.startTie!==void 0&&(L.rest.startTie=i0.startTie),L.startTie!==void 0&&(L.rest.startTie=L.startTie)),i0.chord!==void 0&&(L.chord=i0.chord),i0.duration!==void 0&&(L.duration=i0.duration),i0.decoration!==void 0&&(L.decoration=i0.decoration),i0.graceNotes!==void 0&&(L.graceNotes=i0.graceNotes),delete L.startSlur,delete L.dottedSlur,M(f,K,L)&&(L.pitches!==void 0?L.pitches[0].endTie=!0:L.rest.type!=="spacer"&&(L.rest.endTie=!0),z(f,K,!1)),(i0.startTie||L.startTie)&&z(f,K,!0),S=i0.endChar,U>0&&!(i0.rest&&i0.rest.type==="spacer")&&(U--,U===0&&(L.endTriplet=!0)),i0.end_beam&&B(L),L.rest&&L.rest.type==="rest"&&L.duration===1&&O(f)<=1&&(L.rest.type="whole",L.duration=O(f)),L.duration<1&&n.indexOf(L.duration)===-1&&L.duration!==0&&(!L.rest||L.rest.type!=="spacer")&&a("Duration not representable: "+y.substring(q,S),y,S),f.addFormattingOptions(L,r.formatting,"note");var j=h.appendElement("note",A+q,A+S,L);j||(this.startNewLine(),h.appendElement("note",A+q,A+S,L)),f.measureNotEmpty=!0,L={}}}S===q&&(y[S]!==" "&&y[S]!=="`"&&a("Unknown character ignored",y,S),S++)}}}this.lineContinuation=y.indexOf("")>=0||V[0]>0,this.lineContinuation||(L={})}};var z=function(y,S,A){var Y=y.currentVoice?y.currentVoice.staffNum*100+y.currentVoice.index:0;y.inTie[S]===void 0&&(y.inTie[S]=[]),y.inTie[S][Y]=A},G=function(y,S){if(y[S]==='"'){var A=x.getBrackettedSubstring(y,S,5);if(A[2]||a("Missing the closing quote while parsing the chord symbol",y,S),A[0]>0&&A[1].length>0&&A[1][0]==="^")A[1]=A[1].substring(1),A[2]="above";else if(A[0]>0&&A[1].length>0&&A[1][0]==="_")A[1]=A[1].substring(1),A[2]="below";else if(A[0]>0&&A[1].length>0&&A[1][0]==="<")A[1]=A[1].substring(1),A[2]="left";else if(A[0]>0&&A[1].length>0&&A[1][0]===">")A[1]=A[1].substring(1),A[2]="right";else if(A[0]>0&&A[1].length>0&&A[1][0]==="@"){A[1]=A[1].substring(1);var Y=x.getFloat(A[1]);if(Y.digits===0)return a("Missing first position in absolutely positioned annotation.",y,S),A[1]=A[1].replace("@",""),A[2]="above",A;if(A[1]=A[1].substring(Y.digits),A[1][0]!==",")return a("Missing comma absolutely positioned annotation.",y,S),A[1]=A[1].replace("@",""),A[2]="above",A;A[1]=A[1].substring(1);var U=x.getFloat(A[1]);if(U.digits===0)return a("Missing second position in absolutely positioned annotation.",y,S),A[1]=A[1].replace("@",""),A[2]="above",A;A[1]=A[1].substring(U.digits);var V=x.skipWhiteSpace(A[1]);A[1]=A[1].substring(V),A[2]=null,A[3]={x:Y.value,y:U.value}}else f.freegchord!==!0&&(A[1]=A[1].replace(/([ABCDEFG0-9])b/g,"$1\u266D"),A[1]=A[1].replace(/([ABCDEFG0-9])#/g,"$1\u266F"),A[1]=A[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2\xB0$3"),A[1]=A[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2\xB0"),A[1]=A[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2\xF8$3"),A[1]=A[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2\u2206$3")),A[2]="default",A[1]=w.chordName(f,A[1]);return A}return[0,""]},T=function(y,S){if(y[S]==="{"){var A=x.getBrackettedSubstring(y,S,1,"}");A[2]||a("Missing the closing '}' while parsing grace note",y,S),y[S+A[0]]===")"&&(A[0]++,A[1]+=")");for(var Y=[],U=0,V=!1;U<A[1].length;){var K=!1;A[1][U]==="/"&&(K=!0,U++);var q=I(A[1],U,{},!1);q!==null?(q.duration=q.duration/(f.default_length*8),K&&(q.acciaccatura=!0),q.rest?a("Rests not allowed as grace notes '"+A[1][U]+"' while parsing grace note",y,S):Y.push(q),V&&(q.endTie=!0,V=!1),q.startTie&&(V=!0),U=q.endChar,delete q.endChar,q.end_beam&&(q.endBeam=!0,delete q.end_beam)):(A[1][U]===" "?Y.length>0&&(Y[Y.length-1].endBeam=!0):a("Unknown character '"+A[1][U]+"' while parsing grace note",y,S),U++)}if(Y.length)return[A[0],Y]}return[0]};function P(y,S){if(y[S]==="&"){for(var A=S;y[S]&&y[S]!==":"&&y[S]!=="|";)S++;return[S-A,y.substring(A+1,S)]}return[0]}function O(y){var S=y.origMeter;return!S||S.type!=="specified"||!S.value||S.value.length===0?1:parseInt(S.value[0].num,10)/parseInt(S.value[0].den,10)}var H=function(y,S){var A=f.macros[y[S]];if(A!==void 0)return(A[0]==="!"||A[0]==="+")&&(A=A.substring(1)),(A[A.length-1]==="!"||A[A.length-1]==="+")&&(A=A.substring(0,A.length-1)),d.includes(A)?[1,A]:u.includes(A)?(f.volumePosition==="hidden"&&(A=""),[1,A]):g.includes(A)?(f.dynamicPosition==="hidden"&&(A=""),[1,A]):(f.ignoredDecorations.includes(A)||a("Unknown macro: "+A,y,S),[1,""]);switch(y[S]){case".":if(y[S+1]==="("||y[S+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var Y=x.getBrackettedSubstring(y,S,5);if(Y[1].length>1&&(Y[1][0]==="^"||Y[1][0]==="_")&&(Y[1]=Y[1].substring(1)),d.includes(Y[1]))return Y;if(u.includes(Y[1]))return f.volumePosition==="hidden"&&(Y[1]=""),Y;if(g.includes(Y[1]))return f.dynamicPosition==="hidden"&&(Y[1]=""),Y;var U=p.findIndex(function(V){return Y[1]===V[0]});return U>=0?(Y[1]=p[U][1],Y):(U=o.findIndex(function(V){return Y[1]===V[0]}),U>=0?(Y[1]=o[U][1],f.dynamicPosition==="hidden"&&(Y[1]=""),Y):y[S]==="!"&&(Y[0]===1||y[S+Y[0]-1]!=="!")?[1,null]:(a("Unknown decoration: "+Y[1],y,S),Y[1]="",Y));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},D=function(y,S){for(var A=S;x.isWhiteSpace(y[S]);)S++;return[S-A]},F=function(y,S){var A=x.getBarLine(y,S);if(A.len===0)return[0,""];if(A.warn)return a(A.warn,y,S),[A.len,""];for(var Y=0;Y<y.length&&y[S+A.len+Y]===" ";Y++);var U=A.len;if(y[S+A.len+Y]==="["&&(A.len+=Y+1),y[S+A.len]==='"'&&y[S+A.len-1]==="["){var V=x.getBrackettedSubstring(y,S+A.len,5);return[A.len+V[0],A.token,V[1]]}var K=x.getTokenOf(y.substring(S+A.len),"1234567890-,");return K.len===0||K.token[0]==="-"?[U,A.token]:[A.len+K.len,A.token,K.token]},N=function(y,S){var A={},Y=S;for(y[S]==="."&&y[S+1]==="("&&(A.dottedSlur=!0,S++);y[S]==="("||x.isWhiteSpace(y[S]);)y[S]==="("&&(S+1<y.length&&y[S+1]>="2"&&y[S+1]<="9"?(A.triplet!==void 0?a("Can't nest triplets",y,S):(A.triplet=y[S+1]-"0",A.tripletQ=b[A.triplet],A.num_notes=A.triplet,S+2<y.length&&y[S+2]===":"&&(S+3<y.length&&y[S+3]===":"?S+4<y.length&&y[S+4]>="1"&&y[S+4]<="9"?(A.num_notes=y[S+4]-"0",S+=3):a("expected number after the two colons after the triplet to mark the duration",y,S):S+3<y.length&&y[S+3]>="1"&&y[S+3]<="9"?(A.tripletQ=y[S+3]-"0",S+4<y.length&&y[S+4]===":"?S+5<y.length&&y[S+5]>="1"&&y[S+5]<="9"&&(A.num_notes=y[S+5]-"0",S+=4):S+=2):a("expected number after the triplet to mark the duration",y,S))),S++):A.startSlur===void 0?A.startSlur=1:A.startSlur++),S++;return A.consumed=S-Y,A};E.prototype.startNewLine=function(){var y={startChar:-1,endChar:-1};f.partForNextLine.title&&(y.part=f.partForNextLine),y.clef=f.currentVoice&&f.staves[f.currentVoice.staffNum].clef!==void 0?Object.assign({},f.staves[f.currentVoice.staffNum].clef):Object.assign({},f.clef);var S=f.currentVoice?f.currentVoice.scoreTranspose:0;if(y.key=C.standardKey(f.key.root+f.key.acc+f.key.mode,f.key.root,f.key.acc,S),y.key.mode=f.key.mode,f.key.impliedNaturals&&(y.key.impliedNaturals=f.key.impliedNaturals),f.key.explicitAccidentals)for(var A=0;A<f.key.explicitAccidentals.length;A++){for(var Y=!1,U=0;U<y.key.accidentals.length;U++)y.key.accidentals[U].note===f.key.explicitAccidentals[A].note&&(y.key.accidentals[U].acc=f.key.explicitAccidentals[A].acc,Y=!0);Y||y.key.accidentals.push(f.key.explicitAccidentals[A])}if(f.targetKey=y.key,y.key.explicitAccidentals&&delete y.key.explicitAccidentals,C.addPosToKey(y.clef,y.key),f.meter!==null?(f.currentVoice?(f.staves.forEach(function(a0){a0.meter=f.meter}),y.meter=f.staves[f.currentVoice.staffNum].meter,f.staves[f.currentVoice.staffNum].meter=null):y.meter=f.meter,f.meter=null):f.currentVoice&&f.staves[f.currentVoice.staffNum].meter&&(y.meter=f.staves[f.currentVoice.staffNum].meter,f.staves[f.currentVoice.staffNum].meter=null),f.currentVoice&&f.currentVoice.name&&(y.name=f.currentVoice.name),f.vocalfont&&(y.vocalfont=f.vocalfont),f.tripletfont&&(y.tripletfont=f.tripletfont),f.gchordfont&&(y.gchordfont=f.gchordfont),f.style&&(y.style=f.style),f.currentVoice){var V=f.staves[f.currentVoice.staffNum];V.brace&&(y.brace=V.brace),V.bracket&&(y.bracket=V.bracket),V.connectBarLines&&(y.connectBarLines=V.connectBarLines),V.name&&(y.name=V.name[f.currentVoice.index]),V.subname&&(y.subname=V.subname[f.currentVoice.index]),f.currentVoice.stem&&(y.stem=f.currentVoice.stem),f.currentVoice.stafflines&&(y.stafflines=f.currentVoice.stafflines),f.currentVoice.staffscale&&(y.staffscale=f.currentVoice.staffscale),f.currentVoice.scale&&(y.scale=f.currentVoice.scale),f.currentVoice.color&&(y.color=f.currentVoice.color),f.currentVoice.style&&(y.style=f.currentVoice.style),f.currentVoice.transpose&&(y.clef.transpose=f.currentVoice.transpose),y.currentVoice=f.currentVoice;for(var K=Object.keys(f.voices),q=0;q<K.length;q++)y.currentVoice.staffNum===f.voices[K[q]].staffNum&&y.currentVoice.index===f.voices[K[q]].index&&(y.currentVoiceName=K[q])}f.barNumbers===0&&X()&&f.currBarNumber!==1&&(y.barNumber=f.currBarNumber),h.startNewLine(y),f.key.impliedNaturals&&delete f.key.impliedNaturals,f.partForNextLine={},f.tempoForNextLine.length===4&&h.appendElement(f.tempoForNextLine[0],f.tempoForNextLine[1],f.tempoForNextLine[2],f.tempoForNextLine[3]),f.tempoForNextLine=[]};var B=function(y){return y.duration!==void 0&&y.duration<.25&&(y.end_beam=!0),y},I=function(y,S,A,Y){var U=function(v0){return v0==="octave"||v0==="duration"||v0==="Zduration"||v0==="broken_rhythm"||v0==="end_slur"},V;y[S]==="."&&y[S+1]==="-"&&(V=!0,S++);for(var K="startSlur",q=!1;;){switch(y[S]){case"(":if(K==="startSlur")A.startSlur===void 0?A.startSlur=1:A.startSlur++;else return U(K)?(A.endChar=S,A):null;break;case")":if(U(K))A.endSlur===void 0?A.endSlur=1:A.endSlur++;else return null;break;case"^":if(K==="startSlur")A.accidental="sharp",K="sharp2";else if(K==="sharp2")A.accidental="dblsharp",K="pitch";else return U(K)?(A.endChar=S,A):null;break;case"_":if(K==="startSlur")A.accidental="flat",K="flat2";else if(K==="flat2")A.accidental="dblflat",K="pitch";else return U(K)?(A.endChar=S,A):null;break;case"=":if(K==="startSlur")A.accidental="natural",K="pitch";else return U(K)?(A.endChar=S,A):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(K==="startSlur"||K==="sharp2"||K==="flat2"||K==="pitch"){if(A.pitch=e[y[S]],A.pitch+=7*(f.currentVoice&&f.currentVoice.octave!==void 0?f.currentVoice.octave:f.octave),A.name=y[S],A.accidental&&(A.name=m[A.accidental]+A.name),w.note(f,A),K="octave",Y&&f.next_note_duration!==0?(A.duration=f.default_length*f.next_note_duration,f.next_note_duration=0,q=!0):A.duration=f.default_length,f.clef&&f.clef.type==="perc"||f.currentVoice&&f.currentVoice.clef==="perc"){var a0=y[S];A.accidental&&(a0=m[A.accidental]+a0),r.formatting&&r.formatting.midi&&r.formatting.midi.drummap&&(A.midipitch=r.formatting.midi.drummap[a0])}}else return U(K)?(A.endChar=S,A):null;break;case",":if(K==="octave")A.pitch-=7,A.name+=",";else return U(K)?(A.endChar=S,A):null;break;case"'":if(K==="octave")A.pitch+=7,A.name+="'";else return U(K)?(A.endChar=S,A):null;break;case"x":case"X":case"y":case"z":case"Z":if(K==="startSlur")A.rest={type:l[y[S]]},delete A.accidental,delete A.startSlur,delete A.startTie,delete A.endSlur,delete A.endTie,delete A.end_beam,delete A.grace_notes,A.rest.type.indexOf("multimeasure")>=0?(A.duration=r.getBarLength(),A.rest.text=1,K="Zduration"):(Y&&f.next_note_duration!==0?(A.duration=f.default_length*f.next_note_duration,f.next_note_duration=0,q=!0):A.duration=f.default_length,K="duration");else return U(K)?(A.endChar=S,A):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(K==="octave"||K==="duration"){var J=x.getFraction(y,S);for(A.duration=A.duration*J.value,A.endChar=J.index;J.index<y.length&&(x.isWhiteSpace(y[J.index])||y[J.index]==="-");)y[J.index]==="-"?A.startTie={}:A=B(A),J.index++;S=J.index-1,K="broken_rhythm"}else if(K==="sharp2")A.accidental="quartersharp",K="pitch";else if(K==="flat2")A.accidental="quarterflat",K="pitch";else if(K==="Zduration"){var s0=x.getNumber(y,S);return A.duration=s0.num*r.getBarLength(),A.rest.text=s0.num,A.endChar=s0.index,A}else return null;break;case"-":if(K==="startSlur")h.addTieToLastNote(V),A.endTie=!0;else if(K==="octave"||K==="duration"||K==="end_slur")if(A.startTie={},!q&&Y)K="broken_rhythm";else return x.isWhiteSpace(y[S+1])&&B(A),A.endChar=S+1,A;else return K==="broken_rhythm"?(A.endChar=S,A):null;break;case" ":case"	":if(U(K)){A.end_beam=!0,V=!1;do y[S]==="."&&y[S+1]==="-"&&(V=!0,S++),y[S]==="-"&&(A.startTie={},V&&(A.startTie.style="dotted")),S++;while(S<y.length&&(x.isWhiteSpace(y[S])||y[S]==="-")||y[S]==="."&&y[S+1]==="-");if(A.endChar=S,!q&&Y&&(y[S]==="<"||y[S]===">"))S--,K="broken_rhythm";else return A}else return null;break;case">":case"<":if(U(K))if(Y){var c0=W(y,S);S+=c0[0]-1,f.next_note_duration=c0[2],A.duration=c0[1]*A.duration,K="end_slur"}else return A.endChar=S,A;else return null;break;default:return U(K)?(A.endChar=S,A):null}if(S++,S===y.length)return U(K)?(A.endChar=S,A):null}return null},W=function(y,S){switch(y[S]){case">":return S<y.length-2&&y[S+1]===">"&&y[S+2]===">"?[3,1.875,.125]:S<y.length-1&&y[S+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return S<y.length-2&&y[S+1]==="<"&&y[S+2]==="<"?[3,.125,1.875]:S<y.length-1&&y[S+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function X(){return f.currentVoice===void 0||f.currentVoice.staffNum===0&&f.currentVoice.index===0}R.exports=E},1157:function(R,$){R.exports.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],R.exports.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],R.exports.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],R.exports.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],R.exports.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],R.exports.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",R.exports.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],R.exports.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},R.exports.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},R.exports.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},R.exports.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}},1158:function(R,$,k){var C=k(1096),w=function(x,a){this.lineIndex=0,this.lines=x,this.multilineVars=a,this.skipWhiteSpace=function(t){for(var n=0;n<t.length;n++)if(!this.isWhiteSpace(t[n]))return n;return t.length};var f=function(t,n){return n>=t.length};this.eatWhiteSpace=function(t,n){for(var e=n;e<t.length;e++)if(!this.isWhiteSpace(t[e]))return e-n;return e-n},this.getKeyPitch=function(t){var n=this.skipWhiteSpace(t);if(f(t,n))return{len:0};switch(t[n]){case"A":return{len:n+1,token:"A"};case"B":return{len:n+1,token:"B"};case"C":return{len:n+1,token:"C"};case"D":return{len:n+1,token:"D"};case"E":return{len:n+1,token:"E"};case"F":return{len:n+1,token:"F"};case"G":return{len:n+1,token:"G"}}return{len:0}},this.getSharpFlat=function(t){if(t==="bass")return{len:0};switch(t[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(t){var n=function(m,b){for(;b<m.length&&(m[b]>="a"&&m[b]<="z"||m[b]>="A"&&m[b]<="Z");)b++;return b},e=this.skipWhiteSpace(t);if(f(t,e))return{len:0};var l=t.substring(e,e+3).toLowerCase();switch((l.length>1&&l[1]===" "||l[1]==="^"||l[1]==="_"||l[1]==="=")&&(l=l[0]),l){case"mix":return{len:n(t,e),token:"Mix"};case"dor":return{len:n(t,e),token:"Dor"};case"phr":return{len:n(t,e),token:"Phr"};case"lyd":return{len:n(t,e),token:"Lyd"};case"loc":return{len:n(t,e),token:"Loc"};case"aeo":return{len:n(t,e),token:"m"};case"maj":return{len:n(t,e),token:""};case"ion":return{len:n(t,e),token:""};case"min":return{len:n(t,e),token:"m"};case"m":return{len:n(t,e),token:"m"}}return{len:0}},this.getClef=function(t,n){var e=t,l=this.skipWhiteSpace(t);if(f(t,l))return{len:0};var m=!1,b=t.substring(l);if(C.startsWith(b,"clef=")&&(m=!0,b=b.substring(5),l+=5),b.length===0&&m)return{len:l+5,warn:"No clef specified: "+e};var E=this.skipWhiteSpace(b);if(f(b,E))return{len:0};E>0&&(l+=E,b=b.substring(E));var M=null;if(C.startsWith(b,"treble"))M="treble";else if(C.startsWith(b,"bass3"))M="bass3";else if(C.startsWith(b,"bass"))M="bass";else if(C.startsWith(b,"tenor"))M="tenor";else if(C.startsWith(b,"alto2"))M="alto2";else if(C.startsWith(b,"alto1"))M="alto1";else if(C.startsWith(b,"alto"))M="alto";else if(!n&&m&&C.startsWith(b,"none"))M="none";else if(C.startsWith(b,"perc"))M="perc";else if(!n&&m&&C.startsWith(b,"C"))M="tenor";else if(!n&&m&&C.startsWith(b,"F"))M="bass";else if(!n&&m&&C.startsWith(b,"G"))M="treble";else return{len:l+5,warn:"Unknown clef specified: "+e};return b=b.substring(M.length),E=this.isMatch(b,"+8"),E>0?M+="+8":(E=this.isMatch(b,"-8"),E>0&&(M+="-8")),{len:l+M.length,token:M,explicit:m}},this.getBarLine=function(t,n){switch(t[n]){case"]":switch(++n,t[n]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++n,t[n]>="1"&&t[n]<="9"||t[n]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(++n,t[n]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++n,t[n]){case"]":switch(++n,t[n]){case"|":return++n,t[n]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}break;case"|":return++n,t[n]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if(++n,t[n]==="|")switch(++n,t[n]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return t[n]>="1"&&t[n]<="9"||t[n]==='"'?{len:1,token:"bar_invisible"}:{len:0};break;case"|":switch(++n,t[n]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++n,t[n]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var e=0;t[n+e]===":";)e++;return{len:1+e,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}break}return{len:0}},this.getTokenOf=function(t,n){for(var e=0;e<t.length;e++)if(n.indexOf(t[e])<0)return{len:e,token:t.substring(0,e)};return{len:e,token:t}},this.getToken=function(t,n,e){for(var l=n;l<e&&!this.isWhiteSpace(t[l]);)l++;return t.substring(n,l)},this.isMatch=function(t,n){var e=this.skipWhiteSpace(t);return f(t,e)?0:C.startsWith(t.substring(e),n)?e+n.length:0},this.getPitchFromTokens=function(t){var n={},e={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(n.position=e[t[0].token],n.position===void 0)return{warn:"Pitch expected. Found: "+t[0].token};for(t.shift();t.length;)switch(t[0].token){case",":n.position-=7,t.shift();break;case"'":n.position+=7,t.shift();break;default:return n}return n},this.getKeyAccidentals2=function(t){for(var n;t.length>0;){var e;if(t[0].token==="^"){if(e="sharp",t.shift(),t.length===0)return{accs:n,warn:"Expected note name after "+e};switch(t[0].token){case"^":e="dblsharp",t.shift();break;case"/":e="quartersharp",t.shift();break}}else if(t[0].token==="=")e="natural",t.shift();else if(t[0].token==="_"){if(e="flat",t.shift(),t.length===0)return{accs:n,warn:"Expected note name after "+e};switch(t[0].token){case"_":e="dblflat",t.shift();break;case"/":e="quarterflat",t.shift();break}}else return{accs:n};if(t.length===0)return{accs:n,warn:"Expected note name after "+e};switch(t[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":n===void 0&&(n=[]),n.push({acc:e,note:t[0].token[0]}),t[0].token.length===1?t.shift():t[0].token=t[0].token.substring(1);break;default:return{accs:n,warn:"Expected note name after "+e+" Found: "+t[0].token}}}return{accs:n}},this.getKeyAccidental=function(t){var n={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},e=this.skipWhiteSpace(t);if(f(t,e))return{len:0};var l=null;switch(t[e]){case"^":case"_":case"=":l=t[e];break;default:return{len:0}}if(e++,f(t,e))return{len:1,warn:"Expected note name after accidental"};switch(t[e]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:e+1,token:{acc:n[l],note:t[e]}};case"^":case"_":case"/":if(l+=t[e],e++,f(t,e))return{len:2,warn:"Expected note name after accidental"};switch(t[e]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:e+1,token:{acc:n[l],note:t[e]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(t){return t===" "||t==="	"||t===""},this.getMeat=function(t,n,e){var l=t.indexOf("%",n);for(l>=0&&l<e&&(e=l);n<e&&(t[n]===" "||t[n]==="	"||t[n]==="");)n++;for(;n<e&&(t[e-1]===" "||t[e-1]==="	"||t[e-1]==="");)e--;return{start:n,end:e}};var r=function(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"},h=function(t){return t>="0"&&t<="9"};this.tokenize=function(t,n,e,l){var m=this.getMeat(t,n,e);n=m.start,e=m.end;for(var b=[],E;n<e;){if(t[n]==='"'){for(E=n+1;E<e&&t[E]!=='"';)E++;b.push({type:"quote",token:t.substring(n+1,E),start:n+1,end:E}),E++}else if(r(t[n])){if(E=n+1,l)for(;E<e&&!this.isWhiteSpace(t[E]);)E++;else for(;E<e&&r(t[E]);)E++;b.push({type:"alpha",token:t.substring(n,E),continueId:h(t[E]),start:n,end:E}),n=E+1}else if(t[n]==="."&&h(t[E+1])){E=n+1;for(var M=null,L=null;E<e&&h(t[E]);)E++;L=parseFloat(t.substring(n,E)),b.push({type:"number",token:t.substring(n,E),intt:M,floatt:L,continueId:r(t[E]),start:n,end:E}),n=E+1}else if(h(t[n])||t[n]==="-"&&h(t[E+1])){E=n+1;for(var z=null,G=null;E<e&&h(t[E]);)E++;if(t[E]==="."&&h(t[E+1]))for(E++;E<e&&h(t[E]);)E++;else z=parseInt(t.substring(n,E));G=parseFloat(t.substring(n,E)),b.push({type:"number",token:t.substring(n,E),intt:z,floatt:G,continueId:r(t[E]),start:n,end:E}),n=E+1}else t[n]===" "||t[n]==="	"||b.push({type:"punct",token:t[n],start:n,end:n+1}),E=n+1;n=E}return b},this.getVoiceToken=function(t,n,e){for(var l=n;l<e&&this.isWhiteSpace(t[l])||t[l]==="=";)l++;if(t[l]==='"'){var m=t.indexOf('"',l+1);return m===-1||m>=e?{len:1,err:"Missing close quote"}:{len:m-n+1,token:this.translateString(t.substring(l+1,m))}}else{for(var b=l;b<e&&!this.isWhiteSpace(t[b])&&t[b]!=="=";)b++;return{len:b-n+1,token:t.substring(l,b)}}};var c={"`a":"\xE0","'a":"\xE1","^a":"\xE2","~a":"\xE3",'"a':"\xE4",oa:"\xE5",aa:"\xE5","=a":"\u0101",ua:"\u0103",";a":"\u0105","`e":"\xE8","'e":"\xE9","^e":"\xEA",'"e':"\xEB","=e":"\u0113",ue:"\u0115",";e":"\u0119",".e":"\u0117","`i":"\xEC","'i":"\xED","^i":"\xEE",'"i':"\xEF","=i":"\u012B",ui:"\u012D",";i":"\u012F","`o":"\xF2","'o":"\xF3","^o":"\xF4","~o":"\xF5",'"o':"\xF6","=o":"\u014D",uo:"\u014F","/o":"\xF8","`u":"\xF9","'u":"\xFA","^u":"\xFB","~u":"\u0169",'"u':"\xFC",ou:"\u016F","=u":"\u016B",uu:"\u016D",";u":"\u0173","`A":"\xC0","'A":"\xC1","^A":"\xC2","~A":"\xC3",'"A':"\xC4",oA:"\xC5",AA:"\xC5","=A":"\u0100",uA:"\u0102",";A":"\u0104","`E":"\xC8","'E":"\xC9","^E":"\xCA",'"E':"\xCB","=E":"\u0112",uE:"\u0114",";E":"\u0118",".E":"\u0116","`I":"\xCC","'I":"\xCD","^I":"\xCE","~I":"\u0128",'"I':"\xCF","=I":"\u012A",uI:"\u012C",";I":"\u012E",".I":"\u0130","`O":"\xD2","'O":"\xD3","^O":"\xD4","~O":"\xD5",'"O':"\xD6","=O":"\u014C",uO:"\u014E","/O":"\xD8","`U":"\xD9","'U":"\xDA","^U":"\xDB","~U":"\u0168",'"U':"\xDC",oU:"\u016E","=U":"\u016A",uU:"\u016C",";U":"\u0172",ae:"\xE6",AE:"\xC6",oe:"\u0153",OE:"\u0152",ss:"\xDF","'c":"\u0107","^c":"\u0109",uc:"\u010D",cc:"\xE7",".c":"\u010B",cC:"\xC7","'C":"\u0106","^C":"\u0108",uC:"\u010C",".C":"\u010A","~N":"\xD1","~n":"\xF1","=s":"\u0161",vs:"\u0161",DH:"\xD0",dh:"\xF0",HO:"\u0150",Ho:"\u0151",HU:"\u0170",Hu:"\u0171","'Y":"\xDD","'y":"\xFD","^Y":"\u0176","^y":"\u0177",'"Y':"\u0178",'"y':"\xFF",vS:"\u0160",vZ:"\u017D",vz:"\u017E"},d={"#":"\u266F",b:"\u266D","=":"\u266E"},u={201:"\u266F",202:"\u266D",203:"\u266E",241:"\xA1",242:"\xA2",252:"a",262:"2",272:"o",302:"\xC2",312:"\xCA",322:"\xD2",332:"\xDA",342:"\xE2",352:"\xEA",362:"\xF2",372:"\xFA",243:"\xA3",253:"\xAB",263:"3",273:"\xBB",303:"\xC3",313:"\xCB",323:"\xD3",333:"\xDB",343:"\xE3",353:"\xEB",363:"\xF3",373:"\xFB",244:"\xA4",254:"\xAC",264:"  \u0301",274:"1\u20444",304:"\xC4",314:"\xCC",324:"\xD4",334:"\xDC",344:"\xE4",354:"\xEC",364:"\xF4",374:"\xFC",245:"\xA5",255:"-",265:"\u03BC",275:"1\u20442",305:"\xC5",315:"\xCD",325:"\xD5",335:"\xDD",345:"\xE5",355:"\xED",365:"\xF5",375:"\xFD",246:"\xA6",256:"\xAE",266:"\xB6",276:"3\u20444",306:"\xC6",316:"\xCE",326:"\xD6",336:"\xDE",346:"\xE6",356:"\xEE",366:"\xF6",376:"\xFE",247:"\xA7",257:" \u0304",267:"\xB7",277:"\xBF",307:"\xC7",317:"\xCF",327:"\xD7",337:"\xDF",347:"\xE7",357:"\xEF",367:"\xF7",377:"\xFF",250:" \u0308",260:"\xB0",270:" \u0327",300:"\xC0",310:"\xC8",320:"\xD0",330:"\xD8",340:"\xE0",350:"\xE8",360:"\xF0",370:"\xF8",251:"\xA9",261:"\xB1",271:"1",301:"\xC1",311:"\xC9",321:"\xD1",331:"\xD9",341:"\xE1",351:"\xE9",361:"\xF1",371:"\xF9"};this.translateString=function(t){var n=t.split("\\");if(n.length===1)return t;var e=null;return n.forEach(function(l){if(e===null)e=l;else{var m=c[l.substring(0,2)];m!==void 0?e+=m+l.substring(2):(m=u[l.substring(0,3)],m!==void 0?e+=m+l.substring(3):(m=d[l.substring(0,1)],m!==void 0?e+=m+l.substring(1):e+="\\"+l))}}),e},this.getNumber=function(t,n){for(var e=0;n<t.length;)switch(t[n]){case"0":e=e*10,n++;break;case"1":e=e*10+1,n++;break;case"2":e=e*10+2,n++;break;case"3":e=e*10+3,n++;break;case"4":e=e*10+4,n++;break;case"5":e=e*10+5,n++;break;case"6":e=e*10+6,n++;break;case"7":e=e*10+7,n++;break;case"8":e=e*10+8,n++;break;case"9":e=e*10+9,n++;break;default:return{num:e,index:n}}return{num:e,index:n}},this.getFraction=function(t,n){var e=1,l=1;if(t[n]!=="/"){var m=this.getNumber(t,n);e=m.num,n=m.index}if(t[n]==="/")if(n++,t[n]==="/"){for(var b=.5;t[n++]==="/";)b=b/2;return{value:e*b,index:n-1}}else{var E=n,M=this.getNumber(t,n);M.num===0&&E===n&&(M.num=2),M.num!==0&&(l=M.num),n=M.index}return{value:e/l,index:n}};function g(t){const e=/^(\d+)\./.exec(t);return e?e[1]:null}var p=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(t){for(var n=0;n<p.length;n++){var e=p[n],l=t.match(e.match);if(l){var m=g(t);m&&(t=t.replace(m+".",""),t=t.trim());var b=l[0].length,E=e.replace+t.substring(0,t.length-b);return m&&(E=m+". "+E),E}}return t},this.stripComment=function(t){var n=t.indexOf("%");return n>=0?C.strip(t.substring(0,n)):C.strip(t)},this.getInt=function(t){var n=parseInt(t);if(isNaN(n))return{digits:0};var e=""+n,l=t.indexOf(e);return{value:n,digits:l+e.length}},this.getFloat=function(t){var n=parseFloat(t);if(isNaN(n))return{digits:0};var e=""+n,l=t.indexOf(e);return{value:n,digits:l+e.length}},this.getMeasurement=function(t){if(t.length===0)return{used:0};var n=1,e="";if(t[0].token==="-")t.shift(),e="-",n++;else if(t[0].type!=="number")return{used:0};if(e+=t.shift().token,t.length===0)return{used:1,value:parseInt(e)};var l=t.shift();if(l.token==="."){if(n++,t.length===0)return{used:n,value:parseInt(e)};if(t[0].type==="number"&&(l=t.shift(),e=e+"."+l.token,n++,t.length===0))return{used:n,value:parseFloat(e)};l=t.shift()}switch(l.token){case"pt":return{used:n+1,value:parseFloat(e)};case"px":return{used:n+1,value:parseFloat(e)};case"cm":return{used:n+1,value:parseFloat(e)/2.54*72};case"in":return{used:n+1,value:parseFloat(e)*72};default:return t.unshift(l),{used:n,value:parseFloat(e)}}};var o=function(t){return t=t.replace(/\\n/g,`
`),t=t.replace(/\\"/g,'"'),t};this.getBrackettedSubstring=function(t,n,e,l){for(var m=l||t[n],b=n+1,E=!1;b<t.length&&(E||t[b]!==m);)E=t[b]==="\\",++b;return t[b]===m?[b-n+1,o(t.substring(n+1,b)),!0]:(b=n+e,b>t.length-1&&(b=t.length-1),[b-n+1,o(t.substring(n+1,b)),!1])}};w.prototype.peekLine=function(){return this.lines[this.lineIndex]},w.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var x=this.lines[this.lineIndex];return this.lineIndex++,x}return null},R.exports=w},1159:function(R,$,k){var C,w=k(1160),x=k(1127);(function(){"use strict";var a,f,r,h,c,d,u,g=1,p,o,t,n,e,l,m,b={num:4,den:4},E=128,M,L=!0,z=105,G=95,T=85,P=.25,O,H,D=0,F,N,B={},I,W=0,X,y=0,S=-.001,A=.4;C=function(j,Q,r0,_){Q||(Q={}),_||(_={}),a=[],f=[0,0,0,0,0,0,0],h=!1,c=[],d=Q.qpm,u=void 0,g=1,p=void 0,o=void 0,t=void 0,e=void 0,l=0,X=r0,b={num:4,den:4},L=!0,z=105,G=95,T=85,P=.25,O=void 0,H=void 0,D=0,F=[],N=!1,B={},I=1,j.length>0&&j[0].length>0&&(W=j[0][0].pickupLength),Q.bassprog!==void 0&&!_.bassprog&&(_.bassprog=[Q.bassprog]),Q.bassvol!==void 0&&!_.bassvol&&(_.bassvol=[Q.bassvol]),Q.chordprog!==void 0&&!_.chordprog&&(_.chordprog=[Q.chordprog]),Q.chordvol!==void 0&&!_.chordvol&&(_.chordvol=[Q.chordvol]),Q.gchord!==void 0&&!_.gchord&&(_.gchord=[Q.gchord]),m=new w(j.length,Q.chordsOff,_,b),K(j,Q);for(var t0=0;t0<j.length;t0++){r=0,m.setTranspose(r),n=-1;var p0=j[t0];t=[{cmd:"program",channel:t0,instrument:p}],e=void 0,M=0,m.setLastBarTime(0);var b0=!1;(Q.voicesOff===!0||Q.voicesOff&&Q.voicesOff.length&&Q.voicesOff.indexOf(t0)>=0)&&(b0=!0);for(var l0=0;l0<p0.length;l0++){var o0=p0[l0];switch(o0.el_type){case"name":e={cmd:"text",type:"name",text:o0.trackName};break;case"note":v0(o0,b0);break;case"key":f=d0(o0);break;case"meter":u||(u=o0),b=o0,m.setMeter(b),P=q(b),T0();break;case"tempo":d?g=o0.qpm?d/o0.qpm:1:d=o0.qpm,m.setTempoChangeFactor(g);break;case"transpose":r=o0.transpose,m.setTranspose(r);break;case"bar":m.barEnd(o0),a=[],t0===0&&n0(j.length+1),m.setRhythmHead(!1),M=U(o0.time),m.setLastBarTime(M);break;case"bagpipes":h=!0;break;case"instrument":if(p===void 0&&(p=o0.program),o=o0.program,t.length>0&&t[t.length-1].cmd==="program")t[t.length-1].instrument=o0.program;else{var u0;for(u0=t.length-1;u0>=0&&t[u0].cmd!=="program";u0--);(u0<0||t[u0].instrument!==o0.program)&&t.push({cmd:"program",channel:0,instrument:o0.program})}break;case"channel":Y(o0.channel);break;case"drum":B=N0(o0.params),T0();break;case"gchordOn":m.gChordOn(o0);break;case"beat":z=o0.beats[0],G=o0.beats[1],T=o0.beats[2];break;case"vol":O=o0.volume;break;case"volinc":H=o0.volume;break;case"beataccents":L=o0.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":m.paramChange(o0);break;default:console.log("MIDI creation. Unknown el_type: "+o0.el_type+`
`);break}}t[0].instrument===void 0&&(t[0].instrument=p||0),e&&t.unshift(e),c.push(t),m.finish(),F.length>0&&(N=!0)}return Q.detuneOctave&&i0(c,parseInt(Q.detuneOctave,10)),m.addTrack(c),F.length>0&&c.push(F),{tempo:d,instrument:p,tracks:c,totalDuration:l}};function Y(j){for(var Q=t.length-1;Q>=0;Q--)if(t[Q].cmd==="program"){t[Q].channel=j;return}}function U(j){return j/1e6}function V(j){return Math.round(j*g*1e6)/1e6}function K(j,Q){for(var r0=0;r0<j.length;r0++){for(var _=j[r0],t0={},p0=Q.qpm,b0=0,l0=1,o0=0;o0<_.length;o0++){var u0=_[o0];if(u0.el_type==="tempo"){p0?l0=u0.qpm?p0/u0.qpm:1:p0=u0.qpm;continue}u0.time=b0;var B0=u0.duration?u0.duration:0;if(b0+=Math.round(B0*l0*1e6),u0.pitches){for(var m0=0;m0<u0.pitches.length;m0++){var f0=u0.pitches[m0];if(f0){if(f0.duration=u0.duration,f0.startTie)t0[f0.pitch]===void 0?t0[f0.pitch]={el:o0,pitch:m0}:(_[t0[f0.pitch].el].pitches[t0[f0.pitch].pitch].duration+=f0.duration,u0.pitches[m0]=null);else if(f0.endTie){var M0=t0[f0.pitch];if(M0){var k0=f0.duration;delete _[M0.el].pitches[M0.pitch].startTie,_[M0.el].pitches[M0.pitch].duration+=k0,u0.pitches[m0]=null,delete t0[f0.pitch]}else delete f0.endTie}}}delete u0.duration}}for(var y0 in t0)if(t0.hasOwnProperty(y0)){var A0=t0[y0];delete _[A0.el].pitches[A0.pitch].startTie}}}function q(j){switch(parseInt(j.den,10)){case 2:return .5;case 4:return .25;case 8:return j.num%3===0?.375:.125;case 16:return .125}return .25}function a0(j,Q,r0){var _=r0-j;return _/Q}function J(j,Q){if(Q)return 0;var r0;if(O!=null)r0=O,O=void 0;else if(!L)r0=G;else if(W>j)r0=T;else{var _=a0(M,q(b),j);_===0?r0=z:parseInt(_,10)===_?r0=G:r0=T}return H&&(r0+=H,H=void 0),r0<0&&(r0=0),r0>127&&(r0=127),Q?0:r0}function s0(j,Q){var r0={};if(j.decoration)for(var _=0;_<j.decoration.length;_++)j.decoration[_]==="staccato"?r0.thisBreakBetweenNotes="staccato":j.decoration[_]==="tenuto"?r0.thisBreakBetweenNotes="tenuto":j.decoration[_]==="accent"?r0.velocity=Math.min(127,Q*1.5):j.decoration[_]==="trill"?r0.noteModification="trill":j.decoration[_]==="lowermordent"?r0.noteModification="lowermordent":j.decoration[_]==="uppermordent"||j.decoration[_]==="mordent"?r0.noteModification="mordent":j.decoration[_]==="turn"?r0.noteModification="turn":j.decoration[_]==="roll"&&(r0.noteModification="roll");return r0}function c0(j,Q){var r0,_,t0=Q.start,p0,b0=Q.duration,l0=V(1/32);switch(j){case"trill":for(var o0=2;b0>0;)t.push({cmd:"note",pitch:Q.pitch+o0,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),o0=o0===2?0:2,b0-=l0,t0+=l0;break;case"mordent":t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),b0-=l0,t0+=l0,t.push({cmd:"note",pitch:Q.pitch+2,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),b0-=l0,t0+=l0,t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0,duration:b0,gap:0,instrument:o});break;case"lowermordent":t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),b0-=l0,t0+=l0,t.push({cmd:"note",pitch:Q.pitch-2,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),b0-=l0,t0+=l0,t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0,duration:b0,gap:0,instrument:o});break;case"turn":l0=Q.duration/4,t.push({cmd:"note",pitch:Q.pitch+2,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0+l0,duration:l0,gap:0,instrument:o,style:"decoration"}),t.push({cmd:"note",pitch:Q.pitch-1,volume:Q.volume,start:t0+l0*2,duration:l0,gap:0,instrument:o,style:"decoration"}),t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0+l0*3,duration:l0,gap:0,instrument:o,style:"decoration"});break;case"roll":for(;b0>0;)t.push({cmd:"note",pitch:Q.pitch,volume:Q.volume,start:t0,duration:l0,gap:0,instrument:o,style:"decoration"}),b0-=l0*2,t0+=l0*2;break}}function v0(j,Q){var r0=J(U(j.time),Q);m.processChord(j);var _;if(j.gracenotes&&j.pitches&&j.pitches.length>0&&j.pitches[0]&&(_=g0(j.gracenotes,j.pitches[0].duration),j.elem&&(j.elem.midiGraceNotePitches=S0(_,U(j.time),r0*2/3,o))),j.elem){var t0=U(j.time),p0=t0/P/d*60*1e3;if(j.elem.currentTrackMilliseconds===void 0)j.elem.currentTrackMilliseconds=p0,j.elem.currentTrackWholeNotes=t0;else if(j.elem.currentTrackMilliseconds.length===void 0)j.elem.currentTrackMilliseconds!==p0&&(j.elem.currentTrackMilliseconds=[j.elem.currentTrackMilliseconds,p0],j.elem.currentTrackWholeNotes=[j.elem.currentTrackWholeNotes,t0]);else{for(var b0=!1,l0=0;l0<j.elem.currentTrackMilliseconds.length;l0++)j.elem.currentTrackMilliseconds[l0]===p0&&(b0=!0);b0||(j.elem.currentTrackMilliseconds.push(p0),j.elem.currentTrackWholeNotes.push(t0))}}if(j.pitches){var o0="",u0=s0(j,r0);u0.thisBreakBetweenNotes&&(o0=u0.thisBreakBetweenNotes),u0.velocity&&(r0=u0.velocity);var B0=j.pitches;j.style==="rhythm"&&(B0=m.setRhythmHead(!0,j)),j.elem&&(j.elem.midiPitches=[]);for(var m0=0;m0<B0.length;m0++){var f0=B0[m0];if(f0){f0.startSlur&&(D+=f0.startSlur.length),f0.endSlur&&(D-=f0.endSlur.length);var M0=f0.actualPitch?f0.actualPitch:e0(f0);if(o===E&&X){var k0=x(f0);k0&&X[k0]&&(M0=X[k0].sound)}var y0={cmd:"note",pitch:M0,volume:r0,start:U(j.time),duration:V(f0.duration),instrument:o,startChar:j.elem.startChar,endChar:j.elem.endChar};if(y0=w0(y0),j.gracenotes&&(y0.duration=y0.duration/2,y0.start=y0.start+y0.duration),j.elem&&j.elem.midiPitches.push(y0),u0.noteModification)c0(u0.noteModification,y0);else{switch(D>0?y0.endType="tenuto":o0&&(y0.endType=o0),y0.endType){case"tenuto":y0.gap=S;break;case"staccato":var A0=y0.duration*A;y0.gap=d/60*A0;break;default:y0.gap=y;break}t.push(y0)}}}n=t.length-1}var P0=Z(j);l=Math.max(l,U(j.time)+V(P0))}function Z(j){return j.pitches&&j.pitches.length>0&&j.pitches[0]?j.pitches[0].duration:j.elem?j.elem.duration:j.duration}var h0=[0,2,4,5,7,9,11];function e0(j){if(j.midipitch!==void 0)return j.midipitch;var Q=j.pitch;if(j.accidental)switch(j.accidental){case"sharp":a[Q]=1;break;case"flat":a[Q]=-1;break;case"natural":a[Q]=0;break;case"dblsharp":a[Q]=2;break;case"dblflat":a[Q]=-2;break;case"quartersharp":a[Q]=.25;break;case"quarterflat":a[Q]=-.25;break}var r0=C0(Q)*12+h0[E0(Q)]+60;return a[Q]!==void 0?r0+=a[Q]:r0+=f[E0(Q)],r0+=r,r0}function d0(j){var Q=[0,0,0,0,0,0,0];if(!j.accidentals)return Q;for(var r0=0;r0<j.accidentals.length;r0++){var _=j.accidentals[r0],t0;switch(_.acc){case"flat":t0=-1;break;case"quarterflat":t0=-.25;break;case"sharp":t0=1;break;case"quartersharp":t0=.25;break;default:t0=0;break}var p0=_.note.toLowerCase(),b0=E0(p0.charCodeAt(0)-99);Q[b0]+=t0}return Q}function g0(j,Q){for(var r0=0,_=[],t0,p0=0;p0<j.length;p0++)t0=j[p0],r0+=t0.duration;var b0=Q/2/r0;for(p0=0;p0<j.length;p0++){t0=j[p0];var l0=e0(t0);if(o===E&&X){var o0=x(t0);o0&&X[o0]&&(l0=X[o0].sound)}var u0={pitch:l0,duration:t0.duration*b0};u0=w0(u0),_.push(u0)}return _}function S0(j,Q,r0,_){var t0=[];r0=Math.round(r0);for(var p0=0;p0<j.length;p0++){var b0=j[p0];t.push({cmd:"note",pitch:b0.pitch,volume:r0,start:Q,duration:b0.duration,gap:0,instrument:_,style:"grace"}),t0.push({pitch:b0.pitch,durationInMeasures:b0.duration,volume:r0,instrument:_}),Q+=b0.duration}return t0}var x0=.02930223664349;function w0(j){var Q=""+j.pitch;return Q.indexOf(".75")>=0?(j.pitch=Math.round(j.pitch),j.cents=-50):Q.indexOf(".25")>=0&&(j.pitch=Math.round(j.pitch),j.cents=50),j}function C0(j){return Math.floor(j/7)}function E0(j){return j=j%7,j<0&&(j+=7),j}function N0(j){if(j.pattern.length===0||j.on===!1)return{on:!1};for(var Q=j.pattern[0],r0=[],_="",t0=0,p0=0;p0<Q.length;p0++)if(Q[p0]==="d"&&t0++,Q[p0]==="d"||Q[p0]==="z")_.length!==0?(r0.push(_),_=Q[p0]):_=_+Q[p0];else{if(_.length===0)return{on:!1};_=_+Q[p0]}if(_.length!==0&&r0.push(_),j.pattern.length!==t0*2+1)return{on:!1};for(var b0={on:!0,bars:j.bars,pattern:[]},l0=q(b),o0=0,u0=0;u0<r0.length;u0++){_=r0[u0];for(var B0=1,m0=!1,f0=0,M0=1;M0<_.length;M0++)switch(_[M0]){case"/":f0!==0&&(B0*=f0),f0=0,m0=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":f0=f0*10+_[M0];break;default:return{on:!1}}m0?(f0===0&&(f0=2),B0/=f0):f0&&(B0*=f0),_[0]==="d"?(b0.pattern.push({len:B0*l0,pitch:j.pattern[1+o0],velocity:j.pattern[1+o0+t0]}),o0++):b0.pattern.push({len:B0*l0,pitch:null})}return I=j.bars?j.bars:1,b0}function T0(){if(!(!B||!B.pattern)){for(var j=B,Q=0,r0=b.num/b.den,_=0;_<j.pattern.length;_++)Q+=j.pattern[_].len;var t0=Q/I/r0;for(_=0;_<j.pattern.length;_++)j.pattern[_].len=j.pattern[_].len/t0;B=j}}function n0(j){if(!(F.length===0&&!B.on)){var Q=b.num/b.den;if(F.length===0){if(l<Q)return;F.push({cmd:"program",channel:j,instrument:E})}if(B.on)for(var r0=M,_=0;_<B.pattern.length;_++){var t0=V(B.pattern[_].len);B.pattern[_].pitch&&F.push({cmd:"note",pitch:B.pattern[_].pitch,volume:B.pattern[_].velocity,start:r0,duration:t0,gap:0,instrument:E}),r0+=t0}}}function i0(j,Q){for(var r0={},_=0;_<j.length;_++)for(var t0=0;t0<j[_].length;t0++){var p0=j[_][t0];p0.cmd==="note"&&(r0[p0.start]===void 0&&(r0[p0.start]=[]),r0[p0.start].push({track:_,event:t0,pitch:p0.pitch}))}var b0=Object.keys(r0);for(_=0;_<b0.length;_++){var l0=r0[b0[_]];if(l0.length>1){l0=l0.sort(function(f0,M0){return f0.pitch-M0.pitch});var o0=l0[l0.length-1],u0=o0.pitch%12,B0=!1;for(t0=0;!B0&&t0<l0.length-1;t0++)l0[t0].pitch%12===u0&&(B0=!0);if(B0){var m0=j[o0.track][o0.event];m0.cents||(m0.cents=0),m0.cents+=Q}}}}})(),R.exports=C},1160:function(R,$){var k=function(d,u,g,p){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=d,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!u,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=p,this.tempoChangeFactor=1,this.bassInstrument=g.bassprog&&g.bassprog.length>=1?g.bassprog[0]:0,this.chordInstrument=g.chordprog&&g.chordprog.length>=1?g.chordprog[0]:0,this.bassOctaveShift=g.bassprog&&g.bassprog.length===2?g.bassprog[1]:0,this.chordOctaveShift=g.chordprog&&g.chordprog.length===2?g.chordprog[1]:0,this.boomVolume=g.bassvol&&g.bassvol.length===1?g.bassvol[0]:64,this.chickVolume=g.chordvol&&g.chordvol.length===1?g.chordvol[0]:48,g.gchord&&g.gchord.length>0?this.overridePattern=x(g.gchord[0]):this.overridePattern=void 0};k.prototype.setMeter=function(c){this.meter=c},k.prototype.setTempoChangeFactor=function(c){this.tempoChangeFactor=c},k.prototype.setLastBarTime=function(c){this.lastBarTime=c},k.prototype.setTranspose=function(c){this.transpose=c},k.prototype.setRhythmHead=function(c,d){this.hasRhythmHead=c;var u=[];if(c&&this.lastChord&&this.lastChord.chick)for(var g=0;g<this.lastChord.chick.length;g++){var p=Object.assign({},d.pitches[0]);p.actualPitch=this.lastChord.chick[g],u.push(p)}return u},k.prototype.barEnd=function(c){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,r(c.time)),this.currentChords=[]),this.chordLastBar=this.lastChord},k.prototype.gChordOn=function(c){this.chordsOff||(this.gChordTacet=c.tacet)},k.prototype.paramChange=function(c){switch(c.el_type){case"gchord":c.param&&c.param.length>0?this.overridePattern=x(c.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=c.value,c.octaveShift!=null&&c.octaveShift!=null?this.bassOctaveShift=c.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=c.value,c.octaveShift!=null&&c.octaveShift!=null?this.chordOctaveShift=c.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=c.param;break;case"chordvol":this.chickVolume=c.param;break;default:console.log("unhandled midi param",c)}},k.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)},k.prototype.addTrack=function(c){this.chordTrackEmpty()||c.push(this.chordTrack)},k.prototype.findChord=function(c){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!c.chord||c.chord.length===0)return null;for(var d=0;d<c.chord.length;d++){var u=c.chord[d];if(u.position==="default")return u.name;if(this.breakSynonyms.indexOf(u.name.toLowerCase())>=0)return"break"}return null},k.prototype.interpretChord=function(c){if(c.length!==0){if(c==="break")return{chick:[]};var d=c.substring(0,1);if(d==="("){if(c=c.substring(1,c.length-2),c.length===0)return;d=c.substring(0,1)}var u=this.basses[d];if(u){for(var g=this.transpose;g<-8;)g+=12;for(;g>8;)g-=12;u+=g,u<33?u+=12:u>44&&(u-=12);var p=u;u+=this.bassOctaveShift*12;var o=u-5,t;c.length===1&&(t=this.chordNotes(u,""));var n=c.substring(1),e=n.substring(0,1);e==="b"||e==="\u266D"?(p--,u--,o--,n=n.substring(1)):(e==="#"||e==="\u266F")&&(p++,u++,o++,n=n.substring(1));var l=n.split("/");if(t=this.chordNotes(p,l[0]),t.length>=3){var m=t[2]-t[0];o=o+m-7}if(l.length===2){var b=this.basses[l[1].substring(0,1)];if(b){var E=l[1].substring(1),M={"#":1,"\u266F":1,b:-1,"\u266D":-1}[E]||0;u=this.basses[l[1].substring(0,1)]+M+g,u+=this.bassOctaveShift*12,o=u}}return{boom:u,boom2:o,chick:t}}}},k.prototype.chordNotes=function(c,d){var u=this.chordIntervals[d];u||(d.slice(0,2).toLowerCase()==="ma"||d[0]==="M"?u=this.chordIntervals.M:d[0]==="m"||d[0]==="-"?u=this.chordIntervals.m:u=this.chordIntervals.M),c+=12,c+=this.chordOctaveShift*12;for(var g=[],p=0;p<u.length;p++)g.push(c+u[p]);return g},k.prototype.writeNote=function(c,d,u,g,p,o){c!==void 0&&this.chordTrack.push({cmd:"note",pitch:c,volume:u,start:this.lastBarTime+g*h(d,this.tempoChangeFactor),duration:h(p,this.tempoChangeFactor),gap:0,instrument:o})},k.prototype.chordTrackEmpty=function(){for(var c=!0,d=0;d<this.chordTrack.length&&c;d++)this.chordTrack[d].cmd==="note"&&(c=!1);return c},k.prototype.resolveChords=function(c,d){if(!this.hasRhythmHead){var u=this.meter.num,g=this.meter.den,p=1/g,o=p/2,t=parseInt(u,10)/parseInt(g,10),n=t-(d-c)/this.tempoChangeFactor;Math.abs(n)<1e-5&&(n=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var e=a(this.currentChords,8*u/g,p),l=this.overridePattern?this.overridePattern:this.rhythmPatterns[u+"/"+g];if(n){l=[];for(var m=(d-c)/this.tempoChangeFactor*8,b=0;b<m/2;b+=2)l.push("chick"),l.push("")}if(!l){l=[];for(var b=0;b<8*u/g/2;b++)l.push("chick"),l.push("")}for(var E=!0,M=Math.min(l.length,e.length),b=0;b<M;b++){b>0&&e[b-1]&&e[b]&&e[b-1].boom!==e[b].boom&&(E=!0);var L=l[b],z=L.indexOf("boom")>=0,G=!z&&b!==0&&l[0].indexOf("boom")>=0&&(!e[b-1]||e[b-1].boom!==e[b].boom),T=C(e[b],L,E,G);z&&(E=!1);for(var P=0;P<T.length;P++)this.writeNote(T[P],.125,z||G?this.boomVolume:this.chickVolume,b,o,z||G?this.bassInstrument:this.chordInstrument),G?G=!1:z=!1}}},k.prototype.processChord=function(c){if(!this.chordTrackFinished){var d=this.findChord(c);if(d){var u=this.interpretChord(d);if(u){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=u;var g=f(this.lastBarTime,r(c.time));this.currentChords.push({chord:this.lastChord,beat:g,start:r(c.time)})}}}};function C(c,d,u,g){var p=[];if(!c)return p;d.indexOf("boom")>=0?p.push(u?c.boom:c.boom2):g&&p.push(c.boom);var o=c.chick.length;if(d.indexOf("chick")>=0)for(var t=0;t<o;t++)p.push(c.chick[t]);switch(d){case"DO":p.push(c.chick[0]);break;case"MI":p.push(c.chick[1]);break;case"SOL":p.push(w(c,2));break;case"TI":p.push(w(c,3));break;case"TOP":p.push(w(c,4));break;case"do":p.push(c.chick[0]+12);break;case"mi":p.push(c.chick[1]+12);break;case"sol":p.push(w(c,2)+12);break;case"ti":p.push(w(c,3)+12);break;case"top":p.push(w(c,4)+12);break}return p}function w(c,d){var u=Math.floor(d/c.chick.length),g=c.chick[d%c.chick.length];return g+u*12}function x(c){for(var d=[],u=0;u<c.length;u++){var g=c[u];switch(g){case"z":d.push("");break;case"2":d.push("");break;case"c":d.push("chick");break;case"b":d.push("boom&chick");break;case"f":d.push("boom");break;case"G":d.push("DO");break;case"H":d.push("MI");break;case"I":d.push("SOL");break;case"J":d.push("TI");break;case"K":d.push("TOP");break;case"g":d.push("do");break;case"h":d.push("mi");break;case"i":d.push("sol");break;case"j":d.push("ti");break;case"k":d.push("top");break}}return d}function a(c,d,u){u=u*8;var g=[];if(c.length===0)return g;for(var p=c[0].chord,o=1;o<c.length;o++){for(var t=c[o];g.length<t.beat;)g.push(p);p=t.chord}for(;g.length<d;)g.push(p);return g}function f(c,d){var u=d-c;return u*8}k.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"],k.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43},k.prototype.chordIntervals={dim:[0,3,6],"\xB0":[0,3,6],"\u02DA":[0,3,6],dim7:[0,3,6,9],"\xB07":[0,3,6,9],"\u02DA7":[0,3,6,9],\u00F87:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7\u266D5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7\u266D5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-\u22069":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7\u266D9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"\u22067":[0,4,7,11],\u03947:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7\u266F5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9\u266F5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]},k.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function r(c){return c/1e6}function h(c,d){return Math.round(c*d*1e6)/1e6}R.exports=k},1161:function(R,$){function k(c,d){d||(d={});for(var u=!!d.lineBreaks,g=[],p=!1,o=[],t=[],n=[],e=[],l=[],m=[],b=[],E=0;E<c.length;E++){var M=c[E];if(M.staff){if(p&&!M.vskip)for(var L=g[g.length-1],z=0;z<L.staff.length;z++){var G=M.staff[z],T=L.staff[z];if(G&&(r(G.meter,o[z])||(w(G.meter,G.voices),o[z]=G.meter,delete G.meter),r(G.key,t[z])||(x(G.key,G.voices),t[z]=G.key,delete G.key),G.title&&(T.abbrevTitle=G.title),r(G.clef,n[z])||(a(G.clef,G.voices),n[z]=G.clef,delete G.clef),r(G.vocalfont,e[z])||(f(G.vocalfont,G.voices,"vocalfont"),e[z]=G.vocalfont,delete G.vocalfont),r(G.gchordfont,l[z])||(f(G.gchordfont,G.voices,"gchordfont"),l[z]=G.gchordfont,delete G.gchordfont),r(G.tripletfont,m[z])||(f(G.tripletfont,G.voices,"tripletfont"),m[z]=G.tripletfont,delete G.tripletfont),r(G.annotationfont,b[z])||(f(G.annotationfont,G.voices,"annotationfont"),b[z]=G.annotationfont,delete G.annotationfont)),G)for(var P=0;P<T.voices.length;P++){var O=T.voices[P],H=G.voices[P];u&&O.push({el_type:"break"}),H&&(T.voices[P]=O.concat(H))}}else{for(var D=0;D<M.staff.length;D++)t[D]=M.staff[D].key,o[D]=M.staff[D].meter,n[D]=M.staff[D].clef;g.push(h(M))}p=!0}else p=!1,g.push(M)}return g}function C(c,d){return c==="abselem"?"abselem":d}function w(c,d){c.el_type="meter",c.startChar=-1,c.endChar=-1;for(var u=0;u<d.length;u++)d[u].unshift(c)}function x(c,d){c.el_type="key",c.startChar=-1,c.endChar=-1;for(var u=0;u<d.length;u++)d[u].unshift(c)}function a(c,d){c.el_type="clef",c.startChar=-1,c.endChar=-1;for(var u=0;u<d.length;u++)d[u].unshift(c)}function f(c,d,u){c.el_type="font",c.type=u,c.startChar=-1,c.endChar=-1;for(var g=0;g<d.length;g++)d[g].unshift(c)}function r(c,d){if(!c)return!0;var u=JSON.stringify(c,C),g=JSON.stringify(d,C);return u===g}function h(c){for(var d={},u=Object.keys(c),g=0;g<u.length;g++)if(u[g]!=="staff")d[u[g]]=c[u[g]];else{d.staff=[];for(var p=0;p<c.staff.length;p++){for(var o={},t=Object.keys(c.staff[p]),n=0;n<t.length;n++)if(t[n]!=="voices")o[t[n]]=c.staff[p][t[n]];else{o.voices=[];for(var e=0;e<c.staff[p].voices.length;e++)o.voices.push([].concat(c.staff[p].voices[e]))}d.staff.push(o)}}return d}R.exports=k},1162:function(R,$,k){var C=k(1108),w=function(T){var P=this,O={},H="";T.reset(),this.setVisualTranspose=function(D){D&&(T.visualTranspose=D)},this.cleanUp=function(D,F,N){t(T),delete T.runningFonts,a(T),T.metaText.tempo&&T.metaText.tempo.bpm&&!T.metaText.tempo.duration&&(T.metaText.tempo.duration=[T.getBeatLength()]);var B=!1,I,W,X;for(I=0;I<T.lines.length;I++)if(T.lines[I].staff!==void 0){var y=!1;for(W=0;W<T.lines[I].staff.length;W++)if(T.lines[I].staff[W]===void 0)B=!0,T.lines[I].staff[W]=null;else for(X=0;X<T.lines[I].staff[W].voices.length;X++)T.lines[I].staff[W].voices[X]===void 0?T.lines[I].staff[W].voices[X]=[]:n(T.lines[I].staff[W].voices[X])&&(y=!0);y||(T.lines[I]=null,B=!0)}if(B&&(T.lines=T.lines.filter(function(K){return!!K}),T.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(q){return!!q}))})),D)for(;d(T.lines,D););if(F){for(B=!1,I=0;I<T.lines.length;I++)if(T.lines[I].staff!==void 0)for(W=0;W<T.lines[I].staff.length;W++){var S=!1;for(X=0;X<T.lines[I].staff[W].voices.length;X++)e(T.lines[I].staff[W].voices[X])&&(S=!0);S||(B=!0,T.lines[I].staff[W]=null)}B&&T.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(q){return!!q}))})}for(h(T.lines),I=0;I<T.lines.length;I++)if(T.lines[I].staff)for(W=0;W<T.lines[I].staff.length;W++)delete T.lines[I].staff[W].workingClef;for(;f(T););for(var I=0;I<T.lines.length;I++){var A=T.lines[I].staff;if(A)for(T.staffNum=0;T.staffNum<A.length;T.staffNum++)for(A[T.staffNum].clef&&C.fixClef(A[T.staffNum].clef),T.voiceNum=0;T.voiceNum<A[T.staffNum].voices.length;T.voiceNum++){var Y=A[T.staffNum].voices[T.voiceNum];c(Y,T.staffNum,T.voiceNum,N);for(var U=0;U<Y.length;U++)Y[U].el_type==="clef"&&C.fixClef(Y[U]);if(Y.length>0&&Y[Y.length-1].barNumber){var V=g(T.lines,I);V&&(V.staff[0].barNumber=Y[Y.length-1].barNumber),delete Y[Y.length-1].barNumber}}}return delete T.staffNum,delete T.voiceNum,delete T.lineNum,delete T.potentialStartBeam,delete T.potentialEndBeam,delete T.vskipPending,N},this.addTieToLastNote=function(D){var F=p(T);return F&&F.pitches&&F.pitches.length>0?(F.pitches[0].startTie={},D&&(F.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(D,F,N,B){if(B.el_type=D,F!==null&&(B.startChar=F),N!==null&&(B.endChar=N),D==="note"){var I=o(B);I>=.25||B.force_end_beam_last&&T.potentialStartBeam!==void 0?E(T):B.end_beam&&T.potentialStartBeam!==void 0?B.rest===void 0?b(B,T):E(T):B.rest===void 0&&(T.potentialStartBeam===void 0?B.end_beam||(T.potentialStartBeam=B,delete T.potentialEndBeam):T.potentialEndBeam=B)}else E(T);return delete B.end_beam,delete B.force_end_beam_last,B.rest&&B.rest.type==="invisible"&&delete B.decoration,T.lines.length<=T.lineNum||T.lines[T.lineNum].staff.length<=T.staffNum?!1:(m(P,T,B,O,H),!0)},this.appendStartingElement=function(D,F,N,B){t(T);var I;D==="key"&&(I=B.impliedNaturals,delete B.impliedNaturals,delete B.explicitAccidentals);var W=Object.assign({},B);if(T.lines[T.lineNum]){var X=T.lines[T.lineNum].staff;if(X){X.length<=T.staffNum&&(X[T.staffNum]={},X[T.staffNum].clef=Object.assign({},X[0].clef),X[T.staffNum].key=Object.assign({},X[0].key),X[0].meter&&(X[T.staffNum].meter=Object.assign({},X[0].meter)),X[T.staffNum].workingClef=Object.assign({},X[0].workingClef),X[T.staffNum].voices=[[]]),D==="clef"&&(X[T.staffNum].workingClef=W);for(var y=X[T.staffNum].voices[T.voiceNum],S=0;S<y.length;S++){if(y[S].el_type==="note"||y[S].el_type==="bar"){W.el_type=D,W.startChar=F,W.endChar=N,I&&(W.accidentals=I.concat(W.accidentals)),y.push(W);return}if(y[S].el_type===D){W.el_type=D,W.startChar=F,W.endChar=N,I&&(W.accidentals=I.concat(W.accidentals)),y[S]=W;return}}X[T.staffNum][D]=B}}},this.addSubtitle=function(D,F){l(T,{subtitle:{text:D,startChar:F.startChar,endChar:F.endChar}})},this.addSpacing=function(D){T.vskipPending=D},this.addNewPage=function(D){l(T,{newpage:D})},this.addSeparator=function(D,F,N,B){l(T,{separator:{spaceAbove:Math.round(D),spaceBelow:Math.round(F),lineLength:Math.round(N),startChar:B.startChar,endChar:B.endChar}})},this.addText=function(D,F){l(T,{text:{text:D,startChar:F.startChar,endChar:F.endChar}})},this.addCentered=function(D){l(T,{text:[{text:D,center:!0}]})},this.changeVoiceScale=function(D){P.appendElement("scale",null,null,{size:D})},this.changeVoiceColor=function(D){P.appendElement("color",null,null,{color:D})},this.startNewLine=function(D){t(T),D.currentVoiceName&&(H=D.currentVoiceName,O[D.currentVoiceName]=D),T.lines[T.lineNum]===void 0?G(P,T,D):T.lines[T.lineNum].staff===void 0?(T.lineNum++,this.startNewLine(D)):T.lines[T.lineNum].staff[T.staffNum]===void 0?z(P,T,D):T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum]===void 0?L(P,T,D):n(T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum])?(T.lineNum++,this.startNewLine(D)):D.part&&P.appendElement("part",D.part.startChar,D.part.endChar,{title:D.part.title})},this.setRunningFont=function(D,F){T.runningFonts[D]=F},this.setBarNumberImmediate=function(D){var F=this.getCurrentVoice();if(F&&F.length>0){var N=F[F.length-1];if(N.el_type==="bar")N.barNumber!==void 0&&(N.barNumber=D);else return D-1}return D},this.hasBeginMusic=function(){for(var D=0;D<T.lines.length;D++)if(T.lines[D].staff)return!0;return!1},this.isFirstLine=function(D){for(var F=D-1;F>=0;F--)if(T.lines[F].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var D=u(T.lines,T.lineNum);if(!D)return null;var F=D.staff[T.staffNum];return F&&F.voices[T.voiceNum]!==void 0?F.voices[T.voiceNum]:null},this.setCurrentVoice=function(D,F,N){T.staffNum=D,T.voiceNum=F,H=N;for(var B=0;B<T.lines.length;B++)if(T.lines[B].staff&&(T.lines[B].staff[D]===void 0||T.lines[B].staff[D].voices[F]===void 0||!n(T.lines[B].staff[D].voices[F])))return T.lineNum=B,!!(!T.lines[B].staff[D]||T.lines[B].staff[D].voices[F]);return T.lineNum=B,!1},this.addMetaText=function(D,F,N){T.metaText[D]===void 0?(T.metaText[D]=F,T.metaTextInfo[D]=N):(typeof T.metaText[D]=="string"&&typeof F=="string"?T.metaText[D]+=`
`+F:(T.metaText[D]==="string"&&(T.metaText[D]=[{text:T.metaText[D]}]),typeof F=="string"&&(F=[{text:F}]),T.metaText[D]=T.metaText[D].concat(F)),T.metaTextInfo[D].endChar=N.endChar)},this.addMetaTextArray=function(D,F,N){T.metaText[D]===void 0?(T.metaText[D]=[F],T.metaTextInfo[D]=N):(T.metaText[D].push(F),T.metaTextInfo[D].endChar=N.endChar)},this.addMetaTextObj=function(D,F,N){T.metaText[D]=F,T.metaTextInfo[D]=N}};function x(T){if(!T||typeof T=="string")return!1;for(var P=0;P<T.length;P++)if(typeof T[P]!="string")return!1;return!0}function a(T){x(T.metaText.notes)&&(T.metaText.notes=T.metaText.notes.join(`
`)),x(T.metaText.history)&&(T.metaText.history=T.metaText.history.join(`
`))}function f(T){for(var P=!1,O=[],H=0;H<T.lines.length;H++){var D=T.lines[H];if(D.staff)for(var F=0;F<D.staff.length;F++){for(var N=D.staff[F],B=[],I=0;I<N.voices.length;I++){var W=N.voices[I];B.push({hasOverlay:!1,voice:[],snip:[]}),O[H]=0;for(var X=0,y=!1,S=0,A=-1,Y=0;Y<W.length;Y++){var U=W[Y];if(U.el_type==="overlay"&&!y){P=!0,y=!0,A=Y,B[I].hasOverlay=!0,S===0&&(S=O[H]);for(var V=0;V<H;V++)O[V]&&T.lines[V].staff&&N.voices.length>=T.lines[V].staff[0].voices.length&&T.lines[V].staff[0].voices.push([{el_type:"note",duration:O[V],rest:{type:"invisible"},startChar:U.startChar,endChar:U.endChar}])}else U.el_type==="bar"?(y?(y=!1,B[I].snip.push({start:A,len:Y-A}),B[I].voice.push(U)):(X>0&&B[I].voice.push({el_type:"note",duration:X,rest:{type:"invisible"},startChar:U.startChar,endChar:U.endChar}),B[I].voice.push(U)),X=0):U.el_type==="note"?y?B[I].voice.push(U):(X+=U.duration,O[H]+=U.duration):(U.el_type==="scale"||U.el_type==="stem"||U.el_type==="overlay"||U.el_type==="style"||U.el_type==="transpose"||U.el_type==="color")&&B[I].voice.push(U)}B[I].hasOverlay&&B[I].snip.length===0&&B[I].snip.push({start:A,len:W.length-A})}for(I=0;I<B.length;I++){var K=B[I];if(K.hasOverlay){K.voice.splice(0,0,{el_type:"stem",direction:"down"}),N.voices.push(K.voice);for(var q=K.snip.length-1;q>=0;q--){var a0=K.snip[q];N.voices[I].splice(a0.start,a0.len),N.voices[I].splice(a0.start+1,0,{el_type:"stem",direction:"auto"});var J=r(N.voices[I],a0.start);N.voices[I].splice(J,0,{el_type:"stem",direction:"up"})}for(q=0;q<N.voices[N.voices.length-1].length;q++){N.voices[N.voices.length-1][q]=Object.assign({},N.voices[N.voices.length-1][q]);var s0=N.voices[N.voices.length-1][q];s0.el_type==="bar"&&s0.startEnding&&delete s0.startEnding,s0.el_type==="bar"&&s0.endEnding&&delete s0.endEnding}}}}}return P}function r(T,P){for(var O=P-1;O>0&&T[O].el_type!=="bar";O--);return O}function h(T){for(var P=!0,O=0;O<T.length;O++){var H=T[O];if(H.staff){for(var D=0;D<H.staff.length;D++){var F=H.staff[D];if(F.title){for(var N=!1,B=0;B<F.title.length;B++)F.title[B]?(F.title[B]=P?F.title[B].name:F.title[B].subname,F.title[B]?N=!0:F.title[B]=""):F.title[B]="";N||delete F.title}}P=!1}}}function c(T,P,O,H){H[P]||(H[P]=[]),H[P][O]||(H[P][O]=[]);for(var D,F=function(K,q,a0){if(H[P][O][a0]===void 0){for(D=0;D<H[P][O].length;D++)if(H[P][O][D]!==void 0){a0=D;break}if(H[P][O][a0]===void 0){var J=a0*100+1;K.endSlur.forEach(function(v0){J===v0&&--J}),H[P][O][a0]=[J]}}for(var s0,c0=0;c0<q;c0++)s0=H[P][O][a0].pop(),K.endSlur.push(s0);return H[P][O][a0].length===0&&delete H[P][O][a0],s0},N=function(K,q,a0,J){K.startSlur=[],H[P][O][a0]===void 0&&(H[P][O][a0]=[]);for(var s0=a0*100+1,c0=0;c0<q;c0++)J&&(J.forEach(function(v0){s0===v0&&++s0}),J.forEach(function(v0){s0===v0&&++s0}),J.forEach(function(v0){s0===v0&&++s0})),H[P][O][a0].forEach(function(v0){s0===v0&&++s0}),H[P][O][a0].forEach(function(v0){s0===v0&&++s0}),H[P][O][a0].push(s0),K.startSlur.push({label:s0}),K.dottedSlur&&(K.startSlur[K.startSlur.length-1].style="dotted",delete K.dottedSlur),s0++},B=0;B<T.length;B++){var I=T[B];if(I.el_type==="note"){if(I.gracenotes)for(var W=0;W<I.gracenotes.length;W++){if(I.gracenotes[W].endSlur){var X=I.gracenotes[W].endSlur;I.gracenotes[W].endSlur=[];for(var y=0;y<X;y++)F(I.gracenotes[W],1,20)}I.gracenotes[W].startSlur&&(D=I.gracenotes[W].startSlur,N(I.gracenotes[W],D,20))}if(I.endSlur&&(D=I.endSlur,I.endSlur=[],F(I,D,0)),I.startSlur&&(D=I.startSlur,N(I,D,0)),I.pitches){for(var S=[],A=0;A<I.pitches.length;A++)if(I.pitches[A].endSlur){var Y=I.pitches[A].endSlur;I.pitches[A].endSlur=[];for(var U=0;U<Y;U++){var V=F(I.pitches[A],1,A+1);S.push(V)}}for(A=0;A<I.pitches.length;A++)I.pitches[A].startSlur&&(D=I.pitches[A].startSlur,N(I.pitches[A],D,A+1,S));I.gracenotes&&I.pitches[0].endSlur&&I.pitches[0].endSlur[0]===100&&I.pitches[0].startSlur&&(I.gracenotes[0].endSlur?I.gracenotes[0].endSlur.push(I.pitches[0].startSlur[0].label):I.gracenotes[0].endSlur=[I.pitches[0].startSlur[0].label],I.pitches[0].endSlur.length===1?delete I.pitches[0].endSlur:I.pitches[0].endSlur[0]===100?I.pitches[0].endSlur.shift():I.pitches[0].endSlur[I.pitches[0].endSlur.length-1]===100&&I.pitches[0].endSlur.pop(),H[P][O][1].length===1?delete H[P][O][1]:H[P][O][1].pop())}}}}function d(T,P){for(i=0;i<T.length;i++)if(T[i].staff!==void 0)for(s=0;s<T[i].staff.length;s++){var O=[];for(v=0;v<T[i].staff[s].voices.length;v++)for(var H=T[i].staff[s].voices[v],D=0,F=0;F<H.length;F++)if(H[F].el_type==="bar"){if(D++,D>=P&&F<H.length-1){var N=g(T,i);if(!N){var B=JSON.parse(JSON.stringify(T[i]));T.push(Object.assign({},B)),N=T[T.length-1];for(var I=0;I<N.staff.length;I++)for(var W=0;W<N.staff[I].voices.length;W++)N.staff[I].voices[W]=[]}var X=F+1,y=T[i].staff[s].voices[v].slice(X);return T[i].staff[s].voices[v]=T[i].staff[s].voices[v].slice(0,X),N.staff[s].voices[v]=O.concat(y.concat(N.staff[s].voices[v])),!0}}else H[F].duration||O.push(H[F])}return!1}function u(T,P){for(;P>=0;){if(T[P].staff)return T[P];P--}return null}function g(T,P){for(P++;T.length>P;){if(T[P].staff)return T[P];P++}return null}function p(T){if(!T.lines[T.lineNum]||!T.lines[T.lineNum].staff||!T.lines[T.lineNum].staff[T.staffNum])return null;var P=T.lines[T.lineNum].staff[T.staffNum].voices[T.voiceNum];if(!P)return null;for(var O=P.length-1;O>=0;O--){var H=P[O];if(H.el_type==="note")return H}return null}function o(T){return T.duration?T.duration:0}function t(T){T.potentialStartBeam&&T.potentialEndBeam&&(T.potentialStartBeam.startBeam=!0,T.potentialEndBeam.endBeam=!0),delete T.potentialStartBeam,delete T.potentialEndBeam}function n(T){for(var P=0;P<T.length;P++)if(T[P].el_type==="note"||T[P].el_type==="bar")return!0;return!1}function e(T){for(var P=0;P<T.length;P++)if(T[P].el_type==="note"&&(T[P].rest===void 0||T[P].chord!==void 0))return!0;return!1}function l(T,P){T.vskipPending&&(P.vskip=T.vskipPending,delete T.vskipPending),T.lines.push(P)}function m(T,P,O,H,D){var F=P.lines[P.lineNum].staff[P.staffNum];if(O.pitches!==void 0){var N=F.workingClef.verticalPos;O.pitches.forEach(function(I){I.verticalPos=I.pitch-N})}if(O.gracenotes!==void 0){var B=F.workingClef.verticalPos;O.gracenotes.forEach(function(I){I.verticalPos=I.pitch-B})}F.voices.length<=P.voiceNum&&(H[D]||(H[D]={}),L(T,P,H[D])),F.voices[P.voiceNum].push(O)}function b(T,P){P.potentialStartBeam.startBeam=!0,T.endBeam=!0,delete P.potentialStartBeam,delete P.potentialEndBeam}function E(T){T.potentialStartBeam!==void 0&&T.potentialEndBeam!==void 0&&(T.potentialStartBeam.startBeam=!0,T.potentialEndBeam.endBeam=!0),delete T.potentialStartBeam,delete T.potentialEndBeam}function M(T,P,O){if(T.runningFonts[P]){for(var H=!1,D=Object.keys(O),F=0;F<D.length;F++)T.runningFonts[P][D[F]]!==O[D[F]]&&(H=!0);H&&(T.lines[T.lineNum].staff[T.staffNum][P]=O)}T.runningFonts[P]=O}function L(T,P,O){var H=P.lines[P.lineNum].staff[P.staffNum];if(H.voices[P.voiceNum]=[],H.title||(H.title=[]),H.title[P.voiceNum]={name:O.name,subname:O.subname},O.style&&T.appendElement("style",null,null,{head:O.style}),O.stem)T.appendElement("stem",null,null,{direction:O.stem});else if(P.voiceNum>0){if(H.voices[0]!==void 0){for(var D=!1,F=0;F<H.voices[0].length;F++)H.voices[0].el_type==="stem"&&(D=!0);if(!D){var N={el_type:"stem",direction:"up"};H.voices[0].splice(0,0,N)}}T.appendElement("stem",null,null,{direction:"down"})}O.scale&&T.appendElement("scale",null,null,{size:O.scale}),O.color&&T.appendElement("color",null,null,{color:O.color})}function z(T,P,O){O.key&&O.key.impliedNaturals&&(O.key.accidentals=O.key.accidentals.concat(O.key.impliedNaturals),delete O.key.impliedNaturals),P.lines[P.lineNum].staff[P.staffNum]={voices:[],clef:O.clef,key:O.key,workingClef:O.clef};var H=P.lines[P.lineNum].staff[P.staffNum];O.stafflines!==void 0&&(H.clef.stafflines=O.stafflines,H.workingClef.stafflines=O.stafflines),O.staffscale&&(H.staffscale=O.staffscale),O.annotationfont&&M(P,"annotationfont",O.annotationfont),O.gchordfont&&M(P,"gchordfont",O.gchordfont),O.tripletfont&&M(P,"tripletfont",O.tripletfont),O.vocalfont&&M(P,"vocalfont",O.vocalfont),O.bracket&&(H.bracket=O.bracket),O.brace&&(H.brace=O.brace),O.connectBarLines&&(H.connectBarLines=O.connectBarLines),O.barNumber&&(H.barNumber=O.barNumber),L(T,P,O),O.part&&T.appendElement("part",O.part.startChar,O.part.endChar,{title:O.part.title}),O.meter!==void 0&&(H.meter=O.meter),P.vskipPending&&(P.lines[P.lineNum].vskip=P.vskipPending,delete P.vskipPending)}function G(T,P,O){P.lines[P.lineNum]={staff:[]},z(T,P,O)}R.exports=w},1163:function(R,$,k){var C=k(1096),w=function(x){"use strict";var a="",f=x.match(/(\s*)/);x=C.strip(x);for(var r=x.split(`
X:`),h=1;h<r.length;h++)r[h]="X:"+r[h];var c=f?f[0].length:0,d=[];if(r.forEach(function(o){d.push({abc:o,startPos:c}),c+=o.length+1}),d.length>1&&!C.startsWith(d[0].abc,"X:")){var u=d.shift(),g=u.abc.split(`
`);g.forEach(function(o){C.startsWith(o,"%%")&&(a+=o+`
`)})}var p=a;return d.forEach(function(o){var t=o.abc.indexOf(`

`);t>0&&(o.abc=o.abc.substring(0,t)),o.pure=o.abc,o.abc=a+o.abc,o.title="";var n=o.pure.split("T:");n.length>1&&(n=n[1].split(`
`),o.title=C.strip(n[0]));var e=o.pure.substring(2,o.pure.indexOf(`
`));o.id=C.strip(e)}),{header:p,tunes:d}};R.exports=w},1164:function(R,$,k){var C=k(1165),w=k(1166),x=k(1168);a.prototype.init=function(r,h,c,d){this.tune=r,this.params=c,this.tuneNumber=h,this.inError=!1,this.abcTune=r,this.linePitch=3,this.nbLines=d.defaultTuning.length,this.isTabBig=d.isTabBig,this.tabSymbolOffset=d.tabSymbolOffset,this.capo=c.capo,this.transpose=c.visualTranspose,this.hideTabSymbol=c.hideTabSymbol,this.tablature=new C(this.nbLines,this.linePitch);var u=c.tuning;u||(u=d.defaultTuning),this.tuning=u,this.semantics=new x(this)},a.prototype.setError=function(r){r&&(this.error=r,this.inError=!0,this.tune.warnings?this.tune.warnings.push(r):this.tune.warnings=[r])},a.prototype.render=function(r,h,c){this.inError||this.tablature.bypass(h)||w(this,r,h,c)};function a(){}var f=function(){return{name:"StringTab",tablature:a}};R.exports=f},1165:function(R,$){function k(C,w){this.numLines=C,this.lineSpace=w,this.verticalSize=this.numLines*this.lineSpace;var x=3;this.bar={pitch:x,pitch2:w*C,height:5}}k.prototype.bypass=function(C){var w=C.staffGroup.voices;return!!(w.length>0&&w[0].isPercussion)},k.prototype.setRelative=function(C,w,x){switch(C.type){case"bar":w.pitch=this.bar.pitch,w.pitch2=this.bar.pitch2,w.height=this.height;break;case"symbol":var a=this.bar.pitch2/2;if(C.name=="dots.dot")return x?(w.pitch=a,!1):(w.pitch=a+this.lineSpace,!0);break}return x},R.exports=k},1166:function(R,$,k){var C=k(1129),w=k(1167),x=k(1093);function a(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function f(e){for(var l=0,m=0;m<e.children.length;m++){var b=e.children[m];b.specialY&&b.specialY.lyricHeightBelow>l&&(l=b.specialY.lyricHeightBelow)}return l}function r(e,l,m){var b=e.semantics,E=l.controller.getTextSize,M=b.tabInfos(e),L=b.suppress(e),z=!0;if(L&&(z=!1),z){var G=E.calc(M,"tablabelfont","text instrumentname");return m.tabNameInfos={textSize:{height:G.height,width:G.width},name:M},G.height}return 0}function h(e,l){return l[e].isTabStaff?e===l.length-1?!0:!l[e+1].isTabStaff:!1}function c(e){for(var l=0,m=0;m<e.length;m++)e[m].isTabStaff||l++;return l}function d(e,l){for(var m=l;m>=0;m--)if(!e[m].isTabStaff)return m;return-1}function u(e){for(var l=0;l<e.length;l++)if(e[l].isTabStaff){var m=d(e,l);e[l].hasStaff=e[m],e[m].hasTab||(e[m].hasTab=[]),e[m].hasTab.push(e[l])}}function g(e,l){return c(e)===1&&l.voices.length>1}function p(e,l){for(var m=0,b=0,E=!0,M=0;E;){if(!l[m])return-1;if(l[m].isTabStaff||(M=l[m].voices.length),l[m].isTabStaff){if(b++,h(m,l)&&b<M)return m+1}else if(b=0,m>=e&&(m+1==l.length||!l[m+1].isTabStaff))return m+1;if(m++,m>l.length)return-1}}function o(e,l){for(var m=l;m>=0;m--)if(!e[m].isTabStaff)return e[m];return null}function t(e,l){var m=e[l],b=m.children[0].abcelem;return b.el_type==="clef"?null:l==0?"none":e[l-1].children[0]}function n(e,l,m,b){var E=new w,M={clef:{type:"TAB"}},L=e.linePitch*e.nbLines,z=m.staff;if(z){var G=z[0];if(G&&G.clef&&G.clef.stafflines==0){e.setError("No tablatures when stafflines=0");return}z.splice(z.length,0,M)}var T=m.staffGroup,P=T.voices,O=P[0],H=f(O),D=3,F=b,N=T.staffs[F],B=L+D-N.bottom-H;N.isTabStaff&&(B=N.top);var I={bottom:-1,isTabStaff:!0,specialY:a(),lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:B},W=p(b,T.staffs);if(W!==-1){I.parentIndex=W-1,T.staffs.splice(W,0,I),T.height+=L+D;var X=o(T.staffs,W),y=1;g(T.staffs,X)&&(y=X.voices.length),M.voices=[];for(var S=0;S<y;S++){var A=new C(0,0);S>0&&(A.duplicate=!0);var Y=r(e,l,A)/x.STEP;Y=Math.max(Y,1),T.staffs[b].top+=1,T.height+=Y,A.staff=I;var U=P.length;P.splice(P.length,0,A);var V=t(P,S+b);M.voices[S]=[],E.build(e,P,M.voices[S],S,b,V,U)}u(T.staffs)}}R.exports=n},1167:function(R,$,k){var C=k(1100),w=k(1094);function x(e){return e!=null&&e.constructor===Object}function a(e,l){for(var m in l)l.hasOwnProperty(m)&&(Array.isArray(l[m])||x(l[m])||(e[m]=l[m]))}function f(e){var l=new C("",0,0,"",0);return a(l,e),l.top=0,l.bottom=-1,e.abcelem&&(l.abcelem={},a(l.abcelem,e.abcelem),l.abcelem.el_type==="note"&&(l.abcelem.el_type="tabNumber")),e.cloned=l,l}function r(e,l){var m=f(e);if(l)for(var b=e.children,E=!0,M=0;M<b.length;M++){var L=b[M],z=new w("",0,0,0,"");a(z,L),E=l.tablature.setRelative(L,z,E),m.children.push(z)}return m}function h(e,l,m){var b="tab.tiny",E=7.5;e.isTabBig&&(b="tab.big",E=10);var M={el_type:"tab",icon:b,Ypos:E};if(E+=e.tabSymbolOffset,!e.hideTabSymbol){var L=new C(M,0,0,"symbol",0);L.x=l;var z=new w(b,0,0,7.5,"tab");z.x=m,L.children.push(z),L.abcelem.el_type=="tab"&&(z.pitch=E)}return L}function c(e){if(e.extra)for(var l=0;l<e.extra.length;l++){var m=e.extra[l];if(m.type=="lyric")return{bottom:m.bottom,height:m.height}}return null}function d(){this.accidentals=null}function u(e){for(var l=0,m=0;m<e.length;m++)e[m].tabNameInfos||l++;return l}function g(e,l,m,b,E){var M=b.num;b.note.quarter!=null&&(M=M.toString(),M+=b.note.quarter);var L=e.semantics.stringToPitch(b.str);m.notes.push({num:M,str:b.str,pitch:b.note.emit()});var z={type:"tabNumber"},G=new w(M,0,0,L+.3,z);return G.x=l,G.isGrace=E,G.isAltered=b.note.isAltered,G}function p(e,l){var m=0;if(e.extra){for(var b=0;b<e.extra.length;b++)if(e.extra[b].c.indexOf("noteheads")>=0){if(m===l)return e.extra[b].x+e.extra[b].w/2;m++}}return-1}function o(e){if(e.abcelem){var l=e.abcelem;if(l.rest)return l.gracenotes}return null}function t(e,l,m){var b=e.semantics.notesToNumber(l,m);if(b.error)return e.setError(b.error),b;if(b.graces&&b.notes){var E=b.notes.length-1;b.notes[E].graces=b.graces}return b}function n(e,l,m,b,E){for(var M=0;M<b.length;M++){var L={el_type:"note",startChar:m.abcelem.startChar,endChar:m.abcelem.endChar,notes:[],grace:!0},z=p(m,M),G=b[M],T=g(e,z,L,G,!0);l.children.push(T),E.push(L)}}d.prototype.build=function(e,l,m,b,E,M,L){var z=u(l),G=l[E+b],T=l[L],P=null,O=null;G.children[0].abcelem.el_type!="clef"&&M!="none"&&G.children.splice(0,0,M);for(var H=0;H<G.children.length;H++){var D=G.children[H],F=D.x,N=F;switch(D.isClef&&(T.children.push(h(e,F,N)),D.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),D.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),D.type){case"staff-extra key-signature":this.accidentals=D.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var B=!1;H===G.children.length-1&&(B=!0);var I=r(D,e);if(I.abcelem.barNumber){delete I.abcelem.barNumber;for(var W=0;W<I.children.length;W++)if(I.children[W].type==="barNumber"){I.children.splice(W,1);break}}I.abcelem.lastBar=B,T.children.push(I),m.push({el_type:D.abcelem.el_type,type:D.abcelem.type,endChar:D.abcelem.endChar,startChar:D.abcelem.startChar,abselem:I});break;case"rest":var X=o(D);if(X){if(P=t(e,null,X),P.error)return;q={el_type:"note",startChar:D.abcelem.startChar,endChar:D.abcelem.endChar,notes:[],grace:!0},n(e,y,D,P.graces,m)}break;case"note":var y=f(D);y.x=D.heads[0].x+D.heads[0].w/2,y.lyricDim=c(D);var S=D.abcelem.pitches,A=D.abcelem.gracenotes;if(y.type="tabNumber",P=t(e,S,A),P.error)return;if(P.graces){var Y=P.notes.length-1;P.notes[Y].graces=P.graces}O={el_type:"note",startChar:D.abcelem.startChar,endChar:D.abcelem.endChar,notes:[]};for(var U=0;U<P.notes.length;U++){var V=P.notes[U];if(V.graces)for(var K=0;K<V.graces.length;K++){var q={el_type:"note",startChar:D.abcelem.startChar,endChar:D.abcelem.endChar,notes:[],grace:!0},a0=p(D,K),J=V.graces[K],s0=g(e,a0,q,J,!0);y.children.push(s0),m.push(q)}var c0=g(e,y.x+D.heads[U].dx,O,V,!1);y.children.push(c0)}O.notes.length>0&&(O.abselem=y,m.push(O),T.children.push(y));break}}},R.exports=d},1168:function(R,$,k){const{noteToMidi:C}=k(1132);var w=k(1133),x=k(1169);function a(o){var t=null,n=o.tuning;if(o.capo>0){t=[];for(var e=0;e<n.length;e++){for(var l=new w(n[e]),m=0;m<o.capo;m++)l=l.nextNote();t[e]=l.emit()}}return t}function f(o){var t=[],n=o.tuning;o.capo>0&&(n=o.capoTuning);for(var e=n.length-1,l=0;l<n.length;l++){var m=o.highestNote;l!=n.length-1&&(m=n[l+1]);var b=x(n[l],m);if(b.error)return b;t[e--]=b}return t}function r(o){var t=[];t[0]=[];for(var n=o.strings,e=1;e<n.length;e++)t[e]=n[e-1];return t}function h(o,t){for(var n=0;n<t.length-1;n++){var e=t[n],l=t[n+1];if(e.str==l.str){if(e.str==o.strings.length-1){e.num="?",l.num="?";return}l.num<e.num?(l.str++,l=d(o,l.note,l.str,o.secondPos,o.strings[l.str].length)):(e.str++,e=d(o,e.note,e.str,o.secondPos,o.strings[e.str].length)),t[n]=e,t[n+1]=l}}return null}function c(o,t){for(var n=[],e=0;e<t.length;e++)if(!t[e].endTie){var l=new w(t[e].name,o.clefTranspose);l.checkKeyAccidentals(o.accidentals,o.measureAccidentals);var m=u(o,l);n.push(m)}return h(o,n),n}function d(o,t,n,e,l){var m=o.strings;t.checkKeyAccidentals(o.accidentals,o.measureAccidentals),e&&(m=e);var b=t.emitNoAccidentals(),E=m[n].indexOf(b),M=t.acc;if(E!=-1){if(e&&(E+=l),(t.isFlat||t.acc==-1)&&E==0){var L=t.getAccidentalEquiv();n++,E=m[n].indexOf(L.emit()),M=0}return{num:E+M,str:n,note:t}}return null}function u(o,t){if(t.isAltered||t.natural){var n;t.isFlat?t.isDouble?n="__":n="_":t.isSharp?t.isDouble?n="^^":n="^":t.natural&&(n="="),o.measureAccidentals[t.name.toUpperCase()]=n}for(var e=o.stringPitches.length-1;e>=0;e--)if(t.pitch+t.pitchAltered>=o.stringPitches[e]){var l=t.pitch+t.pitchAltered-o.stringPitches[e];return t.quarter==="^"?l-=.5:t.quarter==="v"&&(l+=.5),{num:Math.round(l),str:o.stringPitches.length-1-e,note:t}}return{num:"?",str:o.stringPitches.length-1,note:t}}p.prototype.stringToPitch=function(o){var t=5.3,n=this.strings.length-1;return t+(n-o)*this.linePitch};function g(o,t){var n={num:"?",str:0,note:t};o.push(n),o.error=t.emit()+": unexpected note for instrument"}p.prototype.notesToNumber=function(o,t){var n,e,l=null,m=null;if(o&&(m=[],o.length>1?(m=c(this,o),m.error&&(l=m.error)):o[0].endTie||(n=new w(o[0].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),e=u(this,n),e?m.push(e):(g(m,n),l=m.error))),l)return m;var b=null;if(t){b=[];for(var E=0;E<t.length;E++)n=new w(t[E].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),e=u(this,n),e?b.push(e):(g(b,n),l=m.error)}return{notes:m,graces:b,error:l}},p.prototype.toString=function(){for(var o=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();n[0]==="_"?n=n[1]+"b ":n[0]==="^"&&(n=n[1]+"# "),o.push(n)}return o.join("")},p.prototype.tabInfos=function(o){var t=o.params.label;if(t){var n=t.indexOf("%T"),e="";return n!=-1&&(e=this.toString(),o.capo>0&&(e+=" capo:"+o.capo),t=t.replace("%T",e)),t}return""},p.prototype.suppress=function(o){var t=o.params.suppress;return!!t};function p(o){var t=o.tuning,n=o.capo,e=o.params.highestNote;this.linePitch=o.linePitch,this.highestNote="a'",e&&(this.highestNote=e),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=o.transpose?o.transpose:0,this.tuning=t,this.stringPitches=[];for(var l=0;l<this.tuning.length;l++){var m=C(this.tuning[l])+this.capo;this.stringPitches.push(m)}if(this.capo>0&&(this.capoTuning=a(this)),this.strings=f(this),this.strings.error){o.setError(this.strings.error),o.inError=!0;return}this.secondPos=r(this)}R.exports=p},1169:function(R,$,k){var C=k(1133),w=["A","B","C","D","E","F","G"];function x(a,f){var r=new C(a),h=new C(f);if(h.isLowerThan(r)){var c=r.emit(),d=h.emit();return{error:"Invalid string Instrument tuning : "+d+" string lower than "+c+" string"}}var u=[],g=w.indexOf(r.name),p=w.indexOf(h.name);if(g==-1||p==-1)return u;for(var o=!1;!o;)u.push(r.emit()),r=r.nextNote(),r.sameNoteAs(h)&&(o=!0);return u}R.exports=x},1170:function(R,$,k){var C=k(1122),{relativeMajor:w,transposeKey:x,relativeMode:a}=k(1123),f=k(1121),r;(function(){"use strict";r=function(P,O,H){if(O==="TEST")return{keyAccidentals:C,relativeMajor:w,transposeKey:x,relativeMode:a,transposeChordName:f};H=parseInt(H,10);var D=[],F;for(F=0;F<O.length;F++)D=D.concat(h(P,O[F],H));D=D.sort(function(I,W){return W.start-I.start});var N=P.split("");for(F=0;F<D.length;F++){var B=D[F];N.splice(B.start,B.end-B.start,B.note)}return N.join("")};function h(P,O,H){var D=[],F=O.getKeySignature();if(F.root==="Hp"||F.root==="HP")return D;D=D.concat(c(P,H));for(var N=0;N<O.lines.length;N++){var B=O.lines[N].staff;if(B)for(var I=0;I<B.length;I++){var W=B[I];W.clef.type!=="perc"&&(D=D.concat(d(P,W.voices,W.key,H)))}}return D}function c(P,O){for(var H=[],D=P.split("K:"),F=D[0].length,N=1;N<D.length;N++){var B=D[N],I=B.match(/^( *)([A-G])([#b]?)(\w*)/);if(I){var W=F+2+I[1].length,X=I[2]+I[3]+I[4],y=n({root:I[2],acc:I[3],mode:I[4]},O),S=y.root+y.acc+y.mode;H.push({start:W,end:W+X.length,note:S})}F+=B.length+2}return H}function d(P,O,H,D){for(var F=[],N=n(H,D),B=0;B<O.length;B++)F=F.concat(p(P,O[B],H.root,u(H),N,D));return F}function u(P){for(var O={},H=0;H<P.accidentals.length;H++){var D=P.accidentals[H];D.acc==="flat"?O[D.note.toUpperCase()]="_":D.acc==="sharp"&&(O[D.note.toUpperCase()]="^")}return O}function g(P,O,H){var D=o.indexOf(P.root)-o.indexOf(O);return O==="none"&&(D=o.indexOf(P.root)),D===0?H>2?D+=7:H===-12&&(D-=7):H>0&&D<0?D+=7:H<0&&D>0&&(D-=7),H>12?D+=7:H<-12&&(D-=7),D}function p(P,O,H,D,F,N){for(var B=[],I=g(F,H,N),W={},X={},y=0;y<O.length;y++){var S=O[y];if(S.chord)for(var A=0;A<S.chord.length;A++){var Y=S.chord[A];if(Y.position==="default"){var U=F.accidentals.length&&F.accidentals[0].acc==="flat",V=f(Y.name,N,U,!0);V=V.replace(/♭/g,"b").replace(/♯/g,"#"),V!==Y.name&&B.push(G(P,S.startChar,S.endChar,V))}}if(S.el_type==="note"&&S.pitches){for(var K=0;K<S.pitches.length;K++){var q=M(S.pitches[K].name,H,D,W);q.acc&&(W[q.name.toUpperCase()]=q.acc);var a0=e(q,F,I,X);a0.acc&&(X[a0.upper]=a0.acc),B.push(L(P,S.startChar,S.endChar,a0.acc+a0.name,K))}if(S.gracenotes)for(var J=0;J<S.gracenotes.length;J++){var s0=M(S.gracenotes[J].name,H,D,W);s0.acc&&(W[s0.name.toUpperCase()]=s0.acc);var c0=e(s0,F,I,W);c0.acc&&(X[c0.upper]=c0.acc),B.push(z(P,S.startChar,S.endChar,c0.acc+c0.name,J))}}else S.el_type==="bar"?(W={},X={}):S.el_type==="keySignature"&&(H=S.root,D=u(S),F=n(S,N),I=g(F,H,N))}return B}var o="CDEFGAB",t=[",,,,",",,,",",,",",","","'","''","'''","''''"];function n(P,O){if(P.root==="none")return{root:x("C",O),mode:"",acc:"",accidentals:[]};var H=w(P.root+P.acc+P.mode),D=x(H,O),F=a(D,P.mode),N=C(D);return{root:F[0],mode:P.mode,acc:F.length>1?F[1]:"",accidentals:N}}function e(P,O,H,D){for(var F=P.pitch,N=o.indexOf(P.name),B=o.indexOf(O.root),I=(B+F)%7,W=N+H,X=P.oct;W>6;)X++,W-=7;for(;W<0;)X--,W+=7;for(var y=o[I],S="",A=P.adj,Y="=",U=0;U<O.accidentals.length;U++)if(O.accidentals[U].note.toLowerCase()===y.toLowerCase()){A=A+(O.accidentals[U].acc==="flat"?-1:1),Y=O.accidentals[U].acc==="flat"?"_":"^";break}switch(A){case-2:S="__";break;case-1:S="_";break;case 0:S="=";break;case 1:S="^";break;case 2:S="^^";break;case-3:var V={};return V.pitch=P.pitch-1,V.oct=P.oct,V.name=o[o.indexOf(P.name)-1],V.name||(V.name="B",V.oct--),V.name==="B"||V.name==="E"?V.adj=P.adj+1:V.adj=P.adj+2,e(V,O,H+1,D);case 3:var V={};return V.pitch=P.pitch+1,V.oct=P.oct,V.name=o[o.indexOf(P.name)+1],V.name||(V.name="C",V.oct++),V.name==="C"||V.name==="F"?V.adj=P.adj-1:V.adj=P.adj-2,e(V,O,H+1,D)}switch((D[y]===S||!D[y]&&S===Y)&&!P.courtesy&&(S=""),X){case 0:y=y+",,,";break;case 1:y=y+",,";break;case 2:y=y+",";break;case 4:y=y.toLowerCase();break;case 5:y=y.toLowerCase()+"'";break;case 6:y=y.toLowerCase()+"''";break;case 7:y=y.toLowerCase()+"'''";break;case 8:y=y.toLowerCase()+"''''";break}return X>4&&(y=y.toLowerCase()),{acc:S,name:y,upper:y.toUpperCase()}}var l=/([_^=]*)([A-Ga-g])([,']*)/,m=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,b=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,E=/(\s*)$/;function M(P,O,H,D){var F=O==="none"?0:o.indexOf(O),N=P.match(l),B=N[2].toUpperCase(),I=o.indexOf(B)-F;I<0&&(I+=7);var W=t.indexOf(N[3]);B===N[2]&&W--;var X=D[B]||H[B]||"=";return{acc:N[1],name:B,pitch:I,oct:W,adj:T(N[1],H[B],D[B]),courtesy:N[1]===X}}function L(P,O,H,D,F){var N=P.substring(O,H),B=N.match(new RegExp(m.source+E.source),"");if(B){var I=B[1].length,W=B[2].length+B[3].length+B[4].length,X=H-O-I-W;O+=X,H-=W}else{var y=/([^\[]*)/,S=/\[/,A=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(B=N.match(new RegExp(y.source+S.source+b.source+b.source+b.source+b.source+b.source+b.source+b.source+b.source+A.source+E.source)),B){for(var Y=1+B[1].length,U=0;U<F;U++)B[U*3+2]&&(Y+=B[U*3+2].length),B[U*3+3]&&(Y+=B[U*3+3].length),B[U*3+4]&&(Y+=B[U*3+4].length);O+=Y;var V=B[F*3+2]?B[F*3+2].length:0;H=O+V}}return{start:O,end:H,note:D}}function z(P,O,H,D,F){var N=P.substring(O,H),B=/\{/,I=/\}/,W=/([^\{]*)/,X=/(\/*)/,y=N.match(new RegExp(W.source+B.source+X.source+b.source+X.source+b.source+X.source+b.source+X.source+b.source+X.source+b.source+X.source+b.source+X.source+b.source+X.source+b.source+I.source));if(y){for(var S=1+y[1].length,A=0;A<F;A++)y[A*3+2]&&(S+=y[A*3+2].length),y[A*3+3]&&(S+=y[A*3+3].length),y[A*3+4]&&(S+=y[A*3+4].length),y[A*3+5]&&(S+=y[A*3+5].length);y[F*3+2]&&(S+=y[A*3+2].length),O+=S;var Y=y[F*3+3]?y[F*3+3].length:0;Y+=y[F*3+4]?y[F*3+4].length:0,Y+=y[F*3+5]?y[F*3+5].length:0,H=O+Y}return{start:O,end:H,note:D}}function G(P,O,H,D){var F=P.substring(O,H).match(/([^"]+)?(".+")+/);return F[1]&&(O+=F[1].length),H=O+F[2].length,{start:O+1,end:H-1,note:D}}function T(P,O,H){if(!P&&H&&(P=H),!P)return 0;switch(O){case void 0:switch(P){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(P){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(P){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})(),R.exports=r},1171:function(R,$,k){var C=k(1100),w=k(1172),x=k(1173),a=k(1174),f=k(1175),r=k(1176),h=k(1177),c=k(1178),d=k(1182),u=k(1097),g=k(1094),p=k(1093),o=k(1183),t=k(1185),n=k(1136),e=k(1186),l=k(1129),m=k(1187),b=k(1127),E=k(1096),M=function(N){var B=0;return N.duration&&(B=N.duration),B},L=!1,z={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},G=function(N,B,I){this.decoration=new c,this.getTextSize=N,this.tuneNumber=B,this.isBagpipes=I.bagpipes,this.flatBeams=I.flatbeams,this.graceSlurs=I.graceSlurs,this.percmap=I.percmap,this.initialClef=I.initialClef,this.jazzchords=!!I.jazzchords,this.accentAbove=!!I.accentAbove,this.germanAlphabet=!!I.germanAlphabet,this.reset()};G.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},G.prototype.setStemHeight=function(N){this.stemHeight=Math.round(N*10/p.STEP)/10},G.prototype.getCurrentVoiceId=function(N,B){return"s"+N+"v"+B},G.prototype.pushCrossLineElems=function(N,B){this.slursbyvoice[this.getCurrentVoiceId(N,B)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(N,B)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(N,B)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(N,B)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(N,B)]=this.voiceColor)},G.prototype.popCrossLineElems=function(N,B){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(N,B)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(N,B)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(N,B)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(N,B)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(N,B)]},G.prototype.containsLyrics=function(N){for(var B=0;B<N.length;B++)for(var I=0;I<N[B].voices.length;I++)for(var W=0;W<N[B].voices[I].length;W++){var X=N[B].voices[I][W];if(X.lyric){(!X.positioning||X.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}},G.prototype.createABCLine=function(N,B,I){this.minY=2,this.containsLyrics(N);var W=new o(this.getTextSize);this.tempoSet=!1;for(var X=0;X<N.length;X++)L&&this.restoreState(),L=!1,this.createABCStaff(W,N[X],B,X,I);return W},G.prototype.createABCStaff=function(N,B,I,W,X){N.getTextSize.updateFonts(B);for(var y=0;y<B.voices.length;y++){var S=new l(y,B.voices.length);y===0?(S.barfrom=B.connectBarLines==="start"||B.connectBarLines==="continue",S.barto=B.connectBarLines==="continue"||B.connectBarLines==="end"):S.duplicate=!0,B.title&&B.title[y]&&(S.header=B.title[y].replace(/\\n/g,`
`),S.headerPosition=6+N.getTextSize.baselineToCenter(S.header,"voicefont","staff-extra voice-name",y,B.voices.length)/p.STEP),B.clef&&B.clef.type==="perc"&&(S.isPercussion=!0);var A=(!this.initialClef||X===0)&&a(B.clef,this.tuneNumber);A&&(y===0&&B.barNumber&&this.addMeasureNumber(B.barNumber,A),S.addChild(A),this.startlimitelem=A);var Y=f(B.key,this.tuneNumber);if(Y&&(S.addChild(Y),this.startlimitelem=Y),B.meter){B.meter.type==="specified"?this.measureLength=B.meter.value[0].num/B.meter.value[0].den:this.measureLength=1;var U=h(B.meter,this.tuneNumber);S.addChild(U),this.startlimitelem=U}S.duplicate&&(S.children=[]);var V=B.clef.stafflines||B.clef.stafflines===0?B.clef.stafflines:5;N.addVoice(S,W,V);var K=V===1;this.createABCVoice(B.voices[y],I,W,y,K,S),N.setStaffLimits(S),y===0&&(B.brace==="start"||!N.brace&&B.brace?(N.brace||(N.brace=[]),N.brace.push(new x(S,"brace"))):B.brace==="end"&&N.brace?N.brace[N.brace.length-1].setBottomStaff(S):B.brace==="continue"&&N.brace&&N.brace[N.brace.length-1].continuing(S),B.bracket==="start"||!N.bracket&&B.bracket?(N.bracket||(N.bracket=[]),N.bracket.push(new x(S,"bracket"))):B.bracket==="end"&&N.bracket?N.bracket[N.bracket.length-1].setBottomStaff(S):B.bracket==="continue"&&N.bracket&&N.bracket[N.bracket.length-1].continuing(S))}};function T(N,B){var I=N[B];if(I.el_type!=="note"||!I.startBeam||I.endBeam)return{count:1,elem:I};for(var W=[];B<N.length&&N[B].el_type==="note"&&(W.push(N[B]),!N[B].endBeam);)B++;return{count:W.length,elem:W}}G.prototype.createABCVoice=function(N,B,I,W,X,y){this.popCrossLineElems(I,W),this.stemdir=this.isBagpipes?"down":null,this.abcline=N,this.partstartelem&&(this.partstartelem=new d("",null,null),y.addOther(this.partstartelem));var S=y.voicetotal<2?-1:y.voicenumber;for(var A in this.slurs)this.slurs.hasOwnProperty(A)&&(this.slurs[A]=new n({force:this.slurs[A].force,voiceNumber:S,stemDir:this.slurs[A].stemDir,style:this.slurs[A].dotted}),L&&this.slurs[A].setHint(),y.addOther(this.slurs[A]));for(var Y=0;Y<this.ties.length;Y++)this.ties[Y]=new n({force:this.ties[Y].force,stemDir:this.ties[Y].stemDir,voiceNumber:S,style:this.ties[Y].dotted}),L&&this.ties[Y].setHint(),y.addOther(this.ties[Y]);for(var U=0;U<this.abcline.length;U++)P(this.abcline[U]),this.minY=Math.min(this.abcline[U].minpitch,this.minY);for(var V=I===0,K=0;K<this.abcline.length;){var q=T(this.abcline,K),a0=this.createABCElement(V,X,y,q.elem);if(a0)for(Y=0;Y<a0.length;Y++){if(!this.tempoSet&&B&&!B.suppress){this.tempoSet=!0;var J=new C(B,0,0,"tempo",this.tuneNumber,{});J.addFixedX(new t(B,this.tuneNumber,r)),y.addChild(J)}y.addChild(a0[Y])}K+=q.count}this.pushCrossLineElems(I,W)},G.prototype.saveState=function(){this.tiesSave=E.cloneArray(this.ties),this.slursSave=E.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=E.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=E.cloneHashOfArrayOfHash(this.tiesbyvoice)},G.prototype.restoreState=function(){this.ties=E.cloneArray(this.tiesSave),this.slurs=E.cloneHashOfHash(this.slursSave),this.slursbyvoice=E.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=E.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},G.prototype.createABCElement=function(N,B,I,W){var X=[];switch(W.el_type){case void 0:X=this.createBeam(B,I,W);break;case"note":X[0]=this.createNote(W,!1,B,I),this.triplet&&this.triplet.isClosed()&&(I.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":X[0]=this.createBarLine(I,W,N),I.duplicate&&X.length>0&&(X[0].invisible=!0);break;case"meter":X[0]=h(W,this.tuneNumber),this.startlimitelem=X[0],I.duplicate&&X.length>0&&(X[0].invisible=!0);break;case"clef":if(X[0]=a(W,this.tuneNumber),!X[0])return null;I.duplicate&&X.length>0&&(X[0].invisible=!0);break;case"key":var y=f(W,this.tuneNumber);y&&(X[0]=y,this.startlimitelem=X[0]),I.duplicate&&X.length>0&&(X[0].invisible=!0);break;case"stem":this.stemdir=W.direction==="auto"?void 0:W.direction;break;case"part":var S=new C(W,0,0,"part",this.tuneNumber),A=this.getTextSize.calc(W.title,"partsfont","part");S.addFixedX(new g(W.title,0,0,void 0,{type:"part",height:A.height/p.STEP})),X[0]=S;break;case"tempo":var Y=new C(W,0,0,"tempo",this.tuneNumber);Y.addFixedX(new t(W,this.tuneNumber,r)),X[0]=Y;break;case"style":W.head==="normal"?delete this.style:this.style=W.head;break;case"hint":L=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=W.size;break;case"color":this.voiceColor=W.color,I.color=this.voiceColor;break;default:var U=new C(W,0,0,"unsupported",this.tuneNumber);U.addFixed(new g("element type "+W.el_type,0,0,void 0,{type:"debug"})),X[0]=U}return X};function P(N){if(N.pitches){O(N);for(var B=0,I=0;I<N.pitches.length;I++)B+=N.pitches[I].verticalPos;N.averagepitch=B/N.pitches.length,N.minpitch=N.pitches[0].verticalPos,N.maxpitch=N.pitches[N.pitches.length-1].verticalPos}}G.prototype.createBeam=function(N,B,I){var W=[],X=new w(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,I[0]);L&&X.setHint();for(var y=0;y<I.length;y++)X.runningDirection(I[y]);X.setStemDirection();var S=this.stemdir;for(this.stemdir=X.stemsUp?"up":"down",y=0;y<I.length;y++){var A=I[y],Y=this.createNote(A,!0,N,B);W.push(Y),X.add(Y),this.triplet&&this.triplet.isClosed()&&(B.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return X.calcDir(),B.addBeam(X),this.stemdir=S,W};var O=function(N){var B;do{B=!0;for(var I=0;I<N.pitches.length-1;I++)if(N.pitches[I].pitch>N.pitches[I+1].pitch){B=!1;var W=N.pitches[I];N.pitches[I]=N.pitches[I+1],N.pitches[I+1]=W}}while(!B)},H=function(N,B,I,W,X,y,S,A,Y){for(var U=I;U>11;U--)U%2===0&&!W&&N.addFixed(new g(null,A,(X+4)*Y,U,{type:"ledger"}));for(U=B;U<1;U++)U%2===0&&!W&&N.addFixed(new g(null,A,(X+4)*Y,U,{type:"ledger"}));for(U=0;U<y.length;U++){var V=X;S==="down"&&(V=-V),N.addFixed(new g(null,V+A,(X+4)*Y,y[U],{type:"ledger"}))}};G.prototype.addGraceNotes=function(N,B,I,W,X,y,S){var A=.6,Y=3.5/5;X=Math.round(X*Y);var U=null,V;N.gracenotes.length>1&&(U=new w(X,"grace",y),L&&U.setHint(),U.mainNote=I);var K,q=[];for(K=N.gracenotes.length-1;K>=0;K--)S+=10,q[K]=S,N.gracenotes[K].accidental&&(S+=7);for(K=0;K<N.gracenotes.length;K++){var a0=N.gracenotes[K].verticalPos;V=U?null:z.uflags[y?5:3];var J=[],s0=r(I,"noteheads.quarter",N.gracenotes[K],{dir:"up",headx:-q[K],extrax:-q[K],flag:V,scale:A*this.voiceScale,accidentalSlot:J});s0.notehead.highestVert=s0.notehead.pitch+X;var c0=s0.notehead;if(this.addSlursAndTies(I,N.gracenotes[K],c0,B,"up",!0),I.addExtra(c0),N.gracenotes[K].acciaccatura){var v0=N.gracenotes[K].verticalPos+7*A,Z=U?5:6;I.addRight(new g("flags.ugrace",-q[K]+Z,0,v0,{scalex:A,scaley:A}))}if(U){var h0=N.gracenotes[K].duration/2;y&&(h0/=2);var e0={heads:[c0],abcelem:{averagepitch:a0,minpitch:a0,maxpitch:a0,duration:h0}};U.add(e0)}else{var d0=a0+.3333333333333333*A,g0=a0+7*A,S0=c0.dx+c0.w,x0=-.6;I.addExtra(new g(null,S0,0,d0,{type:"stem",pitch2:g0,linewidth:x0}))}H(I,a0,a0,!1,u.getSymbolWidth("noteheads.quarter"),[],!0,c0.dx-1,.6);var w0=N.rest&&(N.rest.type==="spacer"||N.rest.type==="invisible");K===0&&!y&&this.graceSlurs&&!w0&&B.addOther(new n({anchor1:c0,anchor2:W,isGrace:!0}))}return U&&(U.calcDir(),B.addBeam(U)),S};function D(N,B,I,W,X,y,S,A,Y){var U,V=7,K,q,a0;switch(X&&(y==="down"&&(V=3),y==="up"&&(V=11)),S&&(I<.5||I<1?V=7:V=5),B.rest.type){case"whole":U=z.rest[0],B.averagepitch=V,B.minpitch=V,B.maxpitch=V,W=0;break;case"rest":B.style==="rhythm"?U=z.rhythm[-A]:U=z.rest[-A],B.averagepitch=V,B.minpitch=V,B.maxpitch=V;break;case"invisible":case"invisible-multimeasure":case"spacer":U="",B.averagepitch=V,B.minpitch=V,B.maxpitch=V;break;case"multimeasure":U=z.rest.multi,B.averagepitch=V,B.minpitch=V,B.maxpitch=V,W=0;var J=u.getSymbolWidth(U);N.addHead(new g(U,J,J*2,7));var s0=new g(""+B.rest.text,J,J,16,{type:"multimeasure-text"});N.addExtra(s0)}if(B.rest.type.indexOf("multimeasure")<0&&B.rest.type!=="invisible"){var c0=r(N,U,{verticalPos:V},{dot:W,scale:Y});K=c0.notehead,K&&(N.addHead(K),q=c0.accidentalshiftx,a0=c0.dotshiftx)}return{noteHead:K,roomTaken:q,roomTakenRight:a0}}function F(N,B){for(var I=0;I<N.length;I++)if(JSON.stringify(N[I])===JSON.stringify(B))return;N.push(B)}G.prototype.addNoteToAbcElement=function(N,B,I,W,X,y,S,A,Y){var U=0,V,K=0,q=0,a0,J,s0=[],c0=[],v0=0,Z=B.averagepitch>=6?"down":"up";W&&(Z=W),X=B.style?B.style:X,(!X||X==="normal")&&(X="note");var h0;y?h0=z[X].nostem:h0=z[X][-S],h0||console.log("noteSymbol:",X,S,y);var e0;for(e0=Z==="down"?B.pitches.length-2:1;Z==="down"?e0>=0:e0<B.pitches.length;e0=Z==="down"?e0-1:e0+1){var d0=B.pitches[Z==="down"?e0+1:e0-1],g0=B.pitches[e0],S0=Z==="down"?d0.pitch-g0.pitch:g0.pitch-d0.pitch;S0<=1&&!d0.printer_shift&&(g0.printer_shift=S0?"different":"same",(g0.verticalPos>11||g0.verticalPos<1)&&s0.push(g0.verticalPos-g0.verticalPos%2),Z==="down"?K=u.getSymbolWidth(h0)+2:U=u.getSymbolWidth(h0)+2)}var x0=B.pitches.length;for(e0=0;e0<B.pitches.length;e0++){if(!A){var w0;Z==="down"&&e0!==0||Z==="up"&&e0!==x0-1?w0=null:w0=z[Z==="down"?"dflags":"uflags"][-S]}var C0;if(B.pitches[e0].style)C0=z[B.pitches[e0].style][-S];else if(Y.isPercussion&&this.percmap){C0=h0;var E0=this.percmap[b(B.pitches[e0])];E0&&E0.noteHead&&z[E0.noteHead]&&(C0=z[E0.noteHead][-S])}else C0=h0;B.pitches[e0].highestVert=B.pitches[e0].verticalPos;var N0=(W==="up"||Z==="up")&&e0===0,T0=(W==="down"||Z==="down")&&e0===x0-1;if(N0||T0){if((B.startSlur||x0===1)&&(B.pitches[e0].highestVert=B.pitches[x0-1].verticalPos,M(B)<1&&(W==="up"||Z==="up")&&(B.pitches[e0].highestVert+=6)),B.startSlur)for(B.pitches[e0].startSlur||(B.pitches[e0].startSlur=[]),J=0;J<B.startSlur.length;J++)F(B.pitches[e0].startSlur,B.startSlur[J]);if(B.endSlur)for(B.pitches[e0].highestVert=B.pitches[x0-1].verticalPos,M(B)<1&&(W==="up"||Z==="up")&&(B.pitches[e0].highestVert+=6),B.pitches[e0].endSlur||(B.pitches[e0].endSlur=[]),J=0;J<B.endSlur.length;J++)F(B.pitches[e0].endSlur,B.endSlur[J])}var n0=!A&&S<=-1,i0=r(N,C0,B.pitches[e0],{dir:Z,extrax:-K,flag:w0,dot:I,dotshiftx:U,scale:this.voiceScale,accidentalSlot:c0,shouldExtendStem:!W,printAccidentals:!Y.isPercussion});v0=Math.max(u.getSymbolWidth(C0),v0),N.extraw-=i0.extraLeft,V=i0.notehead,V&&(this.addSlursAndTies(N,B.pitches[e0],V,Y,n0?Z:null,!1),B.gracenotes&&B.gracenotes.length>0&&(V.bottom=V.bottom-1),N.addHead(V)),K+=i0.accidentalshiftx,q=Math.max(q,i0.dotshiftx)}if(n0){var j=Math.round(70*this.voiceScale)/10,Q=Z==="down"?B.minpitch-j:B.minpitch+1/3;Q>6&&!W&&(Q=6);var r0=Z==="down"?B.maxpitch-1/3:B.maxpitch+j;r0<6&&!W&&(r0=6);var _=Z==="down"||N.heads.length===0?0:N.heads[0].w,t0=Z==="down"?1:-1;V&&V.c==="noteheads.slash.quarter"&&(Z==="down"?r0-=1:Q+=1),V&&V.c==="noteheads.triangle.quarter"&&(Z==="down"?r0-=.7:Q-=1.2),N.addRight(new g(null,_,0,Q,{type:"stem",pitch2:r0,linewidth:t0,bottom:Q-1})),a0=Math.min(Q,r0)}return{noteHead:V,roomTaken:K,roomTakenRight:q,min:a0,additionalLedgers:s0,dir:Z,symbolWidth:v0}},G.prototype.addLyric=function(N,B){var I="";B.lyric.forEach(function(y){var S=y.divider===" "?"":y.divider;I+=y.syllable+S+`
`});var W=this.getTextSize.calc(I,"vocalfont","lyric"),X=B.positioning?B.positioning.vocalPosition:"below";N.addCentered(new g(I,0,W.width,void 0,{type:"lyric",position:X,height:W.height/p.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},G.prototype.createNote=function(N,B,I,W){var X=null,y=0,S=0,A=0,Y=[],U,V=M(N),K=!1;V===0&&(K=!0,V=.25,B=!0);for(var q=Math.floor(Math.log(V)/Math.log(2)),a0=0,J=Math.pow(2,q),s0=J/2;J<V;a0++,J+=s0,s0/=2);N.startTriplet&&(this.tripletmultiplier=N.tripletMultiplier);var c0=V*this.tripletmultiplier;N.rest&&N.rest.type==="multimeasure"&&(c0=1),N.rest&&N.rest.type==="invisible-multimeasure"&&(c0=this.measureLength*N.rest.text);var v0=N.rest?"rest":"note",Z=new C(N,c0,1,v0,this.tuneNumber,{durationClassOveride:N.duration*this.tripletmultiplier});if(L&&Z.setHint(),N.rest){this.measureLength===V&&N.rest.type!=="invisible"&&N.rest.type!=="spacer"&&N.rest.type.indexOf("multimeasure")<0&&(N.rest.type="whole");var h0=D(Z,N,V,a0,W.voicetotal>1,this.stemdir,I,q,this.voiceScale);X=h0.noteHead,y=h0.roomTaken,S=h0.roomTakenRight}else{var e0=this.addNoteToAbcElement(Z,N,a0,this.stemdir,this.style,K,q,B,W);e0.min!==void 0&&(this.minY=Math.min(e0.min,this.minY)),X=e0.noteHead,y=e0.roomTaken,S=e0.roomTakenRight,Y=e0.additionalLedgers,U=e0.dir,A=e0.symbolWidth}if(N.lyric!==void 0&&this.addLyric(Z,N),N.gracenotes!==void 0&&(y+=this.addGraceNotes(N,W,Z,X,this.stemHeight*this.voiceScale,this.isBagpipes,y)),N.decoration){var d0=B&&U!=="up"?Math.min(-3,Z.bottom-6):Z.bottom;this.decoration.createDecoration(W,N.decoration,Z.top,X?X.w:0,Z,y,U,d0,N.positioning,this.hasVocals,this.accentAbove)}if(N.barNumber&&Z.addFixed(new g(N.barNumber,-10,0,0,{type:"barNumber"})),H(Z,N.minpitch,N.maxpitch,N.rest,A,Y,U,-2,1),N.chord!==void 0){var g0=m(this.getTextSize,Z,N,y,S,A,this.jazzchords,this.germanAlphabet);y=g0.roomTaken,S=g0.roomTakenRight}return N.startTriplet&&(this.triplet=new e(N.startTriplet,X,{flatBeams:this.flatBeams})),N.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(X),this.triplet&&!N.startTriplet&&!N.endTriplet&&!(N.rest&&N.rest.type==="spacer")&&this.triplet.middleNote(X),Z},G.prototype.addSlursAndTies=function(N,B,I,W,X,y){if(B.endTie&&this.ties.length>0){for(var S=!1,A=0;A<this.ties.length;A++)if(this.ties[A].anchor1&&this.ties[A].anchor1.pitch===I.pitch){this.ties[A].setEndAnchor(I),W.setRange(this.ties[A]),this.ties.splice(A,1),S=!0;break}S||(this.ties[0].setEndAnchor(I),W.setRange(this.ties[0]),this.ties.splice(0,1))}var Y=W.voicetotal<2?-1:W.voicenumber;if(B.startTie){var U=new n({anchor1:I,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:y,voiceNumber:Y,style:B.startTie.style});L&&U.setHint(),this.ties[this.ties.length]=U,W.addOther(U),N.startTie=!0}var V,K;if(B.endSlur)for(var q=0;q<B.endSlur.length;q++)K=B.endSlur[q],this.slurs[K]?(V=this.slurs[K],V.setEndAnchor(I),W.setRange(V),delete this.slurs[K]):(V=new n({anchor2:I,stemDir:this.stemdir,voiceNumber:Y}),L&&V.setHint(),W.addOther(V)),this.startlimitelem&&V.setStartX(this.startlimitelem);else if(!y)for(var a0 in this.slurs)this.slurs.hasOwnProperty(a0)&&this.slurs[a0].addInternalNote(I);if(B.startSlur)for(q=0;q<B.startSlur.length;q++)K=B.startSlur[q].label,V=new n({anchor1:I,stemDir:this.stemdir,voiceNumber:Y,style:B.startSlur[q].style}),L&&V.setHint(),this.slurs[K]=V,W.addOther(V)},G.prototype.addMeasureNumber=function(N,B){var I=this.getTextSize.calc(N,"measurefont","bar-number"),W=0;B.isClef&&(W+=I.width/2);var X=I.width>10&&B.abcelem.type==="treble"?13.5:11;B.addFixed(new g(N,W,I.width,X+I.height/p.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},G.prototype.createBarLine=function(N,B,I){var W=new C(B,0,10,"bar",this.tuneNumber),X=null,y=0;B.barNumber&&this.addMeasureNumber(B.barNumber,W);var S=B.type==="bar_right_repeat"||B.type==="bar_dbl_repeat",A=B.type!=="bar_left_repeat"&&B.type!=="bar_thick_thin"&&B.type!=="bar_invisible",Y=B.type==="bar_right_repeat"||B.type==="bar_dbl_repeat"||B.type==="bar_left_repeat"||B.type==="bar_thin_thick"||B.type==="bar_thick_thin",U=B.type==="bar_left_repeat"||B.type==="bar_thick_thin"||B.type==="bar_thin_thin"||B.type==="bar_dbl_repeat",V=B.type==="bar_left_repeat"||B.type==="bar_dbl_repeat";if(S||V){for(var K in this.slurs)this.slurs.hasOwnProperty(K)&&this.slurs[K].setEndX(W);this.startlimitelem=W}if(S&&(W.addRight(new g("dots.dot",y,1,7)),W.addRight(new g("dots.dot",y,1,5)),y+=6),A&&(X=new g(null,y,1,2,{type:"bar",pitch2:10,linewidth:.6}),W.addRight(X)),B.type==="bar_invisible"&&(X=new g(null,y,1,2,{type:"none",pitch2:10,linewidth:.6}),W.addRight(X)),B.decoration&&this.decoration.createDecoration(N,B.decoration,12,Y?3:1,W,0,"down",2,B.positioning,this.hasVocals,this.accentAbove),Y&&(y+=4,X=new g(null,y,4,2,{type:"bar",pitch2:10,linewidth:4}),W.addRight(X),y+=5),this.partstartelem&&B.endEnding&&(this.partstartelem.anchor2=X,this.partstartelem=null),U&&(y+=3,X=new g(null,y,1,2,{type:"bar",pitch2:10,linewidth:.6}),W.addRight(X)),V&&(y+=3,W.addRight(new g("dots.dot",y,1,7)),W.addRight(new g("dots.dot",y,1,5))),B.startEnding&&I){var q=this.getTextSize.calc(B.startEnding,"repeatfont","").width;W.minspacing+=q+10,this.partstartelem=new d(B.startEnding,X,null),N.addOther(this.partstartelem)}if(W.extraw-=5,B.chord!==void 0)var a0=m(this.getTextSize,W,B,0,0,0,!1,this.germanAlphabet);return W},R.exports=G},1172:function(R,$){var k=function(x,a,f,r){this.type="BeamElem",this.isflat=!!f,this.isgrace=!!(a&&a==="grace"),this.forceup=!!(this.isgrace||a&&a==="up"),this.forcedown=!!(a&&a==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=x,this.beams=[],r&&r.duration?(this.duration=r.duration,r.startTriplet&&(this.duration*=r.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};k.prototype.setHint=function(){this.hint=!0},k.prototype.runningDirection=function(w){var x=w.averagepitch;x!==void 0&&(this.total=Math.round(this.total+x),this.count||(this.count=0),this.count++)},k.prototype.add=function(w){var x=w.abcelem.averagepitch;x!==void 0&&(w.abcelem.rest||(this.allrests=!1),w.beam=this,this.elems.push(w),this.total=Math.round(this.total+x),(this.min===void 0||w.abcelem.minpitch<this.min)&&(this.min=w.abcelem.minpitch),(this.max===void 0||w.abcelem.maxpitch>this.max)&&(this.max=w.abcelem.maxpitch))},k.prototype.addBeam=function(w){this.beams.push(w)},k.prototype.setStemDirection=function(){if(this.average=C(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var w=6;this.stemsUp=this.average<w}delete this.count,this.total=0},k.prototype.calcDir=function(){if(this.average=C(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var w=6;this.stemsUp=this.average<w}for(var x=this.stemsUp?"up":"down",a=0;a<this.elems.length;a++)for(var f=0;f<this.elems[a].heads.length;f++)this.elems[a].heads[f].stemDir=x};function C(w,x){return x?w/x:0}R.exports=k},1173:function(R,$){var k=function(w,x){this.startVoice=w,this.type=x};k.prototype.setBottomStaff=function(C){this.endVoice=C,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},k.prototype.continuing=function(C){this.lastContinuedVoice=C},k.prototype.getWidth=function(){return 10},k.prototype.isStartVoice=function(C){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===C)},R.exports=k},1174:function(R,$,k){var C=k(1100),w=k(1097),x=k(1094),a=function(r,h){var c,d=0;r.el_type="clef";var u=new C(r,0,10,"staff-extra clef",h);switch(u.isClef=!0,r.type){case"treble":c="clefs.G";break;case"tenor":c="clefs.C";break;case"alto":c="clefs.C";break;case"bass":c="clefs.F";break;case"treble+8":c="clefs.G",d=1;break;case"tenor+8":c="clefs.C",d=1;break;case"bass+8":c="clefs.F",d=1;break;case"alto+8":c="clefs.C",d=1;break;case"treble-8":c="clefs.G",d=-1;break;case"tenor-8":c="clefs.C",d=-1;break;case"bass-8":c="clefs.F",d=-1;break;case"alto-8":c="clefs.C",d=-1;break;case"none":return null;case"perc":c="clefs.perc";break;default:u.addFixed(new x("clef="+r.type,0,0,void 0,{type:"debug"}))}var g=5;if(c){var p=w.symbolHeightInPitches(c),o=f(c);if(u.addRight(new x(c,g,w.getSymbolWidth(c),r.clefPos,{top:p+r.clefPos+o,bottom:r.clefPos+o})),d!==0){var t=.6666666666666666,n=(w.getSymbolWidth(c)-w.getSymbolWidth("8")*t)/2,e=d>0?u.top+3:u.bottom-1,l=d>0?u.top+3:u.bottom-3,m=l-2;r.type==="bass-8"&&(e=3,n=0),u.addRight(new x("8",g+n,w.getSymbolWidth("8")*t,e,{scalex:t,scaley:t,top:l,bottom:m}))}}return u};function f(r){switch(r){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}R.exports=a},1175:function(R,$,k){var C=k(1100),w=k(1097),x=k(1094),a=function(f,r){if(f.el_type="keySignature",!f.accidentals||f.accidentals.length===0)return null;var h=new C(f,0,10,"staff-extra key-signature",r);h.isKeySig=!0;var c=0;return f.accidentals.forEach(function(d){var u,g=0;switch(d.acc){case"sharp":u="accidentals.sharp",g=-3;break;case"natural":u="accidentals.nat";break;case"flat":u="accidentals.flat",g=-1.2;break;case"quartersharp":u="accidentals.halfsharp",g=-2.5;break;case"quarterflat":u="accidentals.halfflat",g=-1.2;break;default:u="accidentals.flat"}h.addRight(new x(u,c,w.getSymbolWidth(u),d.verticalPos,{thickness:w.symbolHeightInPitches(u),top:d.verticalPos+w.symbolHeightInPitches(u)+g,bottom:d.verticalPos+g})),c+=w.getSymbolWidth(u)+2},this),h};R.exports=a},1176:function(R,$,k){var C=k(1097),w=k(1094),x=function(a,f,r,h){h||(h={});var c=h.dir!==void 0?h.dir:null,d=h.headx!==void 0?h.headx:0,u=h.extrax!==void 0?h.extrax:0,g=h.flag!==void 0?h.flag:null,p=h.dot!==void 0?h.dot:0,o=h.dotshiftx!==void 0?h.dotshiftx:0,t=h.scale!==void 0?h.scale:1,n=h.accidentalSlot!==void 0?h.accidentalSlot:[],e=h.shouldExtendStem!==void 0?h.shouldExtendStem:!1,l=h.printAccidentals!==void 0?h.printAccidentals:!0,m=r.verticalPos,b,E=0,M=0,L=0;if(f===void 0)a.addFixed(new w("pitch is undefined",0,0,0,{type:"debug"}));else if(f==="")b=new w(null,0,0,m);else{var z=d;if(r.printer_shift){var G=r.printer_shift==="same"?1:0;z=c==="down"?-C.getSymbolWidth(f)*t+G:C.getSymbolWidth(f)*t-G}var T={scalex:t,scaley:t,thickness:C.symbolHeightInPitches(f)*t,name:r.name};if(b=new w(f,z,C.getSymbolWidth(f)*t,m,T),b.stemDir=c,g){var P=m+(c==="down"?-7:7)*t;e&&(c==="down"&&P>6&&(P=6),c==="up"&&P<6&&(P=6));var O=c==="down"?d:d+b.w-.6;a.addRight(new w(g,O,C.getSymbolWidth(g)*t,P,{scalex:t,scaley:t}))}for(M=b.w+o-2+5*p;p>0;p--){var H=1-Math.abs(m)%2;a.addRight(new w("dots.dot",b.w+o-2+5*p,C.getSymbolWidth("dots.dot"),m+H))}}if(b&&(b.highestVert=r.highestVert),l&&r.accidental){var D;switch(r.accidental){case"quartersharp":D="accidentals.halfsharp";break;case"dblsharp":D="accidentals.dblsharp";break;case"sharp":D="accidentals.sharp";break;case"quarterflat":D="accidentals.halfflat";break;case"flat":D="accidentals.flat";break;case"dblflat":D="accidentals.dblflat";break;case"natural":D="accidentals.nat"}for(var F=!1,N=u,B=0;B<n.length;B++)if(m-n[B][0]>=6){n[B][0]=m,N=n[B][1],F=!0;break}F===!1&&(N-=C.getSymbolWidth(D)*t+2,n.push([m,N]),E=C.getSymbolWidth(D)*t+2);var I=C.symbolHeightInPitches(D);a.addExtra(new w(D,N,C.getSymbolWidth(D),m,{scalex:t,scaley:t,top:m+I/2,bottom:m-I/2})),L=C.getSymbolWidth(D)/2}return{notehead:b,accidentalshiftx:E,dotshiftx:M,extraLeft:L}};R.exports=x},1177:function(R,$,k){var C=k(1100),w=k(1097),x=k(1094),a=function(f,r){f.el_type="timeSignature";var h=new C(f,0,10,"staff-extra time-signature",r);if(f.type==="specified")for(var c=0,d=0;d<f.value.length;d++)if(d!==0&&(h.addRight(new x("+",c+1,w.getSymbolWidth("+"),6,{thickness:w.symbolHeightInPitches("+")})),c+=w.getSymbolWidth("+")+2),f.value[d].den){for(var u=0,g=0;g<f.value[d].num.length;g++)u+=w.getSymbolWidth(f.value[d].num[g]);var p=0;for(g=0;g<f.value[d].num.length;g++)p+=w.getSymbolWidth(f.value[d].den[g]);var o=Math.max(u,p);h.addRight(new x(f.value[d].num,c+(o-u)/2,u,8,{thickness:w.symbolHeightInPitches(f.value[d].num[0])})),h.addRight(new x(f.value[d].den,c+(o-p)/2,p,4,{thickness:w.symbolHeightInPitches(f.value[d].den[0])})),c+=o}else{for(var t=0,n=0;n<f.value[d].num.length;n++)t+=w.getSymbolWidth(f.value[d].num[n]);h.addRight(new x(f.value[d].num,c,t,6,{thickness:w.symbolHeightInPitches(f.value[d].num[0])})),c+=t}else f.type==="common_time"?h.addRight(new x("timesig.common",0,w.getSymbolWidth("timesig.common"),6,{thickness:w.symbolHeightInPitches("timesig.common")})):f.type==="cut_time"?h.addRight(new x("timesig.cut",0,w.getSymbolWidth("timesig.cut"),6,{thickness:w.symbolHeightInPitches("timesig.cut")})):f.type==="tempus_imperfectum"?h.addRight(new x("timesig.imperfectum",0,w.getSymbolWidth("timesig.imperfectum"),6,{thickness:w.symbolHeightInPitches("timesig.imperfectum")})):f.type==="tempus_imperfectum_prolatio"?h.addRight(new x("timesig.imperfectum2",0,w.getSymbolWidth("timesig.imperfectum2"),6,{thickness:w.symbolHeightInPitches("timesig.imperfectum2")})):f.type==="tempus_perfectum"?h.addRight(new x("timesig.perfectum",0,w.getSymbolWidth("timesig.perfectum"),6,{thickness:w.symbolHeightInPitches("timesig.perfectum")})):f.type==="tempus_perfectum_prolatio"?h.addRight(new x("timesig.perfectum2",0,w.getSymbolWidth("timesig.perfectum2"),6,{thickness:w.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",f);return h};R.exports=a},1178:function(R,$,k){var C=k(1179),w=k(1180),x=k(1181),a=k(1097),f=k(1094),r=k(1136),h=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},c=function(o,t,n,e,l,m,b,E,M){for(var L,z=0;z<t.length;z++){if(t[z]==="staccato"||t[z]==="tenuto"||t[z]==="accent"&&!M){var G="scripts."+t[z];if(t[z]==="accent"&&(G="scripts.sforzato"),L===void 0?L=b==="down"?n+2:E-2:L=b==="down"?L+2:L-2,t[z]==="accent")b==="up"?L--:L++;else switch(L){case 2:case 4:case 6:case 8:case 10:b==="up"?L--:L++;break}n>9&&L++;var T=e/2;a.getSymbolAlign(G)!=="center"&&(T-=a.getSymbolWidth(G)/2),l.addFixedX(new f(G,T,a.getSymbolWidth(G),L))}if(t[z]==="slide"&&l.heads[0]){var P=l.heads[0].pitch;P-=2;var O=new f("",-m-15,0,P-1),H=new f("",-m-5,0,P+1);l.addFixedX(O),l.addFixedX(H),o.addOther(new r({anchor1:O,anchor2:H,fixedY:!0}))}}return L===void 0&&(L=n),{above:L,below:l.bottom}},d=function(o,t,n,e){for(var l=0;l<t.length;l++)switch(t[l]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var m=new C(n,t[l],e);o.addOther(m)}},u=function(o,t,n,e,l){function m(){if(e.heads.length===0)return 10;for(var L=e.heads[0].pitch,z=1;z<e.heads.length;z++)L=Math.max(L,e.heads[z].pitch);return L}function b(){if(e.heads.length===0)return 2;for(var L=e.heads[0].pitch,z=1;z<e.heads.length;z++)L=Math.min(L,e.heads[z].pitch);return L}function E(L,z){var G=l==="down"?b()+1:m()+9;l!=="down"&&z===1&&G--;var T=n/2;T+=l==="down"?-5:3;for(var P=0;P<z;P++)G-=1,e.addFixedX(new f(L,T,a.getSymbolWidth(L),G))}for(var M=0;M<o.length;M++)switch(o[M]){case"/":E("flags.ugrace",1);break;case"//":E("flags.ugrace",2);break;case"///":E("flags.ugrace",3);break;case"////":E("flags.ugrace",4);break}},g=function(o,t,n,e,l,m,b,E){function M(H,D){H==="above"?e.above+=D:e.below-=D}function L(H){var D;return H==="above"?(D=e.above,D<m&&(D=m)):(D=e.below,D>b&&(D=b)),D}function z(H,D,F){var N=L(D),B=2,I=5;n.addFixedX(new f(H,t/2,0,N+B,{type:"decoration",klass:"ornament",thickness:3,anchor:F})),M(D,I)}function G(H,D){var F=t/2;a.getSymbolAlign(H)!=="center"&&(F-=a.getSymbolWidth(H)/2);var N=a.symbolHeightInPitches(H)+1,B=L(D);B=D==="above"?B+N/2:B-N/2,n.addFixedX(new f(H,F,a.getSymbolWidth(H),B,{klass:"ornament",thickness:a.symbolHeightInPitches(H),position:D})),M(D,N)}for(var T={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},P=!1,O=0;O<o.length;O++)switch(o[O]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":z(o[O],l,"middle"),P=!0;break;case"D.C.alcoda":z("D.C. al coda",l,"end"),P=!0;break;case"D.C.alfine":z("D.C. al fine",l,"end"),P=!0;break;case"D.S.alcoda":z("D.S. al coda",l,"end"),P=!0;break;case"D.S.alfine":z("D.S. al fine",l,"end"),P=!0;break;case"fine":z("FINE",l,"middle"),P=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":G(T[o[O]],l),P=!0;break;case"invertedfermata":G(T[o[O]],"below"),P=!0;break;case"mark":n.klass="mark";break;case"accent":E&&(G("scripts.sforzato",l),P=!0);break}return P};function p(o,t,n){for(var e=0;e<o.length;e++)switch(o[e]){case"arpeggio":for(var l=t.abcelem.minpitch-1;l<=t.abcelem.maxpitch;l+=2)t.addExtra(new f("scripts.arpeggio",-a.getSymbolWidth("scripts.arpeggio")*2-n,0,l+2,{klass:"ornament",thickness:a.symbolHeightInPitches("scripts.arpeggio")}));break}}h.prototype.dynamicDecoration=function(o,t,n,e){for(var l,m,b,E=0;E<t.length;E++)switch(t[E]){case"diminuendo(":this.startDiminuendoX=n,l=void 0;break;case"diminuendo)":l={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,m=void 0;break;case"crescendo)":m={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=n,b=void 0;break;case"~)":case"glissando)":b={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0;break}l&&o.addOther(new w(l.start,l.stop,">",e)),m&&o.addOther(new w(m.start,m.stop,"<",e)),b&&o.addOther(new x(b.start,b.stop))},h.prototype.createDecoration=function(o,t,n,e,l,m,b,E,M,L,z){M||(M={ornamentPosition:"above",volumePosition:L?"above":"below",dynamicPosition:L?"above":"below"}),d(o,t,l,M.volumePosition),this.dynamicDecoration(o,t,l,M.dynamicPosition),u(t,n,e,l,b);var G=c(o,t,n,e,l,m,b,E,z);G.above=Math.max(G.above,this.minTop),G.below=Math.min(G.below,E);var T=g(t,e,l,G,M.ornamentPosition,this.minTop,E,z);p(t,l,m)},R.exports=h},1179:function(R,$){var k=function(w,x,a){this.type="DynamicDecoration",this.anchor=w,this.dec=x,a==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};R.exports=k},1180:function(R,$){var k=function(w,x,a,f){this.type="CrescendoElem",this.anchor1=w,this.anchor2=x,this.dir=a,f==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};R.exports=k},1181:function(R,$){var k=function(w,x){this.type="GlissandoElem",this.anchor1=w,this.anchor2=x};R.exports=k},1182:function(R,$){var k=function(w,x,a){this.type="EndingElem",this.text=w,this.anchor1=x,this.anchor2=a,this.endingHeightAbove=5,this.pitch=void 0};R.exports=k},1183:function(R,$,k){var C=k(1184),w=function(x){this.getTextSize=x,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};w.prototype.setLimit=function(x,a){a.specialY[x]&&(a.staff.specialY[x]?a.staff.specialY[x]=Math.max(a.staff.specialY[x],a.specialY[x]):a.staff.specialY[x]=a.specialY[x])},w.prototype.addVoice=function(x,a,f){var r=this.voices.length;this.voices[r]=x,this.staffs[a]?this.staffs[a].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:f,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},x.staff=this.staffs[a]},w.prototype.setHeight=function(){this.height=C(this)},w.prototype.setWidth=function(x){this.w=x;for(var a=0;a<this.voices.length;a++)this.voices[a].setWidth(x)},w.prototype.setStaffLimits=function(x){x.staff.top=Math.max(x.staff.top,x.top),x.staff.bottom=Math.min(x.staff.bottom,x.bottom),this.setLimit("tempoHeightAbove",x),this.setLimit("partHeightAbove",x),this.setLimit("volumeHeightAbove",x),this.setLimit("dynamicHeightAbove",x),this.setLimit("endingHeightAbove",x),this.setLimit("chordHeightAbove",x),this.setLimit("lyricHeightAbove",x),this.setLimit("lyricHeightBelow",x),this.setLimit("chordHeightBelow",x),this.setLimit("volumeHeightBelow",x),this.setLimit("dynamicHeightBelow",x)},R.exports=w},1184:function(R,$){var k=function(C){for(var w=0,x=0;x<C.voices.length;x++){var a=C.voices[x].staff;C.voices[x].duplicate||(w+=a.top,w+=-a.bottom)}return w};R.exports=k},1185:function(R,$,k){var C=k(1100),w=k(1094),x=function(f,r,h){this.type="TempoElement",this.tempo=f,this.tempo.type="tempo",this.tuneNumber=r,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(h,f,r))};x.prototype.setX=function(a){this.x=a},x.prototype.createNote=function(a,f,r){var h=.75,c=f.duration[0],d=new C(f,c,1,"tempo",r),u,g,p;c<=1/32?(p="noteheads.quarter",g="flags.u32nd",u=0):c<=1/16?(p="noteheads.quarter",g="flags.u16th",u=0):c<=3/32?(p="noteheads.quarter",g="flags.u16nd",u=1):c<=1/8?(p="noteheads.quarter",g="flags.u8th",u=0):c<=3/16?(p="noteheads.quarter",g="flags.u8th",u=1):c<=1/4?(p="noteheads.quarter",u=0):c<=3/8?(p="noteheads.quarter",u=1):c<=1/2?(p="noteheads.half",u=0):c<=3/4?(p="noteheads.half",u=1):c<=1?(p="noteheads.whole",u=0):c<=1.5?(p="noteheads.whole",u=1):c<=2?(p="noteheads.dbl",u=0):(p="noteheads.dbl",u=1);var o=a(d,p,{verticalPos:0},{dir:"up",flag:g,dot:u,scale:h}),t=o.notehead;d.addHead(t);var n;if(p!=="noteheads.whole"&&p!=="noteheads.dbl"){var e=.3333333333333333*h,l=5*h,m=t.dx+t.w,b=-.6;n=new w(null,m,0,e,{type:"stem",pitch2:l,linewidth:b}),d.addRight(n)}return d},R.exports=x},1186:function(R,$){var k=function(w,x,a){this.type="TripletElem",this.anchor1=x,this.number=w,this.durationClass=("d"+Math.round(x.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=a.flatBeams};k.prototype.isClosed=function(){return!!this.anchor2},k.prototype.middleNote=function(C){this.middleElems.push(C)},k.prototype.setCloseAnchor=function(C){this.anchor2=C,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)},R.exports=k},1187:function(R,$,k){var C=k(1094),w=k(1093);const x=k(1188);var a=function(r,h,c,d,u,g,p,o){for(var t=0;t<c.chord.length;t++){var n=c.chord[t].position,e=c.chord[t].rel_position,l=n==="left"||n==="right"||n==="below"||n==="above"||!!e,m,b;l?(m="annotationfont",b="abcjs-annotation"):(m="gchordfont",b="abcjs-chord");var E=r.attr(m,b),M=c.chord[t].name,L;if(typeof M=="string")L=f(M,n,e,l,m,b,E,r,h,c,d,u,g,p,o),d=L.roomTaken,u=L.roomTakenRight;else for(var z=0;z<M.length;z++)L=f(M[z].text,n,e,l,m,b,E,r,h,c,d,u,g,p,o),d=L.roomTaken,u=L.roomTakenRight}return{roomTaken:d,roomTakenRight:u}};function f(r,h,c,d,u,g,p,o,t,n,e,l,m,b,E){for(var M=r.split(`
`),L=M.length-1;L>=0;L--){var z=M[L],G=0,T;d||(z=x(z,b,E));var P=o.calc(z,u,g),O=P.width,H=P.height/w.STEP;switch(h){case"left":e+=O+7,G=-e,T=n.averagepitch,t.addExtra(new C(z,G,O+4,T,{type:"text",height:H,dim:p,position:"left"}));break;case"right":l+=4,G=l,T=n.averagepitch,t.addRight(new C(z,G,O+4,T,{type:"text",height:H,dim:p,position:"right"}));break;case"below":t.addRight(new C(z,0,0,void 0,{type:"text",position:"below",height:H,dim:p,realWidth:O}));break;case"above":t.addRight(new C(z,0,0,void 0,{type:"text",position:"above",height:H,dim:p,realWidth:O}));break;default:if(c){var D=c.y+3*w.STEP;t.addRight(new C(z,G+c.x,0,n.minpitch+D/w.STEP,{position:"relative",type:"text",height:H,dim:p}))}else{var F="above";n.positioning&&n.positioning.chordPosition&&(F=n.positioning.chordPosition),F!=="hidden"&&t.addCentered(new C(z,m/2,O,void 0,{type:"chord",position:F,height:H,dim:p,realWidth:O}))}}}return{roomTaken:e,roomTakenRight:l}}R.exports=a},1188:function(R,$){function k(w){switch(w){case"B#":return"H#";case"B\u266F":return"H\u266F";case"B":return"H";case"Bb":return"B";case"B\u266D":return"B"}return w}function C(w,x,a){var f=w.split(`
`);for(let r=0;r<f.length;r++){let c=f[r].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!c)continue;let d=c[1]||"",u=c[2]||"",g=c[4]||"";a&&(d=k(d),g=k(g));const p=x?"":"",o=g?"/"+g:"";f[r]=[d,u,o].join(p)}return f.join(`
`)}R.exports=C},1189:function(R,$,k){var C=k(1093),w=k(1190),x=function(a){this.paper=new w(a),this.controller=null,this.space=3*C.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};x.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},x.prototype.newTune=function(a){this.abctune=a,this.setVerticalSpace(a.formatting),this.isPrint=a.media==="print",this.setPadding(a)},x.prototype.setLineThickness=function(a){this.lineThickness=a},x.prototype.setPaddingOverride=function(a){this.paddingOverride={top:a.paddingtop,bottom:a.paddingbottom,right:a.paddingright,left:a.paddingleft}},x.prototype.setPadding=function(a){function f(r,h,c,d,u){a.formatting[c]!==void 0?r.padding[h]=a.formatting[c]:r.paddingOverride[h]!==void 0?r.padding[h]=r.paddingOverride[h]:r.isPrint?r.padding[h]=d:r.padding[h]=u}f(this,"top","topmargin",38,15),f(this,"bottom","botmargin",38,15),f(this,"left","leftmargin",68,15),f(this,"right","rightmargin",68,15)},x.prototype.adjustNonScaledItems=function(a){this.padding.top/=a,this.padding.bottom/=a,this.padding.left/=a,this.padding.right/=a,this.abctune.formatting.headerfont.size/=a,this.abctune.formatting.footerfont.size/=a},x.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},x.prototype.setVerticalSpace=function(a){a.staffsep!==void 0&&(this.spacing.staffSeparation=a.staffsep*4/3),a.composerspace!==void 0&&(this.spacing.composer=a.composerspace*4/3),a.partsspace!==void 0&&(this.spacing.parts=a.partsspace*4/3),a.textspace!==void 0&&(this.spacing.text=a.textspace*4/3),a.musicspace!==void 0&&(this.spacing.music=a.musicspace*4/3),a.titlespace!==void 0&&(this.spacing.title=a.titlespace*4/3),a.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=a.sysstaffsep*4/3),a.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=a.stafftopmargin*4/3),a.subtitlespace!==void 0&&(this.spacing.subtitle=a.subtitlespace*4/3),a.topspace!==void 0&&(this.spacing.top=a.topspace*4/3),a.vocalspace!==void 0&&(this.spacing.vocal=a.vocalspace*4/3),a.wordsspace!==void 0&&(this.spacing.words=a.wordsspace*4/3)},x.prototype.calcY=function(a){return this.y-a*C.STEP},x.prototype.moveY=function(a,f){f===void 0&&(f=1),this.y+=a*f},x.prototype.absolutemoveY=function(a){this.y=a},R.exports=x},1190:function(R,$){var k="http://www.w3.org/2000/svg";function C(r){this.svg=f(),this.currentGroup=[],r.appendChild(this.svg)}C.prototype.clear=function(){if(this.svg){var r=this.svg.parentNode;this.svg=f(),this.currentGroup=[],r&&(r.innerHTML="",r.appendChild(this.svg))}},C.prototype.setTitle=function(r){var h=document.createElement("title"),c=document.createTextNode(r);h.appendChild(c),this.svg.insertBefore(h,this.svg.firstChild)},C.prototype.setResponsiveWidth=function(r,h){if(this.svg.setAttribute("viewBox","0 0 "+r+" "+h),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var c=this.svg.parentNode.getAttribute("class");c?c.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",c+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var d=h/r*100;this.svg.parentNode.style["padding-bottom"]=d+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},C.prototype.setSize=function(r,h){this.svg.setAttribute("width",r),this.svg.setAttribute("height",h)},C.prototype.setAttribute=function(r,h){this.svg.setAttribute(r,h)},C.prototype.setScale=function(r){r!==1?(this.svg.style.transform="scale("+r+","+r+")",this.svg.style["-ms-transform"]="scale("+r+","+r+")",this.svg.style["-webkit-transform"]="scale("+r+","+r+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},C.prototype.insertStyles=function(r){var h=document.createElementNS(k,"style");h.textContent=r,this.svg.insertBefore(h,this.svg.firstChild)},C.prototype.setParentStyles=function(r){for(var h in r)r.hasOwnProperty(h)&&this.svg.parentNode&&(this.svg.parentNode.style[h]=r[h]);if(this.dummySvg){var c=document.querySelector("body");c.removeChild(this.dummySvg),this.dummySvg=null}};function w(r,h,c){var d=c-r;return"M "+r+" "+h+" l "+d+" 0 l 0 1  l "+-d+" 0  z "}function x(r,h,c){var d=c-h;return"M "+r+" "+h+" l 0 "+d+" l 1 0  l 0 "+-d+"  z "}C.prototype.rect=function(r){var h=[],c=r.x,d=r.y,u=r.x+r.width,g=r.y+r.height;return h.push(w(c,d,u)),h.push(w(c,g,u)),h.push(x(u,d,g)),h.push(x(c,g,d)),this.path({path:h.join(" "),stroke:"none","data-name":r["data-name"]})},C.prototype.dottedLine=function(r){var h=document.createElementNS(k,"line");h.setAttribute("x1",r.x1),h.setAttribute("x2",r.x2),h.setAttribute("y1",r.y1),h.setAttribute("y2",r.y2),h.setAttribute("stroke",r.stroke),h.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(h,this.svg.firstChild)},C.prototype.rectBeneath=function(r){var h=document.createElementNS(k,"rect");h.setAttribute("x",r.x),h.setAttribute("width",r.width),h.setAttribute("y",r.y),h.setAttribute("height",r.height),r.stroke&&h.setAttribute("stroke",r.stroke),r["stroke-opacity"]&&h.setAttribute("stroke-opacity",r["stroke-opacity"]),r.fill&&h.setAttribute("fill",r.fill),r["fill-opacity"]&&h.setAttribute("fill-opacity",r["fill-opacity"]),this.svg.insertBefore(h,this.svg.firstChild)},C.prototype.text=function(r,h,c){var d=document.createElementNS(k,"text");d.setAttribute("stroke","none");for(var u in h)h.hasOwnProperty(u)&&d.setAttribute(u,h[u]);for(var g=(""+r).split(`
`),p=0;p<g.length;p++){var o=document.createElementNS(k,"tspan");if(o.setAttribute("x",h.x?h.x:0),p!==0&&o.setAttribute("dy","1.2em"),g[p].indexOf("")!==-1){var t=g[p].split("");if(o.textContent=t[0],t[1]){var n=document.createElementNS(k,"tspan");n.setAttribute("dy","-0.3em"),n.setAttribute("style","font-size:0.7em"),n.textContent=t[1],o.appendChild(n)}if(t[2]){var e=t[1]?"0.4em":"0.1em",l=document.createElementNS(k,"tspan");l.setAttribute("dy",e),l.setAttribute("style","font-size:0.7em"),l.textContent=t[2],o.appendChild(l)}}else o.textContent=g[p];d.appendChild(o)}return c?c.appendChild(d):this.append(d),d},C.prototype.richTextLine=function(r,h,c,d,u,g){var p=document.createElementNS(k,"text");p.setAttribute("stroke","none"),p.setAttribute("class",d),p.setAttribute("x",h),p.setAttribute("y",c),p.setAttribute("text-anchor",u),p.setAttribute("dominant-baseline","middle");for(var o=0;o<r.length;o++){for(var t=r[o],n=document.createElementNS(k,"tspan"),e=Object.keys(t.attrs),l=0;l<e.length;l++){var m=t.attrs[e[l]];m!==""&&n.setAttribute(e[l],m)}n.textContent=t.content,p.appendChild(n)}return g?g.appendChild(p):this.append(p),p},C.prototype.guessWidth=function(r,h){var c=this.createDummySvg(),d=this.text(r,h,c),u;try{u=d.getBBox(),isNaN(u.height)||!u.height?u={width:h["font-size"]/2,height:h["font-size"]+2}:u={width:u.width,height:u.height}}catch(g){u={width:h["font-size"]/2,height:h["font-size"]+2}}return c.removeChild(d),u},C.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=f();var r=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",r.join(""));var h=document.querySelector("body");h.appendChild(this.dummySvg)}return this.dummySvg};var a={};C.prototype.getTextSize=function(r,h,c){if(typeof r=="number"&&(r=""+r),!r||r.match(/^\s+$/))return{width:0,height:0};var d;if(r.length<20&&(d=r+JSON.stringify(h),a[d]))return a[d];var u=!c;c||(c=this.text(r,h));var g;try{g=c.getBBox(),isNaN(g.height)||!g.height?g=this.guessWidth(r,h):g={width:g.width,height:g.height}}catch(p){g=this.guessWidth(r,h)}return u&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(c):this.svg.removeChild(c)),d&&(a[d]=g),g},C.prototype.openGroup=function(r){r=r||{};var h=document.createElementNS(k,"g");return r.klass&&h.setAttribute("class",r.klass),r.fill&&h.setAttribute("fill",r.fill),r.stroke&&h.setAttribute("stroke",r.stroke),r["data-name"]&&h.setAttribute("data-name",r["data-name"]),r.prepend?this.prepend(h):this.append(h),this.currentGroup.unshift(h),h},C.prototype.closeGroup=function(){var r=this.currentGroup.shift();return r&&r.children.length===0?(r.parentElement.removeChild(r),null):r},C.prototype.path=function(r){var h=document.createElementNS(k,"path");for(var c in r)r.hasOwnProperty(c)&&(c==="path"?h.setAttributeNS(null,"d",r.path):c==="klass"?h.setAttributeNS(null,"class",r[c]):r[c]!==void 0&&h.setAttributeNS(null,c,r[c]));return this.append(h),h},C.prototype.pathToBack=function(r){var h=document.createElementNS(k,"path");for(var c in r)r.hasOwnProperty(c)&&(c==="path"?h.setAttributeNS(null,"d",r.path):c==="klass"?h.setAttributeNS(null,"class",r[c]):h.setAttributeNS(null,c,r[c]));return this.prepend(h),h},C.prototype.lineToBack=function(r){for(var h=document.createElementNS(k,"line"),c=Object.keys(r),d=0;d<c.length;d++)h.setAttribute(c[d],r[c[d]]);return this.prepend(h),h},C.prototype.append=function(r){this.currentGroup.length>0?this.currentGroup[0].appendChild(r):this.svg.appendChild(r)},C.prototype.prepend=function(r){this.currentGroup.length>0?this.currentGroup[0].appendChild(r):this.svg.insertBefore(r,this.svg.firstChild)},C.prototype.setAttributeOnElement=function(r,h){for(var c in h)h.hasOwnProperty(c)&&r.setAttributeNS(null,c,h[c])},C.prototype.moveElementToChild=function(r,h){r.appendChild(h)};function f(){var r=document.createElementNS(k,"svg");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("role","img"),r.setAttribute("fill","currentColor"),r.setAttribute("stroke","currentColor"),r}R.exports=C},1191:function(R,$){function k(C,w,x,a,f,r){var h=C.text;this.rows=[];var c;w&&this.rows.push({move:w});var d=x.calc("textfont","defined-text");if(h==="")this.rows.push({move:d.attr["font-size"]*2});else if(typeof h=="string")this.rows.push({move:d.attr["font-size"]/2}),this.rows.push({left:a,text:h,font:"textfont",klass:"defined-text",anchor:"start",startChar:C.startChar,endChar:C.endChar,absElemType:"freeText",name:"free-text"}),c=r.calc(h,"textfont","defined-text"),this.rows.push({move:c.height});else if(h){for(var u=0,g=a,p="textfont",o=0;o<h.length;o++)h[o].font?p=h[o].font:p="textfont",this.rows.push({left:g,text:h[o].text,font:p,klass:"defined-text",anchor:"start",startChar:C.startChar,endChar:C.endChar,absElemType:"freeText",name:"free-text"}),c=r.calc(h[o].text,x.calc(p,"defined-text").font,"defined-text"),g+=c.width+c.height/2,u=Math.max(u,c.height);this.rows.push({move:u})}else if(C.length===1){var t=f/2;this.rows.push({left:t,text:C[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:C.startChar,endChar:C.endChar,absElemType:"freeText",name:"free-text"}),c=r.calc(C[0].text,"textfont","defined-text"),this.rows.push({move:c.height})}}R.exports=k},1192:function(R,$){function k(C,w,x){this.rows=[],C&&this.rows.push({move:C}),this.rows.push({separator:w,absElemType:"separator"}),x&&this.rows.push({move:x})}R.exports=k},1193:function(R,$){function k(C,w,x,a,f,r){this.rows=[],C&&this.rows.push({move:C});var h=w.titleleft?"start":"middle",c=w.titleleft?f:a;this.rows.push({left:c,text:x.text,font:"subtitlefont",klass:"text subtitle",anchor:h,startChar:x.startChar,endChar:x.endChar,absElemType:"subtitle",name:"subtitle"});var d=r.calc(x.text,"subtitlefont","text subtitle");this.rows.push({move:d.height})}R.exports=k},1194:function(R,$,k){const C=k(1110),w=k(1137);function x(a,f,r,h,c,d,u,g,p,o){if(this.rows=[],a.header&&d){var t=o.calc("X","headerfont","abcjs-header abcjs-meta-top").height;C(this.rows,{marginLeft:u,text:a.header.left,font:"headerfont",klass:"header meta-top",marginTop:-t,info:f.header,name:"header"},o),C(this.rows,{marginLeft:u+c/2,text:a.header.center,font:"headerfont",klass:"header meta-top",marginTop:-t,anchor:"middle",info:f.header,name:"header"},o),C(this.rows,{marginLeft:u+c,text:a.header.right,font:"headerfont",klass:"header meta-top",marginTop:-t,anchor:"end",info:f.header,name:"header"},o)}d&&this.rows.push({move:g.top});var n=r.titleleft?"start":"middle",e=r.titleleft?u:u+c/2;if(a.title){var l=p?"abcjs-title":"";w(this.rows,a.title,"titlefont",l,"title",e,{marginTop:g.title,anchor:n,absElemType:"title",info:f.title},o)}if(h.length)for(var m=0;m<h.length&&h[m].subtitle;){var l=p?"abcjs-text abcjs-subtitle":"";w(this.rows,h[m].subtitle.text,"subtitlefont",l,"subtitle",e,{marginTop:g.subtitle,anchor:n,absElemType:"subtitle",info:h[m].subtitle},o),m++}if(a.rhythm||a.origin||a.composer){if(this.rows.push({move:g.composer}),a.rhythm&&a.rhythm.length>0){var b=!!(a.composer||a.origin),l=p?"abcjs-rhythm":"";C(this.rows,{marginLeft:u,text:a.rhythm,font:"infofont",klass:l,absElemType:"rhythm",noMove:b,info:f.rhythm,name:"rhythm"},o)}var E=!0;a.composer&&typeof a.composer!="string"&&(E=!1),a.origin&&typeof a.origin!="string"&&(E=!1);var M=a.composer?a.composer:"";if(a.origin&&(typeof M=="string"&&typeof a.origin=="string"?M+=" ("+a.origin+")":typeof M=="string"&&typeof a.origin!="string"?(M=[{text:M}],M.push({text:" ("}),M=M.concat(a.origin),M.push({text:")"})):(M.push({text:" ("}),M=M.concat(a.origin),M.push({text:")"}))),M){var l=p?"abcjs-composer":"";w(this.rows,M,"composerfont",l,"composer",u+c,{anchor:"end",absElemType:"composer",info:f.composer,ingroup:!0},o)}}if(a.author&&a.author.length>0){var l=p?"abcjs-author":"";w(this.rows,a.author,"composerfont",l,"author",u+c,{anchor:"end",absElemType:"author",info:f.author},o)}if(a.partOrder&&a.partOrder.length>0){var l=p?"abcjs-part-order":"";w(this.rows,a.partOrder,"partsfont",l,"part-order",u,{absElemType:"partOrder",info:f.partOrder,anchor:"start"},o)}}R.exports=x},1195:function(R,$,k){const C=k(1110),w=k(1137);function x(r,h,c,d,u,g,p){this.rows=[],r.unalignedWords&&r.unalignedWords.length>0&&this.unalignedWords(r.unalignedWords,d,u,g,p),this.extraText(r,d,u,g,p),r.footer&&c&&this.footer(r.footer,h,d,p)}x.prototype.unalignedWords=function(r,h,c,d,u){var g=d?"abcjs-unaligned-words":"",p="wordsfont",o=u.calc("i",p,g);this.rows.push({move:c.words}),f(this.rows,"",r,h,p,"unalignedWords","unalignedWords",g,"unalignedWords",c,d,u),this.rows.push({move:o.height})};function a(r,h,c,d,u,g,p){c&&(h&&(typeof c=="string"?c=h+c:c=[{text:h}].concat(c)),u=g?"abcjs-extra-text "+u:"",w(r,c,"historyfont",u,"description",d,{absElemType:"extraText",anchor:"start"},p))}function f(r,h,c,d,u,g,p,o,t,n,e,l){if(c){o=e?"abcjs-extra-text "+o:"";var m=l.calc("A",u,o);if(typeof c=="string")h&&(c=h+`
`+c),C(r,{marginLeft:d,text:c,font:u,absElemType:"extraText",name:t,"dominant-baseline":"middle",klass:o},l);else{r.push({startGroup:p,klass:o,name:t}),r.push({move:n.info}),h&&(C(r,{marginLeft:d,text:h,font:u,absElemType:"extraText",name:t,"dominant-baseline":"middle"},l),r.push({move:m.height*3/4}));for(var b=0;b<c.length;b++)w(r,c[b],u,"",t,d,{anchor:"start"},l),b<c.length-1&&typeof c[b]=="string"&&typeof c[b+1]!="string"&&r.push({move:m.height*3/4});r.push({endGroup:p,absElemType:g,startChar:-1,endChar:-1,name:t}),r.push({move:m.height})}}}x.prototype.extraText=function(r,h,c,d,u){a(this.rows,"Book: ",r.book,h,"abcjs-book",d,u),a(this.rows,"Source: ",r.source,h,"abcjs-source",d,u),a(this.rows,"Discography: ",r.discography,h,"abcjs-discography",d,u),f(this.rows,"Notes:",r.notes,h,"historyfont","extraText","notes","abcjs-notes","description",c,d,u),a(this.rows,"Transcription: ",r.transcription,h,"abcjs-transcription",d,u),f(this.rows,"History:",r.history,h,"historyfont","extraText","history","abcjs-history","description",c,d,u),a(this.rows,"Copyright: ",r["abc-copyright"],h,"abcjs-copyright",d,u),a(this.rows,"Creator: ",r["abc-creator"],h,"abcjs-creator",d,u),a(this.rows,"Edited By: ",r["abc-edited-by"],h,"abcjs-edited-by",d,u)},x.prototype.footer=function(r,h,c,d){var u="header meta-bottom",g="footerfont";this.rows.push({startGroup:"footer",klass:u}),C(this.rows,{marginLeft:c,text:r.left,font:g,klass:u,name:"footer"},d),C(this.rows,{marginLeft:c+h/2,text:r.center,font:g,klass:u,anchor:"middle",name:"footer"},d),C(this.rows,{marginLeft:c+h,text:r.right,font:g,klass:u,anchor:"end",name:"footer"},d)},R.exports=x},1196:function(R,$,k){var C=k(1093),w=k(1138);function x(T,P){if(T.rangeHighlight=E,T.dragging)for(var O=0;O<T.selectables.length;O++){var H=T.selectables[O];H.svgEl.getAttribute("selectable")==="true"&&(H.svgEl.setAttribute("tabindex",0),H.svgEl.setAttribute("data-index",O),H.svgEl.addEventListener("keydown",r.bind(T)),H.svgEl.addEventListener("keyup",h.bind(T)),H.svgEl.addEventListener("focus",f.bind(T)))}for(var D=0;D<P.length;D++)P[D].addEventListener("touchstart",t.bind(T),{passive:!0}),P[D].addEventListener("touchmove",n.bind(T),{passive:!0}),P[D].addEventListener("touchend",e.bind(T),{passive:!0}),P[D].addEventListener("mousedown",t.bind(T)),P[D].addEventListener("mousemove",n.bind(T)),P[D].addEventListener("mouseup",e.bind(T))}function a(T){var P=1,O=1,H=T.target.closest("svg"),D=0;H&&H.viewBox&&H.viewBox.baseVal&&(H.viewBox.baseVal.width!==0&&(P=H.viewBox.baseVal.width/H.clientWidth),H.viewBox.baseVal.height!==0&&(O=H.viewBox.baseVal.height/H.clientHeight),D=H.viewBox.baseVal.y);var F=T.target&&T.target.tagName==="svg",N,B;return F?(N=T.offsetX,B=T.offsetY):(N=T.layerX,B=T.layerY),N=N*P,B=B*O,[N,B+D]}function f(T){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&m.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,T),this.dragYStep=0}function r(T){switch(T.keyCode){case 38:case 40:T.preventDefault()}}function h(T){var P=!1,O=T.target.dataset.index;switch(T.keyCode){case 13:case 32:P=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragMechanism="keyboard",e.bind(this)(T);break;case 38:P=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*C.STEP+")"));break;case 40:P=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*C.STEP+")"));break;case 9:this.dragYStep!==0&&e.bind(this)(T);break;default:break}P&&T.preventDefault()}function c(T,P){if(!P)return-1;for(var O=0;O<T.length;O++)if(P.dataset.index===T[O].svgEl.dataset.index)return O;return-1}function d(T,P,O){for(var H=9999999,D=-1,F=0;F<T.selectables.length&&H>0;F++){var N=T.selectables[F];if(T.getDim(N),N.dim.left<P&&N.dim.right>P&&N.dim.top<O&&N.dim.bottom>O)D=F,H=0;else if(N.dim.top<O&&N.dim.bottom>O){var B=Math.min(Math.abs(N.dim.left-P),Math.abs(N.dim.right-P));B<H&&(H=B,D=F)}else if(N.dim.left<P&&N.dim.right>P){var I=Math.min(Math.abs(N.dim.top-O),Math.abs(N.dim.bottom-O));I<H&&(H=I,D=F)}else{var W=Math.abs(P-N.dim.left)>Math.abs(P-N.dim.right)?Math.abs(P-N.dim.right):Math.abs(P-N.dim.left),X=Math.abs(O-N.dim.top)>Math.abs(O-N.dim.bottom)?Math.abs(O-N.dim.bottom):Math.abs(O-N.dim.top),y=Math.sqrt(W*W+X*X);y<H&&(H=y,D=F)}}return D>=0&&H<=12?D:-1}function u(T,P,O){if(T.x<=P.offsetX&&T.x+T.width>=P.offsetX&&T.y<=P.offsetY&&T.y+T.height>=P.offsetY)return[P.offsetX,P.offsetY];var H=Math.abs(P.layerY/O-P.offsetY);return H<3?[P.offsetX,P.offsetY]:[P.layerX,P.layerY]}function g(T){if(!T)return null;if(T.tagName==="svg")return T;if(!T.getAttribute)return null;for(var P=T.getAttribute("selectable");!P;)T.parentElement?(T=T.parentElement,T.tagName==="svg"?P=!0:P=T.getAttribute("selectable")):P=!0;return T}function p(T,P){var O,H,D,F=c(T.selectables,g(P.target));return F>=0?(D=u(T.selectables[F].svgEl.getBBox(),P,T.scale),O=D[0],H=D[1]):(D=a(P),O=D[0],H=D[1],F=d(T,O,H)),{x:O,y:H,clickedOn:F}}function o(T){if(!(!T||!T.target||!T.touches||T.touches.length<1)){var P=T.target.getBoundingClientRect(),O=T.touches[0].pageX-P.left,H=T.touches[0].pageY-P.top;T.touches[0].offsetX=O,T.touches[0].offsetY=H,T.touches[0].layerX=T.touches[0].pageX,T.touches[0].layerY=T.touches[0].pageY}}function t(T){var P=T;T.type==="touchstart"&&(o(T),T.touches.length>0&&(P=T.touches[0]));var O=p(this,P);O.clickedOn>=0&&(T.type==="touchstart"||T.button===0)&&this.selectables[O.clickedOn]&&(this.dragTarget=this.selectables[O.clickedOn],this.dragIndex=O.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:O.x,y:O.y},this.dragging&&this.dragTarget.isDraggable&&(z(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function n(T){var P=T;if(T.type==="touchmove"&&(o(T),T.touches.length>0&&(P=T.touches[0])),this.lastTouchMove=T,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var O=p(this,P),H=Math.round((O.y-this.dragMouseStart.y)/C.STEP);H!==this.dragYStep&&(this.dragYStep=H,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+H*C.STEP+")"))}}function e(T){var P=T;T.type==="touchend"&&this.lastTouchMove&&(o(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(P=this.lastTouchMove.touches[0])),this.dragTarget&&(b.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),m.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,P),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),G(this.renderer.svg,"abcjs-dragging-in-progress"))}function l(T){T>=0&&T<this.selectables.length&&(this.dragTarget=this.selectables[T],this.dragIndex=T,this.dragMechanism="keyboard",e.bind(this)({target:this.dragTarget.svgEl}))}function m(T,P,O,H,D){for(var F=w(T,D),N=F.classes,B=F.analysis,I=0;I<this.listeners.length;I++)this.listeners[I](T.absEl.abcelem,T.absEl.tuneNumber,N.join(" "),B,{step:P,max:O,index:H,setSelection:l.bind(this)},D)}function b(){for(var T=0;T<this.selected.length;T++)this.selected[T].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function E(T,P){b.bind(this)();for(var O=0;O<this.staffgroups.length;O++)for(var H=this.staffgroups[O].voices,D=0;D<H.length;D++)for(var F=H[D].children,N=0;N<F.length;N++){var B=F[N].abcelem.startChar,I=F[N].abcelem.endChar;(P>B&&T<I||P===T&&P===I)&&(this.selected[this.selected.length]=F[N],F[N].highlight(void 0,this.selectionColor))}}function M(T){var P=T.getAttribute("class");P||(P="");for(var O=P.split(" "),H={},D=0;D<O.length;D++)H[O[D]]=!0;return H}function L(T,P){var O=[];for(var H in P)P.hasOwnProperty(H)&&O.push(H);T.setAttribute("class",O.join(" "))}function z(T,P){if(T){var O=M(T.svg);O[P]=!0,L(T.svg,O)}}function G(T,P){if(T){var O=M(T.svg);delete O[P],L(T.svg,O)}}R.exports=x},1197:function(R,$,k){var C=k(1198),w=k(1201),x=k(1202),a=k(1139),f=k(1204),r=function(p,o,t,n,e,l){var m,b,E=t;for(m=0;m<o.lines.length;m++)if(b=o.lines[m],b.staff){var M;l!==void 0?M=f(p,b.staffGroup,l):M=h(p,E,n,b.staffGroup,o.formatting,m===o.lines.length-1,!1),Math.round(M)>Math.round(E)&&(E=M,e&&(m=-1))}for(m=0;m<o.lines.length;m++)if(b=o.lines[m],b.staffGroup&&b.staffGroup.voices){for(var L=0;L<b.staffGroup.voices.length;L++)C(b.staffGroup.voices[L]);w(p,b.staffGroup)}for(m=0;m<o.lines.length;m++)b=o.lines[m],b.staffGroup&&b.staffGroup.setHeight();return E},h=function(p,o,t,n,e,l,m){for(var b=a(p,n.getTextSize,n.voices,n.brace,n.bracket),E=t,M=0;M<8;M++){var L=x(E,p.minPadding,m,n,b);if(E=u(l,e.stretchlast,o+p.padding.left,n.w,E,L.spacingUnits,L.minSpace,p.padding.left+p.padding.right),m&&console.log("setXSpace",M,n.w,E,n.minspace),E===null)break}return g(n.voices),n.w-b};function c(p,o){return p==="parent"?"parent":p==="beam"?"beam":o}function d(p,o){console.log("=================== "+p+" ========================="),console.log(o),console.log(JSON.stringify(o,c,"	"))}function u(p,o,t,n,e,l,m,b){if(p)if(o===void 0){if(n/t<.66)return null}else{var E=1-(n+b)/t,M=E<o;if(!M)return null}if(Math.abs(t-n)<2)return null;var L=l*e,z=n-L;return l>0?(e=(t-z)/l,e*m>50&&(e=50/m),e):null}function g(p){for(var o=0;o<p.length;o++)for(var t=p[o],n=1;n<t.children.length-1;n++){var e=t.children[n];if(e.abcelem.rest&&(e.abcelem.rest.type==="whole"||e.abcelem.rest.type==="multimeasure")){var l=t.children[n-1],m=t.children[n+1];e.center(l,m)}}}R.exports=r},1198:function(R,$,k){var C=k(1199),w=k(1111),x=k(1200),a=function(g){for(var p=0;p<g.beams.length;p++)if(g.beams[p].type==="BeamElem"){C(g.beams[p]),f(g.beams[p]);for(var o=0;o<g.beams[p].elems.length;o++)g.adjustRange(g.beams[p].elems[o])}for(g.staff.specialY.chordLines=h(g.children),p=0;p<g.otherchildren.length;p++){var t=g.otherchildren[p];t.type==="TripletElem"&&(x(t),g.adjustRange(t))}g.staff.top=Math.max(g.staff.top,g.top),g.staff.bottom=Math.min(g.staff.bottom,g.bottom)};function f(g){for(var p=1.5,o=0;o<g.elems.length;o++){var t=g.elems[o];if(t.top)for(var n=u(t,g),e=0;e<t.children.length;e++){var l=t.children[e];if(l.klass==="ornament"&&l.position!=="below"&&l.bottom-p<n){var m=n-l.bottom+p;l.bottom+=m,l.top+=m,l.pitch+=m,n=t.top=l.top}}}}function r(g,p){var o=p.getChordDim();if(o){for(var t=0;t<g.length;t++){var n=g[t]<o.left;if(n){t>0&&p.putChordInLane(t),g[t]=o.right;return}}g.push(o.right),p.putChordInLane(g.length-1)}}function h(g){var p=[0],o=[0],t,n,e;for(t=0;t<g.length;t++){for(n=0;n<g[t].children.length;n++)e=g[t].children[n],e.chordHeightAbove&&r(p,e);for(n=g[t].children.length-1;n>=0;n--)e=g[t].children[n],e.chordHeightBelow&&r(o,e)}return(p.length>1||o.length>1)&&d(g,p.length,o.length),{above:p.length,below:o.length}}function c(g){for(var p=0,o=0;o<g.children.length;o++){var t=g.children[o];t.chordHeightBelow&&p++}return p}function d(g,p,o){for(var t=0;t<g.length;t++)for(var n=c(g[t]),e=0;e<g[t].children.length;e++){var l=g[t].children[e];l.chordHeightAbove&&l.invertLane(p)}}function u(g,p){return p=p.beams[0],w(p.startX,p.startY,p.endX,p.endY,g.x)}R.exports=a},1199:function(R,$,k){var C=k(1094),w=k(1093),x=k(1111),a=function(o){if(!(o.elems.length===0||o.allrests)){var t=c(o.stemsUp,o.isgrace),n=o.elems[0],e=o.elems[o.elems.length-1],l=0,m=o.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;l=r(n,o.stemsUp,m,l),l=r(e,o.stemsUp,m,l),l=Math.max(o.stemHeight,l+3);var b=u(o.average,o.elems.length,l,o.stemsUp,n.abcelem.averagepitch,e.abcelem.averagepitch,o.isflat,o.min,o.max,o.isgrace),E=d(o.stemsUp,n,e);o.addBeam({startX:E[0],endX:E[1],startY:b[0],endY:b[1],dy:t});for(var M=p(o.elems,o.stemsUp,o.beams[0],o.isgrace,t),L=0;L<M.length;L++)o.addBeam(M[L]);g(o.elems,o.stemsUp,o.beams[0],t,o.mainNote)}},f=function(o){return o===void 0?0:Math.floor(Math.log(o)/Math.log(2))};function r(o,t,n,e){if(!o.children)return e;for(var l=0;l<o.children.length;l++){var m=o.children[l];t&&m.top!==void 0&&m.c==="flags.ugrace"?e=Math.max(e,m.top-n):!t&&m.bottom!==void 0&&m.c==="flags.ugrace"&&(e=Math.max(e,n-m.bottom+7))}return e}function h(o,t,n,e){if(e)return 0;var l=o-t,m=n/2;return l>m&&(l=m),l<-m&&(l=-m),l}function c(o,t){var n=o?w.STEP:-w.STEP;return t&&(n=n*.4),n}function d(o,t,n){var e=t.heads[o?0:t.heads.length-1],l=n.heads[o?0:n.heads.length-1],m=e.x;o&&(m+=e.w-.6);var b=l.x;return b+=o?l.w:.6,[m,b]}function u(o,t,n,e,l,m,b,E,M,L){var z=n-2,G=n-2,T=Math.round(e?Math.max(o+z,M+G):Math.min(o-z,E-G)),P=h(l,m,t,b),O=T+Math.floor(P/2),H=T+Math.floor(-P/2);return L||(e&&T<6||!e&&T>6)&&(O=6,H=6),[O,H]}function g(o,t,n,e,l){for(var m=0;m<o.length;m++){var b=o[m];if(!b.abcelem.rest){var E=!b.addExtra,M=E?l:b,L=b.heads[t?0:b.heads.length-1],z=1/5,G=L.pitch+(t?z:-z),T=t?L.w:0;E||(T+=L.dx);var P=L.x+T,O=x(n.startX,n.startY,n.endX,n.endY,P),H=t?-.6:.6;t||(O-=e/2/w.STEP),E&&(T+=b.heads[0].dx),L.c==="noteheads.slash.quarter"&&(t?G+=1:G-=1);var D=new C(null,T,0,G,{type:"stem",pitch2:O,linewidth:H});D.setX(M.x),M.addRight(D)}}}function p(o,t,n,e,l){for(var m=[],b=[],E=0;E<o.length;E++){var M=o[E];if(!M.abcelem.rest){var L=M.heads[t?0:M.heads.length-1],z=L.x+(t?L.w:0),G=x(n.startX,n.startY,n.endX,n.endY,z),T=t?-1.5:1.5;e&&(T=T*2/3);var P=M.abcelem.duration;P===0&&(P=.25);for(var O=f(P);O<-3;O++){var H=-4-O;if(b[H]?b[H].single=!1:b[H]={x:z+(t?-.6:0),y:G+T*(H+1),durlog:O,single:!0},E>0&&M.abcelem.beambr&&M.abcelem.beambr<=H+1){b[H].split||(b[H].split=[b[H].x]);var D=d(t,o[E-1],M);b[H].split[b[H].split.length-1]>=D[0]&&(D[0]+=M.w),b[H].split.push(D[0]),b[H].split.push(D[1])}}for(var F=b.length-1;F>=0;F--)if(E===o.length-1||f(o[E+1].abcelem.duration)>-F-4){var N=z,B=G+T*(F+1);b[F].single&&(N=E===0?z+5:z-5,B=x(n.startX,n.startY,n.endX,n.endY,N)+T*(F+1));var I={startX:b[F].x,endX:N,startY:b[F].y,endY:B,dy:l};if(b[F].split!==void 0){var W=b[F].split;I.endX<=W[W.length-1]&&(W[W.length-1]-=M.w),W.push(I.endX),I.split=b[F].split}m.push(I),b=b.slice(0,F)}}}return m}R.exports=a},1200:function(R,$,k){var C=k(1111);function w(r){if(r.anchor1&&r.anchor2){r.hasBeam=!!r.anchor1.parent.beam&&r.anchor1.parent.beam===r.anchor2.parent.beam;var h=r.anchor1.parent.beam;if(r.hasBeam&&(h.elems[0]!==r.anchor1.parent||h.elems[h.elems.length-1]!==r.anchor2.parent)&&(r.hasBeam=!1),r.hasBeam){var c=x(h)?r.anchor1.x+r.anchor1.w:r.anchor1.x;r.yTextPos=a(c,r.anchor2.x,h),r.yTextPos+=x(h)?3:-2,r.xTextPos=f(c,r.anchor2.x),r.top=r.yTextPos+1,r.bottom=r.yTextPos-2,x(h)&&(r.endingHeightAbove=4)}else{r.startNote=Math.max(r.anchor1.parent.top,9)+4,r.endNote=Math.max(r.anchor2.parent.top,9)+4,r.anchor1.parent.type==="rest"&&r.anchor2.parent.type!=="rest"?r.startNote=r.endNote:r.anchor2.parent.type==="rest"&&r.anchor1.parent.type!=="rest"&&(r.endNote=r.startNote);for(var d=0,u=0;u<r.middleElems.length;u++)d=Math.max(d,r.middleElems[u].top);d+=4,(d>r.startNote||d>r.endNote)&&(r.startNote=d,r.endNote=d),r.flatBeams&&(r.startNote=Math.max(r.startNote,r.endNote),r.endNote=Math.max(r.startNote,r.endNote)),r.yTextPos=r.startNote+(r.endNote-r.startNote)/2,r.xTextPos=r.anchor1.x+(r.anchor2.x+r.anchor2.w-r.anchor1.x)/2,r.top=r.yTextPos+1}}delete r.middleElems,delete r.flatBeams}function x(r){return r.stemsUp}function a(r,h,c){if(c.beams.length===0)return 0;c=c.beams[0];var d=r+(h-r)/2;return C(c.startX,c.startY,c.endX,c.endY,d)}function f(r,h){return r+(h-r)/2}R.exports=w},1201:function(R,$,k){var C=k(1093),w=function(p,o){for(var t,n=0;n<o.staffs.length;n++){var e=o.staffs[n],l={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(p.showDebug&&p.showDebug.indexOf("box")>=0&&(e.originalTop=e.top,e.originalBottom=e.bottom),a(e,l,"lyricHeightAbove"),a(e,l,"chordHeightAbove",e.specialY.chordLines.above),e.specialY.endingHeightAbove&&(e.specialY.chordHeightAbove?e.top+=2:e.top+=e.specialY.endingHeightAbove+x,l.endingHeightAbove=e.top),e.specialY.dynamicHeightAbove&&e.specialY.volumeHeightAbove?(e.top+=Math.max(e.specialY.dynamicHeightAbove,e.specialY.volumeHeightAbove)+x,l.dynamicHeightAbove=e.top,l.volumeHeightAbove=e.top):(a(e,l,"dynamicHeightAbove"),a(e,l,"volumeHeightAbove")),a(e,l,"partHeightAbove"),a(e,l,"tempoHeightAbove"),e.specialY.lyricHeightBelow&&(e.specialY.lyricHeightBelow+=p.spacing.vocal/C.STEP,l.lyricHeightBelow=e.bottom,e.bottom-=e.specialY.lyricHeightBelow+x),e.specialY.chordHeightBelow){l.chordHeightBelow=e.bottom;var m=e.specialY.chordHeightBelow;e.specialY.chordLines.below&&(m*=e.specialY.chordLines.below),e.bottom-=m+x}e.specialY.volumeHeightBelow&&e.specialY.dynamicHeightBelow?(l.volumeHeightBelow=e.bottom,l.dynamicHeightBelow=e.bottom,e.bottom-=Math.max(e.specialY.volumeHeightBelow,e.specialY.dynamicHeightBelow)+x):e.specialY.volumeHeightBelow?(l.volumeHeightBelow=e.bottom,e.bottom-=e.specialY.volumeHeightBelow+x):e.specialY.dynamicHeightBelow&&(l.dynamicHeightBelow=e.bottom,e.bottom-=e.specialY.dynamicHeightBelow+x),p.showDebug&&p.showDebug.indexOf("box")>=0&&(e.positionY=l);for(var b=0;b<e.voices.length;b++){var E=o.voices[e.voices[b]];f(l,E,p.spacing)}if(t!==void 0){var M=e.top-10,L=t+M,z=p.spacing.systemStaffSeparation/C.STEP,G=z-L;G>0&&(e.top+=G)}e.top+=p.spacing.staffTopMargin/C.STEP,t=2-e.bottom}},x=1;function a(p,o,t,n){if(p.specialY[t]){var e=p.specialY[t];n&&(e*=n),p.top+=e+x,o[t]=p.top}}function f(p,o,t){var n,e;for(n=0;n<o.children.length;n++)e=o.children[n],r(p,e,t);for(n=0;n<o.otherchildren.length;n++)switch(e=o.otherchildren[n],e.type){case"CrescendoElem":h(p,e);break;case"DynamicDecoration":c(p,e);break;case"EndingElem":d(p,e);break;case"TieElem":var l=e.getYBounds();o.staff.top=Math.max(o.staff.top,l[0]),o.staff.top=Math.max(o.staff.top,l[1]),o.staff.bottom=Math.min(o.staff.bottom,l[0]),o.staff.bottom=Math.min(o.staff.bottom,l[1]);break}}function r(p,o,t){for(var n=0;n<o.children.length;n++){var e=o.children[n];for(var l in o.specialY)o.specialY.hasOwnProperty(l)&&e[l]&&(e.pitch=p[l],e.top===void 0&&(e.type==="TempoElement"?u(p,e):g(p,e,t),o.pushTop(e.top),o.pushBottom(e.bottom)))}}function h(p,o){o.dynamicHeightAbove?o.pitch=p.dynamicHeightAbove:o.pitch=p.dynamicHeightBelow}function c(p,o){o.volumeHeightAbove?o.pitch=p.volumeHeightAbove:o.pitch=p.volumeHeightBelow}function d(p,o){o.pitch=p.endingHeightAbove-2}function u(p,o){if(o.pitch=p.tempoHeightAbove,o.top=p.tempoHeightAbove,o.bottom=p.tempoHeightAbove,o.note){var t=o.pitch-o.totalHeightInPitches+1;o.note.top=t,o.note.bottom=t;for(var n=0;n<o.note.children.length;n++){var e=o.note.children[n];e.top+=t,e.bottom+=t,e.pitch+=t,e.pitch2!==void 0&&(e.pitch2+=t)}}}function g(p,o,t){switch(o.type){case"part":o.top=p.partHeightAbove+o.height,o.bottom=p.partHeightAbove;break;case"text":case"chord":o.chordHeightAbove?(o.top=p.chordHeightAbove,o.bottom=p.chordHeightAbove):(o.top=p.chordHeightBelow,o.bottom=p.chordHeightBelow);break;case"lyric":o.lyricHeightAbove?(o.top=p.lyricHeightAbove,o.bottom=p.lyricHeightAbove):(o.top=p.lyricHeightBelow+t.vocal/C.STEP,o.bottom=p.lyricHeightBelow+t.vocal/C.STEP,o.pitch-=t.vocal/C.STEP);break;case"debug":o.top=p.chordHeightAbove,o.bottom=p.chordHeightAbove;break}(o.pitch===void 0||o.top===void 0)&&console.error("RelativeElement position not set.",o.type,o.pitch,o.top,p)}R.exports=w},1202:function(R,$,k){var C=k(1203);function w(h){for(var c=0,d=0;d<h.length;d++){var u=h[d];if(u.children.length>0){var g=u.children.length-1,p=u.children[g];if(p.abcelem.el_type==="bar"){var o=p.children[0].x;o>c?c=o:p.children[0].x=c}}}}var x=function(h,c,d,u,g){var p=1e-7,o=0,t=1e3,n=g;u.startx=n;var e,l=0;for(d&&console.log("init layout",h),e=0;e<u.voices.length;e++)C.beginLayout(n,u.voices[e]);for(var m=0;!a(u.voices);){for(l=null,e=0;e<u.voices.length;e++)!C.layoutEnded(u.voices[e])&&(!l||f(u.voices[e])<l)&&(l=f(u.voices[e]));var b=[],E=[];for(e=0;e<u.voices.length;e++){var M=f(u.voices[e]);M-l>p?E.push(u.voices[e]):b.push(u.voices[e])}m=0;var L=0;for(e=0;e<b.length;e++)C.getNextX(b[e])>n&&(n=C.getNextX(b[e]),m=C.getSpacingUnits(b[e]),L=b[e].spacingduration);o+=m,t=Math.min(t,m),d&&console.log("currentduration: ",l,o,t);var z=void 0;for(e=0;e<b.length;e++){var G=b[e];G.voicenumber===0&&(z=e);var T=z!==void 0&&b[z].voicenumber!==G.voicenumber?b[z]:void 0;r(G,T)||(T=void 0);var P=C.layoutOneItem(n,h,G,c,T),O=P-n;if(O>0){n=P;for(var H=0;H<e;H++)C.shiftRight(O,b[H])}}for(e=0;e<E.length;e++)E[e].spacingduration-=L,C.updateNextX(n,h,E[e]);for(e=0;e<b.length;e++){var D=b[e];C.updateIndices(D)}}for(e=0;e<u.voices.length;e++)C.getNextX(u.voices[e])>n&&(n=C.getNextX(u.voices[e]),m=C.getSpacingUnits(u.voices[e]));return w(u.voices),o+=m,u.setWidth(n),{spacingUnits:o,minSpace:t}};function a(h){for(var c=0;c<h.length;c++)if(!C.layoutEnded(h[c]))return!1;return!0}function f(h){return h.durationindex-(h.children[h.i]&&h.children[h.i].duration>0?0:5e-7)}function r(h,c){return!h||!h.staff||!h.staff.voices||h.staff.voices.length===0||!c||!c.staff||!c.staff.voices||c.staff.voices.length===0?!1:h.staff.voices[0]===c.staff.voices[0]}R.exports=x},1203:function(R,$){var k=function(){};k.beginLayout=function(x,a){a.i=0,a.durationindex=0,a.startx=x,a.minx=x,a.nextx=x,a.spacingduration=0},k.layoutEnded=function(x){return x.i>=x.children.length},k.getNextX=function(x){return Math.max(x.minx,x.nextx)},k.getSpacingUnits=function(x){return Math.sqrt(x.spacingduration*8)},k.layoutOneItem=function(x,a,f,r,h){var c=f.children[f.i];if(!c)return 0;var d=x-f.minx,u=f.durationindex+c.duration>0?r:0;if(c.abcelem.el_type==="note"&&!c.abcelem.rest&&f.voicenumber!==0&&h){var g=h.children[h.i],p=g&&(c.abcelem.maxpitch<=g.abcelem.maxpitch+1&&c.abcelem.maxpitch>=g.abcelem.minpitch-1||c.abcelem.minpitch<=g.abcelem.maxpitch+1&&c.abcelem.minpitch>=g.abcelem.minpitch-1);if(p&&c.abcelem.minpitch===g.abcelem.minpitch&&c.abcelem.maxpitch===g.abcelem.maxpitch&&g.heads&&g.heads.length>0&&c.heads&&c.heads.length>0&&g.heads[0].c===c.heads[0].c&&(p=!1),p){var o=g.heads&&g.heads.length>0?g.heads[0].realWidth:g.fixed.w;c.adjustedWidth||(c.adjustedWidth=o+c.w),c.w=c.adjustedWidth;for(var t=0;t<c.children.length;t++){var n=c.children[t];n.name.indexOf("accidental")<0&&(n.adjustedWidth||(n.adjustedWidth=n.dx+o),n.dx=n.adjustedWidth)}}}var e=C(c,u);return d<e&&(f.i===0||c.type!=="bar"||f.children[f.i-1].type!=="part"&&f.children[f.i-1].type!=="tempo")&&(x+=e-d),c.setX(x),f.spacingduration=c.duration,f.minx=x+w(c),f.i!==f.children.length-1&&(f.minx+=c.minspacing),this.updateNextX(x,a,f),x},k.shiftRight=function(x,a){var f=a.children[a.i];f&&(f.setX(f.x+x),a.minx+=x,a.nextx+=x)},k.updateNextX=function(x,a,f){f.nextx=x+a*this.getSpacingUnits(f)},k.updateIndices=function(x){this.layoutEnded(x)||(x.durationindex+=x.children[x.i].duration,x.children[x.i].type==="bar"&&(x.durationindex=Math.round(x.durationindex*64)/64),x.i++)};function C(x,a){var f=0;return(x.type==="note"||x.type==="bar")&&(f=a),-x.extraw+f}function w(x){return x.w}R.exports=k},1204:function(R,$,k){var C=k(1139);function w(a,f,r){var h=C(a,f.getTextSize,f.voices,f.brace,f.bracket),c=x(f,r.minPadding),d=c.totalDuration,u=c.minSpacing,g=u*d;r.minWidth&&(g=Math.max(g,r.minWidth));var p=r.minPadding?r.minPadding/2:2;f.startx=h,f.w=g+h;for(var o=0;o<f.voices.length;o++){var t=f.voices[o];t.startx=h,t.w=g+h;for(var n=h,e=!1,l=0,m=0;m<t.children.length;m++){var b=t.children[m];e||(b.duration!==0?(e=!0,l=(g+h-n)/d,f.gridStart=n):(b.x=n,n+=b.w+b.minspacing)),e&&(r.align==="center"?b.x=n+b.duration*l/2-b.w/2:b.duration===0?b.x=n+1-b.w:b.x=n+p-b.extraw,n+=b.duration*l);for(var E=0;E<b.children.length;E++){var M=b.children[E],L=M.dx?M.dx:0;M.x=b.x+L}}f.gridEnd=n}return g}function x(a,f){for(var r=0,h=0,c=0;c<a.voices.length;c++){for(var d=0,u=a.voices[c],g=0;g<u.children.length;g++){var p=u.children[g];if(d+=p.duration,p.duration){var o=(p.w+f)/p.duration;r=Math.max(r,o)}}h=Math.max(h,d)}return{totalDuration:h,minSpacing:r}}R.exports=w},1205:function(R,$){var k=function(w){this.shouldAddClasses=w.shouldAddClasses,this.reset()};k.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},k.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},k.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},k.prototype.isInMeasure=function(){return this.measureNumber!==null},k.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},k.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},k.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},k.prototype.incrNote=function(){this.noteNumber++},k.prototype.measureTotal=function(){for(var C=0,w=0;w<this.lineNumber;w++)C+=this.measureTotalPerLine[w]?this.measureTotalPerLine[w]:0;return this.measureNumber&&(C+=this.measureNumber),C},k.prototype.getCurrent=function(C){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},k.prototype.generate=function(C){if(!this.shouldAddClasses)return"";var w=[];if(C&&C.length>0&&w.push(C),C==="abcjs-tab-number")return w.join(" ");if(C==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&w.push("l"+this.lineNumber),this.measureNumber!==null&&w.push("m"+this.measureNumber),this.measureNumber!==null&&w.push("mm"+this.measureTotal()),this.voiceNumber!==null&&w.push("v"+this.voiceNumber),C&&(C.indexOf("note")>=0||C.indexOf("rest")>=0||C.indexOf("lyric")>=0)&&this.noteNumber!==null&&w.push("n"+this.noteNumber),w.length>0){w=w.join(" "),w=w.split(" ");for(var x=0;x<w.length;x++)w[x].indexOf("abcjs-")!==0&&w[x].length>0&&(w[x]="abcjs-"+w[x])}return w.join(" ")},R.exports=k},1206:function(R,$){var k=function(w,x){this.formatting=w,this.classes=x};k.prototype.updateFonts=function(C){C.gchordfont&&(this.formatting.gchordfont=C.gchordfont),C.tripletfont&&(this.formatting.tripletfont=C.tripletfont),C.annotationfont&&(this.formatting.annotationfont=C.annotationfont),C.vocalfont&&(this.formatting.vocalfont=C.vocalfont)},k.prototype.getFamily=function(C){return C[0]==='"'&&C[C.length-1]==='"'?C.substring(1,C.length-1):C},k.prototype.calc=function(C,w){var x;typeof C=="string"?(x=this.formatting[C],x?x={face:x.face,size:Math.round(x.size*4/3),decoration:x.decoration,style:x.style,weight:x.weight,box:x.box}:x={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):x={face:C.face,size:Math.round(C.size*4/3),decoration:C.decoration,style:C.style,weight:C.weight,box:C.box};var a=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;x.padding=x.size*a;var f={"font-size":x.size,"font-style":x.style,"font-family":this.getFamily(x.face),"font-weight":x.weight,"text-decoration":x.decoration,class:this.classes.generate(w)};return{font:x,attr:f}},R.exports=k},1207:function(R,$){var k=function(w,x){this.getFontAndAttr=w,this.svg=x};k.prototype.updateFonts=function(C){this.getFontAndAttr.updateFonts(C)},k.prototype.attr=function(C,w){return this.getFontAndAttr.calc(C,w)},k.prototype.getFamily=function(C){return C[0]==='"'&&C[C.length-1]==='"'?C.substring(1,C.length-1):C},k.prototype.calc=function(C,w,x,a){var f;typeof w=="string"?f=this.attr(w,x):f={font:{face:w.face,size:w.size,decoration:w.decoration,style:w.style,weight:w.weight},attr:{"font-size":w.size,"font-style":w.style,"font-family":this.getFamily(w.face),"font-weight":w.weight,"text-decoration":w.decoration,class:this.getFontAndAttr.classes.generate(x)}};var r=this.svg.getTextSize(C,f.attr,a);return f.font.box?{height:r.height+f.font.padding*4,width:r.width+f.font.padding*4}:r},k.prototype.baselineToCenter=function(C,w,x,a,f){var r=this.calc(C,w,x).height,h=this.attr(w,x).font.size;return r*.5+(f-a-2)*h},R.exports=k},1208:function(R,$,k){var C=k(1209),w=k(1225),x=k(1144),a=k(1093),f=k(1226);function r(d,u,g,p,o,t,n,e,l,m){var b=new f(d.paper,e,l),E={};u.shouldAddClasses&&(E.klass="abcjs-meta-top"),d.paper.openGroup(E),d.moveY(d.padding.top),x(d,g.topText,b),d.paper.closeGroup(),d.moveY(d.spacing.music);for(var M=[],L=0;L<g.lines.length;L++){u.incrLine();var z=g.lines[L];if(z.staff){u.shouldAddClasses&&(E.klass="abcjs-staff-wrapper abcjs-l"+u.lineNumber),d.paper.openGroup(E),z.vskip&&d.moveY(z.vskip),M.length>=1&&c(d,d.spacing.staffSeparation,M[M.length-1],z.staffGroup);var G=h(d,z.staffGroup,b,L);G.line=m+L,M.push(G),d.paper.closeGroup()}else z.nonMusic&&(u.shouldAddClasses&&(E.klass="abcjs-non-music"),d.paper.openGroup(E),x(d,z.nonMusic,b),d.paper.closeGroup())}return u.reset(),g.bottomText&&g.bottomText.rows&&g.bottomText.rows.length>0&&(u.shouldAddClasses&&(E.klass="abcjs-meta-bottom"),d.paper.openGroup(E),d.moveY(24),x(d,g.bottomText,b),d.paper.closeGroup()),w(d,o,n,t),{staffgroups:M,selectables:b.getElements()}}function h(d,u,g,p){C(d,u,g,p);var o=u.height*a.STEP;return d.y+=o,u}function c(d,u,g,p){var o=g.staffs[g.staffs.length-1],t=-(o.bottom-2),n=p.staffs[0].top-10,e=n+t,l=e*a.STEP;l<u&&d.moveY(u-l)}R.exports=r},1209:function(R,$,k){var C=k(1093),w=k(1210),x=k(1211),a=k(1222),f=k(1223),r=k(1142),h=k(1144);function c(g,p,o,t){for(var n,e=g.y,l=0;l<p.staffs.length;l++){var m=p.staffs[l];g.moveY(C.STEP,m.top),m.absoluteY=g.y,g.showDebug&&(g.showDebug.indexOf("box")>=0&&m.voices&&u(g,p.voices,m.voices),g.showDebug.indexOf("grid")>=0&&(g.paper.dottedLine({x1:g.padding.left,x2:g.padding.left+g.controller.width,y1:e,y2:e,stroke:"#0000ff"}),f(g,{x:g.padding.left,y:g.calcY(m.originalTop),width:g.controller.width,height:g.calcY(m.originalBottom)-g.calcY(m.originalTop),fill:g.foregroundColor,stroke:g.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),n=0,N(m,"chordHeightAbove"),N(m,"chordHeightBelow"),N(m,"dynamicHeightAbove"),N(m,"dynamicHeightBelow"),N(m,"endingHeightAbove"),N(m,"lyricHeightAbove"),N(m,"lyricHeightBelow"),N(m,"partHeightAbove"),N(m,"tempoHeightAbove"),N(m,"volumeHeightAbove"),N(m,"volumeHeightBelow"))),g.moveY(C.STEP,-m.bottom),g.showDebug&&g.showDebug.indexOf("grid")>=0&&g.paper.dottedLine({x1:g.padding.left,x2:g.padding.left+g.controller.width,y1:g.y,y2:g.y,stroke:"#0000aa"})}for(var b,E,M=2,L=0,z=0;z<p.voices.length;z++){var G=p.voices[z].staff,T=p.voices[z].tabNameInfos;if(g.y=G.absoluteY,g.controller.classes.incrVoice(),!p.voices[z].duplicate){if(b||(b=g.calcY(10)),E=g.calcY(M),G.lines!==0){G.linePitch&&(M=G.linePitch),g.controller.classes.newMeasure();var P=a(g,p.startx,p.w,G.lines,G.linePitch,.35);E=P[1],G.bottomLine=E,G.topLine=P[0],G.hasTab&&(L=G.topLine),G.hasStaff&&(L=G.hasStaff.topLine,p.voices[z].barto=!0,p.voices[z].topLine=b)}d(g,G.absoluteY,p.brace,z,o),d(g,G.absoluteY,p.bracket,z,o)}x(g,p.voices[z],L,o,{top:e,zero:g.y,height:p.height*C.STEP});var O=0;if(T){var H={rows:[]};H.rows.push({absmove:E+2});var D=8;H.rows.push({left:p.startx+D,text:T.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),H.rows.push({move:T.textSize.height}),h(g,H),O=T.textSize.height}g.controller.classes.newMeasure(),p.voices[z].duplicate||(L=g.calcY(2+O))}g.controller.classes.newMeasure();var F=p.staffs.length;F>1&&(b=p.staffs[0].topLine,E=p.staffs[F-1].bottomLine,r(g,p.startx,.6,b,E,null)),g.y=e;function N(B,I){var W=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(B.positionY&&B.positionY[I]){var X=B.specialY[I]*C.STEP;I==="chordHeightAbove"&&B.specialY.chordLines&&B.specialY.chordLines.above&&(X*=B.specialY.chordLines.above),I==="chordHeightBelow"&&B.specialY.chordLines&&B.specialY.chordLines.below&&(X*=B.specialY.chordLines.below),f(g,{x:g.padding.left,y:g.calcY(B.positionY[I]),width:g.controller.width,height:X,fill:W[n],stroke:W[n],"fill-opacity":.4,"stroke-opacity":.4},I.substr(0,4)),n+=1,n>6&&(n=0)}}}function d(g,p,o,t,n){if(o)for(var e=0;e<o.length;e++)o[e].isStartVoice(t)&&(o[e].startY=p-C.STEP*10,o[e].elemset=w(g,o[e],n))}function u(g,p,o){for(var t=0;t<o.length;t++)for(var n=p[o[t]].children,e=0;e<n.length;e++){var l=n[e],m=l.getFixedCoords();if(!(l.invisible||m.t===void 0||m.b===void 0)){var b=(m.t-m.b)*C.STEP;f(g,{x:m.x,y:g.calcY(m.t),width:m.w,height:b,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var E=0;E<l.children.length;E++){var M=l.children[E],L=M.getChordDim();if(L){var z=g.calcY(M.pitch);z+=M.dim.font.size*M.getLane(),f(g,{x:L.left,y:z,width:L.right-L.left,height:M.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}R.exports=c},1210:function(R,$,k){var C=k(1099),w=k(1093),x=k(1098);function a(d,u,g){var p=u.startVoice.staff.absoluteY-w.STEP*10;return u.endVoice&&u.endVoice.staff?u.endY=u.endVoice.staff.absoluteY-w.STEP*2:u.lastContinuedVoice&&u.lastContinuedVoice.staff?u.endY=u.lastContinuedVoice.staff.absoluteY-w.STEP*2:u.endY=u.startVoice.staff.absoluteY-w.STEP*2,c(d,u.x,p,u.endY,u.type,u.header,g)}function f(d,u,g,p,o){u+=w.STEP;var t=w.STEP*.75,n=w.STEP*.75,e=p-g,l=C("M %f %f l %f %f l %f %f l %f %f z",u,g-n,0,e+n*2,t,0,0,-(e+n*2)),m=w.STEP*2,b=w.STEP;return l+=C("M %f %f q %f %f %f %f q %f %f %f %f z",u+t,g-n,m*.6,b*.2,m,-b,-m*.1,b*.3,-m,b+w.STEP),l+=C("M %f %f q %f %f %f %f q %f %f %f %f z",u+t,g+n+e,m*.6,-b*.2,m,b,-m*.1,-b*.3,-m,-b-w.STEP),d.paper.path({path:l,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(o),"data-name":o})}function r(d,u,g,p,o){var t=p-g,n=h(u,g,[7.5,-8,21,0,18.5,-10.5,7.5],[0,t/5.5,t/3.14,t/2,t/2.93,t/4.88,0]);return n+=h(u,g,[0,17.5,-7.5,6.6,-5,20,0],[t/2,t/1.46,t/1.22,t,t/1.19,t/1.42,t/2]),d.paper.path({path:n,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(o),"data-name":o})}function h(d,u,g,p){return C("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",d+g[0],u+p[0],d+g[1],u+p[1],d+g[2],u+p[2],d+g[3],u+p[3],d+g[4],u+p[4],d+g[5],u+p[5],d+g[6],u+p[6])}var c=function(d,u,g,p,o,t,n){var e;if(t){d.paper.openGroup({klass:d.controller.classes.generate("staff-extra voice-name"),"data-name":o});var l=g+(p-g)/2;l=l-d.controller.getTextSize.baselineToCenter(t,"voicefont","staff-extra voice-name",0,1),x(d,{x:d.padding.left,y:l,text:t,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return o==="brace"?e=r(d,u,g,p,o):o==="bracket"&&(e=f(d,u,g,p,o)),t&&(e=d.paper.closeGroup()),n.wrapSvgEl({el_type:o,startChar:-1,endChar:-1},e),e};R.exports=a},1211:function(R,$,k){var C=k(1212),w=k(1213),x=k(1214),a=k(1215),f=k(1216),r=k(1217),h=k(1218),c=k(1098),d=k(1219);function u(p,o,t,n,e){var l=o.w-1;p.staffbottom=o.staff.bottom;var m=p.foregroundColor;if(o.color&&(p.foregroundColor=o.color),o.header){var b=c(p,{x:p.padding.left,y:p.calcY(o.headerPosition),text:o.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);n.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:o.header},b)}var E,M,L=!1;for(E=0;E<o.children.length;E++){M=o.children[E],(M.type==="note"||M.type==="rest")&&(L=!0);var z=!1;M.type!=="staff-extra"&&!p.controller.classes.isInMeasure()&&(p.controller.classes.startMeasure(),z=!0),o.staff.isTabStaff&&(M.invisible=!1,M.type=="bar"&&M.abcelem.lastBar&&(t=o.topLine)),d(p,M,o.barto||E===o.children.length-1?t:0,n,e),(M.type==="note"||g(M))&&p.controller.classes.incrNote(),M.type==="bar"&&!z&&L&&p.controller.classes.incrMeasure()}for(p.controller.classes.startMeasure(),E=0;E<o.beams.length;E++){var G=o.beams[E];G==="bar"?p.controller.classes.incrMeasure():h(p,G,n)}for(p.controller.classes.startMeasure(),E=0;E<o.otherchildren.length;E++)if(M=o.otherchildren[E],M==="bar")p.controller.classes.incrMeasure();else switch(M.type){case"GlissandoElem":M.elemset=C(p,M,n);break;case"CrescendoElem":M.elemset=w(p,M,n);break;case"DynamicDecoration":M.elemset=x(p,M,n);break;case"TripletElem":a(p,M,n);break;case"EndingElem":M.elemset=f(p,M,o.startx+10,l,n);break;case"TieElem":M.elemset=r(p,M,o.startx+10,l,n);break;default:console.log(M),d(p,M,o.startx+10,l,n,e)}p.foregroundColor=m}function g(p){return p.type!=="rest"?!1:!!(p.abcelem&&p.abcelem.rest&&p.abcelem.rest.type!=="spacer")}R.exports=u},1212:function(R,$,k){var C=k(1099),w=k(1102),x=k(1095);function a(e,l,m){(!l.anchor1||!l.anchor2||!l.anchor1.heads||!l.anchor2.heads||l.anchor1.heads.length===0||l.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var b=4,E=e.calcY(l.anchor1.heads[0].pitch),M=e.calcY(l.anchor2.heads[0].pitch),L=l.anchor1.x+l.anchor1.w/2,z=l.anchor2.x+l.anchor2.w/2,G=f(L,E,z,M),T=l.anchor1.w/2+b,P=l.anchor2.w/2+b,O=r(L,E,z,M),H=h(E,O,T),D=h(M,O,-P),F=c(G-T-P),N=n(e,L+T,H,F,O);return m.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},N),[N]}function f(e,l,m,b){var E=m-e,M=b-l;return Math.sqrt(E*E+M*M)}function r(e,l,m,b){return(b-l)/(m-e)}function h(e,l,m){return x(e+m*l)}function c(e){var l=5;return Math.max(2,Math.floor((e-l*2)/6))}var d=[[3.5,-4.8]],u=[[1.5,-1],[.3,-.3],[-3.5,3.8]],g=[[-1.5,2]],p=[[3,4],[3,-4]],o=[[-3,4],[-3,-4]];function t(e,l){for(var m="",b=0;b<e.length;b++)m+="l"+e[b][0]+" "+h(e[b][1],l,e[b][0]);return m}var n=function(e,l,m,b,E){var M=C("M %f %f",l,m);M+=t(d,E);var L;for(L=0;L<b;L++)M+=t(p,E);for(M+=t(u,E),L=0;L<b;L++)M+=t(o,E);return M+=t(g,E)+"z",w(e,{path:M,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})};R.exports=a},1213:function(R,$,k){var C=k(1099),w=k(1102),x=k(1095);function a(r,h,c){h.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var d=r.calcY(h.pitch)+4,u=8,g=h.anchor1?h.anchor1.x:0,p=h.anchor2?h.anchor2.x:800,o;return h.dir==="<"?o=f(r,d+u/2,d,d+u/2,d+u,g,p):o=f(r,d,d+u/2,d+u,d+u/2,g,p),c.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},o),[o]}var f=function(r,h,c,d,u,g,p){h=x(h),c=x(c),d=x(d),u=x(u),g=x(g),p=x(p);var o=C("M %f %f L %f %f M %f %f L %f %f",g,h,p,c,g,d,p,u);return w(r,{path:o,highlight:"stroke",stroke:r.foregroundColor,class:r.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};R.exports=a},1214:function(R,$,k){var C=k(1140);function w(x,a,f){a.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var r=1,h=1,c=C(x,a.anchor.x,a.pitch,a.dec,{scalex:r,scaley:h,klass:x.controller.classes.generate("decoration dynamics"),fill:x.foregroundColor,stroke:"none",name:"dynamics"});return f.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:a.dec},c),[c]}R.exports=w},1215:function(R,$,k){var C=k(1099),w=k(1098),x=k(1102),a=k(1095);function f(c,d,u){c.paper.openGroup({klass:c.controller.classes.generate("triplet "+d.durationClass),"data-name":"triplet"}),d.hasBeam||h(c,d.anchor1.x,d.startNote,d.anchor2.x+d.anchor2.w,d.endNote),w(c,{x:d.xTextPos,y:c.calcY(d.yTextPos-1),text:""+d.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+d.number},!0);var g=c.paper.closeGroup();return u.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},g),g}function r(c,d,u,g){return C("M %f %f L %f %f",a(c),a(d),a(u),a(g))}function h(c,d,u,g,p){u=c.calcY(u),p=c.calcY(p);var o=5,t="";t+=r(d,u,d,u+o),t+=r(g,p,g,p+o);var n=d+(g-d)/2,e=8,l=(p-u)/(g-d),m=n-e,b=u+(m-d)*l;t+=r(d,u,m,b);var E=n+e,M=u+(E-d)*l;t+=r(E,M,g,p),x(c,{path:t,stroke:c.foregroundColor,"data-name":"triplet-bracket"})}R.exports=f},1216:function(R,$,k){var C=k(1099),w=k(1098),x=k(1102),a=k(1095);function f(r,h,c,d,u){h.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var g=a(r.calcY(h.pitch)),p=20,o="";h.anchor1&&(c=a(h.anchor1.x+h.anchor1.w),o+=C("M %f %f L %f %f ",c,g,c,a(g+p))),h.anchor2&&(d=a(h.anchor2.x),o+=C("M %f %f L %f %f ",d,g,d,a(g+p))),o+=C("M %f %f L %f %f ",c,g,d,g),r.paper.openGroup({klass:r.controller.classes.generate("ending"),"data-name":"ending"}),x(r,{path:o,stroke:r.foregroundColor,fill:r.foregroundColor,"data-name":"line"}),h.anchor1&&w(r,{x:a(c+5),y:a(r.calcY(h.pitch-.5)),text:h.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:h.text});var t=r.paper.closeGroup();return u.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},t),[t]}R.exports=f},1217:function(R,$,k){var C=k(1099),w=k(1095);function x(r,h,c,d,u){a(h,c,d);var g="";h.anchor1?g+="abcjs-start-m"+h.anchor1.parent.counters.measure+"-n"+h.anchor1.parent.counters.note:g+="abcjs-start-edge",h.anchor2?g+=" abcjs-end-m"+h.anchor2.parent.counters.measure+"-n"+h.anchor2.parent.counters.note:g+=" abcjs-end-edge",h.hint&&(g="abcjs-hint");var p=h.fixedY?1.5:0,o=f(r,h.startX,h.endX,h.startY+p,h.endY+p,h.above,g,h.isTie,h.dotted),t=-1;h.anchor1&&!h.isTie&&(t=h.anchor1.parent.abcelem.startChar-1);var n=-1;return h.anchor2&&!h.isTie&&(n=h.anchor2.parent.abcelem.endChar+1),u.wrapSvgEl({el_type:"slur",startChar:t,endChar:n},o),[o]}var a=function(r,h,c){!r.anchor1||!r.anchor2||r.anchor1.pitch===r.anchor2.pitch&&r.internalNotes.length===0?r.isTie=!0:r.isTie=!1,r.isTie?(r.calcTieDirection(),r.calcX(h,c),r.calcTieY()):(r.calcSlurDirection(),r.calcX(h,c),r.calcSlurY()),r.avoidCollisionAbove()},f=function(r,h,c,d,u,g,p,o,t){var n=o?1.2:1.5;h=w(h+6),c=w(c+4),d=d+(g?n:-n),u=u+(g?n:-n);var e=w(r.calcY(d)),l=w(r.calcY(u)),m=c-h,b=l-e,E=Math.sqrt(m*m+b*b),M=m/E,L=b/E,z=E/3.5,G=o?10:25,T=(g?-1:1)*Math.min(G,Math.max(4,z)),P=w(h+z*M-T*L),O=w(e+z*L+T*M),H=w(c-z*M-T*L),D=w(l-z*L+T*M),F=2;p?p+=" slur":p="slur",p+=o?" tie":" legato";var N;if(t){p+=" dotted";var B=C("M %f %f C %f %f %f %f %f %f",h,e,P,O,H,D,c,l);N=r.paper.path({path:B,stroke:r.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:r.controller.classes.generate(p),"data-name":o?"tie":"slur"})}else{var I=C("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",h,e,P,O,H,D,c,l,w(H-F*L),w(D+F*M),w(P-F*L),w(O+F*M),h,e);N=r.paper.path({path:I,stroke:"none",fill:r.foregroundColor,class:r.controller.classes.generate(p),"data-name":o?"tie":"slur"})}return N};R.exports=x},1218:function(R,$,k){var C=k(1102),w=k(1095);function x(h,c){if(c.beams.length!==0){for(var d="",u=0;u<c.beams.length;u++){var g=c.beams[u];if(g.split){for(var p=f(h,g.startX,g.startY,g.endX,g.endY),o=[],t=0;t<g.split.length;t+=2)o.push([g.split[t],g.split[t+1]]);for(t=0;t<o.length;t++){var n=r(g.startX,g.startY,p,o[t][0]),e=r(g.startX,g.startY,p,o[t][1]);d+=a(h,o[t][0],n,o[t][1],e,g.dy)}}else d+=a(h,g.startX,g.startY,g.endX,g.endY,g.dy)}var l=("abcjs-d"+c.duration).replace(/\./g,"-"),m=h.controller.classes.generate("beam-elem "+l),b=C(h,{path:d,stroke:"none",fill:h.foregroundColor,class:m});return[b]}}function a(h,c,d,u,g,p){d=w(h.calcY(d)),g=w(h.calcY(g)),c=w(c),u=w(u);var o=w(d+p),t=w(g+p);return"M"+c+" "+d+" L"+u+" "+g+"L"+u+" "+t+" L"+c+" "+o+"z"}function f(h,c,d,u,g){return(g-d)/(u-c)}function r(h,c,d,u){var g=u-h;return c+g*d}R.exports=x},1219:function(R,$,k){var C=k(1220),w=k(1141),x=k(1093),a=k(1109),f=k(1112);function r(h,c,d,u,g){if(!c.invisible){var p=c.children.length>0&&c.children[0].type==="TempoElement";c.elemset=[],f.beginGroup(h.paper,h.controller);for(var o=0;o<c.children.length;o++){var t=c.children[o];switch(t.type){case"TempoElement":C(h,t);break;default:var n=w(h,t,d);t.type==="symbol"&&t.c&&t.c.indexOf("notehead")>=0&&n.setAttribute("class","abcjs-notehead")}}var e=c.type;if((c.type==="note"||c.type==="rest")&&(c.counters=h.controller.classes.getCurrent(),e+=" d"+Math.round(c.durationClass*1e3)/1e3,e=e.replace(/\./g,"-"),c.abcelem.pitches))for(var l=0;l<c.abcelem.pitches.length;l++)e+=" p"+c.abcelem.pitches[l].pitch;var m=f.endGroup(e,c.type);if(m){if(c.cloned&&(c.cloned.overrideClasses=m.className.baseVal),c.overrideClasses){var b=m.classList&&m.classList.length>0?m.classList[0]+" ":"";m.setAttribute("class",b+c.overrideClasses)}if(p)c.startChar=c.abcelem.startChar,c.endChar=c.abcelem.endChar,u.add(c,m,!1,g);else{c.elemset.push(m);var E=!1;(c.type==="note"||c.type==="tabNumber")&&(E=!0),u.add(c,m,E,g)}}else c.elemset.length>0&&u.add(c,c.elemset[0],c.type==="note",g);if(c.klass&&a(c.elemset,"mark","","#00ff00"),c.hint&&a(c.elemset,"abcjs-hint","",null),c.abcelem.abselem=c,c.heads&&c.heads.length>0){c.notePositions=[];for(var M=0;M<c.heads.length;M++)c.notePositions.push({x:c.heads[M].x+c.heads[M].w/2,y:g.zero-c.heads[M].pitch*x.STEP})}}}R.exports=r},1220:function(R,$,k){var C=k(1141),w=k(1098);function x(a,f){var r=f.x;f.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),f.tempo.el_type="tempo";var h=2,c=a.calcY(f.pitch)+2,d,u;if(f.tempo.preString){d=w(a,{x:r,y:c,text:f.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),u=a.controller.getTextSize.calc(f.tempo.preString,"tempofont","tempo",d);var g=u.width,p=g/f.tempo.preString.length;r+=g+p}if(f.note){f.note.setX(r);for(var o=0;o<f.note.children.length;o++)C(a,f.note.children[o],r);r+=f.note.w+5;var t="= "+f.tempo.bpm;d=w(a,{x:r,y:c,text:t,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),u=a.controller.getTextSize.calc(t,"tempofont","tempo",d);var n=u.width,e=n/t.length;r+=n+e}f.tempo.postString&&w(a,{x:r,y:c,text:f.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}R.exports=x},1221:function(R,$,k){var C=k(1099),w=k(1095);function x(a,f,r,h,c,d,u){var g=a.foregroundColor;f=w(f),r=w(r);var p=w(h-u),o=w(h+u);if(a.firefox112){h+=u/2;var t={x1:f,x2:r,y1:h,y2:h,stroke:a.foregroundColor,"stroke-width":Math.abs(u*2)};return c&&(t.class=c),d&&(t["data-name"]=d),a.paper.lineToBack(t)}var n=C("M %f %f L %f %f L %f %f L %f %f z",f,p,r,p,r,o,f,o),e={path:n,stroke:"none",fill:g};d&&(e["data-name"]=d),c&&(e.class=c);var l=a.paper.pathToBack(e);return l}R.exports=x},1222:function(R,$,k){var C=k(1143);function w(x,a,f,r,h,c){var d="abcjs-top-line",u=2;h&&(u=h),x.paper.openGroup({prepend:!0,klass:x.controller.classes.generate("abcjs-staff")});var g=0,p=0;if(r===1)C(x,a,f,6,d,null,c+x.lineThickness),g=x.calcY(10),p=x.calcY(2);else for(var o=r-1;o>=0;o--){var t=(o+1)*u;p=x.calcY(t),g===0&&(g=p),C(x,a,f,t,d,null,c+x.lineThickness),d=void 0}return x.paper.closeGroup(),[g,p]}R.exports=w},1223:function(R,$){function k(C,w,x){var a=C.paper.rectBeneath(w);return x&&C.paper.text(x,{x:0,y:w.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),a}R.exports=k},1224:function(R,$){function k(C,w){var x="rgba(0,0,0,255)",a="rgba(0,0,0,0)",f=Math.round(C.y),r=C.controller.width,h=(r-w)/2,c=h+w,d="M "+h+" "+f+" L "+c+" "+f+" L "+c+" "+(f+1)+" L "+h+" "+(f+1)+" L "+h+" "+f+" z";C.paper.pathToBack({path:d,stroke:a,fill:x,class:C.controller.classes.generate("defined-text")})}R.exports=k},1225:function(R,$){function k(C,w,x,a){var f=(w+C.padding.left+C.padding.right)*x,r=(C.y+C.padding.bottom)*x;if(C.isPrint&&(r=Math.max(r,1056)),C.ariaLabel!==""){var h="Sheet Music";C.abctune&&C.abctune.metaText&&C.abctune.metaText.title&&(h+=' for "'+C.abctune.metaText.title+'"'),C.paper.setTitle(h);var c=C.ariaLabel?C.ariaLabel:h;C.paper.setAttribute("aria-label",c)}var d=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];C.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+d.join(" ")+"}");var u={overflow:"hidden"};a==="resize"?C.paper.setResponsiveWidth(f,r):(u.width="",u.height=r+"px",x<1?(u.width=f+"px",C.paper.setSize(f/x,r/x)):C.paper.setSize(f,r)),C.paper.setScale(x),C.paper.setParentStyles(u)}R.exports=k},1226:function(R,$,k){var C=k(1130),w=k(1131);function x(a,f,r){this.elements=[],this.paper=a,this.tuneNumber=r,this.selectTypes=f}x.prototype.getElements=function(){return this.elements},x.prototype.add=function(a,f,r,h){if(this.canSelect(a)){var c;this.selectTypes===void 0?c={selectable:!1,"data-index":this.elements.length}:c={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(f,c);var d={absEl:a,svgEl:f,isDraggable:r};h!==void 0&&(d.staffPos=h),this.elements.push(d)}},x.prototype.canSelect=function(a){return this.selectTypes===!1||!a||!a.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?a.abcelem.el_type==="note"||a.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(a.abcelem.el_type)>=0},x.prototype.wrapSvgEl=function(a,f){var r={tuneNumber:this.tuneNumber,abcelem:a,elemset:[f],highlight:C,unhighlight:w};this.add(r,f,!1)},R.exports=x},1227:function(R,$,k){var C=k(1138);function w(x){for(var a=x;a&&a.attributes&&a.tagName.toLowerCase()!=="svg"&&!a.attributes.selectable;)a=a.parentNode;if(a&&a.attributes&&a.attributes.selectable){var f=a.attributes["data-index"].nodeValue;if(f&&(f=parseInt(f,10),f>=0&&f<this.selectables.length)){var r=this.selectables[f],h=C(r,x);return h.index=f,h.element=r,h}}return null}R.exports=w},1228:function(R,$,k){var C=k(1103),w=k(1135),x=function(a,f){function r(h,c,d,u){h=document.createElement("div"),h.setAttribute("style","visibility: hidden;"),document.body.appendChild(h);var g=new w(h,f),p=g.getMeasureWidths(c);return h.parentNode.removeChild(h),{sections:p}}return C.renderEngine(r,"*",a,f)};R.exports=x},1229:function(R,$,k){var C=k(1114),w=function(x,a,f,r){C[a]||(C[a]={});var h=C[a];return h[f]||(h[f]=new Promise(function(c,d){var u=new XMLHttpRequest;let g=x+a+"-mp3/"+f+".mp3";u.open("GET",g,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status!==200){d(Error("Can't load sound at "+g+" status="+u.status));return}var p=function(t){c({instrument:a,name:f,status:"loaded",audioBuffer:t})},o=r.decodeAudioData(u.response,p,function(){d(Error("Can't decode sound at "+g))});o&&typeof o.catch=="function"&&o.catch(d)},u.onerror=function(){d(Error("Can't load sound at "+g))},u.send()}).catch(c=>{throw console.error("Didn't load note",a,f,":",c.message),c})),h[f]};R.exports=w},1230:function(R,$,k){var C=k(1115),w=function(x){for(var a=[],f=0;f<x.tracks.length;f++)a.push([]);var r={},h=C[0];return x.tracks.forEach(function(c,d){c.forEach(function(u){switch(u.cmd){case"note":var g=u.instrument!==void 0?C[u.instrument]:h;if(u.duration>0){var p=u.gap?u.gap:0,o=u.duration;p=Math.min(p,o*2/3);var t={pitch:u.pitch,instrument:g,start:Math.round(u.start*1e6)/1e6,end:Math.round((u.start+o-p)*1e6)/1e6,volume:u.volume};u.startChar&&(t.startChar=u.startChar),u.endChar&&(t.endChar=u.endChar),u.style&&(t.style=u.style),u.cents&&(t.cents=u.cents),a[d].push(t)}break;case"program":h=C[u.instrument];break;case"text":break;default:console.log("Unhandled midi event",u)}})}),a};R.exports=w},1231:function(R,$){var k=function(w){return window.URL.createObjectURL(C(w.audioBuffers))};function C(w){var x=w[0],a=x.numberOfChannels,f=x.length*a*2+44,r=new ArrayBuffer(f),h=new DataView(r),c=[],d,u,g=0,p=0;for(t(1179011410),t(f-8),t(1163280727),t(544501094),t(16),o(1),o(a),t(x.sampleRate),t(x.sampleRate*2*a),o(a*2),o(16),t(1635017060),t(f-p-4),d=0;d<a;d++)c.push(x.getChannelData(d));for(;p<f;){for(d=0;d<c.length;d++)u=Math.max(-1,Math.min(1,c[d][g])),u=(.5+u<0?u*32768:u*32767)|0,h.setInt16(p,u,!0),p+=2;g++}return new Blob([r],{type:"audio/wav"});function o(n){h.setUint16(p,n,!0),p+=2}function t(n){h.setUint32(p,n,!0),p+=4}}R.exports=k},1232:function(R,$,k){var C=k(1114),w=k(1116),x=k(1145);function a(r,h,c,d,u,g,p,o,t){var n=window.OfflineAudioContext||window.webkitOfflineAudioContext,e=c.len*c.tempoMultiplier;g&&(e+=g/1e3),e-=o,e<0&&(e=.005);var l=new n(2,Math.floor((e+p)*h),h),m=w[c.pitch];if(!C[c.instrument])return t&&t("placeNote skipped (instrument empty): "+c.instrument+":"+m),Promise.resolve();var b=C[c.instrument][m];return b?b.then(function(E){var M=l.createBufferSource();M.buffer=E.audioBuffer;var L=c.volume/96*u;M.gainNode=l.createGain(),c.pan&&l.createStereoPanner&&(M.panNode=l.createStereoPanner(),M.panNode.pan.setValueAtTime(c.pan,0)),M.gainNode.gain.value=L,M.gainNode.gain.linearRampToValueAtTime(M.gainNode.gain.value,e),M.gainNode.gain.linearRampToValueAtTime(0,e+p),c.cents&&(M.playbackRate.value=x(c.cents)),M.panNode?(M.panNode.connect(l.destination),M.gainNode.connect(M.panNode)):M.gainNode.connect(l.destination),M.connect(M.gainNode),M.start(0),M.noteOff?M.noteOff(e+p):M.stop(e+p);var z;return l.oncomplete=function(G){if(G.renderedBuffer&&G.renderedBuffer.getChannelData)for(var T=0;T<d.length;T++){var P=d[T]*c.tempoMultiplier;g&&(P-=g/1e3),P<0&&(P=0),P=Math.floor(P*h),f(r,G.renderedBuffer,P)}t&&t("placeNote: "+c.instrument+":"+m),z()},l.startRendering(),new Promise(function(G){z=G})}).catch(function(E){return t&&t("placeNote catch: "+E.message),Promise.resolve()}):(t&&t("placeNote skipped: "+c.instrument+":"+m),Promise.resolve())}var f=function(r,h,c){for(var d=0;d<2;d++)for(var u=h.getChannelData(d),g=r.getChannelData(d),p=0;p<u.length;p++)g[p+c]+=u[p]};R.exports=a},1233:function(R,$){var k=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`;R.exports=k},1234:function(R,$){var k=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`;R.exports=k},1235:function(R,$){var k=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`;R.exports=k},1236:function(R,$){var k=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`;R.exports=k},1237:function(R,$){var k=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`;R.exports=k},1238:function(R,$,k){var C=k(1146),w=k(1113),x=k(1101);function a(r,h,c,d,u){for(var g=new C,p=0;p<r.length;p++){var o=r[p],t=g.addTrack();if(g.setInstrument(t,o.instrument),p===0&&h)for(var n=0;n<h.length;n++){var e=h[n];g.appendNote(t,e.pitch,1/64,e.volume,e.cents)}g.appendNote(t,o.pitch,o.duration,o.volume,o.cents)}var l=x();return l.state==="suspended"?l.resume().then(function(){return f(g,c,d,u)}):f(g,c,d,u)}function f(r,h,c,d){var u=new w;return u.init({sequence:r,millisecondsPerMeasure:h,options:{soundFontUrl:c},debugCallback:d}).then(function(){return u.prime()}).then(function(){return u.start(),Promise.resolve()})}R.exports=a},1239:function(R,$,k){var C=k(1103),w=k(1240),x=function(r,h){var c={};if(h)for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d]);c.generateInline=!1;function u(g,p,o){var t=w(p,c);switch(c.midiOutputType){case"encoded":return t;case"binary":var n=t.replace("data:audio/midi,","");n=n.replace(/MThd/g,"%4d%54%68%64"),n=n.replace(/MTrk/g,"%4d%54%72%6b");for(var e=new ArrayBuffer(n.length/3),l=new Uint8Array(e),m=0;m<n.length/3;m++){var b=m*3+1,E=parseInt(n.substring(b,b+2),16);l[m]=E}return l;case"link":default:return f(p,c,t,o)}}return typeof r=="string"?C.renderEngine(u,"*",r,c):u(null,r,0)};function a(r){var h={};return r&&h.toString.call(r)==="[object Function]"}var f=function(r,h,c,d){var u=["abcjs-download-midi","abcjs-midi-"+d];h.downloadClass&&u.push(h.downloadClass);var g='<div class="'+u.join(" ")+'">';h.preTextDownload&&(g+=h.preTextDownload);var p=r.metaText&&r.metaText.title?r.metaText.title:"Untitled",o;h.downloadLabel&&a(h.downloadLabel)?o=h.downloadLabel(r,d):h.downloadLabel?o=h.downloadLabel.replace(/%T/,p):o='Download MIDI for "'+p+'"',p=p.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var t=h.fileName?h.fileName:p+".midi";return g+='<a download="'+t+'" href="'+c+'">'+o+"</a>",h.postTextDownload&&(g+=h.postTextDownload),g+"</div>"};R.exports=x},1240:function(R,$,k){var C=k(1149),w;(function(){"use strict";var x=1920;w=function(r,h){h===void 0&&(h={});var c=r.setUpAudio(h),d=C(),u=r.metaText?r.metaText.title:void 0;u&&u.length>128&&(u=u.substring(0,124)+"...");var g=r.getKeySignature(),p=r.getMeterFraction(),o=c.tempo,t=o/60;if(p.den==8){var n=r.millisecondsPerMeasure();o=6e4/(n/p.num)/2,t=o/60}d.setGlobalInfo(o,u,g,p);for(var e=0;e<c.tracks.length;e++){d.startTrack();for(var l={},m=0;m<c.tracks[e].length;m++){var b=c.tracks[e][m];switch(b.cmd){case"text":d.setText(b.type,b.text);break;case"program":var E=0;h.pan&&h.pan.length>e&&(E=h.pan[e]),b.instrument===128?(d.setChannel(9,E),d.setInstrument(0)):(d.setChannel(b.channel,E),d.setInstrument(b.instrument));break;case"note":var M=b.gap*t,L=b.start,z=L+b.duration-M;l[L]||(l[L]=[]),l[L].push({pitch:b.pitch,volume:b.volume,cents:b.cents}),l[z]||(l[z]=[]),l[z].push({pitch:b.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+b.cmd)}}a(d,l,x),d.endTrack()}return d.getData()};function a(f,r,h){for(var c=Object.keys(r),d=0;d<c.length;d++)c[d]=parseFloat(c[d]);c.sort(function(e,l){return e-l});for(var u=0,g=0;g<c.length;g++){var p=r[c[g]];if(c[g]>u){var o=(c[g]-u)*h;f.addRest(o),u=c[g]}for(var t=0;t<p.length;t++){var n=p[t];n.volume?f.startNote(n.pitch,n.volume,n.cents):f.endNote(n.pitch)}}}})(),R.exports=w},1241:function(R,$,k){var C=k(1096),w=k(1148),x=k(1105),a=k(1134),f=k(1150);function r(c){var d={},u;if(c.abcjsParams)for(u in c.abcjsParams)c.abcjsParams.hasOwnProperty(u)&&(d[u]=c.abcjsParams[u]);if(c.midi_options)for(u in c.midi_options)c.midi_options.hasOwnProperty(u)&&(d[u]=c.midi_options[u]);if(c.parser_options)for(u in c.parser_options)c.parser_options.hasOwnProperty(u)&&(d[u]=c.parser_options[u]);if(c.render_options)for(u in c.render_options)c.render_options.hasOwnProperty(u)&&(d[u]=c.render_options[u]);return d.tablature&&c.warnings_id&&(d.tablature.warnings_id=c.warnings_id),d}var h=function(c,d){this.abcjsParams=r(d),d.indicate_changed&&(this.indicate_changed=!0),typeof c=="string"?this.editarea=new f(c):this.editarea=c,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),d.canvas_id?this.div=d.canvas_id:d.paper_id?this.div=d.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),d.selectionChangeCallback&&(this.selectionChangeCallback=d.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),d.synth&&x()&&(this.synth={el:d.synth.el,cursorControl:d.synth.cursorControl,options:d.synth.options}),d.generate_midi&&(this.generate_midi=d.generate_midi,this.abcjsParams.generateDownload&&(typeof d.midi_download_id=="string"?this.downloadMidi=document.getElementById(d.midi_download_id):d.midi_download_id&&(this.downloadMidi=d.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof d.midi_id=="string"?this.inlineMidi=document.getElementById(d.midi_id):d.midi_id&&(this.inlineMidi=d.midi_id))),d.warnings_id?typeof d.warnings_id=="string"?this.warningsdiv=document.getElementById(d.warnings_id):this.warningsdiv=d.warnings_id:d.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=d.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(u,g){var p=function(o,t){var n=o.className;return n.length>0&&(n===t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))};return p(u,g)||(u.className+=(u.className?" ":"")+g),u},this.removeClassName=function(u,g){return u.className=C.strip(u.className.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)")," ")),u},this.setReadOnly=function(u){var g="abc_textarea_readonly",p=this.editarea.getElem();u?(p.setAttribute("readonly","yes"),this.addClassName(p,g)):(p.removeAttribute("readonly"),this.removeClassName(p,g))}};h.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var c=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(c)}if(this.synth){var d=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new w,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],d,this.synth.options)}},h.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=a(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(c){console.error("ABCJS error: ",c),this.warnings||(this.warnings=[]),this.warnings.push(c.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},h.prototype.paramChanged=function(c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this.abcjsParams[d]=c[d]);this.currentAbc="",this.fireChanged()},h.prototype.synthParamChanged=function(c){if(this.synth){if(this.synth.options={},c)for(var d in c)c.hasOwnProperty(d)&&(this.synth.options[d]=c[d]);this.currentAbc="",this.fireChanged()}},h.prototype.parseABC=function(){var c=this.editarea.getString();return c===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=c,!0)},h.prototype.updateSelection=function(){var c=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(c.start,c.end)}catch(d){}this.selectionChangeCallback&&this.selectionChangeCallback(c.start,c.end)},h.prototype.fireSelectionChanged=function(){this.updateSelection()},h.prototype.setDirtyStyle=function(c){if(this.indicate_changed!==void 0){var d=function(o,t){var n=function(e,l){var m=e.className;return m.length>0&&(m===l||new RegExp("(^|\\s)"+l+"(\\s|$)").test(m))};return n(o,t)||(o.className+=(o.className?" ":"")+t),o},u=function(o,t){return o.className=C.strip(o.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")),o},g="abc_textarea_dirty",p=this.editarea.getElem();c?d(p,g):u(p,g)}},h.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var c=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){c.modelChanged()},300);var d=this.isDirty();this.wasDirty!==d&&(this.wasDirty=d,this.setDirtyStyle(d)),this.onchangeCallback&&this.onchangeCallback(this)}},h.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},h.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()},h.prototype.highlight=function(c,d,u,g,p,o){this.editarea.setSelection(c.startChar,c.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(c.startChar,c.endChar),this.clientClickListener&&this.clientClickListener(c,d,u,g,p,o)},h.prototype.pause=function(c){this.bIsPaused=c,c||this.fireChanged()},h.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()},h.prototype.pauseMidi=function(c){this.midiPause=c,c||this.redrawMidi()},R.exports=h},320:function(R,$,k){var C=k(1152),w=k(1153),x=k(1103),a=k(1126),f=k(1170),r={};r.signature="abcjs-basic v"+C,Object.keys(w).forEach(function(E){r[E]=w[E]}),Object.keys(x).forEach(function(E){r[E]=x[E]}),r.renderAbc=k(1134),r.tuneMetrics=k(1228),r.TimingCallbacks=k(1106);var h=k(1097);r.setGlyph=h.setSymbol,r.strTranspose=f;var c=k(1113),d=k(1115),u=k(1116),g=k(1146),p=k(1147),o=k(1104),t=k(1101),n=k(1105),e=k(1238),l=k(1148),m=k(1239),b=k(1149);r.synth={CreateSynth:c,instrumentIndexToName:d,pitchToNoteName:u,SynthController:l,SynthSequence:g,CreateSynthControl:p,registerAudioContext:o,activeAudioContext:t,supportsAudio:n,playEvent:e,getMidiFile:m,sequence:a,midiRenderer:b},r.Editor=k(1241),r.EditArea=k(1150),R.exports=r}}]);

//# sourceMappingURL=26.f657c4d1bc56190f4534.js.map