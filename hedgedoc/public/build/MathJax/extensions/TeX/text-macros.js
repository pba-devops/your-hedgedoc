MathJax.Extension["TeX/text-macros"]={version:"2.7.9"},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var i=MathJax.ElementJax.mml,n=MathJax.InputJax.TeX,s=n.Definitions;n.Parse.Augment({InternalMath:function(t,e){var r=o(t,{}).Parse();return e!=null?r=[i.mstyle.apply(i,r).With({displaystyle:!1,scriptlevel:e})]:r.length>1&&(r=[i.mrow.apply(i,r)]),r},Comment:function(t){for(;this.i<this.string.length&&this.string.charAt(this.i)!=`
`;)this.i++;this.i++},GetCS:function(){var t=this.string.slice(this.i).match(/^([a-z]+|.) ?/i);return t?(this.i+=t[0].length,t[1]):(this.i++," ")}});var o=n.TextParser=n.Parse.Subclass({Init:function(t,e){this.env=MathJax.Hub.Insert({},e),this.stack={env:this.env},this.string=t,this.i=0,this.mml=[],this.text=""},textSpecial:{"\\":"ControlSequence",$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","	":"Space","\r":"Space","\n":"Space","\xA0":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},textMacros:{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":"SelfQuote","'":["Accent","\xB4"],"`":["Accent","`"],"^":["Accent","^"],'"':["Accent","\xA8"],"~":["Accent","~"],"=":["Accent","\xAF"],".":["Accent","\u02D9"],u:["Accent","\u02D8"],v:["Accent","\u02C7"],emph:"Emph",rm:["SetFont",i.VARIANT.NORMAL],mit:["SetFont",i.VARIANT.ITALIC],oldstyle:["SetFont",i.VARIANT.OLDSTYLE],cal:["SetFont",i.VARIANT.CALIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",i.VARIANT.BOLD],bbFont:["SetFont",i.VARIANT.DOUBLESTRUCK],scr:["SetFont",i.VARIANT.SCRIPT],frak:["SetFont",i.VARIANT.FRAKTUR],sf:["SetFont",i.VARIANT.SANSSERIF],tt:["SetFont",i.VARIANT.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],mathcal:"MathModeOnly",mathscr:"MathModeOnly",mathrm:"MathModeOnly",mathbf:"MathModeOnly",mathbb:"MathModeOnly",mathit:"MathModeOnly",mathfrak:"MathModeOnly",mathsf:"MathModeOnly",mathtt:"MathModeOnly",Bbb:["Macro","{\\bbFont #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert","\u2020"],ddagger:["Insert","\u2021"],S:["Insert","\xA7"]},useMathMacros:{",":!0,":":!0,">":!0,";":!0,"!":!0,enspace:!0,quad:!0,qquad:!0,thinspace:!0,negthinspace:!0,hskip:!0,hspace:!0,kern:!0,mskip:!0,mspace:!0,mkern:!0,rule:!0,Rule:!0,Space:!0,color:!0,href:!0,unicode:!0,ref:!0,eqref:!0},Parse:function(){for(var t;t=this.string.charAt(this.i++);)this.textSpecial.hasOwnProperty(t)?this[this.textSpecial[t]](t):this.text+=t;return this.SaveText(),this.mml},ControlSequence:function(t){var e=this.GetCS(),r=t+e,a;this.textMacros.hasOwnProperty(e)?a=this.textMacros[e]:(a=this.LookupCS(e),a||this.Error(["UndefinedControlSequence","Undefined control sequence %1",r]),(!(a instanceof Array)||a[0]!=="Macro")&&!this.useMathMacros.hasOwnProperty(e)&&this.Error(["MathMacro","'%1' is only supported in math mode",r])),a instanceof Array?(this.hasOwnProperty[a[0]]||this.SaveText(),this[a[0]].apply(this,[r].concat(a.slice(1)))):(this.hasOwnProperty[a]||this.SaveText(),this[a].call(this,r))},LookupCS:function(t){return s.macros.hasOwnProperty(t)?s.macros[t]:s.mathchar0mi.hasOwnProperty(t)?s.mathchar0mi[t]:s.mathchar0mo.hasOwnProperty(t)?s.mathchar0mo[t]:s.mathchar7.hasOwnProperty(t)?s.mathchar7[t]:s.delimiter.hasOwnProperty("\\"+t)?s.delimiter["\\"+t]:null},Math:function(t){this.SaveText();for(var e=this.i,r,a=0,h;h=this.GetNext();)switch(r=this.i++,h){case"\\":var c=this.GetCS();c===")"&&(h="\\(");case"$":if(a===0&&t===h){this.Push(n.Parse(this.string.substr(e,r-e),this.env).mml());return}break;case"{":a++;break;case"}":a==0&&this.Error(["ExtraCloseMissingOpen","Extra close brace or missing open brace"]),a--;break}this.Error(["MathNotTerminated","Math not terminated in text box"])},MathModeOnly:function(t){this.Error(["MathModeOnly","'%1' allowed only in math mode",t])},Misplaced:function(t){this.Error(["Misplaced","'%1' can not be used here",t])},OpenBrace:function(t){var e=this.env;this.env=MathJax.Hub.Insert({},e),this.env.oldEnv=e},CloseBrace:function(t){this.env.oldEnv?(this.SaveText(),this.env=this.env.oldEnv):this.Error(["ExtraCloseMissingOpen","Extra close brace or missing open brace"])},OpenQuote:function(t){this.string.charAt(this.i)===t?(this.text+="\u201C",this.i++):this.text+="\u2018"},CloseQuote:function(t){this.string.charAt(this.i)===t?(this.text+="\u201D",this.i++):this.text+="\u2019"},Tilde:function(t){this.text+="\xA0"},Space:function(t){for(this.text+=" ";this.GetNext().match(/\s/);)this.i++},SelfQuote:function(t){this.text+=t.substr(1)},Insert:function(t,e){this.text+=e},Accent:function(t,e){this.SaveText();var r=this.ParseArg(t),a=i.mo(i.chars(e));this.env.mathvariant&&(a.mathvariant=this.env.mathvariant),this.Push(i.mover(r,a))},Emph:function(t){this.UseFont(t,this.env.mathvariant==="-tex-mathit"?"normal":"-tex-mathit")},UseFont:function(t,e){this.SaveText(),this.Push(this.ParseTextArg(t,{mathvariant:e}))},SetFont:function(t,e){this.SaveText(),this.env.mathvariant=e},SetSize:function(t,e){this.SaveText(),this.env.mathsize=e},ParseTextArg:function(t,e){var r=this.GetArgument(t);return e=MathJax.Hub.Insert(MathJax.Hub.Insert({},this.env),e),delete e.oldEnv,o(r,e).Parse()},ParseArg:function(t){var e=o(this.GetArgument(t),this.env).Parse();return e.length===0?e[0]:i.mrow.apply(i.mrow,e)},SaveText:function(){if(this.text){var t=i.mtext(i.chars(this.text));this.env.mathvariant&&(t.mathvariant=this.env.mathvariant),this.Push(t)}this.text=""},Push:function(t){t instanceof Array?((this.env.mathsize||this.env.mathcolor)&&(t=i.mstyle.apply(i,t),this.env.mathsize&&(t.mathsize=this.env.mathsize),this.env.mathcolor&&(t.mathcolor=this.env.mathcolor)),this.mml.push.apply(this.mml,t)):(this.env.mathsize&&!t.mathsize&&(t.mathsize=this.env.mathsize),this.env.mathcolor&&!t.mathcolor&&(t.mathcolor=this.env.mathcolor),this.mml.push(t))},Error:function(t){n.Error(t)}});MathJax.Hub.Startup.signal.Post("TeX text-macros Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/text-macros.js");
