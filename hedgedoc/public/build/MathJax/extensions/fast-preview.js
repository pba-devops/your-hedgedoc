(function(e,f,o){var n=e.config.menuSettings,c=MathJax.OutputJax,l=o.isMSIE&&(document.documentMode||0)<8,s=MathJax.Extension["fast-preview"]={version:"2.7.9",enabled:!0,config:e.CombineConfig("fast-preview",{Chunks:{EqnChunk:1e4,EqnChunkFactor:1,EqnChunkDelay:0},color:"inherit!important",updateTime:30,updateDelay:6,messageStyle:"none",disabled:o.isMSIE&&!o.versionAtLeast("8.0")}),Config:function(){e.config["CHTML-preview"]&&MathJax.Hub.Config({"fast-preview":e.config["CHTML-preview"]});var a,t,r,u,p,i=this.config;!i.disabled&&n.FastPreview==null&&e.Config({menuSettings:{FastPreview:!0}}),n.FastPreview&&(MathJax.Ajax.Styles({".MathJax_Preview .MJXf-math":{color:i.color}}),e.Config({"HTML-CSS":i.Chunks,CommonHTML:i.Chunks,SVG:i.Chunks})),e.Register.MessageHook("Begin Math Output",function(){!u&&s.Active()&&(a=e.processUpdateTime,t=e.processUpdateDelay,r=e.config.messageStyle,e.processUpdateTime=i.updateTime,e.processUpdateDelay=i.updateDelay,e.Config({messageStyle:i.messageStyle}),MathJax.Message.Clear(0,0),p=!0)}),e.Register.MessageHook("End Math Output",function(){!u&&p&&(e.processUpdateTime=a,e.processUpdateDelay=t,e.Config({messageStyle:r}),u=!0)})},Disable:function(){this.enabled=!1},Enable:function(){this.enabled=!0},Active:function(){return n.FastPreview&&this.enabled&&!(c[n.renderer]||{}).noFastPreview},Preview:function(a){if(!(!this.Active()||!a.script.parentNode)){var t=a.script.MathJax.preview||a.script.previousSibling;return(!t||t.className!==MathJax.Hub.config.preRemoveClass)&&(t=f.Element("span",{className:MathJax.Hub.config.preRemoveClass}),a.script.parentNode.insertBefore(t,a.script),a.script.MathJax.preview=t),t.innerHTML="",t.style.color=l?"black":"inherit",this.postFilter(t,a)}},postFilter:function(a,t){if(!t.math.root.toPreviewHTML){var r=MathJax.Callback.Queue();r.Push(["Require",MathJax.Ajax,"[MathJax]/jax/output/PreviewHTML/config.js"],["Require",MathJax.Ajax,"[MathJax]/jax/output/PreviewHTML/jax.js"]),e.RestartAfter(r.Push({}))}t.math.root.toPreviewHTML(a)},Register:function(a){e.Register.StartupHook(a+" Jax Require",function(){var t=MathJax.InputJax[a];t.postfilterHooks.Add(["Preview",MathJax.Extension["fast-preview"]],50)})}};s.Register("TeX"),s.Register("MathML"),s.Register("AsciiMath"),e.Register.StartupHook("End Config",["Config",s]),e.Startup.signal.Post("fast-preview Ready")})(MathJax.Hub,MathJax.HTML,MathJax.Hub.Browser),MathJax.Ajax.loadComplete("[MathJax]/extensions/fast-preview.js");
