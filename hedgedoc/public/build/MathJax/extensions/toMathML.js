MathJax.Hub.Register.LoadHook("[MathJax]/jax/element/mml/jax.js",function(){var d="2.7.9",r=MathJax.ElementJax.mml,M=MathJax.Hub.config.menuSettings;r.mbase.Augment({toMathML:function(t){var a=this.inferred&&this.parent.inferRow;t==null&&(t="");var h=this.type,e=this.toMathMLattributes();if(h==="mspace")return t+"<"+h+e+" />";for(var i=[],n=this.isToken?"":t+(a?"":"  "),s=0,o=this.data.length;s<o;s++)this.data[s]?i.push(this.data[s].toMathML(n)):!this.isToken&&!this.isChars&&i.push(n+"<mrow />");return this.isToken||this.isChars?t+"<"+h+e+">"+i.join("")+"</"+h+">":a?i.join(`
`):i.length===0||i.length===1&&i[0]===""?t+"<"+h+e+" />":t+"<"+h+e+`>
`+i.join(`
`)+`
`+t+"</"+h+">"},toMathMLattributes:function(){var t=this.type==="mstyle"?r.math.prototype.defaults:this.defaults,a=this.attrNames||r.copyAttributeNames,h=r.skipAttributes,e=r.copyAttributes,i=[];if(this.type==="math"&&(!this.attr||!("xmlns"in this.attr))&&i.push('xmlns="http://www.w3.org/1998/Math/MathML"'),!this.attrNames)for(var n in t)!h[n]&&!e[n]&&t.hasOwnProperty(n)&&this[n]!=null&&this[n]!==t[n]&&this.Get(n,null,1)!==this[n]&&i.push(n+'="'+this.toMathMLattribute(this[n])+'"');for(var s=0,o=a.length;s<o;s++)e[a[s]]===1&&!t.hasOwnProperty(a[s])||(value=(this.attr||{})[a[s]],value==null&&(value=this[a[s]]),value!=null&&i.push(a[s]+'="'+this.toMathMLquote(value)+'"'));return this.toMathMLclass(i),i.length?" "+i.join(" "):""},toMathMLclass:function(t){var a=[];if(this.class&&a.push(this.class),this.isa(r.TeXAtom)&&M.texHints){var h=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"][this.texClass];h&&(a.push("MJX-TeXAtom-"+h),h==="OP"&&!this.movablelimits&&a.push("MJX-fixedlimits"))}this.mathvariant&&this.toMathMLvariants[this.mathvariant]&&a.push("MJX"+this.mathvariant),this.variantForm&&a.push("MJX-variant"),a.length&&t.unshift('class="'+this.toMathMLquote(a.join(" "))+'"')},toMathMLattribute:function(t){return typeof t=="string"&&t.replace(/ /g,"").match(/^(([-+])?(\d+(\.\d*)?|\.\d+))mu$/)?(RegExp.$2||"")+(1/18*RegExp.$3).toFixed(3).replace(/\.?0+$/,"")+"em":this.toMathMLvariants[t]?this.toMathMLvariants[t]:this.toMathMLquote(t)},toMathMLvariants:{"-tex-caligraphic":r.VARIANT.SCRIPT,"-tex-caligraphic-bold":r.VARIANT.BOLDSCRIPT,"-tex-oldstyle":r.VARIANT.NORMAL,"-tex-oldstyle-bold":r.VARIANT.BOLD,"-tex-mathit":r.VARIANT.ITALIC},toMathMLquote:function(t){t=String(t).split("");for(var a=0,h=t.length;a<h;a++){var e=t[a].charCodeAt(0);if(e<=55295||57344<=e)if(e>126||e<32&&e!==10&&e!==13&&e!==9)t[a]="&#x"+e.toString(16).toUpperCase()+";";else{var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[t[a]];i&&(t[a]=i)}else if(a+1<h){var n=t[a+1].charCodeAt(0),s=(e-55296<<10)+(n-56320)+65536;t[a]="&#x"+s.toString(16).toUpperCase()+";",t[a+1]="",a++}else t[a]=""}return t.join("")}}),r.math.Augment({toMathML:function(t,a){var h;t==null&&(t=""),a&&a.originalText&&M.semantics&&(h=MathJax.InputJax[a.inputJax].annotationEncoding);for(var e=this.data[0]&&this.data[0].data.length>1,i=this.type,n=this.toMathMLattributes(),s=[],o=t+(h?"  "+(e?"  ":""):"")+"  ",u=0,l=this.data.length;u<l;u++)this.data[u]?s.push(this.data[u].toMathML(o)):s.push(o+"<mrow />");if(s.length===0||s.length===1&&s[0]===""){if(!h)return"<"+i+n+" />";s.push(o+"<mrow />")}if(h){e&&(s.unshift(t+"    <mrow>"),s.push(t+"    </mrow>")),s.unshift(t+"  <semantics>");var f=a.originalText.replace(/[&<>]/g,function(m){return{">":"&gt;","<":"&lt;","&":"&amp;"}[m]});s.push(t+'    <annotation encoding="'+this.toMathMLquote(h)+'">'+f+"</annotation>"),s.push(t+"  </semantics>")}return t+"<"+i+n+`>
`+s.join(`
`)+`
`+t+"</"+i+">"}}),r.msubsup.Augment({toMathML:function(t){var a=this.type;this.data[this.sup]==null&&(a="msub"),this.data[this.sub]==null&&(a="msup");var h=this.toMathMLattributes();delete this.data[0].inferred;for(var e=[],i=0,n=this.data.length;i<n;i++)this.data[i]&&e.push(this.data[i].toMathML(t+"  "));return t+"<"+a+h+`>
`+e.join(`
`)+`
`+t+"</"+a+">"}}),r.munderover.Augment({toMathML:function(t){var a=this.type,h=this.data[this.base];h&&h.isa(r.TeXAtom)&&h.movablelimits&&!h.Get("displaystyle")?(type="msubsup",this.data[this.under]==null&&(a="msup"),this.data[this.over]==null&&(a="msub")):(this.data[this.under]==null&&(a="mover"),this.data[this.over]==null&&(a="munder"));var e=this.toMathMLattributes();delete this.data[0].inferred;for(var i=[],n=0,s=this.data.length;n<s;n++)this.data[n]&&i.push(this.data[n].toMathML(t+"  "));return t+"<"+a+e+`>
`+i.join(`
`)+`
`+t+"</"+a+">"}}),r.TeXAtom.Augment({toMathML:function(t){var a=this.toMathMLattributes();return!a&&this.data[0].data.length===1?t.substr(2)+this.data[0].toMathML(t):t+"<mrow"+a+`>
`+this.data[0].toMathML(t+"  ")+`
`+t+"</mrow>"}}),r.chars.Augment({toMathML:function(t){return(t||"")+this.toMathMLquote(this.toString())}}),r.entity.Augment({toMathML:function(t){return(t||"")+"&"+this.toMathMLquote(this.data[0])+";<!-- "+this.toString()+" -->"}}),r.xml.Augment({toMathML:function(t){return(t||"")+this.toString()}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){r.TeXmathchoice.Augment({toMathML:function(t){return this.Core().toMathML(t)}})}),MathJax.Hub.Startup.signal.Post("toMathML Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/toMathML.js");
