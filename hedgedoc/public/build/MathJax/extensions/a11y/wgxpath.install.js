(function(){"use strict";var F=this;function an(t){var n=typeof t;if(n=="object")if(t){if(t instanceof Array)return"array";if(t instanceof Object)return n;var e=Object.prototype.toString.call(t);if(e=="[object Window]")return"object";if(e=="[object Array]"||typeof t.length=="number"&&typeof t.splice!="undefined"&&typeof t.propertyIsEnumerable!="undefined"&&!t.propertyIsEnumerable("splice"))return"array";if(e=="[object Function]"||typeof t.call!="undefined"&&typeof t.propertyIsEnumerable!="undefined"&&!t.propertyIsEnumerable("call"))return"function"}else return"null";else if(n=="function"&&typeof t.call=="undefined")return"object";return n}function O(t){return typeof t=="string"}function hn(t,n,e){return t.call.apply(t.bind,arguments)}function pn(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function X(t,n,e){return X=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn:pn,X.apply(null,arguments)}function gn(t,n){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function k(t){var n=A;function e(){}e.prototype=n.prototype,t.G=n.prototype,t.prototype=new e,t.prototype.constructor=t,t.F=function(r,i,o){for(var u=Array(arguments.length-2),s=2;s<arguments.length;s++)u[s-2]=arguments[s];return n.prototype[i].apply(r,u)}}var Dt=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function E(t,n){return t.indexOf(n)!=-1}function gt(t,n){return t<n?-1:t>n?1:0}var vn=Array.prototype.indexOf?function(t,n,e){return Array.prototype.indexOf.call(t,n,e)}:function(t,n,e){if(e=e==null?0:0>e?Math.max(0,t.length+e):e,O(t))return O(n)&&n.length==1?t.indexOf(n,e):-1;for(;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},C=Array.prototype.forEach?function(t,n,e){Array.prototype.forEach.call(t,n,e)}:function(t,n,e){for(var r=t.length,i=O(t)?t.split(""):t,o=0;o<r;o++)o in i&&n.call(e,i[o],o,t)},Ct=Array.prototype.filter?function(t,n,e){return Array.prototype.filter.call(t,n,e)}:function(t,n,e){for(var r=t.length,i=[],o=0,u=O(t)?t.split(""):t,s=0;s<r;s++)if(s in u){var l=u[s];n.call(e,l,s,t)&&(i[o++]=l)}return i},V=Array.prototype.reduce?function(t,n,e,r){return r&&(n=X(n,r)),Array.prototype.reduce.call(t,n,e)}:function(t,n,e,r){var i=e;return C(t,function(o,u){i=n.call(r,i,o,u,t)}),i},Z=Array.prototype.some?function(t,n,e){return Array.prototype.some.call(t,n,e)}:function(t,n,e){for(var r=t.length,i=O(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&n.call(e,i[o],o,t))return!0;return!1};function yn(t,n){var e;t:{e=t.length;for(var r=O(t)?t.split(""):t,i=0;i<e;i++)if(i in r&&n.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:O(t)?t.charAt(e):t[e]}function mn(t){return Array.prototype.concat.apply(Array.prototype,arguments)}function wn(t,n,e){return 2>=arguments.length?Array.prototype.slice.call(t,n):Array.prototype.slice.call(t,n,e)}var w;t:{var Mt=F.navigator;if(Mt){var jt=Mt.userAgent;if(jt){w=jt;break t}}w=""}var dn=E(w,"Opera")||E(w,"OPR"),R=E(w,"Trident")||E(w,"MSIE"),En=E(w,"Edge"),vt=E(w,"Gecko")&&!(E(w.toLowerCase(),"webkit")&&!E(w,"Edge"))&&!(E(w,"Trident")||E(w,"MSIE"))&&!E(w,"Edge"),Nn=E(w.toLowerCase(),"webkit")&&!E(w,"Edge");function Bt(){var t=F.document;return t?t.documentMode:void 0}var b;t:{var yt="",mt=function(){var t=w;if(vt)return/rv\:([^\);]+)(\)|;)/.exec(t);if(En)return/Edge\/([\d\.]+)/.exec(t);if(R)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Nn)return/WebKit\/(\S+)/.exec(t);if(dn)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mt&&(yt=mt?mt[1]:""),R){var wt=Bt();if(wt!=null&&wt>parseFloat(yt)){b=String(wt);break t}}b=yt}var _t={};function Lt(t){if(!_t[t]){for(var n=0,e=Dt(String(b)).split("."),r=Dt(String(t)).split("."),i=Math.max(e.length,r.length),o=0;n==0&&o<i;o++){var u=e[o]||"",s=r[o]||"",l=/(\d*)(\D*)/g,I=/(\d*)(\D*)/g;do{var d=l.exec(u)||["","",""],Q=I.exec(s)||["","",""];if(d[0].length==0&&Q[0].length==0)break;n=gt(d[1].length==0?0:parseInt(d[1],10),Q[1].length==0?0:parseInt(Q[1],10))||gt(d[2].length==0,Q[2].length==0)||gt(d[2],Q[2])}while(n==0)}_t[t]=0<=n}}var Ut=F.document,tt=Ut&&R?Bt()||(Ut.compatMode=="CSS1Compat"?parseInt(b,10):5):void 0,M=R&&!(9<=Number(tt)),Ft=R&&!(8<=Number(tt));function Y(t,n,e,r){this.a=t,this.nodeName=e,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=n}function Vt(t,n){var e=Ft&&n.nodeName=="href"?t.getAttribute(n.nodeName,2):n.nodeValue;return new Y(n,t,n.nodeName,e)}function P(t){var n=null,e=t.nodeType;if(e==1&&(n=t.textContent,n=n==null||n==null?t.innerText:n,n=n==null||n==null?"":n),typeof n!="string")if(M&&t.nodeName.toLowerCase()=="title"&&e==1)n=t.text;else if(e==9||e==1){t=e==9?t.documentElement:t.firstChild;for(var e=0,r=[],n="";t;){do t.nodeType!=1&&(n+=t.nodeValue),M&&t.nodeName.toLowerCase()=="title"&&(n+=t.text),r[e++]=t;while(t=t.firstChild);for(;e&&!(t=r[--e].nextSibling););}}else n=t.nodeValue;return""+n}function B(t,n,e){if(n===null)return!0;try{if(!t.getAttribute)return!1}catch(r){return!1}return Ft&&n=="class"&&(n="className"),e==null?!!t.getAttribute(n):t.getAttribute(n,2)==e}function $(t,n,e,r,i){return(M?xn:Sn).call(null,t,n,O(e)?e:null,O(r)?r:null,i||new f)}function xn(t,n,e,r,i){if(t instanceof U||t.b==8||e&&t.b===null){var o=n.all;if(!o||(t=Ht(t),t!="*"&&(o=n.getElementsByTagName(t),!o)))return i;if(e){for(var u=[],s=0;n=o[s++];)B(n,e,r)&&u.push(n);o=u}for(s=0;n=o[s++];)t=="*"&&n.tagName=="!"||h(i,n);return i}return dt(t,n,e,r,i),i}function Sn(t,n,e,r,i){return n.getElementsByName&&r&&e=="name"&&!R?(n=n.getElementsByName(r),C(n,function(o){t.a(o)&&h(i,o)})):n.getElementsByClassName&&r&&e=="class"?(n=n.getElementsByClassName(r),C(n,function(o){o.className==r&&t.a(o)&&h(i,o)})):t instanceof D?dt(t,n,e,r,i):n.getElementsByTagName&&(n=n.getElementsByTagName(t.f()),C(n,function(o){B(o,e,r)&&h(i,o)})),i}function An(t,n,e,r,i){var o;if((t instanceof U||t.b==8||e&&t.b===null)&&(o=n.childNodes)){var u=Ht(t);return u!="*"&&(o=Ct(o,function(s){return s.tagName&&s.tagName.toLowerCase()==u}),!o)||(e&&(o=Ct(o,function(s){return B(s,e,r)})),C(o,function(s){u=="*"&&(s.tagName=="!"||u=="*"&&s.nodeType!=1)||h(i,s)})),i}return Yt(t,n,e,r,i)}function Yt(t,n,e,r,i){for(n=n.firstChild;n;n=n.nextSibling)B(n,e,r)&&t.a(n)&&h(i,n);return i}function dt(t,n,e,r,i){for(n=n.firstChild;n;n=n.nextSibling)B(n,e,r)&&t.a(n)&&h(i,n),dt(t,n,e,r,i)}function Ht(t){if(t instanceof D){if(t.b==8)return"!";if(t.b===null)return"*"}return t.f()}!vt&&!R||R&&9<=Number(tt)||vt&&Lt("1.9.1"),R&&Lt("9");function Gt(t,n){if(!t||!n)return!1;if(t.contains&&n.nodeType==1)return t==n||t.contains(n);if(typeof t.compareDocumentPosition!="undefined")return t==n||!!(t.compareDocumentPosition(n)&16);for(;n&&t!=n;)n=n.parentNode;return n==t}function Kt(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return t.compareDocumentPosition(n)&2?1:-1;if(R&&!(9<=Number(tt))){if(t.nodeType==9)return-1;if(n.nodeType==9)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var e=t.nodeType==1,r=n.nodeType==1;if(e&&r)return t.sourceIndex-n.sourceIndex;var i=t.parentNode,o=n.parentNode;return i==o?zt(t,n):!e&&Gt(i,n)?-1*$t(t,n):!r&&Gt(o,t)?$t(n,t):(e?t.sourceIndex:i.sourceIndex)-(r?n.sourceIndex:o.sourceIndex)}return r=t.nodeType==9?t:t.ownerDocument||t.document,e=r.createRange(),e.selectNode(t),e.collapse(!0),r=r.createRange(),r.selectNode(n),r.collapse(!0),e.compareBoundaryPoints(F.Range.START_TO_END,r)}function $t(t,n){var e=t.parentNode;if(e==n)return-1;for(var r=n;r.parentNode!=e;)r=r.parentNode;return zt(r,t)}function zt(t,n){for(var e=n;e=e.previousSibling;)if(e==t)return-1;return 1}function f(){this.b=this.a=null,this.l=0}function Wt(t){this.node=t,this.a=this.b=null}function Et(t,n){if(!t.a)return n;if(!n.a)return t;for(var e=t.a,r=n.a,i=null,o=null,u=0;e&&r;){var o=e.node,s=r.node;o==s||o instanceof Y&&s instanceof Y&&o.a==s.a?(o=e,e=e.a,r=r.a):0<Kt(e.node,r.node)?(o=r,r=r.a):(o=e,e=e.a),(o.b=i)?i.a=o:t.a=o,i=o,u++}for(o=e||r;o;)o.b=i,i=i.a=o,u++,o=o.a;return t.b=i,t.l=u,t}function Nt(t,n){var e=new Wt(n);e.a=t.a,t.b?t.a.b=e:t.a=t.b=e,t.a=e,t.l++}function h(t,n){var e=new Wt(n);e.b=t.b,t.a?t.b.a=e:t.a=t.b=e,t.b=e,t.l++}function nt(t){return(t=t.a)?t.node:null}function et(t){return(t=nt(t))?P(t):""}function _(t,n){return new Tn(t,!!n)}function Tn(t,n){this.f=t,this.b=(this.c=n)?t.b:t.a,this.a=null}function g(t){var n=t.b;if(n==null)return null;var e=t.a=n;return t.b=t.c?n.b:n.a,e.node}function A(t){this.i=t,this.b=this.g=!1,this.f=null}function v(t){return`
  `+t.toString().split(`
`).join(`
  `)}function qt(t,n){t.g=n}function Jt(t,n){t.b=n}function m(t,n){var e=t.a(n);return e instanceof f?+et(e):+e}function y(t,n){var e=t.a(n);return e instanceof f?et(e):""+e}function H(t,n){var e=t.a(n);return e instanceof f?!!e.l:!!e}function z(t,n,e){A.call(this,t.i),this.c=t,this.h=n,this.o=e,this.g=n.g||e.g,this.b=n.b||e.b,this.c==In&&(e.b||e.g||e.i==4||e.i==0||!n.f?n.b||n.g||n.i==4||n.i==0||!e.f||(this.f={name:e.f.name,s:n}):this.f={name:n.f.name,s:e})}k(z);function G(t,n,e,r,i){n=n.a(r),e=e.a(r);var o;if(n instanceof f&&e instanceof f){for(n=_(n),r=g(n);r;r=g(n))for(i=_(e),o=g(i);o;o=g(i))if(t(P(r),P(o)))return!0;return!1}if(n instanceof f||e instanceof f){n instanceof f?(i=n,r=e):(i=e,r=n),o=_(i);for(var u=typeof r,s=g(o);s;s=g(o)){switch(u){case"number":s=+P(s);break;case"boolean":s=!!P(s);break;case"string":s=P(s);break;default:throw Error("Illegal primitive type for comparison.")}if(i==n&&t(s,r)||i==e&&t(r,s))return!0}return!1}return i?typeof n=="boolean"||typeof e=="boolean"?t(!!n,!!e):typeof n=="number"||typeof e=="number"?t(+n,+e):t(n,e):t(+n,+e)}z.prototype.a=function(t){return this.c.m(this.h,this.o,t)},z.prototype.toString=function(){var t="Binary Expression: "+this.c,t=t+v(this.h);return t+=v(this.o)};function Qt(t,n,e,r){this.a=t,this.w=n,this.i=e,this.m=r}Qt.prototype.toString=function(){return this.a};var xt={};function N(t,n,e,r){if(xt.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new Qt(t,n,e,r),xt[t.toString()]=t}N("div",6,1,function(t,n,e){return m(t,e)/m(n,e)}),N("mod",6,1,function(t,n,e){return m(t,e)%m(n,e)}),N("*",6,1,function(t,n,e){return m(t,e)*m(n,e)}),N("+",5,1,function(t,n,e){return m(t,e)+m(n,e)}),N("-",5,1,function(t,n,e){return m(t,e)-m(n,e)}),N("<",4,2,function(t,n,e){return G(function(r,i){return r<i},t,n,e)}),N(">",4,2,function(t,n,e){return G(function(r,i){return r>i},t,n,e)}),N("<=",4,2,function(t,n,e){return G(function(r,i){return r<=i},t,n,e)}),N(">=",4,2,function(t,n,e){return G(function(r,i){return r>=i},t,n,e)});var In=N("=",3,2,function(t,n,e){return G(function(r,i){return r==i},t,n,e,!0)});N("!=",3,2,function(t,n,e){return G(function(r,i){return r!=i},t,n,e,!0)}),N("and",2,2,function(t,n,e){return H(t,e)&&H(n,e)}),N("or",1,2,function(t,n,e){return H(t,e)||H(n,e)});function K(t,n,e){this.a=t,this.b=n||1,this.f=e||1}function rt(t,n){if(n.a.length&&t.i!=4)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");A.call(this,t.i),this.c=t,this.h=n,this.g=t.g,this.b=t.b}k(rt),rt.prototype.a=function(t){return t=this.c.a(t),It(this.h,t)},rt.prototype.toString=function(){var t;return t="Filter:"+v(this.c),t+=v(this.h)};function it(t,n){if(n.length<t.A)throw Error("Function "+t.j+" expects at least"+t.A+" arguments, "+n.length+" given");if(t.v!==null&&n.length>t.v)throw Error("Function "+t.j+" expects at most "+t.v+" arguments, "+n.length+" given");t.B&&C(n,function(e,r){if(e.i!=4)throw Error("Argument "+r+" to function "+t.j+" is not of type Nodeset: "+e)}),A.call(this,t.i),this.h=t,this.c=n,qt(this,t.g||Z(n,function(e){return e.g})),Jt(this,t.D&&!n.length||t.C&&!!n.length||Z(n,function(e){return e.b}))}k(it),it.prototype.a=function(t){return this.h.m.apply(null,mn(t,this.c))},it.prototype.toString=function(){var n="Function: "+this.h;if(this.c.length)var t=V(this.c,function(e,r){return e+v(r)},"Arguments:"),n=n+v(t);return n};function Xt(t,n,e,r,i,o,u,s,l){this.j=t,this.i=n,this.g=e,this.D=r,this.C=i,this.m=o,this.A=u,this.v=s!==void 0?s:u,this.B=!!l}Xt.prototype.toString=function(){return this.j};var St={};function c(t,n,e,r,i,o,u,s){if(St.hasOwnProperty(t))throw Error("Function already created: "+t+".");St[t]=new Xt(t,n,e,r,!1,i,o,u,s)}c("boolean",2,!1,!1,function(t,n){return H(n,t)},1),c("ceiling",1,!1,!1,function(t,n){return Math.ceil(m(n,t))},1),c("concat",3,!1,!1,function(t,n){return V(wn(arguments,1),function(e,r){return e+y(r,t)},"")},2,null),c("contains",2,!1,!1,function(t,n,e){return E(y(n,t),y(e,t))},2),c("count",1,!1,!1,function(t,n){return n.a(t).l},1,1,!0),c("false",2,!1,!1,function(){return!1},0),c("floor",1,!1,!1,function(t,n){return Math.floor(m(n,t))},1),c("id",4,!1,!1,function(t,n){function e(s){if(M){var l=r.all[s];if(l){if(l.nodeType&&s==l.id)return l;if(l.length)return yn(l,function(I){return s==I.id})}return null}return r.getElementById(s)}var i=t.a,r=i.nodeType==9?i:i.ownerDocument,i=y(n,t).split(/\s+/),o=[];C(i,function(s){s=e(s),!s||0<=vn(o,s)||o.push(s)}),o.sort(Kt);var u=new f;return C(o,function(s){h(u,s)}),u},1),c("lang",2,!1,!1,function(){return!1},1),c("last",1,!0,!1,function(t){if(arguments.length!=1)throw Error("Function last expects ()");return t.f},0),c("local-name",3,!1,!0,function(t,n){var e=n?nt(n.a(t)):t.a;return e?e.localName||e.nodeName.toLowerCase():""},0,1,!0),c("name",3,!1,!0,function(t,n){var e=n?nt(n.a(t)):t.a;return e?e.nodeName.toLowerCase():""},0,1,!0),c("namespace-uri",3,!0,!1,function(){return""},0,1,!0),c("normalize-space",3,!1,!0,function(t,n){return(n?y(n,t):P(t.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),c("not",2,!1,!1,function(t,n){return!H(n,t)},1),c("number",1,!1,!0,function(t,n){return n?m(n,t):+P(t.a)},0,1),c("position",1,!0,!1,function(t){return t.b},0),c("round",1,!1,!1,function(t,n){return Math.round(m(n,t))},1),c("starts-with",2,!1,!1,function(t,n,e){return n=y(n,t),t=y(e,t),n.lastIndexOf(t,0)==0},2),c("string",3,!1,!0,function(t,n){return n?y(n,t):P(t.a)},0,1),c("string-length",1,!1,!0,function(t,n){return(n?y(n,t):P(t.a)).length},0,1),c("substring",3,!1,!1,function(t,n,e,r){if(e=m(e,t),isNaN(e)||e==1/0||e==-1/0||(r=r?m(r,t):1/0,isNaN(r)||r===-1/0))return"";e=Math.round(e)-1;var i=Math.max(e,0);return t=y(n,t),r==1/0?t.substring(i):t.substring(i,e+Math.round(r))},2,3),c("substring-after",3,!1,!1,function(t,n,e){return n=y(n,t),t=y(e,t),e=n.indexOf(t),e==-1?"":n.substring(e+t.length)},2),c("substring-before",3,!1,!1,function(t,n,e){return n=y(n,t),t=y(e,t),t=n.indexOf(t),t==-1?"":n.substring(0,t)},2),c("sum",1,!1,!1,function(t,n){for(var e=_(n.a(t)),r=0,i=g(e);i;i=g(e))r+=+P(i);return r},1,1,!0),c("translate",3,!1,!1,function(t,n,e,r){n=y(n,t),e=y(e,t);var i=y(r,t);for(t={},r=0;r<e.length;r++){var o=e.charAt(r);o in t||(t[o]=i.charAt(r))}for(e="",r=0;r<n.length;r++)o=n.charAt(r),e+=o in t?t[o]:o;return e},3),c("true",2,!1,!1,function(){return!0},0);function D(t,n){switch(this.h=t,this.c=n!==void 0?n:null,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function At(t){return t=="comment"||t=="text"||t=="processing-instruction"||t=="node"}D.prototype.a=function(t){return this.b===null||this.b==t.nodeType},D.prototype.f=function(){return this.h},D.prototype.toString=function(){var t="Kind Test: "+this.h;return this.c===null||(t+=v(this.c)),t};function On(t){this.b=t,this.a=0}function kn(t){t=t.match(Pn);for(var n=0;n<t.length;n++)Rn.test(t[n])&&t.splice(n,1);return new On(t)}var Pn=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Rn=/^\s/;function p(t,n){return t.b[t.a+(n||0)]}function a(t){return t.b[t.a++]}function ot(t){return t.b.length<=t.a}function ut(t){A.call(this,3),this.c=t.substring(1,t.length-1)}k(ut),ut.prototype.a=function(){return this.c},ut.prototype.toString=function(){return"Literal: "+this.c};function U(t,n){this.j=t.toLowerCase();var e;e=this.j=="*"?"*":"http://www.w3.org/1999/xhtml",this.c=n?n.toLowerCase():e}U.prototype.a=function(t){var n=t.nodeType;return n!=1&&n!=2?!1:(n=t.localName!==void 0?t.localName:t.nodeName,this.j!="*"&&this.j!=n.toLowerCase()?!1:this.c=="*"?!0:this.c==(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml"))},U.prototype.f=function(){return this.j},U.prototype.toString=function(){return"Name Test: "+(this.c=="http://www.w3.org/1999/xhtml"?"":this.c+":")+this.j};function st(t,n){if(A.call(this,t.i),this.h=t,this.c=n,this.g=t.g,this.b=t.b,this.c.length==1){var e=this.c[0];e.u||e.c!=bt||(e=e.o,e.f()!="*"&&(this.f={name:e.f(),s:null}))}}k(st);function W(){A.call(this,4)}k(W),W.prototype.a=function(t){var n=new f;return t=t.a,t.nodeType==9?h(n,t):h(n,t.ownerDocument),n},W.prototype.toString=function(){return"Root Helper Expression"};function ft(){A.call(this,4)}k(ft),ft.prototype.a=function(t){var n=new f;return h(n,t.a),n},ft.prototype.toString=function(){return"Context Helper Expression"};function Tt(t){return t=="/"||t=="//"}st.prototype.a=function(t){var n=this.h.a(t);if(!(n instanceof f))throw Error("Filter expression must evaluate to nodeset.");t=this.c;for(var e=0,r=t.length;e<r&&n.l;e++){var i=t[e],o=_(n,i.c.a),u;if(i.g||i.c!=Cn)if(i.g||i.c!=jn)for(u=g(o),n=i.a(new K(u));(u=g(o))!=null;)u=i.a(new K(u)),n=Et(n,u);else u=g(o),n=i.a(new K(u));else{for(u=g(o);(n=g(o))&&(!u.contains||u.contains(n))&&n.compareDocumentPosition(u)&8;u=n);n=i.a(new K(u))}}return n},st.prototype.toString=function(){var t;if(t="Path Expression:"+v(this.h),this.c.length){var n=V(this.c,function(e,r){return e+v(r)},"Steps:");t+=v(n)}return t};function lt(t){A.call(this,4),this.c=t,qt(this,Z(this.c,function(n){return n.g})),Jt(this,Z(this.c,function(n){return n.b}))}k(lt),lt.prototype.a=function(t){var n=new f;return C(this.c,function(e){if(e=e.a(t),!(e instanceof f))throw Error("Path expression must evaluate to NodeSet.");n=Et(n,e)}),n},lt.prototype.toString=function(){return V(this.c,function(t,n){return t+v(n)},"Union Expression:")};function ct(t,n){this.a=t,this.b=!!n}function It(t,n,e){for(e=e||0;e<t.a.length;e++)for(var r=t.a[e],i=_(n),o=n.l,u,s=0;u=g(i);s++){var l=t.b?o-s:s+1;if(u=r.a(new K(u,l,o)),typeof u=="number")l=l==u;else if(typeof u=="string"||typeof u=="boolean")l=!!u;else if(u instanceof f)l=0<u.l;else throw Error("Predicate.evaluate returned an unexpected type.");if(!l){l=i,u=l.f;var d=l.a;if(!d)throw Error("Next must be called at least once before remove.");var I=d.b,d=d.a;I?I.a=d:u.a=d,d?d.b=I:u.b=I,u.l--,l.a=null}}return n}ct.prototype.toString=function(){return V(this.a,function(t,n){return t+v(n)},"Predicates:")};function L(t,n,e,r){A.call(this,4),this.c=t,this.o=n,this.h=e||new ct([]),this.u=!!r,n=this.h,n=0<n.a.length?n.a[0].f:null,t.b&&n&&(t=n.name,t=M?t.toLowerCase():t,this.f={name:t,s:n.s});t:{for(t=this.h,n=0;n<t.a.length;n++)if(e=t.a[n],e.g||e.i==1||e.i==0){t=!0;break t}t=!1}this.g=t}k(L),L.prototype.a=function(t){var n=t.a,e=null,e=this.f,r=null,i=null,o=0;if(e&&(r=e.name,i=e.s?y(e.s,t):null,o=1),this.u)if(this.g||this.c!=tn)if(t=_(new L(Dn,new D("node")).a(t)),n=g(t))for(e=this.m(n,r,i,o);(n=g(t))!=null;)e=Et(e,this.m(n,r,i,o));else e=new f;else e=$(this.o,n,r,i),e=It(this.h,e,o);else e=this.m(t.a,r,i,o);return e},L.prototype.m=function(t,n,e,r){return t=this.c.f(this.o,t,n,e),t=It(this.h,t,r)},L.prototype.toString=function(){var t;if(t="Step:"+v("Operator: "+(this.u?"//":"/")),this.c.j&&(t+=v("Axis: "+this.c)),t+=v(this.o),this.h.a.length){var n=V(this.h.a,function(e,r){return e+v(r)},"Predicates:");t+=v(n)}return t};function Zt(t,n,e,r){this.j=t,this.f=n,this.a=e,this.b=r}Zt.prototype.toString=function(){return this.j};var Ot={};function x(t,n,e,r){if(Ot.hasOwnProperty(t))throw Error("Axis already created: "+t);return n=new Zt(t,n,e,!!r),Ot[t]=n}x("ancestor",function(t,n){for(var e=new f,r=n;r=r.parentNode;)t.a(r)&&Nt(e,r);return e},!0),x("ancestor-or-self",function(t,n){var e=new f,r=n;do t.a(r)&&Nt(e,r);while(r=r.parentNode);return e},!0);var bt=x("attribute",function(t,n){var e=new f,r=t.f();if(r=="style"&&M&&n.style)return h(e,new Y(n.style,n,"style",n.style.cssText)),e;var i=n.attributes;if(i)if(t instanceof D&&t.b===null||r=="*")for(var r=0,o;o=i[r];r++)M?o.nodeValue&&h(e,Vt(n,o)):h(e,o);else(o=i.getNamedItem(r))&&(M?o.nodeValue&&h(e,Vt(n,o)):h(e,o));return e},!1),tn=x("child",function(t,n,e,r,i){return(M?An:Yt).call(null,t,n,O(e)?e:null,O(r)?r:null,i||new f)},!1,!0);x("descendant",$,!1,!0);var Dn=x("descendant-or-self",function(t,n,e,r){var i=new f;return B(n,e,r)&&t.a(n)&&h(i,n),$(t,n,e,r,i)},!1,!0),Cn=x("following",function(t,n,e,r){var i=new f;do for(var o=n;o=o.nextSibling;)B(o,e,r)&&t.a(o)&&h(i,o),i=$(t,o,e,r,i);while(n=n.parentNode);return i},!1,!0);x("following-sibling",function(t,n){for(var e=new f,r=n;r=r.nextSibling;)t.a(r)&&h(e,r);return e},!1),x("namespace",function(){return new f},!1);var Mn=x("parent",function(t,n){var e=new f;if(n.nodeType==9)return e;if(n.nodeType==2)return h(e,n.ownerElement),e;var r=n.parentNode;return t.a(r)&&h(e,r),e},!1),jn=x("preceding",function(t,n,e,r){var i=new f,o=[];do o.unshift(n);while(n=n.parentNode);for(var u=1,s=o.length;u<s;u++){var l=[];for(n=o[u];n=n.previousSibling;)l.unshift(n);for(var I=0,d=l.length;I<d;I++)n=l[I],B(n,e,r)&&t.a(n)&&h(i,n),i=$(t,n,e,r,i)}return i},!0,!0);x("preceding-sibling",function(t,n){for(var e=new f,r=n;r=r.previousSibling;)t.a(r)&&Nt(e,r);return e},!0);var Bn=x("self",function(t,n){var e=new f;return t.a(n)&&h(e,n),e},!1);function at(t){A.call(this,1),this.c=t,this.g=t.g,this.b=t.b}k(at),at.prototype.a=function(t){return-m(this.c,t)},at.prototype.toString=function(){return"Unary Expression: -"+v(this.c)};function ht(t){A.call(this,1),this.c=t}k(ht),ht.prototype.a=function(){return this.c},ht.prototype.toString=function(){return"Number: "+this.c};function _n(t,n){this.a=t,this.b=n}function pt(t){for(var n,e=[];;){S(t,"Missing right hand side of binary expression."),n=un(t);var r=a(t.a);if(!r)break;var i=(r=xt[r]||null)&&r.w;if(!i){t.a.a--;break}for(;e.length&&i<=e[e.length-1].w;)n=new z(e.pop(),e.pop(),n);e.push(n,r)}for(;e.length;)n=new z(e.pop(),e.pop(),n);return n}function S(t,n){if(ot(t.a))throw Error(n)}function kt(t,n){var e=a(t.a);if(e!=n)throw Error("Bad token, expected: "+n+" got: "+e)}function nn(t){if(t=a(t.a),t!=")")throw Error("Bad token: "+t)}function en(t){if(t=a(t.a),2>t.length)throw Error("Unclosed literal string");return new ut(t)}function rn(t){var n,e=[],r;if(Tt(p(t.a))){if(n=a(t.a),r=p(t.a),n=="/"&&(ot(t.a)||r!="."&&r!=".."&&r!="@"&&r!="*"&&!/(?![0-9])[\w]/.test(r)))return new W;r=new W,S(t,"Missing next location step."),n=Pt(t,n),e.push(n)}else{t:{switch(n=p(t.a),r=n.charAt(0),r){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":a(t.a),n=pt(t),S(t,'unclosed "("'),kt(t,")");break;case'"':case"'":n=en(t);break;default:if(isNaN(+n))if(!At(n)&&/(?![0-9])[\w]/.test(r)&&p(t.a,1)=="("){for(n=a(t.a),n=St[n]||null,a(t.a),r=[];p(t.a)!=")"&&(S(t,"Missing function argument list."),r.push(pt(t)),p(t.a)==",");)a(t.a);S(t,"Unclosed function argument list."),nn(t),n=new it(n,r)}else{n=null;break t}else n=new ht(+a(t.a))}p(t.a)=="["&&(r=new ct(on(t)),n=new rt(n,r))}if(n)if(Tt(p(t.a)))r=n;else return n;else n=Pt(t,"/"),r=new ft,e.push(n)}for(;Tt(p(t.a));)n=a(t.a),S(t,"Missing next location step."),n=Pt(t,n),e.push(n);return new st(r,e)}function Pt(t,n){var e,r,i;if(n!="/"&&n!="//")throw Error('Step op should be "/" or "//"');if(p(t.a)==".")return r=new L(Bn,new D("node")),a(t.a),r;if(p(t.a)=="..")return r=new L(Mn,new D("node")),a(t.a),r;var o;if(p(t.a)=="@")o=bt,a(t.a),S(t,"Missing attribute name");else if(p(t.a,1)=="::"){if(!/(?![0-9])[\w]/.test(p(t.a).charAt(0)))throw Error("Bad token: "+a(t.a));if(e=a(t.a),o=Ot[e]||null,!o)throw Error("No axis with name: "+e);a(t.a),S(t,"Missing node name")}else o=tn;if(e=p(t.a),/(?![0-9])[\w\*]/.test(e.charAt(0)))if(p(t.a,1)=="("){if(!At(e))throw Error("Invalid node type: "+e);if(e=a(t.a),!At(e))throw Error("Invalid type name: "+e);kt(t,"("),S(t,"Bad nodetype"),i=p(t.a).charAt(0);var u=null;(i=='"'||i=="'")&&(u=en(t)),S(t,"Bad nodetype"),nn(t),e=new D(e,u)}else if(e=a(t.a),i=e.indexOf(":"),i==-1)e=new U(e);else{var u=e.substring(0,i),s;if(u=="*")s="*";else if(s=t.b(u),!s)throw Error("Namespace prefix not declared: "+u);e=e.substr(i+1),e=new U(e,s)}else throw Error("Bad token: "+a(t.a));return i=new ct(on(t),o.a),r||new L(o,e,i,n=="//")}function on(t){for(var n=[];p(t.a)=="[";){a(t.a),S(t,"Missing predicate expression.");var e=pt(t);n.push(e),S(t,"Unclosed predicate expression."),kt(t,"]")}return n}function un(t){if(p(t.a)=="-")return a(t.a),new at(un(t));var n=rn(t);if(p(t.a)!="|")t=n;else{for(n=[n];a(t.a)=="|";)S(t,"Missing next union location path."),n.push(rn(t));t.a.a--,t=new lt(n)}return t}function Rt(t){switch(t.nodeType){case 1:return gn(fn,t);case 9:return Rt(t.documentElement);case 11:case 10:case 6:case 12:return sn;default:return t.parentNode?Rt(t.parentNode):sn}}function sn(){return null}function fn(t,n){if(t.prefix==n)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var e=t.getAttributeNode("xmlns:"+n);return e&&e.specified?e.value||null:t.parentNode&&t.parentNode.nodeType!=9?fn(t.parentNode,n):null}function ln(t,n){if(!t.length)throw Error("Empty XPath expression.");var e=kn(t);if(ot(e))throw Error("Invalid XPath expression.");n?an(n)=="function"||(n=X(n.lookupNamespaceURI,n)):n=function(){return null};var r=pt(new _n(e,n));if(!ot(e))throw Error("Bad token: "+a(e));this.evaluate=function(i,o){var u=r.a(new K(i));return new T(u,o)}}function T(t,n){if(n==0)if(t instanceof f)n=4;else if(typeof t=="string")n=2;else if(typeof t=="number")n=1;else if(typeof t=="boolean")n=3;else throw Error("Unexpected evaluation result.");if(n!=2&&n!=1&&n!=3&&!(t instanceof f))throw Error("value could not be converted to the specified type");this.resultType=n;var e;switch(n){case 2:this.stringValue=t instanceof f?et(t):""+t;break;case 1:this.numberValue=t instanceof f?+et(t):+t;break;case 3:this.booleanValue=t instanceof f?0<t.l:!!t;break;case 4:case 5:case 6:case 7:var r=_(t);e=[];for(var i=g(r);i;i=g(r))e.push(i instanceof Y?i.a:i);this.snapshotLength=t.l,this.invalidIteratorState=!1;break;case 8:case 9:r=nt(t),this.singleNodeValue=r instanceof Y?r.a:r;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(n!=4&&n!=5)throw Error("iterateNext called with wrong result type");return o>=e.length?null:e[o++]},this.snapshotItem=function(u){if(n!=6&&n!=7)throw Error("snapshotItem called with wrong result type");return u>=e.length||0>u?null:e[u]}}T.ANY_TYPE=0,T.NUMBER_TYPE=1,T.STRING_TYPE=2,T.BOOLEAN_TYPE=3,T.UNORDERED_NODE_ITERATOR_TYPE=4,T.ORDERED_NODE_ITERATOR_TYPE=5,T.UNORDERED_NODE_SNAPSHOT_TYPE=6,T.ORDERED_NODE_SNAPSHOT_TYPE=7,T.ANY_UNORDERED_NODE_TYPE=8,T.FIRST_ORDERED_NODE_TYPE=9;function Ln(t){this.lookupNamespaceURI=Rt(t)}function cn(t,n){var e=t||F,r=e.Document&&e.Document.prototype||e.document;(!r.evaluate||n)&&(e.XPathResult=T,r.evaluate=function(i,o,u,s){return new ln(i,u).evaluate(o,s)},r.createExpression=function(i,o){return new ln(i,o)},r.createNSResolver=function(i){return new Ln(i)})}var q=["wgxpath","install"],j=F;q[0]in j||!j.execScript||j.execScript("var "+q[0]);for(var J;q.length&&(J=q.shift());)q.length||cn===void 0?j[J]?j=j[J]:j=j[J]={}:j[J]=cn}).call(exports);
