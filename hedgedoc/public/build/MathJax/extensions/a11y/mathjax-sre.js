var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var r=0;return function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.makeIterator=function(t){var r=typeof Symbol!="undefined"&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):$jscomp.arrayIterator(t)},$jscomp.arrayFromIterator=function(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(t,r,n){return t==Array.prototype||t==Object.prototype||(t[r]=n.value),t},$jscomp.getGlobal=function(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var r=0;r<t.length;++r){var n=t[r];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(exports),$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(t,r){var n=$jscomp.propertyToPolyfillSymbol[r];return n==null?t[r]:(n=t[n],n!==void 0?n:t[r])};$jscomp.polyfill=function(t,r,n,i){r&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,r,n,i):$jscomp.polyfillUnisolated(t,r,n,i))},$jscomp.polyfillUnisolated=function(t,r,n,i){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var l=t[i];if(!(l in n))return;n=n[l]}t=t[t.length-1],i=n[t],r=r(i),r!=i&&r!=null&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:r})},$jscomp.polyfillIsolated=function(t,r,n,i){var l=t.split(".");t=l.length===1,i=l[0],i=!t&&i in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var s=0;s<l.length-1;s++){var o=l[s];if(!(o in i))return;i=i[o]}l=l[l.length-1],n=$jscomp.IS_SYMBOL_NATIVE&&n==="es6"?i[l]:null,r=r(n),r!=null&&(t?$jscomp.defineProperty($jscomp.polyfills,l,{configurable:!0,writable:!0,value:r}):r!==n&&($jscomp.propertyToPolyfillSymbol[l]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(l):$jscomp.POLYFILL_PREFIX+l,l=$jscomp.propertyToPolyfillSymbol[l],$jscomp.defineProperty(i,l,{configurable:!0,writable:!0,value:r})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(t){if(t)return t;var r=function(l,s){this.$jscomp$symbol$id_=l,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:s})};r.prototype.toString=function(){return this.$jscomp$symbol$id_};var n=0,i=function(l){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new r("jscomp_symbol_"+(l||"")+"_"+n++,l)};return i},"es6","es3"),$jscomp.initSymbolIterator=function(){},$jscomp.polyfill("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<r.length;n++){var i=$jscomp.global[r[n]];typeof i=="function"&&typeof i.prototype[t]!="function"&&$jscomp.defineProperty(i.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t},"es6","es3"),$jscomp.initSymbolAsyncIterator=function(){},$jscomp.iteratorPrototype=function(t){return t={next:t},t[Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,r){t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var l=n++;return{value:r(l,t[l]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3"),$jscomp.findInternal=function(t,r,n){t instanceof String&&(t=String(t));for(var i=t.length,l=0;l<i;l++){var s=t[l];if(r.call(n,s,l,t))return{i:l,v:s}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(r,n){return $jscomp.findInternal(this,r,n).v}},"es6","es3"),$jscomp.checkStringArgs=function(t,r,n){if(t==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(r){var n=$jscomp.checkStringArgs(this,null,"repeat");if(0>r||1342177279<r)throw new RangeError("Invalid count value");r|=0;for(var i="";r;)r&1&&(i+=n),(r>>>=1)&&(n+=n);return i}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=exports||self,goog.exportPath_=function(t,r,n){t=t.split("."),n=n||goog.global,t[0]in n||typeof n.execScript=="undefined"||n.execScript("var "+t[0]);for(var i;t.length&&(i=t.shift());)t.length||r===void 0?n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}:n[i]=r},goog.define=function(t,r){if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;n&&n.nodeType===void 0&&Object.prototype.hasOwnProperty.call(n,t)?r=n[t]:i&&i.nodeType===void 0&&Object.prototype.hasOwnProperty.call(i,t)&&(r=i[t])}return r},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,r){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var n=t;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(t,r)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(typeof t!="string"||!t||t.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t].exports;if(!goog.implicitNamespaces_[t])return t=goog.getObjectByName(t),t!=null?t:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return t?typeof t.getCurrentModulePath!="function"?!1:!!t.getCurrentModulePath():!1},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(t in goog.loadedModules_)throw Error('Module with namespace "'+t+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var r=goog.global.$jscomp;if(!r||typeof r.getCurrentModulePath!="function")throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');r=r.require(r.getCurrentModulePath()),goog.loadedModules_[t]={exports:r,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.getObjectByName(t)!=null},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,r){t=t.split("."),r=r||goog.global;for(var n=0;n<t.length;n++)if(r=r[t[n]],r==null)return null;return r},goog.globalize=function(t,r){r=r||goog.global;for(var n in t)r[n]=t[n]},goog.addDependency=function(t,r,n,i){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(t,r,n,i)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var r=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(t)}finally{goog.moduleLoaderState_=r}}return null}},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(t){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+`
;})();
`},goog.loadModule=function(t){var r=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var n=t.call(void 0,{});else if(typeof t=="string")goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),n=goog.loadModuleFromSource_.call(void 0,t);else throw Error("Invalid module definition");var i=goog.moduleLoaderState_.moduleName;if(typeof i=="string"&&i)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof n=="object"&&n!=null&&Object.seal(n),goog.loadedModules_[i]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+i+'"')}finally{goog.moduleLoaderState_=r}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var r=0;r<t.length;)t[r]=="."?t.splice(r,1):r&&t[r]==".."&&t[r-1]&&t[r-1]!=".."?t.splice(--r,2):r++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var r=new goog.global.XMLHttpRequest;return r.open("get",t,!1),r.send(),r.status==0||r.status==200?r.responseText:null}catch(n){return null}},goog.transpile_=function(t,r,n){var i=goog.global.$jscomp;i||(goog.global.$jscomp=i={});var l=i.transpile;if(!l){var s=goog.basePath+goog.TRANSPILER,o=goog.loadFileSync_(s);if(o){if(function(){(0,eval)(o+`
//# sourceURL=`+s)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=goog.global.$jscomp,l=i.transpile}}return l||(l=i.transpile=function(u,p){return goog.logToConsole_(p+" requires transpilation but no transpiler was found."),u}),l(t,r,n)},goog.typeOf=function(t){var r=typeof t;if(r=="object")if(t){if(t instanceof Array)return"array";if(t instanceof Object)return r;var n=Object.prototype.toString.call(t);if(n=="[object Window]")return"object";if(n=="[object Array]"||typeof t.length=="number"&&typeof t.splice!="undefined"&&typeof t.propertyIsEnumerable!="undefined"&&!t.propertyIsEnumerable("splice"))return"array";if(n=="[object Function]"||typeof t.call!="undefined"&&typeof t.propertyIsEnumerable!="undefined"&&!t.propertyIsEnumerable("call"))return"function"}else return"null";else if(r=="function"&&typeof t.call=="undefined")return"object";return r},goog.isArray=function(t){return Array.isArray(t)},goog.isArrayLike=function(t){var r=goog.typeOf(t);return r=="array"||r=="object"&&typeof t.length=="number"},goog.isDateLike=function(t){return goog.isObject(t)&&typeof t.getFullYear=="function"},goog.isFunction=function(t){return goog.typeOf(t)=="function"},goog.isObject=function(t){var r=typeof t;return r=="object"&&t!=null||r=="function"},goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){t!==null&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(r){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var r=goog.typeOf(t);if(r=="object"||r=="array"){if(typeof t.clone=="function")return t.clone();r=r=="array"?[]:{};for(var n in t)r[n]=goog.cloneObject(t[n]);return r}return t},goog.bindNative_=function(t,r,n){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,r,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),t.apply(r,l)}}return function(){return t.apply(r,arguments)}},goog.bind=function(t,r,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,r){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}},goog.mixin=function(t,r){for(var n in r)t[n]=r[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else if(goog.global.eval){if(goog.evalWorks_==null)try{goog.global.eval(""),goog.evalWorks_=!0}catch(i){goog.evalWorks_=!1}if(goog.evalWorks_)goog.global.eval(t);else{var r=goog.global.document,n=r.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(r.createTextNode(t)),r.head.appendChild(n),r.head.removeChild(n)}}else throw Error("goog.globalEval not available")},goog.evalWorks_=null,goog.getCssName=function(t,r){if(String(t).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var n=function(l){return goog.cssNameMapping_[l]||l},i=function(l){l=l.split("-");for(var s=[],o=0;o<l.length;o++)s.push(n(l[o]));return s.join("-")};return i=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?n:i:function(l){return l},t=r?t+"-"+i(r):i(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,r){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=r},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,r,n){return n&&n.html&&(t=t.replace(/</g,"&lt;")),r&&(t=t.replace(/\{\$([^}]+)}/g,function(i,l){return r!=null&&l in r?r[l]:i})),t},goog.getMsgWithFallback=function(t,r){return t},goog.exportSymbol=function(t,r,n){goog.exportPath_(t,r,n)},goog.exportProperty=function(t,r,n){t[r]=n},goog.inherits=function(t,r){function n(){}n.prototype=r.prototype,t.superClass_=r.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(i,l,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return r.prototype[l].apply(i,o)}},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,r){var n=r.constructor,i=r.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,t),t&&goog.inherits(n,t),delete r.constructor,delete r.statics,goog.defineClass.applyProperties_(n.prototype,r),i!=null&&(i instanceof Function?i(n):goog.defineClass.applyProperties_(n,i)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,r){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var n=t.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],n}:t},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var t=goog.global.document;return t!=null&&"write"in t},goog.isDocumentLoading_=function(){var t=goog.global.document;return t.attachEvent?t.readyState!="complete":t.readyState=="loading"},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH!=null&&typeof goog.global.CLOSURE_BASE_PATH=="string")goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var t=goog.global.document,r=t.currentScript;for(t=r?[r]:t.getElementsByTagName("SCRIPT"),r=t.length-1;0<=r;--r){var n=t[r].src,i=n.lastIndexOf("?");if(i=i==-1?n.length:i,n.substr(i-7,7)=="base.js"){goog.basePath=n.substr(0,i-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(g){try{return!!eval(g)}catch(t){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return f.match(/Edge\/(\d+)(\.\d)*/i)?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(t,r){if(goog.TRANSPILE=="always")return!0;if(goog.TRANSPILE=="never")return!1;if(!this.requiresTranspilation_){var n=this.createRequiresTranspilation_();this.requiresTranspilation_=n.map,this.transpilationTarget_=this.transpilationTarget_||n.target}if(t in this.requiresTranspilation_)return this.requiresTranspilation_[t]?!0:!(!goog.inHtmlDocument_()||r!="es6"||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+t)},goog.Transpiler.prototype.transpile=function(t,r){return goog.transpile_(t,r,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(t,r){function n(){i&&(goog.global.setTimeout(i,0),i=null)}var i=r;if(t.length){r=[];for(var l=0;l<t.length;l++){var s=this.getPathFromDeps_(t[l]);if(!s)throw Error("Unregonized namespace: "+t[l]);r.push(this.dependencies_[s])}s=goog.require;var o=0;for(l=0;l<t.length;l++)s(t[l]),r[l].onLoad(function(){++o==t.length&&n()})}else n()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(t,r){(t=this.getPathFromDeps_(t))&&(r||this.areDepsLoaded_(this.dependencies_[t].requires))&&(r=this.deferredCallbacks_[t])&&(delete this.deferredCallbacks_[t],r())},goog.DebugLoader_.prototype.setDependencyFactory=function(t){this.factory_=t},goog.DebugLoader_.prototype.load_=function(t){if(this.getPathFromDeps_(t)){var r=this,n=[],i=function(l){var s=r.getPathFromDeps_(l);if(!s)throw Error("Bad dependency path or symbol: "+l);if(!r.written_[s]){for(r.written_[s]=!0,l=r.dependencies_[s],s=0;s<l.requires.length;s++)goog.isProvided_(l.requires[s])||i(l.requires[s]);n.push(l)}};i(t),t=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(n),this.paused_||t||this.loadDeps_()}else throw t="goog.require could not find: "+t,goog.logToConsole_(t),Error(t)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var t=this,r=this.paused_;this.depsToLoad_.length&&!r;)(function(){var n=!1,i=t.depsToLoad_.shift(),l=!1;t.loading_(i);var s={pause:function(){if(n)throw Error("Cannot call pause after the call to load.");r=!0},resume:function(){n?t.resume_():r=!1},loaded:function(){if(l)throw Error("Double call to loaded.");l=!0,t.loaded_(i)},pending:function(){for(var o=[],u=0;u<t.loadingDeps_.length;u++)o.push(t.loadingDeps_[u]);return o},setModuleState:function(o){goog.moduleLoaderState_={type:o,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(o,u,p){p&&(goog.loadedModules_[p]={exports:u,type:goog.ModuleType.ES6,moduleId:p||""})},registerGoogModuleExports:function(o,u){goog.loadedModules_[o]={exports:u,type:goog.ModuleType.GOOG,moduleId:o}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(o){if(n)throw Error("Cannot register with defer after the call to load.");t.defer_(i,o)},areDepsLoaded:function(){return t.areDepsLoaded_(i.requires)}};try{i.load(s)}finally{n=!0}})();r&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(t){this.loadingDeps_.push(t)},goog.DebugLoader_.prototype.loaded_=function(t){for(var r=0;r<this.loadingDeps_.length;r++)if(this.loadingDeps_[r]==t){this.loadingDeps_.splice(r,1);break}for(r=0;r<this.deferredQueue_.length;r++)if(this.deferredQueue_[r]==t.path){this.deferredQueue_.splice(r,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);t.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(t){for(var r=0;r<t.length;r++){var n=this.getPathFromDeps_(t[r]);if(!n||!(n in this.deferredCallbacks_||goog.isProvided_(t[r])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(t){return t in this.idToPath_?this.idToPath_[t]:t in this.dependencies_?t:null},goog.DebugLoader_.prototype.defer_=function(t,r){this.deferredCallbacks_[t.path]=r,this.deferredQueue_.push(t.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(t,r,n){},goog.LoadController.prototype.setModuleState=function(t){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(t){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(t,r,n,i,l){this.path=t,this.relativePath=r,this.provides=n,this.requires=i,this.loadFlags=l,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var t=this.path,r=t.indexOf("://");return 0<=r&&(t=t.substring(r+3),r=t.indexOf("/"),0<=r&&(t=t.substring(r+1))),t},goog.Dependency.prototype.onLoad=function(t){this.loaded_?t():this.loadCallbacks_.push(t)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var t=this.loadCallbacks_;this.loadCallbacks_=[];for(var r=0;r<t.length;r++)t[r]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(t){var r=Math.random().toString(32);return goog.Dependency.callbackMap_[r]=t,r},goog.Dependency.unregisterCallback_=function(t){delete goog.Dependency.callbackMap_[t]},goog.Dependency.callback_=function(t,r){if(t in goog.Dependency.callbackMap_){for(var n=goog.Dependency.callbackMap_[t],i=[],l=1;l<arguments.length;l++)i.push(arguments[l]);n.apply(void 0,i)}else throw Error("Callback key "+t+" does not exist (was base.js loaded more than once?).")},goog.Dependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var r=goog.global.document;if(r.readyState=="complete"&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){t.loaded();return}throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=goog.Dependency.registerCallback_(function(s){goog.DebugLoader_.IS_OLD_IE_&&s.readyState!="complete"||(goog.Dependency.unregisterCallback_(n),t.loaded())}),i=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";i='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+`="goog.Dependency.callback_('`+n+`', this)" type="text/javascript" `+(goog.Dependency.defer_?"defer":"")+i+"><\/script>",r.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}else{var l=r.createElement("script");l.defer=goog.Dependency.defer_,l.async=!1,l.type="text/javascript",(i=goog.getScriptNonce())&&l.setAttribute("nonce",i),goog.DebugLoader_.IS_OLD_IE_?(t.pause(),l.onreadystatechange=function(){(l.readyState=="loaded"||l.readyState=="complete")&&(t.loaded(),t.resume())}):l.onload=function(){l.onload=null,t.loaded()},l.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,r.head.appendChild(l)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),this.relativePath=="deps.js"?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),t.loaded()):t.pause()},goog.Es6ModuleDependency=function(t,r,n,i,l){goog.Dependency.call(this,t,r,n,i,l)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(t){function r(m,h){m=h?'<script type="module" crossorigin>'+h+"<\/script>":'<script type="module" crossorigin src="'+m+'"><\/script>',i.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(m):m)}function n(m,h){var S=i.createElement("script");S.defer=!0,S.async=!1,S.type="module",S.setAttribute("crossorigin",!0);var R=goog.getScriptNonce();R&&S.setAttribute("nonce",R),h?S.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(h):h:S.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(m):m,i.head.appendChild(S)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var i=goog.global.document,l=this;if(goog.isDocumentLoading_()){var s=r;goog.Dependency.defer_=!0}else s=n;var o=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(o),t.setModuleState(goog.ModuleType.ES6)});s(void 0,'goog.Dependency.callback_("'+o+'")'),s(this.path,void 0);var u=goog.Dependency.registerCallback_(function(m){goog.Dependency.unregisterCallback_(u),t.registerEs6ModuleExports(l.path,m,goog.moduleLoaderState_.moduleName)});s(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+u+'", m)');var p=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(p),t.clearModuleState(),t.loaded()});s(void 0,'goog.Dependency.callback_("'+p+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),t.pause()},goog.TransformedDependency=function(t,r,n,i,l){goog.Dependency.call(this,t,r,n,i,l),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(t){function r(){l.contents_=goog.loadFileSync_(l.path),l.contents_&&(l.contents_=l.transform(l.contents_),l.contents_&&(l.contents_+=`
//# sourceURL=`+l.path))}function n(){if(l.lazyFetch_&&r(),l.contents_){s&&t.setModuleState(goog.ModuleType.ES6);try{var h=l.contents_;if(l.contents_=null,goog.globalEval(h),s)var S=goog.moduleLoaderState_.moduleName}finally{s&&t.clearModuleState()}s&&goog.global.$jscomp.require.ensure([l.getPathName()],function(){t.registerEs6ModuleExports(l.path,goog.global.$jscomp.require(l.getPathName()),S)}),t.loaded()}}function i(){var h=goog.global.document,S=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(S),n()}),R='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+S+'");')+"<\/script>";h.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(R):R)}var l=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)r(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,t.loaded()):t.pause();else{var s=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||r();var o=1<t.pending().length,u=o&&goog.DebugLoader_.IS_OLD_IE_;if(o=goog.Dependency.defer_&&(o||goog.isDocumentLoading_()),u||o)t.defer(function(){n()});else{var p=goog.global.document;if(u=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,s&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!u){goog.Dependency.defer_=!0,t.pause();var m=p.onreadystatechange;p.onreadystatechange=function(){p.readyState=="interactive"&&(p.onreadystatechange=m,n(),t.resume()),goog.isFunction(m)&&m.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?i():n()}}},goog.TransformedDependency.prototype.transform=function(t){},goog.TranspiledDependency=function(t,r,n,i,l,s){goog.TransformedDependency.call(this,t,r,n,i,l),this.transpiler=s},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(t){return this.transpiler.transpile(t,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(t,r,n,i,l){goog.TransformedDependency.call(this,t,r,n,i,l)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(t){return t},goog.GoogModuleDependency=function(t,r,n,i,l,s,o){goog.TransformedDependency.call(this,t,r,n,i,l),this.needsTranspile_=s,this.transpiler_=o},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(t){return this.needsTranspile_&&(t=this.transpiler_.transpile(t,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.global.JSON!==void 0?"goog.loadModule("+goog.global.JSON.stringify(t+`
//# sourceURL=`+this.path+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+t+`
;return exports});
//# sourceURL=`+this.path+`
`},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(t,r,n,i){r=r||[],t=t.replace(/\\/g,"/");var l=goog.normalizePath_(goog.basePath+t);for(i&&typeof i!="boolean"||(i=i?{module:goog.ModuleType.GOOG}:{}),n=this.factory_.createDependency(l,t,r,n,i,goog.transpiler_.needsTranspile(i.lang||"es3",i.module)),this.dependencies_[l]=n,n=0;n<r.length;n++)this.idToPath_[r[n]]=l;this.idToPath_[t]=l},goog.DependencyFactory=function(t){this.transpiler=t},goog.DependencyFactory.prototype.createDependency=function(t,r,n,i,l,s){return l.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(t,r,n,i,l,s,this.transpiler):s?new goog.TranspiledDependency(t,r,n,i,l,this.transpiler):l.module==goog.ModuleType.ES6?goog.TRANSPILE=="never"&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(t,r,n,i,l):new goog.Es6ModuleDependency(t,r,n,i,l):new goog.Dependency(t,r,n,i,l)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(t){goog.debugLoader_.setDependencyFactory(t)},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(t,r){goog.debugLoader_.bootstrap(t,r)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var r=null,n=goog.global.trustedTypes;if(!n||!n.createPolicy)return r;try{r=n.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(i){goog.logToConsole_(i.message)}return r};var sre={Variables:function(){}};sre.Variables.VERSION="3.1.0",sre.Variables.LOCALES=["de","en","es","fr","nemeth"],sre.Variables.mathjaxVersion="3.0.0",sre.Variables.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+sre.Variables.VERSION+"/lib/mathmaps",sre.Variables.WGXpath="https://cdn.jsdelivr.net/npm/wicked-good-xpath@1.3.0/dist/wgxpath.install.js",sre.SystemExternal=function(){},sre.SystemExternal.require=function(t){return typeof process!="undefined"&&typeof require!="undefined"?require(t):null},sre.SystemExternal.documentSupported=function(){return typeof document!="undefined"},sre.SystemExternal.process=sre.SystemExternal.require("process"),sre.SystemExternal.xmldom=sre.SystemExternal.documentSupported()?window:sre.SystemExternal.require("xmldom-sre"),sre.SystemExternal.document=sre.SystemExternal.documentSupported()?document:new sre.SystemExternal.xmldom.DOMImplementation().createDocument("","",0),sre.SystemExternal.xpath=sre.SystemExternal.documentSupported()?document:function(){var t={document:{},XPathResult:{}};return sre.SystemExternal.require("wicked-good-xpath").install(t),t.document.XPathResult=t.XPathResult,t.document}(),sre.SystemExternal.commander=sre.SystemExternal.documentSupported()?null:sre.SystemExternal.require("commander"),sre.SystemExternal.fs=sre.SystemExternal.documentSupported()?null:sre.SystemExternal.require("fs"),sre.SystemExternal.url=sre.Variables.url,sre.SystemExternal.jsonPath=function(){return(sre.SystemExternal.process&&typeof global!="undefined"?sre.SystemExternal.process.env.SRE_JSON_PATH||global.SRE_JSON_PATH||sre.SystemExternal.process.cwd():sre.SystemExternal.url)+"/"}(),sre.SystemExternal.WGXpath=sre.Variables.WGXpath,sre.SystemExternal.wgxpath=null,sre.BrowserUtil={},sre.BrowserUtil.detectIE=function(){return typeof window!="undefined"&&"ActiveXObject"in window&&"clipboardData"in window?(sre.BrowserUtil.loadMapsForIE_(),sre.BrowserUtil.loadWGXpath_(),!0):!1},sre.BrowserUtil.detectEdge=function(){return typeof window!="undefined"&&"MSGestureEvent"in window&&"chrome"in window&&window.chrome.loadTimes==null?(document.evaluate=null,sre.BrowserUtil.loadWGXpath_(!0),!0):!1},sre.BrowserUtil.mapsForIE=null,sre.BrowserUtil.loadWGXpath_=function(t){sre.BrowserUtil.loadScript(sre.SystemExternal.WGXpath),sre.BrowserUtil.installWGXpath_(t)},sre.BrowserUtil.installWGXpath_=function(t,r){var n=r||1;typeof wgxpath=="undefined"&&10>n?setTimeout(function(){sre.BrowserUtil.installWGXpath_(t,n++)},200):10<=n||(sre.SystemExternal.wgxpath=wgxpath,t?sre.SystemExternal.wgxpath.install({document}):sre.SystemExternal.wgxpath.install(),sre.XpathUtil.xpathEvaluate=document.evaluate,sre.XpathUtil.xpathResult=XPathResult,sre.XpathUtil.createNSResolver=document.createNSResolver)},sre.BrowserUtil.loadMapsForIE_=function(){sre.BrowserUtil.loadScript(sre.SystemExternal.jsonPath+"mathmaps_ie.js")},sre.BrowserUtil.loadScript=function(t){var r=sre.SystemExternal.document.createElement("script");r.type="text/javascript",r.src=t,sre.SystemExternal.document.head?sre.SystemExternal.document.head.appendChild(r):sre.SystemExternal.document.body.appendChild(r)},sre.DynamicProperties=function(t,r){this.properties_=t,this.order_=r||Object.keys(t)},sre.DynamicProperties.prototype.getProperties=function(){return this.properties_},sre.DynamicProperties.prototype.getOrder=function(){return this.order_},sre.DynamicProperties.prototype.getAxes=function(){return this.order_},sre.DynamicProperties.prototype.getProperty=function(t){return this.properties_[t]},sre.DynamicProperties.prototype.updateProperties=function(t){this.properties_=t},sre.DynamicProperties.prototype.allProperties=function(){var t=[];return this.order_.forEach(goog.bind(function(r){t.push(this.getProperty(r).slice())},this)),t},sre.DynamicProperties.prototype.toString=function(){var t=[];return this.order_.forEach(goog.bind(function(r){t.push(r+": "+this.getProperty(r).toString())},this)),t.join(`
`)},sre.DynamicCstr=function(t,r){this.components_=t;var n={},i;for(i in t){var l=t[i];n[i]=[l],sre.DynamicCstr.Values_.getInstance().add(i,l)}sre.DynamicProperties.call(this,n,r)},goog.inherits(sre.DynamicCstr,sre.DynamicProperties),sre.DynamicCstr.prototype.getComponents=function(){return this.components_},sre.DynamicCstr.prototype.getValue=function(t){return this.components_[t]},sre.DynamicCstr.prototype.getValues=function(){var t=[];return this.order_.forEach(goog.bind(function(r){t.push(this.getValue(r))},this)),t},sre.DynamicCstr.prototype.allProperties=function(){for(var t=sre.DynamicCstr.superClass_.allProperties.call(this),r=0,n,i;n=t[r],i=this.order_[r];r++)i=this.getValue(i),n.indexOf(i)===-1&&n.unshift(i);return t},sre.DynamicCstr.prototype.toString=function(){return this.getValues().join(".")},sre.DynamicCstr.prototype.equal=function(t){var r=t.getAxes();if(this.order_.length!==r.length)return!1;for(var n=0,i;i=r[n];n++){var l=this.getValue(i);if(!l||t.getValue(i)!==l)return!1}return!0},sre.DynamicCstr.Axis={DOMAIN:"domain",STYLE:"style",LOCALE:"locale",TOPIC:"topic",MODALITY:"modality"},sre.DynamicCstr.Values_=function(){this.axisToValues=sre.DynamicCstr.Values_.makeAxisValueObject_()},goog.addSingletonGetter(sre.DynamicCstr.Values_),sre.DynamicCstr.Values_.prototype.add=function(t,r){this.axisToValues[t][r]=!0},sre.DynamicCstr.Values_.prototype.get=function(){var t={},r=sre.DynamicCstr.Values_.getInstance().axisToValues,n;for(n in r)t[n]=Object.keys(r[n]);return t},sre.DynamicCstr.Values_.makeAxisValueObject_=function(){var t={},r;for(r in sre.DynamicCstr.Axis)t[sre.DynamicCstr.Axis[r]]={};return t},sre.DynamicCstr.getAxisValues=function(){return sre.DynamicCstr.Values_.getInstance().get()},sre.DynamicCstr.DEFAULT_ORDER=[sre.DynamicCstr.Axis.LOCALE,sre.DynamicCstr.Axis.MODALITY,sre.DynamicCstr.Axis.DOMAIN,sre.DynamicCstr.Axis.STYLE,sre.DynamicCstr.Axis.TOPIC],sre.DynamicCstr.DEFAULT_VALUE="default",sre.DynamicCstr.DEFAULT_VALUES={},sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE]="en",sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN]=sre.DynamicCstr.DEFAULT_VALUE,sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.STYLE]=sre.DynamicCstr.DEFAULT_VALUE,sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.TOPIC]=sre.DynamicCstr.DEFAULT_VALUE,sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY]="speech",sre.DynamicCstr.Parser=function(t){this.order_=t},sre.DynamicCstr.Parser.prototype.parse=function(t){t=t.split(".");var r={};if(t.length>this.order_.length)throw Error("Invalid dynamic constraint: "+r);for(var n=0,i;i=this.order_[n],t.length;n++){var l=t.shift();r[i]=l}return new sre.DynamicCstr(r,this.order_.slice(0,n))},sre.DynamicCstr.Comparator=function(){},sre.DynamicCstr.Comparator.prototype.getReference=function(){},sre.DynamicCstr.Comparator.prototype.setReference=function(t,r){},sre.DynamicCstr.Comparator.prototype.match=function(t){},sre.DynamicCstr.Comparator.prototype.compare=function(t,r){},sre.DynamicCstr.DefaultComparator=function(t,r){this.reference_=t,this.fallback_=r||new sre.DynamicProperties(t.getProperties(),t.getOrder()),this.order_=this.reference_.getOrder()},sre.DynamicCstr.DefaultComparator.prototype.getReference=function(){return this.reference_},sre.DynamicCstr.DefaultComparator.prototype.setReference=function(t,r){this.reference_=t,this.fallback_=r||new sre.DynamicProperties(t.getProperties(),t.getOrder()),this.order_=this.reference_.getOrder()},sre.DynamicCstr.DefaultComparator.prototype.match=function(t){var r=t.getAxes();return r.length===this.reference_.getAxes().length&&r.every(goog.bind(function(n){var i=t.getValue(n);return i===this.reference_.getValue(n)||this.fallback_.getProperty(n).indexOf(i)!==-1},this))},sre.DynamicCstr.DefaultComparator.prototype.compare=function(t,r){for(var n=!1,i=0,l;l=this.order_[i];i++){var s=t.getValue(l),o=r.getValue(l);if(!n){var u=this.reference_.getValue(l);if(u===s&&u!==o)return-1;if(u===o&&u!==s)return 1;if(u===s&&u===o)continue;u!==s&&u!==o&&(n=!0)}if(l=this.fallback_.getProperty(l),s=l.indexOf(s),o=l.indexOf(o),s<o)return-1;if(o<s)return 1}return 0},sre.DynamicCstr.DefaultComparator.prototype.toString=function(){return this.reference_.toString()+`
`+this.fallback_.toString()},sre.DynamicProperties.create=function(t){for(var r=sre.DynamicCstr.DEFAULT_ORDER,n={},i=Array.prototype.slice.call(arguments,0),l=0,s=i.length,o=r.length;l<s&&l<o;l++)n[r[l]]=i[l];return new sre.DynamicProperties(n)},sre.DynamicCstr.create=function(t){for(var r=sre.DynamicCstr.DEFAULT_ORDER,n={},i=Array.prototype.slice.call(arguments,0),l=0,s=i.length,o=r.length;l<s&&l<o;l++)n[r[l]]=i[l];return new sre.DynamicCstr(n)},sre.DynamicCstr.defaultCstr=function(){return sre.DynamicCstr.create.apply(null,sre.DynamicCstr.DEFAULT_ORDER.map(function(t){return sre.DynamicCstr.DEFAULT_VALUES[t]}))},sre.DynamicCstr.validOrder=function(t){var r=sre.DynamicCstr.DEFAULT_ORDER.slice();return t.every(function(n){return n=r.indexOf(n),n!==-1&&r.splice(n,1)})},sre.Engine=function(){this.evaluator=sre.Engine.defaultEvaluator,this.parser=this.defaultParser=new sre.DynamicCstr.Parser(sre.DynamicCstr.DEFAULT_ORDER),this.parsers={},this.dynamicCstr=sre.DynamicCstr.defaultCstr(),this.comparator=null,this.comparators={},this.domain=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN],this.style=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.STYLE],this.locale=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE],this.modality=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY],this.walker="Table",this.mode=sre.Engine.Mode.SYNC,this.speech=sre.Engine.Speech.NONE,this.structure=!1,this.ruleSets=[],this.cache=!0,this.markup=sre.Engine.Markup.NONE,this.isEdge=this.isIE=this.strict=!1,this.rate="100",this.pprint=!1,this.setupTests_=[],this.config=!1},goog.addSingletonGetter(sre.Engine),sre.Engine.personalityProps={PITCH:"pitch",RATE:"rate",VOLUME:"volume",PAUSE:"pause",JOIN:"join"},sre.Engine.Mode={SYNC:"sync",ASYNC:"async",HTTP:"http"},sre.Engine.Speech={NONE:"none",SHALLOW:"shallow",DEEP:"deep"},sre.Engine.Markup={NONE:"none",PUNCTUATION:"punctuation",SSML:"ssml",SSML_STEP:"ssml_step",ACSS:"acss",SABLE:"sable",VOICEXML:"voicexml"},sre.Engine.registerTest=function(t){sre.Engine.getInstance().setupTests_.push(t)},sre.Engine.isReady=function(){return sre.Engine.getInstance().setupTests_.every(function(t){return t()})},sre.Engine.prototype.setupBrowsers=function(){this.isIE=sre.BrowserUtil.detectIE(),this.isEdge=sre.BrowserUtil.detectEdge()},sre.Engine.prototype.getAxisValues=function(){return sre.DynamicCstr.getAxisValues()},sre.Engine.defaultEvaluator=function(t,r){return t},sre.Engine.prototype.getRate=function(){var t=parseInt(this.rate,10);return isNaN(t)?100:t},sre.Engine.Error=function(t){Error.call(this),this.message=t||"",this.name="SRE Error"},goog.inherits(sre.Engine.Error,Error),sre.Engine.BINARY_FEATURES=["strict","cache","structure","pprint"],sre.Engine.STRING_FEATURES="markup style domain speech walker locale modality rate".split(" "),sre.Engine.prototype.setDynamicCstr=function(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];sre.DynamicCstr.DEFAULT_ORDER.indexOf(i)!==-1&&(this[i]=t[i])}sre.Engine.DOMAIN_TO_STYLES[this.domain]=this.style,t=[this.locale,this.modality,this.domain,this.style].join("."),r=sre.DynamicProperties.create([sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.STYLE]]),n=this.comparators[this.domain],this.parser=(i=this.parsers[this.domain])?i:this.defaultParser,this.dynamicCstr=this.parser.parse(t),this.dynamicCstr.updateProperties(r.getProperties()),this.comparator=n?n():new sre.DynamicCstr.DefaultComparator(this.dynamicCstr)},sre.Engine.DOMAIN_TO_STYLES={mathspeak:"default",clearspeak:"default"},sre.BaseUtil={},sre.BaseUtil.removeEmpty=function(t){return t.filter(function(r){return r})},sre.BaseUtil.interleaveLists=function(t,r){for(var n=[];t.length||r.length;)t.length&&n.push(t.shift()),r.length&&n.push(r.shift());return n},sre.BaseUtil.setdifference=function(t,r){return t?r?t.filter(function(n){return 0>r.indexOf(n)}):t:[]},sre.BaseUtil.union=function(t,r){return t&&r?t.concat(sre.BaseUtil.setdifference(r,t)):t||r||[]},sre.BaseUtil.makePath=function(t){return t.match("/$")?t:t+"/"},sre.Debugger=function(){this.isActive_=!1,this.outputFunction_=console.info,this.stream_=null},goog.addSingletonGetter(sre.Debugger),sre.Debugger.prototype.init=function(t){t&&this.startDebugFile_(t),this.isActive_=!0},sre.Debugger.prototype.startDebugFile_=function(t){this.stream_=sre.SystemExternal.fs.createWriteStream(t),this.outputFunction_=goog.bind(function(r){var n=Array.prototype.slice.call(arguments,0);this.stream_.write(n.join(" ")),this.stream_.write(`
`)},this),this.stream_.on("error",goog.bind(function(r){console.info("Invalid log file. Debug information sent to console."),this.outputFunction_=console.info},this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})},sre.Debugger.prototype.output_=function(t){this.outputFunction_.apply(console.info===this.outputFunction_?console:this.outputFunction_,["Speech Rule Engine Debugger:"].concat(t))},sre.Debugger.prototype.output=function(t){this.isActive_&&this.output_(Array.prototype.slice.call(arguments,0))},sre.Debugger.prototype.generateOutput=function(t){this.isActive_&&this.output_(t.apply(t,[]))},sre.Debugger.prototype.exit=function(t){this.isActive_&&this.stream_&&this.stream_.end("","",t||function(){})},sre.Grammar=function(){this.parameters_={},this.corrections_={},this.preprocessors_={},this.stateStack_=[],this.currentFlags={}},goog.addSingletonGetter(sre.Grammar),sre.Grammar.ATTRIBUTE="grammar",sre.Grammar.prototype.clear=function(){this.parameters_={},this.stateStack_=[]},sre.Grammar.prototype.setParameter=function(t,r){var n=this.parameters_[t];return r?this.parameters_[t]=r:delete this.parameters_[t],n},sre.Grammar.prototype.getParameter=function(t){return this.parameters_[t]},sre.Grammar.prototype.setCorrection=function(t,r){this.corrections_[t]=r},sre.Grammar.prototype.setPreprocessor=function(t,r){this.preprocessors_[t]=r},sre.Grammar.prototype.getCorrection=function(t){return this.corrections_[t]},sre.Grammar.prototype.getState=function(){var t=[],r;for(r in this.parameters_){var n=this.parameters_[r];t.push(typeof n=="string"?r+":"+n:r)}return t.join(" ")},sre.Grammar.prototype.pushState=function(t){for(var r in t)t[r]=this.setParameter(r,t[r]);this.stateStack_.push(t)},sre.Grammar.prototype.popState=function(){var t=this.stateStack_.pop(),r;for(r in t)this.setParameter(r,t[r])},sre.Grammar.prototype.setAttribute=function(t){if(t&&t.nodeType===sre.DomUtil.NodeType.ELEMENT_NODE){var r=this.getState();r&&t.setAttribute(sre.Grammar.ATTRIBUTE,r)}},sre.Grammar.prototype.preprocess=function(t){return this.runProcessors_(t,this.preprocessors_)},sre.Grammar.prototype.correct=function(t){return this.runProcessors_(t,this.corrections_)},sre.Grammar.prototype.runProcessors_=function(t,r){for(var n in this.parameters_){var i=r[n];if(i){var l=this.parameters_[n];t=l===!0?i(t):i(t,l)}}return t},sre.Grammar.translateString_=function(t){t=sre.Grammar.prepareUnit_(t);var r=sre.Engine.getInstance();return t=r.evaluator(t,r.dynamicCstr)||t,sre.Grammar.cleanUnit_(t)},sre.Grammar.prepareUnit_=function(t){var r=t.match(/:unit$/);return r?t.slice(0,r.index).replace(/\s+/g," ")+t.slice(r.index):t},sre.Grammar.cleanUnit_=function(t){return t.match(/:unit$/)?(sre.Grammar.getInstance().setParameter("plural",!1),t.replace(/:unit$/,"")):t},sre.Grammar.prototype.apply=function(t,r){return this.currentFlags=r||{},t=this.currentFlags.adjust||this.currentFlags.preprocess?sre.Grammar.getInstance().preprocess(t):t,(this.parameters_.translate||this.currentFlags.translate)&&(t=sre.Grammar.translateString_(t)),t=this.currentFlags.adjust||this.currentFlags.correct?sre.Grammar.getInstance().correct(t):t,this.currentFlags={},t},sre.Grammar.parseState=function(t){var r={};t=t.split(" ");for(var n=0,i=t.length;n<i;n++){var l=t[n].split(":"),s=l[1];r[l[0]]=s||!0}return r},sre.Grammar.parseInput=function(t){var r={};t=t.split(":");for(var n=0,i=t.length;n<i;n++){var l=t[n].split("="),s=l[0].trim();l[1]?r[s]=l[1].trim():s.match(/^!/)?r[s.slice(1)]=!1:r[s]=!0}return r},sre.Grammar.correctFont_=function(t,r){return!r||!t?t:(r=sre.Messages.MS_FUNC.FONT_REGEXP(sre.Locale.localFont(r)),t.replace(r,""))},sre.Grammar.addAnnotation_=function(t,r){return t+":"+r},sre.Grammar.noTranslateText_=function(t){return t.match(new RegExp("^["+sre.Messages.REGEXP.TEXT+"]+$"))&&(sre.Grammar.getInstance().currentFlags.translate=!1),t},sre.Grammar.getInstance().setCorrection("ignoreFont",sre.Grammar.correctFont_),sre.Grammar.getInstance().setPreprocessor("annotation",sre.Grammar.addAnnotation_),sre.Grammar.getInstance().setPreprocessor("noTranslateText",sre.Grammar.noTranslateText_),sre.Grammar.getInstance().setCorrection("ignoreCaps",sre.Grammar.correctFont_),sre.XpathUtil={},sre.XpathUtil.xpathSupported=function(){return typeof XPathResult!="undefined"},sre.XpathUtil.currentDocument=null,sre.XpathUtil.xpathEvaluate=sre.XpathUtil.xpathSupported()?document.evaluate:sre.SystemExternal.xpath.evaluate,sre.XpathUtil.xpathResult=sre.XpathUtil.xpathSupported()?XPathResult:sre.SystemExternal.xpath.XPathResult,sre.XpathUtil.createNSResolver=sre.XpathUtil.xpathSupported()?document.createNSResolver:sre.SystemExternal.xpath.createNSResolver,sre.XpathUtil.nameSpaces_={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},sre.XpathUtil.resolveNameSpace=function(t){return sre.XpathUtil.nameSpaces_[t]||null},sre.XpathUtil.resolver_=function(){this.lookupNamespaceURI=sre.XpathUtil.resolveNameSpace},sre.XpathUtil.evaluateXpath_=function(t,r,n){var i=sre.Engine.getInstance();return i.mode!==sre.Engine.Mode.HTTP||i.isIE||i.isEdge?sre.XpathUtil.xpathEvaluate(t,r,new sre.XpathUtil.resolver_,n,null):sre.XpathUtil.currentDocument.evaluate(t,r,sre.XpathUtil.resolveNameSpace,n,null)},sre.XpathUtil.evalXPath=function(t,r){try{var n=sre.XpathUtil.evaluateXpath_(t,r,sre.XpathUtil.xpathResult.ORDERED_NODE_ITERATOR_TYPE)}catch(i){return[]}for(t=[],r=n.iterateNext();r;r=n.iterateNext())t.push(r);return t},sre.XpathUtil.getLeafNodes=function(t){return sre.XpathUtil.evalXPath(".//*[count(*)=0]",t)},sre.XpathUtil.evaluateBoolean=function(t,r){try{var n=sre.XpathUtil.evaluateXpath_(t,r,sre.XpathUtil.xpathResult.BOOLEAN_TYPE)}catch(i){return!1}return n.booleanValue},sre.XpathUtil.evaluateString=function(t,r){try{var n=sre.XpathUtil.evaluateXpath_(t,r,sre.XpathUtil.xpathResult.STRING_TYPE)}catch(i){return""}return n.stringValue},sre.DomUtil={},sre.DomUtil.toArray=function(t){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n]);return r},sre.DomUtil.trimInput_=function(t){return t=t.replace(/&nbsp;/g,"\xA0"),t.replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()},sre.DomUtil.XML_ENTITIES={"&lt;":!0,"&gt;":!0,"&amp;":!0,"&quot;":!0,"&apos;":!0},sre.DomUtil.parseInput=function(t,r){r=r||sre.Engine.Error;var n=new sre.SystemExternal.xmldom.DOMParser;t=sre.DomUtil.trimInput_(t);var i=!!t.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!t)throw new r("Empty input!");try{var l=n.parseFromString(t,i?"text/html":"text/xml");return sre.Engine.getInstance().mode===sre.Engine.Mode.HTTP?(sre.XpathUtil.currentDocument=l,i?l.body.childNodes[0]:l.documentElement):l.documentElement}catch(s){throw new r("Illegal input: "+s.message)}},sre.DomUtil.NodeType={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},sre.DomUtil.replaceNode=function(t,r){t.parentNode&&(t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t))},sre.DomUtil.createElement=function(t){return sre.SystemExternal.document.createElement(t)},sre.DomUtil.createElementNS=function(t,r){return sre.SystemExternal.document.createElementNS(t,r)},sre.DomUtil.createTextNode=function(t){return sre.SystemExternal.document.createTextNode(t)},sre.DomUtil.formatXml=function(t){var r="",n=/(>)(<)(\/*)/g;t=t.replace(n,`$1\r
$2$3`);var i=0;for(t=t.split(`\r
`),n=/(\.)*(<)(\/*)/g,t=t.map(function(u){return u.replace(n,`$1\r
$2$3`).split(`\r
`)}).reduce(function(u,p){return u.concat(p)},[]);t.length;){var l=t.shift();if(l){var s=0;if(l.match(/^<\w[^>\/]*>[^>]+$/)){var o=sre.DomUtil.matchingStartEnd_(l,t[0]);o[0]?o[1]?(l+=t.shift().slice(0,-o[1].length),o[1].trim()&&t.unshift(o[1])):l+=t.shift():s=1}else l.match(/^<\/\w/)?i!=0&&--i:l.match(/^<\w[^>]*[^\/]>.*$/)?s=1:l.match(/^<\w[^>]*\/>.+$/)?(o=l.indexOf(">")+1,l.slice(o).trim()&&t.unshift(),l=l.slice(0,o)):s=0;r+=Array(i+1).join("  ")+l+`\r
`,i+=s}}return r},sre.DomUtil.matchingStartEnd_=function(t,r){return r?(t=t.match(/^<([^> ]+).*>/),r=r.match(/^<\/([^>]+)>(.*)/),t&&r&&t[1]===r[1]?[!0,r[2]]:[!1,""]):[!1,""]},sre.DomUtil.dataAttribute=function(t){return t.match(/^data-/)&&(t=t.substr(5)),t.replace(/-([a-z])/g,function(r,n){return n.toUpperCase()})},sre.DomUtil.getDataAttribute=function(t,r){return t.dataset?t.dataset[sre.DomUtil.dataAttribute(r)]:t.getAttribute(r)},sre.DomUtil.querySelectorAllByAttr=function(t,r){return t.querySelectorAll?sre.DomUtil.toArray(t.querySelectorAll("["+r+"]")):sre.XpathUtil.evalXPath(".//*[@"+r+"]",t)},sre.DomUtil.querySelectorAllByAttrValue=function(t,r,n){return t.querySelectorAll?sre.DomUtil.toArray(t.querySelectorAll("["+r+'="'+n+'"]')):sre.XpathUtil.evalXPath(".//*[@"+r+'="'+n+'"]',t)},sre.DomUtil.querySelectorAll=function(t,r){return t.querySelectorAll?sre.DomUtil.toArray(t.querySelectorAll(r)):sre.XpathUtil.evalXPath(".//"+r,t)},sre.DomUtil.tagName=function(t){return t.tagName.toUpperCase()},sre.Numbers={},sre.Numbers.identityTransformer_=function(t){return t.toString()},sre.Numbers.pluralTransformer_=function(t,r){return t.toString()},sre.Numbers.NUMBERS={wordOrdinal:sre.Numbers.identityTransformer_,simpleOrdinal:sre.Numbers.identityTransformer_,numberToWords:sre.Numbers.identityTransformer_,numberToOrdinal:sre.Numbers.pluralTransformer_,vulgarSep:" ",numSep:" "},sre.Messages={},sre.Messages.MS={START:"",FRAC_V:"",FRAC_B:"",FRAC_S:"",END:"",FRAC_OVER:"",TWICE:"",NEST_FRAC:"",ENDFRAC:"",SUPER:"",SUB:"",SUP:"",SUPERSCRIPT:"",SUBSCRIPT:"",BASELINE:"",BASE:"",NESTED:"",NEST_ROOT:"",STARTROOT:"",ENDROOT:"",ROOTINDEX:"",ROOT:"",INDEX:"",UNDER:"",UNDERSCRIPT:"",OVER:"",OVERSCRIPT:""},sre.Messages.MS_FUNC={FRAC_NEST_DEPTH:function(t){return!1},RADICAL_NEST_DEPTH:function(t){return""},COMBINE_ROOT_INDEX:function(t,r){return t}},sre.Messages.MS_ROOT_INDEX={},sre.Messages.FONT={bold:"","bold-fraktur":"","bold-italic":"","bold-script":"",caligraphic:"","caligraphic-bold":"","double-struck":"","double-struck-italic":"",fraktur:"",italic:"",monospace:"",normal:"",oldstyle:"","oldstyle-bold":"",script:"","sans-serif":"","sans-serif-italic":"","sans-serif-bold":"","sans-serif-bold-italic":"",unknown:""},sre.Messages.EMBELLISH={super:"",sub:"",circled:"",parenthesized:"",period:"","negative-circled":"","double-circled":"","circled-sans-serif":"","negative-circled-sans-serif":"",blackboard:"",comma:"",squared:"","negative-squared":""},sre.Messages.ROLE={addition:"",multiplication:"",subtraction:"",division:"",equality:"",inequality:"",element:"",arrow:"",determinant:"",rowvector:"",binomial:"",squarematrix:"","set empty":"","set extended":"","set singleton":"","set collection":"",label:"",multiline:"",matrix:"",vector:"",cases:"",table:"",unknown:""},sre.Messages.ENCLOSE={longdiv:"",actuarial:"",radical:"",box:"",roundedbox:"",circle:"",left:"",right:"",top:"",bottom:"",updiagonalstrike:"",downdiagonalstrike:"",verticalstrike:"",horizontalstrike:"",madruwb:"",updiagonalarrow:"",phasorangle:"",unknown:""},sre.Messages.NAVIGATE={COLLAPSIBLE:"",EXPANDABLE:"",LEVEL:""},sre.Messages.REGEXP={TEXT:"a-zA-Z",NUMBER:"",DECIMAL_MARK:"",DIGIT_GROUP:"",JOINER_SUBSUPER:" "},sre.Messages.PLURAL_UNIT={},sre.Messages.PLURAL=function(t){return/.*s$/.test(t)?t:t+"s"},sre.Messages.UNIT_TIMES="",sre.Messages.NUMBERS=sre.Numbers.NUMBERS,sre.Messages.ALPHABETS={latinSmall:[],latinCap:[],greekSmall:[],greekCap:[]},sre.Messages.ALPHABET_PREFIXES={capPrefix:{default:""},smallPrefix:{default:""},digitPrefix:{default:""}},sre.Messages.identityTransformer_=function(t){return t.toString()},sre.Messages.ALPHABET_TRANSFORMERS={digit:{default:sre.Messages.identityTransformer_},letter:{default:sre.Messages.identityTransformer_}},sre.Messages.ALPHABET_COMBINER=function(t,r,n){return t},sre.NumbersUtil={},sre.NumbersUtil.ordinalCounter=function(t,r){var n=0;return function(){return sre.Messages.NUMBERS.simpleOrdinal(++n)+" "+r}},sre.NumbersUtil.convertVulgarFraction_=function(t){if(!t.childNodes||!t.childNodes[0]||!t.childNodes[0].childNodes||2>t.childNodes[0].childNodes.length||t.childNodes[0].childNodes[0].tagName!==sre.SemanticAttr.Type.NUMBER||t.childNodes[0].childNodes[0].getAttribute("role")!==sre.SemanticAttr.Role.INTEGER||t.childNodes[0].childNodes[1].tagName!==sre.SemanticAttr.Type.NUMBER||t.childNodes[0].childNodes[1].getAttribute("role")!==sre.SemanticAttr.Role.INTEGER)return{convertible:!1,content:t.textContent};var r=t.childNodes[0].childNodes[1].textContent;t=t.childNodes[0].childNodes[0].textContent;var n=Number(r),i=Number(t);return isNaN(n)||isNaN(i)?{convertible:!1,content:t+" "+sre.Messages.MS.FRAC_OVER+" "+r}:{convertible:!0,enumerator:i,denominator:n}},sre.NumbersUtil.vulgarFraction=function(t){return t=sre.NumbersUtil.convertVulgarFraction_(t),t.convertible&&t.enumerator&&t.denominator?sre.Messages.NUMBERS.numberToWords(t.enumerator)+sre.Messages.NUMBERS.vulgarSep+sre.Messages.NUMBERS.numberToOrdinal(t.denominator,t.enumerator!==1):t.content||""},sre.NumbersUtil.vulgarFractionSmall=function(t,r,n){var i=sre.NumbersUtil.convertVulgarFraction_(t);return i.convertible?(t=i.enumerator,i=i.denominator,0<t&&t<r&&0<i&&i<n):!1},sre.NumbersUtil.ordinalPosition=function(t){var r=sre.DomUtil.toArray(t.parentNode.childNodes);return sre.Messages.NUMBERS.simpleOrdinal(r.indexOf(t)+1).toString()},sre.SemanticUtil=function(){},sre.SemanticUtil.objectsToKeys=function(t){t=Array.prototype.slice.call(arguments,0);var r=[];return r.concat.apply(r,t.map(Object.keys))},sre.SemanticUtil.objectsToValues=function(t){t=Array.prototype.slice.call(arguments,0);var r=[];return t.forEach(function(n){for(var i in n)r.push(n[i])}),r},sre.SemanticUtil.unicodeToNumber=function(t){if(!t||2<t.length)return null;if(t.length==2){var r=t.charCodeAt(0);return t=t.charCodeAt(1),55296<=r&&56319>=r&&!isNaN(t)?1024*(r-55296)+(t-56320)+65536:null}return t.charCodeAt(0)},sre.SemanticUtil.numberToUnicode=function(t){return 65536>t?String.fromCharCode(t):String.fromCharCode((t-65536)/1024+55296,(t-65536)%1024+56320)},sre.SemanticUtil.splitUnicode=function(t){t=t.split("");for(var r=[],n=0,i;i=t[n];n++)"\uD800"<=i&&"\uDBFF">=i&&t[n+1]?r.push(i+t[++n]):r.push(i);return r},sre.SemanticUtil.LEAFTAGS=["MO","MI","MN","MTEXT","MS"],sre.SemanticUtil.IGNORETAGS="MERROR MPHANTOM MSPACE MALIGNGROUP MALIGNMARK MPRESCRIPTS ANNOTATION ANNOTATION-XML".split(" "),sre.SemanticUtil.EMPTYTAGS="MATH MROW MPADDED MACTION NONE MSTYLE SEMANTICS".split(" "),sre.SemanticUtil.hasMathTag=function(t){return!!t&&sre.DomUtil.tagName(t)==="MATH"},sre.SemanticUtil.hasIgnoreTag=function(t){return!!t&&sre.SemanticUtil.IGNORETAGS.indexOf(sre.DomUtil.tagName(t))!==-1},sre.SemanticUtil.hasEmptyTag=function(t){return!!t&&sre.SemanticUtil.EMPTYTAGS.indexOf(sre.DomUtil.tagName(t))!==-1},sre.SemanticUtil.purgeNodes=function(t){for(var r=[],n=0,i;i=t[n];n++){var l=sre.DomUtil.tagName(i);sre.SemanticUtil.IGNORETAGS.indexOf(l)!=-1||sre.SemanticUtil.EMPTYTAGS.indexOf(l)!=-1&&i.childNodes.length==0||r.push(i)}return r},sre.SemanticUtil.isZeroLength=function(t){return t?"negativeveryverythinmathspace negativeverythinmathspace negativethinmathspace negativemediummathspace negativethickmathspace negativeverythickmathspace negativeveryverythickmathspace".split(" ").indexOf(t)!==-1?!0:(t=t.match(/[0-9\.]+/))?parseFloat(t)===0:!1:!1},sre.SemanticAttr=function(){this.generalPunctuations='!"#%&:;?@\\\xA1\xA7\xB6\xBF\u2017\u2020\u2021\u2022\u2023\u2024\u2025\u2027\u2030\u2031\u2038\u203B\u203C\u203D\u203E\u2041\u2042\u2043\u2047\u2048\u2049\u204B\u204C\u204D\u204E\u204F\u2050\u2051\u2053\u2055\u2056\u2058\u2059\u205A\u205B\u205C\u205D\u205E\uFE10\uFE13\uFE14\uFE15\uFE16\uFE30\uFE45\uFE46\uFE49\uFE4A\uFE4B\uFE4C\uFE50\uFE54\uFE55\uFE56\uFE57\uFE5F\uFE60\uFE61\uFE68\uFE6A\uFE6B\uFF01\uFF02\uFF03\uFF05\uFF06\uFF07\uFF0A\uFF0C\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3C'.split(""),this.colons=[":","\uFF1A","\uFE55"],this.invisibleComma_=sre.SemanticUtil.numberToUnicode(8291),this.commas=[",",this.invisibleComma_],this.ellipses="\u2026\u22EE\u22EF\u22F0\u22F1\uFE19".split(""),this.fullStops=[".","\uFE52","\uFF0E"],this.dashes="\u2012\u2013\u2014\u2015\u301C\uFE31\uFE32\uFE58".split(""),this.primes="'\u2032\u2033\u2034\u2035\u2036\u2037\u2057".split(""),this.degrees=["\xB0"],this.openClosePairs={"(":")","[":"]","{":"}","\u2045":"\u2046","\u2329":"\u232A","\u2768":"\u2769","\u276A":"\u276B","\u276C":"\u276D","\u276E":"\u276F","\u2770":"\u2771","\u2772":"\u2773","\u2774":"\u2775","\u27C5":"\u27C6","\u27E6":"\u27E7","\u27E8":"\u27E9","\u27EA":"\u27EB","\u27EC":"\u27ED","\u27EE":"\u27EF","\u2983":"\u2984","\u2985":"\u2986","\u2987":"\u2988","\u2989":"\u298A","\u298B":"\u298C","\u298D":"\u298E","\u298F":"\u2990","\u2991":"\u2992","\u2993":"\u2994","\u2995":"\u2996","\u2997":"\u2998","\u29D8":"\u29D9","\u29DA":"\u29DB","\u29FC":"\u29FD","\u2E22":"\u2E23","\u2E24":"\u2E25","\u2E26":"\u2E27","\u2E28":"\u2E29","\u3008":"\u3009","\u300A":"\u300B","\u300C":"\u300D","\u300E":"\u300F","\u3010":"\u3011","\u3014":"\u3015","\u3016":"\u3017","\u3018":"\u3019","\u301A":"\u301B","\u301D":"\u301E","\uFD3E":"\uFD3F","\uFE17":"\uFE18","\uFE59":"\uFE5A","\uFE5B":"\uFE5C","\uFE5D":"\uFE5E","\uFF08":"\uFF09","\uFF3B":"\uFF3D","\uFF5B":"\uFF5D","\uFF5F":"\uFF60","\uFF62":"\uFF63","\u2308":"\u2309","\u230A":"\u230B","\u230C":"\u230D","\u230E":"\u230F","\u231C":"\u231D","\u231E":"\u231F","\u239B":"\u239E","\u239C":"\u239F","\u239D":"\u23A0","\u23A1":"\u23A4","\u23A2":"\u23A5","\u23A3":"\u23A6","\u23A7":"\u23AB","\u23A8":"\u23AC","\u23A9":"\u23AD","\u23B0":"\u23B1","\u23B8":"\u23B9"},this.topBottomPairs={"\u23B4":"\u23B5","\u23DC":"\u23DD","\u23DE":"\u23DF","\u23E0":"\u23E1","\uFE35":"\uFE36","\uFE37":"\uFE38","\uFE39":"\uFE3A","\uFE3B":"\uFE3C","\uFE3D":"\uFE3E","\uFE3F":"\uFE40","\uFE41":"\uFE42","\uFE43":"\uFE44","\uFE47":"\uFE48"},this.leftFences=sre.SemanticUtil.objectsToKeys(this.openClosePairs),this.rightFences=sre.SemanticUtil.objectsToValues(this.openClosePairs),this.rightFences.push("\u301F"),this.topFences=sre.SemanticUtil.objectsToKeys(this.topBottomPairs),this.bottomFences=sre.SemanticUtil.objectsToValues(this.topBottomPairs),this.neutralFences="|\xA6\u2016\u2758\u2980\u2AF4\uFFE4\uFF5C".split(""),this.allFences=this.neutralFences.concat(this.leftFences,this.rightFences,this.topFences,this.bottomFences),this.capitalLatin="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),this.smallLatin="abcdefghijklmnopqrstuvwxyz\u0131\u0237".split(""),this.capitalLatinFullWidth="\uFF21\uFF22\uFF23\uFF24\uFF25\uFF26\uFF27\uFF28\uFF29\uFF2A\uFF2B\uFF2C\uFF2D\uFF2E\uFF2F\uFF30\uFF31\uFF32\uFF33\uFF34\uFF35\uFF36\uFF37\uFF38\uFF39\uFF3A".split(""),this.smallLatinFullWidth="\uFF41\uFF42\uFF43\uFF44\uFF45\uFF46\uFF47\uFF48\uFF49\uFF4A\uFF4B\uFF4C\uFF4D\uFF4E\uFF4F\uFF50\uFF51\uFF52\uFF53\uFF54\uFF55\uFF56\uFF57\uFF58\uFF59\uFF5A".split(""),this.capitalLatinBold="\u{1D400} \u{1D401} \u{1D402} \u{1D403} \u{1D404} \u{1D405} \u{1D406} \u{1D407} \u{1D408} \u{1D409} \u{1D40A} \u{1D40B} \u{1D40C} \u{1D40D} \u{1D40E} \u{1D40F} \u{1D410} \u{1D411} \u{1D412} \u{1D413} \u{1D414} \u{1D415} \u{1D416} \u{1D417} \u{1D418} \u{1D419}".split(" "),this.smallLatinBold="\u{1D41A} \u{1D41B} \u{1D41C} \u{1D41D} \u{1D41E} \u{1D41F} \u{1D420} \u{1D421} \u{1D422} \u{1D423} \u{1D424} \u{1D425} \u{1D426} \u{1D427} \u{1D428} \u{1D429} \u{1D42A} \u{1D42B} \u{1D42C} \u{1D42D} \u{1D42E} \u{1D42F} \u{1D430} \u{1D431} \u{1D432} \u{1D433}".split(" "),this.capitalLatinItalic="\u{1D434} \u{1D435} \u{1D436} \u{1D437} \u{1D438} \u{1D439} \u{1D43A} \u{1D43B} \u{1D43C} \u{1D43D} \u{1D43E} \u{1D43F} \u{1D440} \u{1D441} \u{1D442} \u{1D443} \u{1D444} \u{1D445} \u{1D446} \u{1D447} \u{1D448} \u{1D449} \u{1D44A} \u{1D44B} \u{1D44C} \u{1D44D}".split(" "),this.smallLatinItalic="\u{1D44E} \u{1D44F} \u{1D450} \u{1D451} \u{1D452} \u{1D453} \u{1D454} \u210E \u{1D456} \u{1D457} \u{1D458} \u{1D459} \u{1D45A} \u{1D45B} \u{1D45C} \u{1D45D} \u{1D45E} \u{1D45F} \u{1D460} \u{1D461} \u{1D462} \u{1D463} \u{1D464} \u{1D465} \u{1D466} \u{1D467} \u{1D6A4} \u{1D6A5}".split(" "),this.capitalLatinBoldItalic="\u{1D468} \u{1D469} \u{1D46A} \u{1D46B} \u{1D46C} \u{1D46D} \u{1D46E} \u{1D46F} \u{1D470} \u{1D471} \u{1D472} \u{1D473} \u{1D474} \u{1D475} \u{1D476} \u{1D477} \u{1D478} \u{1D479} \u{1D47A} \u{1D47B} \u{1D47C} \u{1D47D} \u{1D47E} \u{1D47F} \u{1D480} \u{1D481}".split(" "),this.smallLatinBoldItalic="\u{1D482} \u{1D483} \u{1D484} \u{1D485} \u{1D486} \u{1D487} \u{1D488} \u{1D489} \u{1D48A} \u{1D48B} \u{1D48C} \u{1D48D} \u{1D48E} \u{1D48F} \u{1D490} \u{1D491} \u{1D492} \u{1D493} \u{1D494} \u{1D495} \u{1D496} \u{1D497} \u{1D498} \u{1D499} \u{1D49A} \u{1D49B}".split(" "),this.capitalLatinScript="\u{1D49C} \u212C \u{1D49E} \u{1D49F} \u2130 \u2131 \u{1D4A2} \u210B \u2110 \u{1D4A5} \u{1D4A6} \u2112 \u2133 \u{1D4A9} \u{1D4AA} \u{1D4AB} \u{1D4AC} \u211B \u{1D4AE} \u{1D4AF} \u{1D4B0} \u{1D4B1} \u{1D4B2} \u{1D4B3} \u{1D4B4} \u{1D4B5} \u2118".split(" "),this.smallLatinScript="\u{1D4B6} \u{1D4B7} \u{1D4B8} \u{1D4B9} \u212F \u{1D4BB} \u210A \u{1D4BD} \u{1D4BE} \u{1D4BF} \u{1D4C0} \u{1D4C1} \u{1D4C2} \u{1D4C3} \u2134 \u{1D4C5} \u{1D4C6} \u{1D4C7} \u{1D4C8} \u{1D4C9} \u{1D4CA} \u{1D4CB} \u{1D4CC} \u{1D4CD} \u{1D4CE} \u{1D4CF} \u2113".split(" "),this.capitalLatinBoldScript="\u{1D4D0} \u{1D4D1} \u{1D4D2} \u{1D4D3} \u{1D4D4} \u{1D4D5} \u{1D4D6} \u{1D4D7} \u{1D4D8} \u{1D4D9} \u{1D4DA} \u{1D4DB} \u{1D4DC} \u{1D4DD} \u{1D4DE} \u{1D4DF} \u{1D4E0} \u{1D4E1} \u{1D4E2} \u{1D4E3} \u{1D4E4} \u{1D4E5} \u{1D4E6} \u{1D4E7} \u{1D4E8} \u{1D4E9}".split(" "),this.smallLatinBoldScript="\u{1D4EA} \u{1D4EB} \u{1D4EC} \u{1D4ED} \u{1D4EE} \u{1D4EF} \u{1D4F0} \u{1D4F1} \u{1D4F2} \u{1D4F3} \u{1D4F4} \u{1D4F5} \u{1D4F6} \u{1D4F7} \u{1D4F8} \u{1D4F9} \u{1D4FA} \u{1D4FB} \u{1D4FC} \u{1D4FD} \u{1D4FE} \u{1D4FF} \u{1D500} \u{1D501} \u{1D502} \u{1D503}".split(" "),this.capitalLatinFraktur="\u{1D504} \u{1D505} \u212D \u{1D507} \u{1D508} \u{1D509} \u{1D50A} \u210C \u2111 \u{1D50D} \u{1D50E} \u{1D50F} \u{1D510} \u{1D511} \u{1D512} \u{1D513} \u{1D514} \u211C \u{1D516} \u{1D517} \u{1D518} \u{1D519} \u{1D51A} \u{1D51B} \u{1D51C} \u2128".split(" "),this.smallLatinFraktur="\u{1D51E} \u{1D51F} \u{1D520} \u{1D521} \u{1D522} \u{1D523} \u{1D524} \u{1D525} \u{1D526} \u{1D527} \u{1D528} \u{1D529} \u{1D52A} \u{1D52B} \u{1D52C} \u{1D52D} \u{1D52E} \u{1D52F} \u{1D530} \u{1D531} \u{1D532} \u{1D533} \u{1D534} \u{1D535} \u{1D536} \u{1D537}".split(" "),this.capitalLatinDoubleStruck="\u{1D538} \u{1D539} \u2102 \u{1D53B} \u{1D53C} \u{1D53D} \u{1D53E} \u210D \u{1D540} \u{1D541} \u{1D542} \u{1D543} \u{1D544} \u2115 \u{1D546} \u2119 \u211A \u211D \u{1D54A} \u{1D54B} \u{1D54C} \u{1D54D} \u{1D54E} \u{1D54F} \u{1D550} \u2124".split(" "),this.smallLatinDoubleStruck="\u{1D552} \u{1D553} \u{1D554} \u{1D555} \u{1D556} \u{1D557} \u{1D558} \u{1D559} \u{1D55A} \u{1D55B} \u{1D55C} \u{1D55D} \u{1D55E} \u{1D55F} \u{1D560} \u{1D561} \u{1D562} \u{1D563} \u{1D564} \u{1D565} \u{1D566} \u{1D567} \u{1D568} \u{1D569} \u{1D56A} \u{1D56B}".split(" "),this.capitalLatinBoldFraktur="\u{1D56C} \u{1D56D} \u{1D56E} \u{1D56F} \u{1D570} \u{1D571} \u{1D572} \u{1D573} \u{1D574} \u{1D575} \u{1D576} \u{1D577} \u{1D578} \u{1D579} \u{1D57A} \u{1D57B} \u{1D57C} \u{1D57D} \u{1D57E} \u{1D57F} \u{1D580} \u{1D581} \u{1D582} \u{1D583} \u{1D584} \u{1D585}".split(" "),this.smallLatinBoldFraktur="\u{1D586} \u{1D587} \u{1D588} \u{1D589} \u{1D58A} \u{1D58B} \u{1D58C} \u{1D58D} \u{1D58E} \u{1D58F} \u{1D590} \u{1D591} \u{1D592} \u{1D593} \u{1D594} \u{1D595} \u{1D596} \u{1D597} \u{1D598} \u{1D599} \u{1D59A} \u{1D59B} \u{1D59C} \u{1D59D} \u{1D59E} \u{1D59F}".split(" "),this.capitalLatinSansSerif="\u{1D5A0} \u{1D5A1} \u{1D5A2} \u{1D5A3} \u{1D5A4} \u{1D5A5} \u{1D5A6} \u{1D5A7} \u{1D5A8} \u{1D5A9} \u{1D5AA} \u{1D5AB} \u{1D5AC} \u{1D5AD} \u{1D5AE} \u{1D5AF} \u{1D5B0} \u{1D5B1} \u{1D5B2} \u{1D5B3} \u{1D5B4} \u{1D5B5} \u{1D5B6} \u{1D5B7} \u{1D5B8} \u{1D5B9}".split(" "),this.smallLatinSansSerif="\u{1D5BA} \u{1D5BB} \u{1D5BC} \u{1D5BD} \u{1D5BE} \u{1D5BF} \u{1D5C0} \u{1D5C1} \u{1D5C2} \u{1D5C3} \u{1D5C4} \u{1D5C5} \u{1D5C6} \u{1D5C7} \u{1D5C8} \u{1D5C9} \u{1D5CA} \u{1D5CB} \u{1D5CC} \u{1D5CD} \u{1D5CE} \u{1D5CF} \u{1D5D0} \u{1D5D1} \u{1D5D2} \u{1D5D3}".split(" "),this.capitalLatinSansSerifBold="\u{1D5D4} \u{1D5D5} \u{1D5D6} \u{1D5D7} \u{1D5D8} \u{1D5D9} \u{1D5DA} \u{1D5DB} \u{1D5DC} \u{1D5DD} \u{1D5DE} \u{1D5DF} \u{1D5E0} \u{1D5E1} \u{1D5E2} \u{1D5E3} \u{1D5E4} \u{1D5E5} \u{1D5E6} \u{1D5E7} \u{1D5E8} \u{1D5E9} \u{1D5EA} \u{1D5EB} \u{1D5EC} \u{1D5ED}".split(" "),this.smallLatinSansSerifBold="\u{1D5EE} \u{1D5EF} \u{1D5F0} \u{1D5F1} \u{1D5F2} \u{1D5F3} \u{1D5F4} \u{1D5F5} \u{1D5F6} \u{1D5F7} \u{1D5F8} \u{1D5F9} \u{1D5FA} \u{1D5FB} \u{1D5FC} \u{1D5FD} \u{1D5FE} \u{1D5FF} \u{1D600} \u{1D601} \u{1D602} \u{1D603} \u{1D604} \u{1D605} \u{1D606} \u{1D607}".split(" "),this.capitalLatinSansSerifItalic="\u{1D608} \u{1D609} \u{1D60A} \u{1D60B} \u{1D60C} \u{1D60D} \u{1D60E} \u{1D60F} \u{1D610} \u{1D611} \u{1D612} \u{1D613} \u{1D614} \u{1D615} \u{1D616} \u{1D617} \u{1D618} \u{1D619} \u{1D61A} \u{1D61B} \u{1D61C} \u{1D61D} \u{1D61E} \u{1D61F} \u{1D620} \u{1D621}".split(" "),this.smallLatinSansSerifItalic="\u{1D622} \u{1D623} \u{1D624} \u{1D625} \u{1D626} \u{1D627} \u{1D628} \u{1D629} \u{1D62A} \u{1D62B} \u{1D62C} \u{1D62D} \u{1D62E} \u{1D62F} \u{1D630} \u{1D631} \u{1D632} \u{1D633} \u{1D634} \u{1D635} \u{1D636} \u{1D637} \u{1D638} \u{1D639} \u{1D63A} \u{1D63B}".split(" "),this.capitalLatinSansSerifBoldItalic="\u{1D63C} \u{1D63D} \u{1D63E} \u{1D63F} \u{1D640} \u{1D641} \u{1D642} \u{1D643} \u{1D644} \u{1D645} \u{1D646} \u{1D647} \u{1D648} \u{1D649} \u{1D64A} \u{1D64B} \u{1D64C} \u{1D64D} \u{1D64E} \u{1D64F} \u{1D650} \u{1D651} \u{1D652} \u{1D653} \u{1D654} \u{1D655}".split(" "),this.smallLatinSansSerifBoldItalic="\u{1D656} \u{1D657} \u{1D658} \u{1D659} \u{1D65A} \u{1D65B} \u{1D65C} \u{1D65D} \u{1D65E} \u{1D65F} \u{1D660} \u{1D661} \u{1D662} \u{1D663} \u{1D664} \u{1D665} \u{1D666} \u{1D667} \u{1D668} \u{1D669} \u{1D66A} \u{1D66B} \u{1D66C} \u{1D66D} \u{1D66E} \u{1D66F}".split(" "),this.capitalLatinMonospace="\u{1D670} \u{1D671} \u{1D672} \u{1D673} \u{1D674} \u{1D675} \u{1D676} \u{1D677} \u{1D678} \u{1D679} \u{1D67A} \u{1D67B} \u{1D67C} \u{1D67D} \u{1D67E} \u{1D67F} \u{1D680} \u{1D681} \u{1D682} \u{1D683} \u{1D684} \u{1D685} \u{1D686} \u{1D687} \u{1D688} \u{1D689}".split(" "),this.smallLatinMonospace="\u{1D68A} \u{1D68B} \u{1D68C} \u{1D68D} \u{1D68E} \u{1D68F} \u{1D690} \u{1D691} \u{1D692} \u{1D693} \u{1D694} \u{1D695} \u{1D696} \u{1D697} \u{1D698} \u{1D699} \u{1D69A} \u{1D69B} \u{1D69C} \u{1D69D} \u{1D69E} \u{1D69F} \u{1D6A0} \u{1D6A1} \u{1D6A2} \u{1D6A3}".split(" "),this.latinDoubleStruckItalic=["\u2145","\u2146","\u2147","\u2148","\u2149"],this.capitalGreek="\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9".split(""),this.smallGreek="\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9".split(""),this.capitalGreekBold="\u{1D6A8} \u{1D6A9} \u{1D6AA} \u{1D6AB} \u{1D6AC} \u{1D6AD} \u{1D6AE} \u{1D6AF} \u{1D6B0} \u{1D6B1} \u{1D6B2} \u{1D6B3} \u{1D6B4} \u{1D6B5} \u{1D6B6} \u{1D6B7} \u{1D6B8} \u{1D6BA} \u{1D6BB} \u{1D6BC} \u{1D6BD} \u{1D6BE} \u{1D6BF} \u{1D6C0}".split(" "),this.smallGreekBold="\u{1D6C2} \u{1D6C3} \u{1D6C4} \u{1D6C5} \u{1D6C6} \u{1D6C7} \u{1D6C8} \u{1D6C9} \u{1D6CA} \u{1D6CB} \u{1D6CC} \u{1D6CD} \u{1D6CE} \u{1D6CF} \u{1D6D0} \u{1D6D1} \u{1D6D2} \u{1D6D3} \u{1D6D4} \u{1D6D5} \u{1D6D6} \u{1D6D7} \u{1D6D8} \u{1D6D9} \u{1D6DA}".split(" "),this.capitalGreekItalic="\u{1D6E2} \u{1D6E3} \u{1D6E4} \u{1D6E5} \u{1D6E6} \u{1D6E7} \u{1D6E8} \u{1D6E9} \u{1D6EA} \u{1D6EB} \u{1D6EC} \u{1D6ED} \u{1D6EE} \u{1D6EF} \u{1D6F0} \u{1D6F1} \u{1D6F2} \u{1D6F4} \u{1D6F5} \u{1D6F6} \u{1D6F7} \u{1D6F8} \u{1D6F9} \u{1D6FA}".split(" "),this.smallGreekItalic="\u{1D6FC} \u{1D6FD} \u{1D6FE} \u{1D6FF} \u{1D700} \u{1D701} \u{1D702} \u{1D703} \u{1D704} \u{1D705} \u{1D706} \u{1D707} \u{1D708} \u{1D709} \u{1D70A} \u{1D70B} \u{1D70C} \u{1D70D} \u{1D70E} \u{1D70F} \u{1D710} \u{1D711} \u{1D712} \u{1D713} \u{1D714}".split(" "),this.capitalGreekBoldItalic="\u{1D71C} \u{1D71D} \u{1D71E} \u{1D71F} \u{1D720} \u{1D721} \u{1D722} \u{1D723} \u{1D724} \u{1D725} \u{1D726} \u{1D727} \u{1D728} \u{1D729} \u{1D72A} \u{1D72B} \u{1D72C} \u{1D72E} \u{1D72F} \u{1D730} \u{1D731} \u{1D732} \u{1D733} \u{1D734}".split(" "),this.smallGreekBoldItalic="\u{1D736} \u{1D737} \u{1D738} \u{1D739} \u{1D73A} \u{1D73B} \u{1D73C} \u{1D73D} \u{1D73E} \u{1D73F} \u{1D740} \u{1D741} \u{1D742} \u{1D743} \u{1D744} \u{1D745} \u{1D746} \u{1D747} \u{1D748} \u{1D749} \u{1D74A} \u{1D74B} \u{1D74C} \u{1D74D} \u{1D74E}".split(" "),this.capitalGreekSansSerifBold="\u{1D756} \u{1D757} \u{1D758} \u{1D759} \u{1D75A} \u{1D75B} \u{1D75C} \u{1D75D} \u{1D75E} \u{1D75F} \u{1D760} \u{1D761} \u{1D762} \u{1D763} \u{1D764} \u{1D765} \u{1D766} \u{1D768} \u{1D769} \u{1D76A} \u{1D76B} \u{1D76C} \u{1D76D} \u{1D76E}".split(" "),this.smallGreekSansSerifBold="\u{1D770} \u{1D771} \u{1D772} \u{1D773} \u{1D774} \u{1D775} \u{1D776} \u{1D777} \u{1D778} \u{1D779} \u{1D77A} \u{1D77B} \u{1D77C} \u{1D77D} \u{1D77E} \u{1D77F} \u{1D780} \u{1D781} \u{1D782} \u{1D783} \u{1D784} \u{1D785} \u{1D786} \u{1D787} \u{1D788}".split(" "),this.capitalGreekSansSerifBoldItalic="\u{1D790} \u{1D791} \u{1D792} \u{1D793} \u{1D794} \u{1D795} \u{1D796} \u{1D797} \u{1D798} \u{1D799} \u{1D79A} \u{1D79B} \u{1D79C} \u{1D79D} \u{1D79E} \u{1D79F} \u{1D7A0} \u{1D7A2} \u{1D7A3} \u{1D7A4} \u{1D7A5} \u{1D7A6} \u{1D7A7} \u{1D7A8}".split(" "),this.smallGreekSansSerifBoldItalic="\u{1D7AA} \u{1D7AB} \u{1D7AC} \u{1D7AD} \u{1D7AE} \u{1D7AF} \u{1D7B0} \u{1D7B1} \u{1D7B2} \u{1D7B3} \u{1D7B4} \u{1D7B5} \u{1D7B6} \u{1D7B7} \u{1D7B8} \u{1D7B9} \u{1D7BA} \u{1D7BB} \u{1D7BC} \u{1D7BD} \u{1D7BE} \u{1D7BF} \u{1D7C0} \u{1D7C1} \u{1D7C2}".split(" "),this.greekDoubleStruck=["\u213C","\u213D","\u213E","\u213F"],this.greekSpecial="\u03D0\u03D1\u03D5\u03D6\u03D7\u03F0\u03F1\u03F5\u03F6\u03F4".split(""),this.greekSpecialBold="\u{1D6DC} \u{1D6DD} \u{1D6DE} \u{1D6DF} \u{1D6E0} \u{1D6E1}".split(" "),this.greekSpecialItalic="\u{1D716} \u{1D717} \u{1D718} \u{1D719} \u{1D71A} \u{1D71B}".split(" "),this.greekSpecialSansSerifBold="\u{1D78A} \u{1D78B} \u{1D78C} \u{1D78D} \u{1D78E} \u{1D78F}".split(" "),this.hebrewLetters=["\u2135","\u2136","\u2137","\u2138"],this.allLetters=this.capitalLatin.concat(this.smallLatin,this.capitalLatinFullWidth,this.smallLatinFullWidth,this.capitalLatinBold,this.smallLatinBold,this.capitalLatinItalic,this.capitalLatinBoldItalic,this.smallLatinBoldItalic,this.smallLatinItalic,this.capitalLatinScript,this.smallLatinScript,this.capitalLatinBoldScript,this.smallLatinBoldScript,this.capitalLatinFraktur,this.smallLatinFraktur,this.capitalLatinDoubleStruck,this.smallLatinDoubleStruck,this.capitalLatinBoldFraktur,this.smallLatinBoldFraktur,this.capitalLatinSansSerif,this.smallLatinSansSerif,this.capitalLatinSansSerifBold,this.smallLatinSansSerifBold,this.capitalLatinSansSerifItalic,this.smallLatinSansSerifItalic,this.capitalLatinSansSerifBoldItalic,this.smallLatinSansSerifBoldItalic,this.capitalLatinMonospace,this.smallLatinMonospace,this.latinDoubleStruckItalic,this.capitalGreek,this.smallGreek,this.capitalGreekBold,this.smallGreekBold,this.capitalGreekItalic,this.smallGreekItalic,this.capitalGreekBoldItalic,this.smallGreekBoldItalic,this.capitalGreekSansSerifBold,this.smallGreekSansSerifBold,this.greekDoubleStruck,this.greekSpecial,this.capitalGreekSansSerifBoldItalic,this.smallGreekSansSerifBoldItalic,this.greekSpecialBold,this.greekSpecialItalic,this.greekSpecialSansSerifBold,this.hebrewLetters),this.additions="+\xB1\u2213\u2214\u2227\u2228\u2229\u222A\u228C\u2293\u2294\u229D\u229E\u22A4\u22A5\u22BA\u22BB\u22BC\u22C4\u22CE\u22CF\u22D2\u22D3\u25B3\u25B7\u25BD\u25C1\u2A5E\u2295".split(""),this.invisiblePlus_=sre.SemanticUtil.numberToUnicode(8292),this.additions.push(this.invisiblePlus_),this.multiplications="\u2020\u2021\u2210\u2217\u2218\u2219\u2240\u229A\u229B\u22A0\u22A1\u22C5\u22C6\u22C7\u22C9\u22CA\u22CB\u22CC\u25CB\xB7*".split(""),this.invisibleTimes_=sre.SemanticUtil.numberToUnicode(8290),this.multiplications.push(this.invisibleTimes_),this.subtractions="-\u2052\u207B\u208B\u2212\u2216\u2238\u2242\u2296\u229F\u2796\u2A29\u2A2A\u2A2B\u2A2C\u2A3A\u2A41\u2A6C\uFE63\uFF0D\u2010\u2011".split(""),this.divisions="/\xF7\u2044\u2215\u2298\u27CC\u29BC\u2A38".split(""),this.functionApplication_=sre.SemanticUtil.numberToUnicode(8289),this.equalities="=~\u207C\u208C\u223C\u223D\u2243\u2245\u2248\u224A\u224B\u224C\u224D\u224E\u2251\u2252\u2253\u2254\u2255\u2256\u2257\u2258\u2259\u225A\u225B\u225C\u225D\u225E\u225F\u2261\u2263\u29E4\u2A66\u2A6E\u2A6F\u2A70\u2A71\u2A72\u2A73\u2A74\u2A75\u2A76\u2A77\u2A78\u22D5\u2A6D\u2A6A\u2A6B\u2A6C\uFE66\uFF1D".split(""),this.inequalities="<>\u2241\u2242\u2244\u2246\u2247\u2249\u224F\u2250\u2260\u2262\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226C\u226D\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u2A79\u2A7A\u2A7B\u2A7C\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A85\u2A86\u2A87\u2A88\u2A89\u2A8A\u2A8B\u2A8C\u2A8D\u2A8E\u2A8F\u2A90\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2A9D\u2A9E\u2A9F\u2AA0\u2AA1\u2AA2\u2AA3\u2AA4\u2AA5\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAE\u2AAF\u2AB0\u2AB1\u2AB2\u2AB3\u2AB4\u2AB5\u2AB6\u2AB7\u2AB8\u2AB9\u2ABA\u2ABB\u2ABC\u2AF7\u2AF8\u2AF9\u2AFA\u29C0\u29C1\uFE64\uFE65\uFF1C\uFF1E".split(""),this.relations=[],this.arrows="\u2190\u2191\u2192\u2193\u2194\u2195\u2196\u2197\u2198\u2199\u219A\u219B\u219C\u219D\u219E\u219F\u21A0\u21A1\u21A2\u21A3\u21A4\u21A5\u21A6\u21A7\u21A8\u21A9\u21AA\u21AB\u21AC\u21AD\u21AE\u21AF\u21B0\u21B1\u21B2\u21B3\u21B4\u21B5\u21B6\u21B7\u21B8\u21B9\u21BA\u21BB\u21C4\u21C5\u21C6\u21C7\u21C8\u21C9\u21CA\u21CD\u21CE\u21CF\u21D0\u21D1\u21D2\u21D3\u21D4\u21D5\u21D6\u21D7\u21D8\u21D9\u21DA\u21DB\u21DC\u21DD\u21DE\u21DF\u21E0\u21E1\u21E2\u21E3\u21E4\u21E5\u21E6\u21E7\u21E8\u21E9\u21EA\u21EB\u21EC\u21ED\u21EE\u21EF\u21F0\u21F1\u21F2\u21F3\u21F4\u21F5\u21F6\u21F7\u21F8\u21F9\u21FA\u21FB\u21FC\u21FD\u21FE\u21FF\u2301\u2303\u2304\u2324\u238B\u2794\u2798\u2799\u279A\u279B\u279C\u279D\u279E\u279F\u27A0\u27A1\u27A2\u27A3\u27A4\u27A5\u27A6\u27A7\u27A8\u27A9\u27AA\u27AB\u27AC\u27AD\u27AE\u27AF\u27B1\u27B2\u27B3\u27B4\u27B5\u27B6\u27B7\u27B8\u27B9\u27BA\u27BB\u27BC\u27BD\u27BE\u27F0\u27F1\u27F2\u27F3\u27F4\u27F5\u27F6\u27F7\u27F8\u27F9\u27FA\u27FB\u27FC\u27FD\u27FE\u27FF\u2900\u2901\u2902\u2903\u2904\u2905\u2906\u2907\u2908\u2909\u290A\u290B\u290C\u290D\u290E\u290F\u2910\u2911\u2912\u2913\u2914\u2915\u2916\u2917\u2918\u2919\u291A\u291B\u291C\u291D\u291E\u291F\u2920\u2921\u2922\u2923\u2924\u2925\u2926\u2927\u2928\u2929\u292A\u292D\u292E\u292F\u2930\u2931\u2932\u2933\u2934\u2935\u2936\u2937\u2938\u2939\u293A\u293B\u293C\u293D\u293E\u293F\u2940\u2941\u2942\u2943\u2944\u2945\u2946\u2947\u2948\u2949\u2970\u2971\u2972\u2973\u2974\u2975\u2976\u2977\u2978\u2979\u297A\u297B\u29B3\u29B4\u29BD\u29EA\u29EC\u29ED\u2A17\u2B00\u2B01\u2B02\u2B03\u2B04\u2B05\u2B06\u2B07\u2B08\u2B09\u2B0A\u2B0B\u2B0C\u2B0D\u2B0E\u2B0F\u2B10\u2B11\u2B30\u2B31\u2B32\u2B33\u2B34\u2B35\u2B36\u2B37\u2B38\u2B39\u2B3A\u2B3B\u2B3C\u2B3D\u2B3E\u2B3F\u2B40\u2B41\u2B42\u2B43\u2B44\u2B45\u2B46\u2B47\u2B48\u2B49\u2B4A\u2B4B\u2B4C\uFFE9\uFFEA\uFFEB\uFFEC\u21BC\u21BD\u21BE\u21BF\u21C0\u21C1\u21C2\u21C3\u21CB\u21CC\u294A\u294B\u294C\u294D\u294E\u294F\u2950\u2951\u2952\u2953\u2954\u2955\u2956\u2957\u2958\u2959\u295A\u295B\u295C\u295D\u295E\u295F\u2960\u2961\u2962\u2963\u2964\u2965\u2966\u2967\u2968\u2969\u296A\u296B\u296C\u296D\u296E\u296F\u297C\u297D\u297E\u297F".split(""),this.sumOps="\u2140\u220F\u2210\u2211\u22C0\u22C1\u22C2\u22C3\u2A00\u2A01\u2A02\u2A03\u2A04\u2A05\u2A06\u2A07\u2A08\u2A09\u2A0A\u2A0B\u2AFC\u2AFF".split(""),this.intOps="\u222B\u222C\u222D\u222E\u222F\u2230\u2231\u2232\u2233\u2A0C\u2A0D\u2A0E\u2A0F\u2A10\u2A11\u2A12\u2A13\u2A14\u2A15\u2A16\u2A17\u2A18\u2A19\u2A1A\u2A1B\u2A1C".split(""),this.prefixOps="\u2200\u2203\u2206\u2207\u2202\u2201\u2204".split(""),this.prefixOpsBold=["\u{1D6C1}","\u{1D6DB}","\u{1D7CA}","\u{1D7CB}"],this.prefixOpsItalic=["\u{1D6FB}","\u{1D715}"],this.prefixOpsSansSerifBold=["\u{1D76F}","\u{1D789}"],this.operatorBits="\u2320\u2321\u23B6\u23AA\u23AE\u23AF\u23B2\u23B3\u23B7".split(""),this.digitsNormal="0123456789".split(""),this.digitsFullWidth="\uFF10\uFF11\uFF12\uFF13\uFF14\uFF15\uFF16\uFF17\uFF18\uFF19".split(""),this.digitsBold="\u{1D7CE} \u{1D7CF} \u{1D7D0} \u{1D7D1} \u{1D7D2} \u{1D7D3} \u{1D7D4} \u{1D7D5} \u{1D7D6} \u{1D7D7}".split(" "),this.digitsDoubleStruck="\u{1D7D8} \u{1D7D9} \u{1D7DA} \u{1D7DB} \u{1D7DC} \u{1D7DD} \u{1D7DE} \u{1D7DF} \u{1D7E0} \u{1D7E1}".split(" "),this.digitsSansSerif="\u{1D7E2} \u{1D7E3} \u{1D7E4} \u{1D7E5} \u{1D7E6} \u{1D7E7} \u{1D7E8} \u{1D7E9} \u{1D7EA} \u{1D7EB}".split(" "),this.digitsSansSerifBold="\u{1D7EC} \u{1D7ED} \u{1D7EE} \u{1D7EF} \u{1D7F0} \u{1D7F1} \u{1D7F2} \u{1D7F3} \u{1D7F4} \u{1D7F5}".split(" "),this.digitsMonospace="\u{1D7F6} \u{1D7F7} \u{1D7F8} \u{1D7F9} \u{1D7FA} \u{1D7FB} \u{1D7FC} \u{1D7FD} \u{1D7FE} \u{1D7FF}".split(" "),this.digitsSuperscript="\xB2\xB3\xB9\u2070\u2074\u2075\u2076\u2077\u2078\u2079".split(""),this.digitsSubscript="\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089".split(""),this.fractions="\xBC\xBD\xBE\u2150\u2151\u2152\u2153\u2154\u2155\u2156\u2157\u2158\u2159\u215A\u215B\u215C\u215D\u215E\u215F\u2189".split(""),this.enclosedNumbers="\u2460\u2461\u2462\u2463\u2464\u2465\u2466\u2467\u2468\u2469\u246A\u246B\u246C\u246D\u246E\u246F\u2470\u2471\u2472\u2473\u24EA\u24EB\u24EC\u24ED\u24EE\u24EF\u24F0\u24F1\u24F2\u24F3\u24F4\u24F5\u24F6\u24F7\u24F8\u24F9\u24FA\u24FB\u24FC\u24FD\u24FE\u24FF\u2776\u2777\u2778\u2779\u277A\u277B\u277C\u277D\u277E\u277F\u2780\u2781\u2782\u2783\u2784\u2785\u2786\u2787\u2788\u2789\u278A\u278B\u278C\u278D\u278E\u278F\u2790\u2791\u2792\u2793\u3248\u3249\u324A\u324B\u324C\u324D\u324E\u324F\u3251\u3252\u3253\u3254\u3255\u3256\u3257\u3258\u3259\u325A\u325B\u325C\u325D\u325E\u325F\u32B1\u32B2\u32B3\u32B4\u32B5\u32B6\u32B7\u32B8\u32B9\u32BA\u32BB\u32BC\u32BD\u32BE\u32BF".split(""),this.fencedNumbers="\u2474\u2475\u2476\u2477\u2478\u2479\u247A\u247B\u247C\u247D\u247E\u247F\u2480\u2481\u2482\u2483\u2484\u2485\u2486\u2487".split(""),this.punctuatedNumbers="\u2488 \u2489 \u248A \u248B \u248C \u248D \u248E \u248F \u2490 \u2491 \u2492 \u2493 \u2494 \u2495 \u2496 \u2497 \u2498 \u2499 \u249A \u249B \u{1F100} \u{1F101} \u{1F102} \u{1F103} \u{1F104} \u{1F105} \u{1F106} \u{1F107} \u{1F108} \u{1F109} \u{1F10A}".split(" "),this.digits=this.digitsNormal.concat(this.digitsFullWidth,this.digitsBold,this.digitsDoubleStruck,this.digitsSansSerif,this.digitsSansSerifBold,this.digitsMonospace),this.numbers=this.fractions.concat(this.digitsSuperscript,this.digitsSubscript,this.enclosedNumbers,this.fencedNumbers,this.punctuatedNumbers),this.allNumbers=this.digits.concat(this.numbers),this.trigonometricFunctions="cos cot csc sec sin tan arccos arccot arccsc arcsec arcsin arctan".split(" "),this.hyperbolicFunctions="cosh coth csch sech sinh tanh arcosh arcoth arcsch arsech arsinh artanh arccosh arccoth arccsch arcsech arcsinh arctanh".split(" "),this.algebraicFunctions="deg det dim hom ker Tr tr".split(" "),this.elementaryFunctions="log ln lg exp expt gcd gcd arg im re Pr".split(" "),this.prefixFunctions=this.trigonometricFunctions.concat(this.hyperbolicFunctions,this.algebraicFunctions,this.elementaryFunctions),this.limitFunctions="inf lim liminf limsup max min sup injlim projlim".split(" "),this.infixFunctions=["mod","rem"],this.symbolSetToSemantic_=[{set:this.generalPunctuations,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.UNKNOWN},{set:this.colons,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.COLON},{set:this.commas,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.COMMA},{set:this.ellipses,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.ELLIPSIS},{set:this.fullStops,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.FULLSTOP},{set:this.dashes,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.DASH},{set:this.primes,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.PRIME},{set:this.degrees,type:sre.SemanticAttr.Type.PUNCTUATION,role:sre.SemanticAttr.Role.DEGREE},{set:this.leftFences,type:sre.SemanticAttr.Type.FENCE,role:sre.SemanticAttr.Role.OPEN},{set:this.rightFences,type:sre.SemanticAttr.Type.FENCE,role:sre.SemanticAttr.Role.CLOSE},{set:this.topFences,type:sre.SemanticAttr.Type.FENCE,role:sre.SemanticAttr.Role.TOP},{set:this.bottomFences,type:sre.SemanticAttr.Type.FENCE,role:sre.SemanticAttr.Role.BOTTOM},{set:this.neutralFences,type:sre.SemanticAttr.Type.FENCE,role:sre.SemanticAttr.Role.NEUTRAL},{set:this.smallLatin,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.capitalLatin,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.smallLatinFullWidth,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.capitalLatinFullWidth,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.smallLatinBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLD},{set:this.capitalLatinBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLD},{set:this.smallLatinItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.ITALIC},{set:this.capitalLatinItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.ITALIC},{set:this.smallLatinBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDITALIC},{set:this.capitalLatinBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDITALIC},{set:this.smallLatinScript,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SCRIPT},{set:this.capitalLatinScript,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SCRIPT},{set:this.smallLatinBoldScript,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDSCRIPT},{set:this.capitalLatinBoldScript,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDSCRIPT},{set:this.smallLatinFraktur,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.FRAKTUR},{set:this.capitalLatinFraktur,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.FRAKTUR},{set:this.smallLatinDoubleStruck,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.DOUBLESTRUCK},{set:this.capitalLatinDoubleStruck,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.DOUBLESTRUCK},{set:this.smallLatinBoldFraktur,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDFRAKTUR},{set:this.capitalLatinBoldFraktur,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.BOLDFRAKTUR},{set:this.smallLatinSansSerif,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIF},{set:this.capitalLatinSansSerif,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIF},{set:this.smallLatinSansSerifBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.capitalLatinSansSerifBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.smallLatinSansSerifItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFITALIC},{set:this.capitalLatinSansSerifItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFITALIC},{set:this.smallLatinSansSerifBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLDITALIC},{set:this.capitalLatinSansSerifBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLDITALIC},{set:this.smallLatinMonospace,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.MONOSPACE},{set:this.capitalLatinMonospace,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.MONOSPACE},{set:this.latinDoubleStruckItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.LATINLETTER,font:sre.SemanticAttr.Font.DOUBLESTRUCKITALIC},{set:this.smallGreek,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.capitalGreek,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.smallGreekBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.BOLD},{set:this.capitalGreekBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.BOLD},{set:this.smallGreekItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.ITALIC},{set:this.capitalGreekItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.ITALIC},{set:this.smallGreekBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.BOLDITALIC},{set:this.capitalGreekBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.BOLDITALIC},{set:this.smallGreekSansSerifBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.capitalGreekSansSerifBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.capitalGreekSansSerifBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLDITALIC},{set:this.smallGreekSansSerifBoldItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLDITALIC},{set:this.greekDoubleStruck,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.DOUBLESTRUCK},{set:this.greekSpecial,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.greekSpecialBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.BOLD},{set:this.greekSpecialItalic,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.ITALIC},{set:this.greekSpecialSansSerifBold,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.GREEKLETTER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.hebrewLetters,type:sre.SemanticAttr.Type.IDENTIFIER,role:sre.SemanticAttr.Role.OTHERLETTER,font:sre.SemanticAttr.Font.NORMAL},{set:this.digitsNormal,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.NORMAL},{set:this.digitsFullWidth,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.NORMAL},{set:this.digitsBold,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.BOLD},{set:this.digitsDoubleStruck,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.DOUBLESTRUCK},{set:this.digitsSansSerif,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.SANSSERIF},{set:this.digitsSansSerifBold,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.digitsMonospace,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.INTEGER,font:sre.SemanticAttr.Font.MONOSPACE},{set:this.numbers,type:sre.SemanticAttr.Type.NUMBER,role:sre.SemanticAttr.Role.FLOAT},{set:this.additions,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.ADDITION},{set:this.multiplications,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.MULTIPLICATION},{set:this.subtractions,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.SUBTRACTION},{set:this.divisions,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.DIVISION},{set:this.prefixOps,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.PREFIXOP},{set:this.prefixOpsBold,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.PREFIXOP,font:sre.SemanticAttr.Font.BOLD},{set:this.prefixOpsItalic,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.PREFIXOP,font:sre.SemanticAttr.Font.ITALIC},{set:this.prefixOpsSansSerifBold,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.PREFIXOP,font:sre.SemanticAttr.Font.SANSSERIFBOLD},{set:this.equalities,type:sre.SemanticAttr.Type.RELATION,role:sre.SemanticAttr.Role.EQUALITY},{set:this.inequalities,type:sre.SemanticAttr.Type.RELATION,role:sre.SemanticAttr.Role.INEQUALITY},{set:this.relations,type:sre.SemanticAttr.Type.RELATION,role:sre.SemanticAttr.Role.UNKNOWN},{set:this.arrows,type:sre.SemanticAttr.Type.RELATION,role:sre.SemanticAttr.Role.ARROW},{set:this.sumOps,type:sre.SemanticAttr.Type.LARGEOP,role:sre.SemanticAttr.Role.SUM},{set:this.intOps,type:sre.SemanticAttr.Type.LARGEOP,role:sre.SemanticAttr.Role.INTEGRAL},{set:this.limitFunctions,type:sre.SemanticAttr.Type.FUNCTION,role:sre.SemanticAttr.Role.LIMFUNC},{set:this.prefixFunctions,type:sre.SemanticAttr.Type.FUNCTION,role:sre.SemanticAttr.Role.PREFIXFUNC},{set:this.infixFunctions,type:sre.SemanticAttr.Type.OPERATOR,role:sre.SemanticAttr.Role.INFIXFUNC}],this.meaning_=this.initMeaning_()},goog.addSingletonGetter(sre.SemanticAttr),sre.SemanticAttr.Type={PUNCTUATION:"punctuation",FENCE:"fence",NUMBER:"number",IDENTIFIER:"identifier",TEXT:"text",OPERATOR:"operator",RELATION:"relation",LARGEOP:"largeop",FUNCTION:"function",ACCENT:"accent",FENCED:"fenced",FRACTION:"fraction",PUNCTUATED:"punctuated",RELSEQ:"relseq",MULTIREL:"multirel",INFIXOP:"infixop",PREFIXOP:"prefixop",POSTFIXOP:"postfixop",APPL:"appl",INTEGRAL:"integral",BIGOP:"bigop",SQRT:"sqrt",ROOT:"root",LIMUPPER:"limupper",LIMLOWER:"limlower",LIMBOTH:"limboth",SUBSCRIPT:"subscript",SUPERSCRIPT:"superscript",UNDERSCORE:"underscore",OVERSCORE:"overscore",TENSOR:"tensor",TABLE:"table",MULTILINE:"multiline",MATRIX:"matrix",VECTOR:"vector",CASES:"cases",ROW:"row",LINE:"line",CELL:"cell",ENCLOSE:"enclose",INFERENCE:"inference",RULELABEL:"rulelabel",CONCLUSION:"conclusion",PREMISES:"premises",UNKNOWN:"unknown",EMPTY:"empty"},sre.SemanticAttr.Role={COMMA:"comma",ELLIPSIS:"ellipsis",FULLSTOP:"fullstop",DASH:"dash",PRIME:"prime",DEGREE:"degree",VBAR:"vbar",COLON:"colon",OPENFENCE:"openfence",CLOSEFENCE:"closefence",APPLICATION:"application",DUMMY:"dummy",UNIT:"unit",LABEL:"label",OPEN:"open",CLOSE:"close",TOP:"top",BOTTOM:"bottom",NEUTRAL:"neutral",LATINLETTER:"latinletter",GREEKLETTER:"greekletter",OTHERLETTER:"otherletter",INTEGER:"integer",FLOAT:"float",OTHERNUMBER:"othernumber",MIXED:"mixed",MULTIACCENT:"multiaccent",OVERACCENT:"overaccent",UNDERACCENT:"underaccent",UNDEROVER:"underover",SUBSUP:"subsup",LEFTSUB:"leftsub",LEFTSUPER:"leftsuper",RIGHTSUB:"rightsub",RIGHTSUPER:"rightsuper",LEFTRIGHT:"leftright",ABOVEBELOW:"abovebelow",SETEMPTY:"set empty",SETEXT:"set extended",SETSINGLE:"set singleton",SETCOLLECT:"set collection",STRING:"string",SEQUENCE:"sequence",ENDPUNCT:"endpunct",STARTPUNCT:"startpunct",TEXT:"text",NEGATIVE:"negative",POSITIVE:"positive",NEGATION:"negation",MULTIOP:"multiop",PREFIXOP:"prefix operator",POSTFIXOP:"postfix operator",LIMFUNC:"limit function",INFIXFUNC:"infix function",PREFIXFUNC:"prefix function",POSTFIXFUNC:"postfix function",SIMPLEFUNC:"simple function",COMPFUNC:"composed function",SUM:"sum",INTEGRAL:"integral",ADDITION:"addition",MULTIPLICATION:"multiplication",SUBTRACTION:"subtraction",IMPLICIT:"implicit",DIVISION:"division",VULGAR:"vulgar",EQUALITY:"equality",INEQUALITY:"inequality",ELEMENT:"element",ARROW:"arrow",DETERMINANT:"determinant",ROWVECTOR:"rowvector",BINOMIAL:"binomial",SQUAREMATRIX:"squarematrix",MULTILINE:"multiline",MATRIX:"matrix",VECTOR:"vector",CASES:"cases",TABLE:"table",PROOF:"proof",LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down",FINAL:"final",SINGLE:"single",HYP:"hyp",AXIOM:"axiom",UNKNOWN:"unknown"},sre.SemanticAttr.Font={BOLD:"bold",BOLDFRAKTUR:"bold-fraktur",BOLDITALIC:"bold-italic",BOLDSCRIPT:"bold-script",CALIGRAPHIC:"caligraphic",CALIGRAPHICBOLD:"caligraphic-bold",DOUBLESTRUCK:"double-struck",DOUBLESTRUCKITALIC:"double-struck-italic",FRAKTUR:"fraktur",ITALIC:"italic",MONOSPACE:"monospace",NORMAL:"normal",OLDSTYLE:"oldstyle",OLDSTYLEBOLD:"oldstyle-bold",SCRIPT:"script",SANSSERIF:"sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLD:"sans-serif-bold",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",UNKNOWN:"unknown"},sre.SemanticAttr.equal=function(t,r){return t.type===r.type&&t.role===r.role&&t.font===r.font},sre.SemanticAttr.prototype.lookupType=function(t){return sre.SemanticAttr.Type.UNKNOWN},sre.SemanticAttr.prototype.lookupRole=function(t){return sre.SemanticAttr.Role.UNKNOWN},sre.SemanticAttr.lookupMeaning=function(t){return sre.SemanticAttr.getInstance().lookupMeaning_(t)},sre.SemanticAttr.invisibleTimes=function(){return sre.SemanticAttr.getInstance().invisibleTimes_},sre.SemanticAttr.invisibleComma=function(){return sre.SemanticAttr.getInstance().invisibleComma_},sre.SemanticAttr.functionApplication=function(){return sre.SemanticAttr.getInstance().functionApplication_},sre.SemanticAttr.isMatchingFenceRole=function(t,r){return t==sre.SemanticAttr.Role.OPEN&&r==sre.SemanticAttr.Role.CLOSE||t==sre.SemanticAttr.Role.NEUTRAL&&r==sre.SemanticAttr.Role.NEUTRAL||t==sre.SemanticAttr.Role.TOP&&r==sre.SemanticAttr.Role.BOTTOM},sre.SemanticAttr.isMatchingFence=function(t,r){return sre.SemanticAttr.getInstance().isMatchingFence_(t,r)},sre.SemanticAttr.isOpeningFence=function(t){return t==sre.SemanticAttr.Role.OPEN||t==sre.SemanticAttr.Role.NEUTRAL},sre.SemanticAttr.isClosingFence=function(t){return t==sre.SemanticAttr.Role.CLOSE||t==sre.SemanticAttr.Role.NEUTRAL},sre.SemanticAttr.isEmbellishedType=function(t){return t===sre.SemanticAttr.Type.OPERATOR||t===sre.SemanticAttr.Type.RELATION||t===sre.SemanticAttr.Type.FENCE||t===sre.SemanticAttr.Type.PUNCTUATION},sre.SemanticAttr.isCharacterD=function(t){return"d \u2146 \uFF44 \u{1D41D} \u{1D451} \u{1D4B9} \u{1D4ED} \u{1D521} \u{1D555} \u{1D589} \u{1D5BD} \u{1D5F1} \u{1D625} \u{1D68D}".split(" ").indexOf(t)!=-1},sre.SemanticAttr.prototype.isMatchingFence_=function(t,r){return this.neutralFences.indexOf(t)!=-1?t==r:this.openClosePairs[t]==r||this.topBottomPairs[t]==r},sre.SemanticAttr.prototype.initMeaning_=function(){for(var t={},r=0,n;n=this.symbolSetToSemantic_[r];r++)n.set.forEach(function(i){t[i]={role:n.role||sre.SemanticAttr.Role.UNKNOWN,type:n.type||sre.SemanticAttr.Type.UNKNOWN,font:n.font||sre.SemanticAttr.Font.UNKNOWN}});return t},sre.SemanticAttr.prototype.lookupMeaning_=function(t){return this.meaning_[t]||{role:sre.SemanticAttr.Role.UNKNOWN,type:sre.SemanticAttr.Type.UNKNOWN,font:sre.SemanticAttr.Font.UNKNOWN}},sre.SemanticNode=function(t){this.id=t,this.mathml=[],this.parent=null,this.type=sre.SemanticAttr.Type.UNKNOWN,this.role=sre.SemanticAttr.Role.UNKNOWN,this.font=sre.SemanticAttr.Font.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={}},sre.SemanticNode.prototype.querySelectorAll=function(t){for(var r=[],n=0,i;i=this.childNodes[n];n++)r=r.concat(i.querySelectorAll(t));for(n=0;i=this.contentNodes[n];n++)r=r.concat(i.querySelectorAll(t));return t(this)&&r.unshift(this),r},sre.SemanticNode.Attribute={EMBELLISHED:"embellished",FENCEPOINTER:"fencepointer",FONT:"font",ID:"id",ANNOTATION:"annotation",ROLE:"role",TYPE:"type",CHILDREN:"children",CONTENT:"content",TEXT:"$t"},sre.SemanticNode.prototype.xml=function(t,r){var n=function(l,s){s=s.map(function(p){return p.xml(t,r)}),l=t.createElementNS("",l);for(var o=0,u;u=s[o];o++)l.appendChild(u);return l},i=t.createElementNS("",this.type);return r||this.xmlAttributes_(i),i.textContent=this.textContent,0<this.contentNodes.length&&i.appendChild(n(sre.SemanticNode.Attribute.CONTENT,this.contentNodes)),0<this.childNodes.length&&i.appendChild(n(sre.SemanticNode.Attribute.CHILDREN,this.childNodes)),i},sre.SemanticNode.prototype.toString=function(t){var r=new sre.SystemExternal.xmldom.XMLSerializer,n=new sre.SystemExternal.xmldom.DOMParser().parseFromString("<snode/>","text/xml");return r.serializeToString(this.xml(n,t))},sre.SemanticNode.prototype.xmlAttributes_=function(t){for(var r=this.allAttributes(),n=0,i;i=r[n];n++)t.setAttribute(i[0],i[1]);this.addExternalAttributes_(t)},sre.SemanticNode.prototype.allAttributes=function(){var t=[];return t.push([sre.SemanticNode.Attribute.ROLE,this.role]),this.font!=sre.SemanticAttr.Font.UNKNOWN&&t.push([sre.SemanticNode.Attribute.FONT,this.font]),Object.keys(this.annotation).length&&t.push([sre.SemanticNode.Attribute.ANNOTATION,this.xmlAnnotation()]),this.embellished&&t.push([sre.SemanticNode.Attribute.EMBELLISHED,this.embellished]),this.fencePointer&&t.push([sre.SemanticNode.Attribute.FENCEPOINTER,this.fencePointer]),t.push([sre.SemanticNode.Attribute.ID,this.id]),t},sre.SemanticNode.prototype.addExternalAttributes_=function(t){for(var r in this.attributes)t.setAttribute(r,this.attributes[r])},sre.SemanticNode.prototype.xmlAnnotation=function(){var t=[],r;for(r in this.annotation)this.annotation[r].forEach(function(n){t.push(r+":"+n)});return t.join(";")},sre.SemanticNode.prototype.toJson=function(){var t={};t[sre.SemanticNode.Attribute.TYPE]=this.type;for(var r=this.allAttributes(),n=0,i;i=r[n];n++)t[i[0]]=i[1].toString();return this.textContent&&(t[sre.SemanticNode.Attribute.TEXT]=this.textContent),this.childNodes.length&&(t[sre.SemanticNode.Attribute.CHILDREN]=this.childNodes.map(function(l){return l.toJson()})),this.contentNodes.length&&(t[sre.SemanticNode.Attribute.CONTENT]=this.contentNodes.map(function(l){return l.toJson()})),t},sre.SemanticNode.prototype.updateContent=function(t,r){r=r?t.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):t.trim(),t=t&&!r?t:r,this.textContent!=t&&(r=sre.SemanticAttr.lookupMeaning(t),this.textContent=t,this.role=r.role,this.type=r.type,this.font=r.font)},sre.SemanticNode.prototype.addMathmlNodes=function(t){for(var r=0,n;n=t[r];r++)this.mathml.indexOf(n)==-1&&this.mathml.push(n)},sre.SemanticNode.prototype.removeMathmlNodes_=function(t){for(var r=this.mathml,n=0,i;i=t[n];n++)i=r.indexOf(i),i!=-1&&r.splice(i,1);this.mathml=r},sre.SemanticNode.prototype.appendChild=function(t){this.childNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this},sre.SemanticNode.prototype.replaceChild=function(t,r){var n=this.childNodes.indexOf(t);if(n!=-1){t.parent=null,r.parent=this,this.childNodes[n]=r,n=t.mathml.filter(function(l){return r.mathml.indexOf(l)==-1});var i=r.mathml.filter(function(l){return t.mathml.indexOf(l)==-1});this.removeMathmlNodes_(n),this.addMathmlNodes(i)}},sre.SemanticNode.prototype.appendContentNode=function(t){t&&(this.contentNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this)},sre.SemanticNode.prototype.removeContentNode=function(t){t&&(t=this.contentNodes.indexOf(t),t!=-1&&this.contentNodes.slice(t,1))},sre.SemanticNode.prototype.equals=function(t){if(!t||this.type!==t.type||this.role!==t.role||this.textContent!==t.textContent||this.childNodes.length!==t.childNodes.length||this.contentNodes.length!==t.contentNodes.length)return!1;for(var r=0,n,i;n=this.childNodes[r],i=t.childNodes[r];r++)if(!n.equals(i))return!1;for(r=0;n=this.contentNodes[r],i=t.contentNodes[r];r++)if(!n.equals(i))return!1;return!0},sre.SemanticNode.prototype.displayTree=function(){console.info(this.displayTree_(0))},sre.SemanticNode.prototype.displayTree_=function(t){t++;var r=Array(t).join("  "),n="";n+=`
`+r+this.toString(),n+=`
`+r+"MathmlTree:",n+=`
`+r+this.mathmlTreeString_(),n+=`
`+r+"MathML:";for(var i=0,l;l=this.mathml[i];i++)n+=`
`+r+l.toString();return n+=`
`+r+"Begin Content",this.contentNodes.forEach(function(s){n+=s.displayTree_(t)}),n+=`
`+r+"End Content",n+=`
`+r+"Begin Children",this.childNodes.forEach(function(s){n+=s.displayTree_(t)}),n+=`
`+r+"End Children"},sre.SemanticNode.prototype.mathmlTreeString_=function(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"},sre.SemanticNode.prototype.addAnnotation=function(t,r){r&&this.addAnnotation_(t,r)},sre.SemanticNode.prototype.addAnnotation_=function(t,r){var n=this.annotation[t];n?n.push(r):this.annotation[t]=[r]},sre.SemanticNode.prototype.getAnnotation=function(t){return(t=this.annotation[t])?t:[]},sre.SemanticNode.prototype.hasAnnotation=function(t,r){return(t=this.annotation[t])?t.indexOf(r)!==-1:!1},sre.SemanticNode.prototype.parseAnnotation=function(t){t=t.split(";");for(var r=0,n=t.length;r<n;r++){var i=t[r].split(":");this.addAnnotation(i[0],i[1])}},sre.SemanticNode.prototype.meaning=function(){return{type:this.type,role:this.role,font:this.font}},sre.SemanticAnnotator=function(t,r){this.domain=t,this.func=r,this.name=t},sre.SemanticAnnotator.prototype.annotate=function(t){t.childNodes.forEach(goog.bind(this.annotate,this)),t.addAnnotation(this.domain,this.func(t))},sre.SemanticVisitor=function(t,r,n){this.domain=t,this.func=r,this.name=t,this.def=n||{}},sre.SemanticVisitor.prototype.visit=function(t,r){r=this.func(t,r),t.addAnnotation(this.domain,r[0]);for(var n=0,i;i=t.childNodes[n];n++)r=this.visit(i,r[1]);return r},sre.SemanticAnnotations=function(){this.annotators={},this.visitors={},this.counter=0},goog.addSingletonGetter(sre.SemanticAnnotations),sre.SemanticAnnotations.prototype.register=function(t){t.name=t.domain+this.counter++,(t instanceof sre.SemanticAnnotator?this.annotators:this.visitors)[t.name]=t},sre.SemanticAnnotations.prototype.unregister=function(t){delete this.annotators[t],delete this.visitors[t]},sre.SemanticAnnotations.prototype.annotate=function(t){for(var r in this.annotators)this.annotators[r].annotate(t);for(var n in this.visitors)this.visitors[n].visit(t,this.visitors[n].def)},sre.SemanticOrdering=function(){this.comparators=[]},goog.addSingletonGetter(sre.SemanticOrdering),sre.SemanticOrdering.prototype.add=function(t){this.comparators.push(t)},sre.SemanticOrdering.prototype.apply=function(t,r){for(var n=0,i;i=this.comparators[n];n++)if(i=i.compare(t,r),i!==0)return i;return 0},sre.SemanticOrdering.prototype.sort=function(t){t.sort(goog.bind(this.apply,this))},sre.SemanticOrdering.prototype.reduce=function(t){if(1>=t.length)return t;t=t.slice(),this.sort(t);var r=[];do{var n=t.pop();r.push(n)}while(n&&t.length&&this.apply(t[t.length-1],n)===0);return r},sre.SemanticComparator=function(t,r){this.comparator=t,this.type=r||null,sre.SemanticOrdering.getInstance().add(this)},sre.SemanticComparator.prototype.compare=function(t,r){return this.type&&this.type===t.type&&this.type===r.type?this.comparator(t,r):0},sre.SemanticOrdering.simpleFunction=function(t,r){return t.role===sre.SemanticAttr.Role.SIMPLEFUNC?1:r.role===sre.SemanticAttr.Role.SIMPLEFUNC?-1:0},new sre.SemanticComparator(sre.SemanticOrdering.simpleFunction,sre.SemanticAttr.Type.IDENTIFIER),sre.SemanticDefault=function(){this.map_={}},sre.SemanticDefault.prototype.add=function(t,r){this.map_[sre.SemanticDefault.key_(t,r.font)]=r},sre.SemanticDefault.prototype.addNode=function(t){this.add(t.textContent,t.meaning())},sre.SemanticDefault.prototype.retrieve=function(t,r){return this.map_[sre.SemanticDefault.key_(t,r)]},sre.SemanticDefault.prototype.retrieveNode=function(t){return this.retrieve(t.textContent,t.font)},sre.SemanticDefault.key_=function(t,r){return r?t+":"+r:t},sre.SemanticDefault.prototype.size=function(){return Object.keys(this.map_).length},sre.SemanticCollator_=function(){this.map_={}},sre.SemanticCollator_.prototype.add=function(t,r){t=sre.SemanticDefault.key_(t,r.font);var n=this.map_[t];n?n.push(r):this.map_[t]=[r]},sre.SemanticCollator_.prototype.addNode=function(t){this.add(t.textContent,t)},sre.SemanticCollator_.prototype.retrieve=function(t,r){return this.map_[sre.SemanticDefault.key_(t,r)]},sre.SemanticCollator_.prototype.retrieveNode=function(t){return this.retrieve(t.textContent,t.font)},sre.SemanticCollator_.prototype.copyCollator=goog.abstractMethod,sre.SemanticCollator_.prototype.copy=function(){var t=this.copyCollator(),r;for(r in this.map_)t.map_[r]=this.map_[r];return t},sre.SemanticCollator_.prototype.minimize=function(){for(var t in this.map_)this.map_[t].length===1&&delete this.map_[t]},sre.SemanticCollator_.prototype.reduce=function(){for(var t in this.map_)this.map_[t].length!==1&&(this.map_[t]=sre.SemanticOrdering.getInstance().reduce(this.map_[t]))},sre.SemanticCollator_.prototype.minimalCollator=function(){var t=this.copy(),r;for(r in t.map_)t.map_[r].length===1&&delete t.map_[r];return t},sre.SemanticCollator_.prototype.isMultiValued=function(){for(var t in this.map_)if(1<this.map_[t].length)return!0;return!1},sre.SemanticCollator_.prototype.isEmpty=function(){return!Object.keys(this.map_).length},sre.SemanticNodeCollator=function(){sre.SemanticCollator_.call(this)},goog.inherits(sre.SemanticNodeCollator,sre.SemanticCollator_),sre.SemanticNodeCollator.prototype.copyCollator=function(){return new sre.SemanticNodeCollator},sre.SemanticNodeCollator.prototype.toString=function(){var t=[],r;for(r in this.map_){for(var n=Array(r.length+3).join(" "),i=this.map_[r],l=[],s=0,o;o=i[s];s++)l.push(o.toString());t.push(r+": "+l.join(`
`+n))}return t.join(`
`)},sre.SemanticNodeCollator.prototype.collateMeaning=function(){var t=new sre.SemanticMeaningCollator,r;for(r in this.map_)t.map_[r]=this.map_[r].map(function(n){return n.meaning()});return t},sre.SemanticMeaningCollator=function(){sre.SemanticCollator_.call(this)},goog.inherits(sre.SemanticMeaningCollator,sre.SemanticCollator_),sre.SemanticMeaningCollator.prototype.copyCollator=function(){return new sre.SemanticMeaningCollator},sre.SemanticMeaningCollator.prototype.add=function(t,r){var n=this.retrieve(t,r.font);n&&n.find(function(i){return sre.SemanticAttr.equal(i,r)})||sre.SemanticMeaningCollator.superClass_.add.call(this,t,r)},sre.SemanticMeaningCollator.prototype.addNode=function(t){this.add(t.textContent,t.meaning())},sre.SemanticMeaningCollator.prototype.toString=function(){var t=[],r;for(r in this.map_){for(var n=Array(r.length+3).join(" "),i=this.map_[r],l=[],s=0,o;o=i[s];s++)l.push("{type: "+o.type+", role: "+o.role+", font: "+o.font+"}");t.push(r+": "+l.join(`
`+n))}return t.join(`
`)},sre.SemanticMeaningCollator.prototype.default=function(){var t=new sre.SemanticDefault,r;for(r in this.map_)this.map_[r].length===1&&(t.map_[r]=this.map_[r][0]);return t},sre.SemanticMeaningCollator.prototype.newDefault=function(){var t=this.default();this.reduce();var r=this.default();return t.size()!==r.size()?r:null},sre.SemanticNodeFactory=function(){this.idCounter_=-1,this.leafMap=new sre.SemanticNodeCollator,this.defaultMap=new sre.SemanticDefault},sre.SemanticNodeFactory.prototype.createNode_=function(t){return typeof t!="undefined"?this.idCounter_=Math.max(this.idCounter_,t):t=++this.idCounter_,new sre.SemanticNode(t)},sre.SemanticNodeFactory.prototype.makeNode=function(t){return this.createNode_(t)},sre.SemanticNodeFactory.prototype.makeUnprocessed=function(t){var r=this.createNode_();return r.mathml=[t],r},sre.SemanticNodeFactory.prototype.makeEmptyNode=function(){var t=this.createNode_();return t.type=sre.SemanticAttr.Type.EMPTY,t},sre.SemanticNodeFactory.prototype.makeContentNode=function(t){var r=this.createNode_();return r.updateContent(t),r},sre.SemanticNodeFactory.prototype.makeMultipleContentNodes=function(t,r){for(var n=[],i=0;i<t;i++)n.push(this.makeContentNode(r));return n},sre.SemanticNodeFactory.prototype.makeLeafNode=function(t,r){return t?(t=this.makeContentNode(t),t.font=r||t.font,(r=this.defaultMap.retrieveNode(t))&&(t.type=r.type,t.role=r.role,t.font=r.font),this.leafMap.addNode(t),t):this.makeEmptyNode()},sre.SemanticNodeFactory.prototype.makeBranchNode=function(t,r,n,i){var l=this.createNode_();return i&&l.updateContent(i),l.type=t,l.childNodes=r,l.contentNodes=n,r.concat(n).forEach(function(s){s.parent=l,l.addMathmlNodes(s.mathml)}),l},sre.SemanticParser=function(){},sre.SemanticParser.prototype.parse=function(t){},sre.SemanticParser.prototype.parseList=function(t){},sre.SemanticParser.prototype.getFactory=function(){},sre.SemanticParser.prototype.setFactory=function(t){},sre.SemanticParser.prototype.getType=function(){},sre.SemanticAbstractParser=function(t){this.type_=t,this.factory_=new sre.SemanticNodeFactory},sre.SemanticAbstractParser.prototype.getFactory=function(){return this.factory_},sre.SemanticAbstractParser.prototype.setFactory=function(t){this.factory_=t},sre.SemanticAbstractParser.prototype.getType=function(){return this.type_},sre.SemanticAbstractParser.prototype.parse=goog.abstractMethod,sre.SemanticAbstractParser.prototype.parseList=function(t){for(var r=[],n=0,i;i=t[n];n++)r.push(this.parse(i));return r},sre.SemanticPred={},sre.SemanticPred.isAttribute=function(t,r){return function(n){n=n[t];e:switch(t){case"role":var i=sre.SemanticAttr.Role[r];break e;case"font":i=sre.SemanticAttr.Font[r];break e;default:i=sre.SemanticAttr.Type[r]}return n===i}},sre.SemanticPred.isAccent=function(t){return sre.SemanticPred.isAttribute("type","FENCE")(t)||sre.SemanticPred.isAttribute("type","PUNCTUATION")(t)||sre.SemanticPred.isAttribute("type","OPERATOR")(t)||sre.SemanticPred.isAttribute("type","RELATION")(t)||sre.SemanticPred.isAttribute("type","IDENTIFIER")(t)&&sre.SemanticPred.isAttribute("role","UNKNOWN")(t)&&!t.textContent.match(new RegExp(sre.SemanticAttr.getInstance().allLetters.join("|")))},sre.SemanticPred.isSimpleFunctionScope=function(t){return t=t.childNodes,t.length===0?!0:1<t.length?!1:(t=t[0],t.type!==sre.SemanticAttr.Type.INFIXOP||t.role===sre.SemanticAttr.Role.IMPLICIT&&!t.childNodes.some(sre.SemanticPred.isAttribute("type","INFIXOP")))},sre.SemanticPred.isPrefixFunctionBoundary=function(t){return sre.SemanticPred.isOperator(t)||sre.SemanticPred.isAttribute("type","APPL")(t)||sre.SemanticPred.isGeneralFunctionBoundary(t)},sre.SemanticPred.isBigOpBoundary=function(t){return sre.SemanticPred.isOperator(t)||sre.SemanticPred.isGeneralFunctionBoundary(t)},sre.SemanticPred.isIntegralDxBoundary=function(t,r){return!!r&&sre.SemanticPred.isAttribute("type","IDENTIFIER")(r)&&sre.SemanticAttr.isCharacterD(t.textContent)},sre.SemanticPred.isIntegralDxBoundarySingle=function(t){if(sre.SemanticPred.isAttribute("type","IDENTIFIER")(t)){var r=t.textContent[0];return r&&t.textContent[1]&&sre.SemanticAttr.isCharacterD(r)}return!1},sre.SemanticPred.isGeneralFunctionBoundary=function(t){return sre.SemanticPred.isRelation(t)||sre.SemanticPred.isPunctuation(t)},sre.SemanticPred.isEmbellished=function(t){return t.embellished?t.embellished:sre.SemanticAttr.isEmbellishedType(t.type)?t.type:null},sre.SemanticPred.isOperator=function(t){return sre.SemanticPred.isAttribute("type","OPERATOR")(t)||sre.SemanticPred.isAttribute("embellished","OPERATOR")(t)},sre.SemanticPred.isRelation=function(t){return sre.SemanticPred.isAttribute("type","RELATION")(t)||sre.SemanticPred.isAttribute("embellished","RELATION")(t)},sre.SemanticPred.isPunctuation=function(t){return sre.SemanticPred.isAttribute("type","PUNCTUATION")(t)||sre.SemanticPred.isAttribute("embellished","PUNCTUATION")(t)},sre.SemanticPred.isFence=function(t){return sre.SemanticPred.isAttribute("type","FENCE")(t)||sre.SemanticPred.isAttribute("embellished","FENCE")(t)},sre.SemanticPred.isElligibleEmbellishedFence=function(t){if(!t||!sre.SemanticPred.isFence(t))return!1;if(!t.embellished)return!0;var r=function(n){return n.embellished?!(!sre.SemanticPred.isAttribute("type","TENSOR")(n)||sre.SemanticPred.isAttribute("type","EMPTY")(n.childNodes[1])&&sre.SemanticPred.isAttribute("type","EMPTY")(n.childNodes[2])||sre.SemanticPred.isAttribute("type","EMPTY")(n.childNodes[3])&&sre.SemanticPred.isAttribute("type","EMPTY")(n.childNodes[4]))||sre.SemanticPred.isAttribute("role","CLOSE")(n)&&sre.SemanticPred.isAttribute("type","TENSOR")(n)||sre.SemanticPred.isAttribute("role","OPEN")(n)&&(sre.SemanticPred.isAttribute("type","SUBSCRIPT")(n)||sre.SemanticPred.isAttribute("type","SUPERSCRIPT")(n))?!1:r(n.childNodes[0]):!0};return r(t)},sre.SemanticPred.isTableOrMultiline=function(t){return!!t&&(sre.SemanticPred.isAttribute("type","TABLE")(t)||sre.SemanticPred.isAttribute("type","MULTILINE")(t))},sre.SemanticPred.tableIsMatrixOrVector=function(t){return!!t&&sre.SemanticPred.isFencedElement(t)&&sre.SemanticPred.isTableOrMultiline(t.childNodes[0])},sre.SemanticPred.isFencedElement=function(t){return!!t&&sre.SemanticPred.isAttribute("type","FENCED")(t)&&(sre.SemanticPred.isAttribute("role","LEFTRIGHT")(t)||sre.SemanticPred.isAttribute("role","NEUTRAL")(t))&&t.childNodes.length===1},sre.SemanticPred.tableIsCases=function(t,r){return 0<r.length&&sre.SemanticPred.isAttribute("role","OPENFENCE")(r[r.length-1])},sre.SemanticPred.tableIsMultiline=function(t){return t.childNodes.every(function(r){return 1>=r.childNodes.length})},sre.SemanticPred.isBinomial=function(t){return t.childNodes.length===2},sre.SemanticPred.isLimitBase=function(t){return sre.SemanticPred.isAttribute("type","LARGEOP")(t)||sre.SemanticPred.isAttribute("type","LIMBOTH")(t)||sre.SemanticPred.isAttribute("type","LIMLOWER")(t)||sre.SemanticPred.isAttribute("type","LIMUPPER")(t)||sre.SemanticPred.isAttribute("type","FUNCTION")(t)&&sre.SemanticPred.isAttribute("role","LIMFUNC")(t)},sre.SemanticPred.isSimpleFunctionHead=function(t){return t.type===sre.SemanticAttr.Type.IDENTIFIER||t.role===sre.SemanticAttr.Role.LATINLETTER||t.role===sre.SemanticAttr.Role.GREEKLETTER||t.role===sre.SemanticAttr.Role.OTHERLETTER},sre.SemanticPred.singlePunctAtPosition=function(t,r,n){return r.length===1&&(t[n].type===sre.SemanticAttr.Type.PUNCTUATION||t[n].embellished===sre.SemanticAttr.Type.PUNCTUATION)&&t[n]===r[0]},sre.SemanticPred.isSimpleFunction=function(t){return sre.SemanticPred.isAttribute("type","IDENTIFIER")(t)&&sre.SemanticPred.isAttribute("role","SIMPLEFUNC")(t)},sre.SemanticPred.isLeftBrace=function(t){var r=["{","\uFE5B","\uFF5B"];return!!t&&r.indexOf(t.textContent)!==-1},sre.SemanticPred.isRightBrace=function(t){var r=["}","\uFE5C","\uFF5D"];return!!t&&r.indexOf(t.textContent)!==-1},sre.SemanticPred.isSetNode=function(t){return sre.SemanticPred.isLeftBrace(t.contentNodes[0])&&sre.SemanticPred.isRightBrace(t.contentNodes[1])},sre.SemanticPred.illegalSingleton_=[sre.SemanticAttr.Type.PUNCTUATION,sre.SemanticAttr.Type.PUNCTUATED,sre.SemanticAttr.Type.RELSEQ,sre.SemanticAttr.Type.MULTIREL,sre.SemanticAttr.Type.TABLE,sre.SemanticAttr.Type.MULTILINE,sre.SemanticAttr.Type.CASES,sre.SemanticAttr.Type.INFERENCE],sre.SemanticPred.scriptedElement_=[sre.SemanticAttr.Type.LIMUPPER,sre.SemanticAttr.Type.LIMLOWER,sre.SemanticAttr.Type.LIMBOTH,sre.SemanticAttr.Type.SUBSCRIPT,sre.SemanticAttr.Type.SUPERSCRIPT,sre.SemanticAttr.Type.UNDERSCORE,sre.SemanticAttr.Type.OVERSCORE,sre.SemanticAttr.Type.TENSOR],sre.SemanticPred.isSingletonSetContent=function(t){var r=t.type;return sre.SemanticPred.illegalSingleton_.indexOf(r)!==-1||r===sre.SemanticAttr.Type.INFIXOP&&t.role!==sre.SemanticAttr.Role.IMPLICIT?!1:r===sre.SemanticAttr.Type.FENCED?t.role===sre.SemanticAttr.Role.LEFTRIGHT?sre.SemanticPred.isSingletonSetContent(t.childNodes[0]):!0:sre.SemanticPred.scriptedElement_.indexOf(r)!==-1?sre.SemanticPred.isSingletonSetContent(t.childNodes[0]):!0},sre.SemanticPred.isNumber=function(t){return t.type===sre.SemanticAttr.Type.NUMBER&&(t.role===sre.SemanticAttr.Role.INTEGER||t.role===sre.SemanticAttr.Role.FLOAT)},sre.SemanticPred.isUnitCounter=function(t){return sre.SemanticPred.isNumber(t)||t.role===sre.SemanticAttr.Role.VULGAR||t.role===sre.SemanticAttr.Role.MIXED},sre.SemanticPred.isPureUnit=function(t){var r=t.childNodes;return t.role===sre.SemanticAttr.Role.UNIT&&(!r.length||r[0].role===sre.SemanticAttr.Role.UNIT)},sre.SemanticPred.isImplicit=function(t){return t.role===sre.SemanticAttr.Role.IMPLICIT||t.role===sre.SemanticAttr.Role.UNIT&&!!t.contentNodes.length&&t.contentNodes[0].textContent===sre.SemanticAttr.invisibleTimes()},sre.SemanticProcessor=function(){this.factory_=new sre.SemanticNodeFactory},goog.addSingletonGetter(sre.SemanticProcessor),sre.SemanticProcessor.prototype.setNodeFactory=function(t){this.factory_=t},sre.SemanticProcessor.prototype.identifierNode=function(t,r,n){if(t=sre.SemanticProcessor.getInstance().factory_.makeLeafNode(t,r),n==="MathML-Unit")t.type=sre.SemanticAttr.Type.IDENTIFIER,t.role=sre.SemanticAttr.Role.UNIT;else if(!r&&t.textContent.length===1&&(t.role===sre.SemanticAttr.Role.INTEGER||t.role===sre.SemanticAttr.Role.LATINLETTER||t.role===sre.SemanticAttr.Role.GREEKLETTER)&&t.font===sre.SemanticAttr.Font.NORMAL)return t.font=sre.SemanticAttr.Font.ITALIC,t;return t.type===sre.SemanticAttr.Type.UNKNOWN&&(t.type=sre.SemanticAttr.Type.IDENTIFIER),sre.SemanticProcessor.exprFont_(t),t},sre.SemanticProcessor.prototype.implicitNode_=function(t){var r=sre.SemanticProcessor.getInstance().factory_.makeMultipleContentNodes(t.length-1,sre.SemanticAttr.invisibleTimes()),n=sre.SemanticProcessor.getInstance().infixNode_(t,r[0]);return n.role=sre.SemanticAttr.Role.IMPLICIT,r.forEach(function(i){i.parent=n}),n.contentNodes=r,n},sre.SemanticProcessor.prototype.implicitNode=function(t){return t=sre.SemanticProcessor.getInstance().getMixedNumbers_(t),t=sre.SemanticProcessor.getInstance().combineUnits_(t),t.length===1?t[0]:sre.SemanticProcessor.getInstance().implicitNode_(t)},sre.SemanticProcessor.prototype.infixNode_=function(t,r){return t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.INFIXOP,t,[r],sre.SemanticProcessor.getEmbellishedInner_(r).textContent),t.role=r.role,this.propagateSimpleFunction(t),t},sre.SemanticProcessor.prototype.concatNode_=function(t,r,n){if(r.length===0)return t;var i=r.map(function(l){return sre.SemanticProcessor.getEmbellishedInner_(l).textContent}).join(" ");return t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(n,[t],r,i),1<r.length&&(t.role=sre.SemanticAttr.Role.MULTIOP),t},sre.SemanticProcessor.prototype.prefixNode_=function(t,r){for(r=sre.SemanticProcessor.partitionNodes_(r,sre.SemanticPred.isAttribute("role","SUBTRACTION")),t=sre.SemanticProcessor.getInstance().concatNode_(t,r.comp.pop(),sre.SemanticAttr.Type.PREFIXOP),t.contentNodes.length===1&&t.contentNodes[0].role===sre.SemanticAttr.Role.ADDITION&&t.contentNodes[0].textContent==="+"&&(t.role=sre.SemanticAttr.Role.POSITIVE);0<r.rel.length;)t=sre.SemanticProcessor.getInstance().concatNode_(t,[r.rel.pop()],sre.SemanticAttr.Type.PREFIXOP),t.role=sre.SemanticAttr.Role.NEGATIVE,t=sre.SemanticProcessor.getInstance().concatNode_(t,r.comp.pop(),sre.SemanticAttr.Type.PREFIXOP);return t},sre.SemanticProcessor.prototype.postfixNode_=function(t,r){return r.length?sre.SemanticProcessor.getInstance().concatNode_(t,r,sre.SemanticAttr.Type.POSTFIXOP):t},sre.SemanticProcessor.prototype.text=function(t,r,n){return t?(r=sre.SemanticProcessor.getInstance().factory_.makeLeafNode(t,r),r.updateContent(t,!0),r.type=sre.SemanticAttr.Type.TEXT,n==="MS"&&(r.role=sre.SemanticAttr.Role.STRING),sre.SemanticProcessor.exprFont_(r),r):sre.SemanticProcessor.getInstance().factory_.makeEmptyNode()},sre.SemanticProcessor.prototype.row=function(t){return t=t.filter(function(r){return!sre.SemanticPred.isAttribute("type","EMPTY")(r)}),t.length===0?sre.SemanticProcessor.getInstance().factory_.makeEmptyNode():(t=sre.SemanticProcessor.getInstance().getFencesInRow_(t),t=sre.SemanticProcessor.getInstance().tablesInRow(t),t=sre.SemanticProcessor.getInstance().getPunctuationInRow_(t),t=sre.SemanticProcessor.getInstance().getTextInRow_(t),t=sre.SemanticProcessor.getInstance().getFunctionsInRow_(t),sre.SemanticProcessor.getInstance().relationsInRow_(t))},sre.SemanticProcessor.prototype.combineUnits_=function(t){var r=sre.SemanticProcessor.partitionNodes_(t,function(o){return!sre.SemanticPred.isAttribute("role","UNIT")(o)});if(t.length===r.rel.length)return r.rel;t=[];do{var n=r.comp.shift(),i=r.rel.shift(),l=null,s=t.pop();s&&(n.length&&sre.SemanticPred.isUnitCounter(s)?n.unshift(s):t.push(s)),n.length===1&&(l=n.pop()),1<n.length&&(l=sre.SemanticProcessor.getInstance().implicitNode_(n),l.role=sre.SemanticAttr.Role.UNIT),l&&t.push(l),i&&t.push(i)}while(i);return t},sre.SemanticProcessor.prototype.getMixedNumbers_=function(t){var r=sre.SemanticProcessor.partitionNodes_(t,function(o){return sre.SemanticPred.isAttribute("type","FRACTION")(o)&&sre.SemanticPred.isAttribute("role","VULGAR")(o)});if(!r.rel.length)return t;t=[];for(var n=0,i;i=r.rel[n];n++){var l=r.comp[n],s=l.length-1;l[s]&&sre.SemanticPred.isAttribute("type","NUMBER")(l[s])&&sre.SemanticPred.isAttribute("role","INTEGER")(l[s])?(i=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.NUMBER,[l[s],i],[]),i.role=sre.SemanticAttr.Role.MIXED,t=t.concat(l.slice(0,s)),t.push(i)):(t=t.concat(l),t.push(i))}return t.concat(r.comp[r.comp.length-1])},sre.SemanticProcessor.prototype.getTextInRow_=function(t){if(1>=t.length)return t;var r=sre.SemanticProcessor.partitionNodes_(t,sre.SemanticPred.isAttribute("type","TEXT"));if(r.rel.length===0)return t;t=[];var n=r.comp[0];0<n.length&&t.push(sre.SemanticProcessor.getInstance().row(n));for(var i=0;n=r.rel[i];i++)t.push(n),n=r.comp[i+1],0<n.length&&t.push(sre.SemanticProcessor.getInstance().row(n));return[sre.SemanticProcessor.getInstance().dummyNode_(t)]},sre.SemanticProcessor.prototype.relationsInRow_=function(t){var r=sre.SemanticProcessor.partitionNodes_(t,sre.SemanticPred.isRelation),n=r.rel[0];return n?t.length===1?t[0]:(t=r.comp.map(goog.bind(sre.SemanticProcessor.getInstance().operationsInRow_,this)),r.rel.some(function(i){return!i.equals(n)})?(t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.MULTIREL,t,r.rel),r.rel.every(function(i){return i.role===n.role})&&(t.role=n.role),t):(t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.RELSEQ,t,r.rel,sre.SemanticProcessor.getEmbellishedInner_(n).textContent),t.role=n.role,t)):sre.SemanticProcessor.getInstance().operationsInRow_(t)},sre.SemanticProcessor.prototype.operationsInRow_=function(t){if(t.length===0)return sre.SemanticProcessor.getInstance().factory_.makeEmptyNode();if(t.length===1)return t[0];for(var r=[];0<t.length&&sre.SemanticPred.isOperator(t[0]);)r.push(t.shift());return t.length===0?sre.SemanticProcessor.getInstance().prefixNode_(r.pop(),r):t.length===1?sre.SemanticProcessor.getInstance().prefixNode_(t[0],r):(t=sre.SemanticProcessor.sliceNodes_(t,sre.SemanticPred.isOperator),r=sre.SemanticProcessor.getInstance().prefixNode_(sre.SemanticProcessor.getInstance().implicitNode(t.head),r),t.div?sre.SemanticProcessor.getInstance().operationsTree_(t.tail,r,t.div):r)},sre.SemanticProcessor.prototype.operationsTree_=function(t,r,n,i){return i=i||[],t.length===0?(i.unshift(n),r.type===sre.SemanticAttr.Type.INFIXOP?(i=sre.SemanticProcessor.getInstance().postfixNode_(r.childNodes.pop(),i),r.appendChild(i),r):sre.SemanticProcessor.getInstance().postfixNode_(r,i)):(t=sre.SemanticProcessor.sliceNodes_(t,sre.SemanticPred.isOperator),t.head.length===0?(i.push(t.div),sre.SemanticProcessor.getInstance().operationsTree_(t.tail,r,n,i)):(i=sre.SemanticProcessor.getInstance().prefixNode_(sre.SemanticProcessor.getInstance().implicitNode(t.head),i),r=sre.SemanticProcessor.getInstance().appendOperand_(r,n,i),t.div?sre.SemanticProcessor.getInstance().operationsTree_(t.tail,r,t.div,[]):r))},sre.SemanticProcessor.prototype.appendOperand_=function(t,r,n){if(t.type!==sre.SemanticAttr.Type.INFIXOP)return sre.SemanticProcessor.getInstance().infixNode_([t,n],r);var i=this.appendDivisionOp_(t,r,n);return i||(sre.SemanticProcessor.getInstance().appendExistingOperator_(t,r,n)?t:r.role===sre.SemanticAttr.Role.MULTIPLICATION?sre.SemanticProcessor.getInstance().appendMultiplicativeOp_(t,r,n):sre.SemanticProcessor.getInstance().appendAdditiveOp_(t,r,n))},sre.SemanticProcessor.prototype.appendDivisionOp_=function(t,r,n){return r.role===sre.SemanticAttr.Role.DIVISION?sre.SemanticPred.isImplicit(t)?sre.SemanticProcessor.getInstance().infixNode_([t,n],r):this.appendLastOperand_(t,r,n):t.role===sre.SemanticAttr.Role.DIVISION?this.infixNode_([t,n],r):null},sre.SemanticProcessor.prototype.appendLastOperand_=function(t,r,n){for(var i=t,l=t.childNodes[t.childNodes.length-1];l&&l.type===sre.SemanticAttr.Type.INFIXOP&&!sre.SemanticPred.isImplicit(l);)i=l,l=i.childNodes[t.childNodes.length-1];return r=sre.SemanticProcessor.getInstance().infixNode_([i.childNodes.pop(),n],r),i.appendChild(r),t},sre.SemanticProcessor.prototype.appendMultiplicativeOp_=function(t,r,n){if(sre.SemanticPred.isImplicit(t))return sre.SemanticProcessor.getInstance().infixNode_([t,n],r);for(var i=t,l=t.childNodes[t.childNodes.length-1];l&&l.type===sre.SemanticAttr.Type.INFIXOP&&!sre.SemanticPred.isImplicit(l);)i=l,l=i.childNodes[t.childNodes.length-1];return r=sre.SemanticProcessor.getInstance().infixNode_([i.childNodes.pop(),n],r),i.appendChild(r),t},sre.SemanticProcessor.prototype.appendAdditiveOp_=function(t,r,n){return sre.SemanticProcessor.getInstance().infixNode_([t,n],r)},sre.SemanticProcessor.prototype.appendExistingOperator_=function(t,r,n){return!t||t.type!==sre.SemanticAttr.Type.INFIXOP||sre.SemanticPred.isImplicit(t)?!1:t.contentNodes[0].equals(r)?(t.appendContentNode(r),t.appendChild(n),!0):sre.SemanticProcessor.getInstance().appendExistingOperator_(t.childNodes[t.childNodes.length-1],r,n)},sre.SemanticProcessor.prototype.getFencesInRow_=function(t){t=sre.SemanticProcessor.partitionNodes_(t,sre.SemanticPred.isFence),t=sre.SemanticProcessor.purgeFences_(t);var r=t.comp.shift();return sre.SemanticProcessor.getInstance().fences_(t.rel,t.comp,[],[r])},sre.SemanticProcessor.prototype.fences_=function(t,r,n,i){if(t.length===0&&n.length===0)return i[0];var l=sre.SemanticPred.isAttribute("role","OPEN");if(t.length===0){for(t=i.shift();0<n.length;){if(l(n[0]))r=n.shift(),sre.SemanticProcessor.fenceToPunct_(r),t.push(r);else{n=sre.SemanticProcessor.sliceNodes_(n,l);var s=n.head.length-1,o=sre.SemanticProcessor.getInstance().neutralFences_(n.head,i.slice(0,s));i=i.slice(s),t.push.apply(t,o),n.div&&n.tail.unshift(n.div),n=n.tail}t.push.apply(t,i.shift())}return t}return s=n[n.length-1],o=t[0].role,o===sre.SemanticAttr.Role.OPEN||o===sre.SemanticAttr.Role.NEUTRAL&&(!s||t[0].textContent!==s.textContent)?(n.push(t.shift()),(l=r.shift())&&i.push(l),sre.SemanticProcessor.getInstance().fences_(t,r,n,i)):s&&(o===sre.SemanticAttr.Role.CLOSE&&s.role===sre.SemanticAttr.Role.OPEN||o===sre.SemanticAttr.Role.NEUTRAL&&t[0].textContent===s.textContent)?(l=sre.SemanticProcessor.getInstance().horizontalFencedNode_(n.pop(),t.shift(),i.pop()),i.push(i.pop().concat([l],r.shift())),sre.SemanticProcessor.getInstance().fences_(t,r,n,i)):s&&o===sre.SemanticAttr.Role.CLOSE&&s.role===sre.SemanticAttr.Role.NEUTRAL&&n.some(l)?(n=sre.SemanticProcessor.sliceNodes_(n,l,!0),l=i.pop(),s=i.length-n.tail.length+1,o=sre.SemanticProcessor.getInstance().neutralFences_(n.tail,i.slice(s)),i=i.slice(0,s),l=sre.SemanticProcessor.getInstance().horizontalFencedNode_(n.div,t.shift(),i.pop().concat(o,l)),i.push(i.pop().concat([l],r.shift())),sre.SemanticProcessor.getInstance().fences_(t,r,n.head,i)):(l=t.shift(),sre.SemanticProcessor.fenceToPunct_(l),i.push(i.pop().concat([l],r.shift())),sre.SemanticProcessor.getInstance().fences_(t,r,n,i))},sre.SemanticProcessor.prototype.neutralFences_=function(t,r){if(t.length===0)return t;if(t.length===1)return sre.SemanticProcessor.fenceToPunct_(t[0]),t;var n=t.shift(),i=sre.SemanticProcessor.sliceNodes_(t,function(l){return sre.SemanticProcessor.getEmbellishedInner_(l).textContent==sre.SemanticProcessor.getEmbellishedInner_(n).textContent});return i.div?(r=sre.SemanticProcessor.getInstance().combineFencedContent_(n,i.div,i.head,r),0<i.tail.length?(t=r.shift(),i=sre.SemanticProcessor.getInstance().neutralFences_(i.tail,r),t.concat(i)):r[0]):(sre.SemanticProcessor.fenceToPunct_(n),i=r.shift(),i.unshift(n),i.concat(sre.SemanticProcessor.getInstance().neutralFences_(t,r)))},sre.SemanticProcessor.prototype.combineFencedContent_=function(t,r,n,i){if(n.length===0)return t=sre.SemanticProcessor.getInstance().horizontalFencedNode_(t,r,i.shift()),0<i.length?i[0].unshift(t):i=[[t]],i;var l=i.shift(),s=n.length-1,o=i.slice(0,s);return i=i.slice(s),s=i.shift(),n=sre.SemanticProcessor.getInstance().neutralFences_(n,o),l.push.apply(l,n),l.push.apply(l,s),t=sre.SemanticProcessor.getInstance().horizontalFencedNode_(t,r,l),0<i.length?i[0].unshift(t):i=[[t]],i},sre.SemanticProcessor.FENCE_TO_PUNCT_={},sre.SemanticProcessor.FENCE_TO_PUNCT_[sre.SemanticAttr.Role.NEUTRAL]=sre.SemanticAttr.Role.VBAR,sre.SemanticProcessor.FENCE_TO_PUNCT_[sre.SemanticAttr.Role.OPEN]=sre.SemanticAttr.Role.OPENFENCE,sre.SemanticProcessor.FENCE_TO_PUNCT_[sre.SemanticAttr.Role.CLOSE]=sre.SemanticAttr.Role.CLOSEFENCE,sre.SemanticProcessor.fenceToPunct_=function(t){var r=sre.SemanticProcessor.FENCE_TO_PUNCT_[t.role];if(r){for(;t.embellished;)t.embellished=sre.SemanticAttr.Type.PUNCTUATION,t.role=r,t=t.childNodes[0];t.type=sre.SemanticAttr.Type.PUNCTUATION,t.role=r}},sre.SemanticProcessor.prototype.horizontalFencedNode_=function(t,r,n){return n=sre.SemanticProcessor.getInstance().row(n),r=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.FENCED,[n],[t,r]),t.role===sre.SemanticAttr.Role.OPEN?(this.classifyHorizontalFence_(r),this.propagateComposedFunction(r)):r.role=t.role,sre.SemanticProcessor.rewriteFencedNode_(r)},sre.SemanticProcessor.prototype.classifyHorizontalFence_=function(t){t.role=sre.SemanticAttr.Role.LEFTRIGHT;var r=t.childNodes;if(sre.SemanticPred.isSetNode(t)&&!(1<r.length))if(r.length===0||r[0].type===sre.SemanticAttr.Type.EMPTY)t.role=sre.SemanticAttr.Role.SETEMPTY;else{var n=r[0].type;if(r.length===1&&sre.SemanticPred.isSingletonSetContent(r[0]))t.role=sre.SemanticAttr.Role.SETSINGLE;else{var i=r[0].role;n===sre.SemanticAttr.Type.PUNCTUATED&&i===sre.SemanticAttr.Role.SEQUENCE&&(r[0].contentNodes[0].role===sre.SemanticAttr.Role.COMMA?t.role=sre.SemanticAttr.Role.SETCOLLECT:r[0].contentNodes.length!==1||r[0].contentNodes[0].role!==sre.SemanticAttr.Role.VBAR&&r[0].contentNodes[0].role!==sre.SemanticAttr.Role.COLON||(t.role=sre.SemanticAttr.Role.SETEXT,this.setExtension_(t)))}}},sre.SemanticProcessor.prototype.setExtension_=function(t){(t=t.childNodes[0].childNodes[0])&&t.type===sre.SemanticAttr.Type.INFIXOP&&t.contentNodes.length===1&&t.contentNodes[0].role===sre.SemanticAttr.Role.UNKNOWN&&(t.contentNodes[0].role=sre.SemanticAttr.Role.SETEXT)},sre.SemanticProcessor.prototype.getPunctuationInRow_=function(t){if(1>=t.length)return t;var r=function(o){return o=o.type,o==="punctuation"||o==="text"||o==="operator"||o==="relation"},n=sre.SemanticProcessor.partitionNodes_(t,function(o){if(!sre.SemanticPred.isPunctuation(o))return!1;if(sre.SemanticPred.isPunctuation(o)&&!sre.SemanticPred.isAttribute("role","ELLIPSIS")(o))return!0;var u=t.indexOf(o);return u===0?!(t[1]&&r(t[1])):(o=t[u-1],u===t.length-1?!r(o):(u=t[u+1],!(r(o)&&r(u))))});if(n.rel.length===0)return t;var i=[],l=n.comp.shift();0<l.length&&i.push(sre.SemanticProcessor.getInstance().row(l));for(var s=0;0<n.comp.length;)i.push(n.rel[s++]),l=n.comp.shift(),0<l.length&&i.push(sre.SemanticProcessor.getInstance().row(l));return[sre.SemanticProcessor.getInstance().punctuatedNode_(i,n.rel)]},sre.SemanticProcessor.prototype.punctuatedNode_=function(t,r){var n=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.PUNCTUATED,t,r);if(r.length===t.length){var i=r[0].role;if(i!==sre.SemanticAttr.Role.UNKNOWN&&r.every(function(l){return l.role===i}))return n.role=i,n}return sre.SemanticPred.singlePunctAtPosition(t,r,0)?n.role=sre.SemanticAttr.Role.STARTPUNCT:sre.SemanticPred.singlePunctAtPosition(t,r,t.length-1)?n.role=sre.SemanticAttr.Role.ENDPUNCT:r.every(sre.SemanticPred.isAttribute("role","DUMMY"))?n.role=sre.SemanticAttr.Role.TEXT:n.role=sre.SemanticAttr.Role.SEQUENCE,n},sre.SemanticProcessor.prototype.dummyNode_=function(t){var r=sre.SemanticProcessor.getInstance().factory_.makeMultipleContentNodes(t.length-1,sre.SemanticAttr.invisibleComma());return r.forEach(function(n){n.role=sre.SemanticAttr.Role.DUMMY}),sre.SemanticProcessor.getInstance().punctuatedNode_(t,r)},sre.SemanticProcessor.MML_TO_LIMIT_={MSUB:sre.SemanticAttr.Type.LIMLOWER,MUNDER:sre.SemanticAttr.Type.LIMLOWER,MSUP:sre.SemanticAttr.Type.LIMUPPER,MOVER:sre.SemanticAttr.Type.LIMUPPER,MSUBSUP:sre.SemanticAttr.Type.LIMBOTH,MUNDEROVER:sre.SemanticAttr.Type.LIMBOTH},sre.SemanticProcessor.prototype.limitNode=function(t,r){var n=r[0];if(sre.SemanticPred.isLimitBase(n))t=sre.SemanticProcessor.MML_TO_LIMIT_[t];else switch(t){case"MSUB":t=sre.SemanticAttr.Type.SUBSCRIPT;break;case"MSUP":t=sre.SemanticAttr.Type.SUPERSCRIPT;break;case"MSUBSUP":var i=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.SUBSCRIPT,[n,r[1]],[]);i.role=sre.SemanticAttr.Role.SUBSUP,r=[i,r[2]],t=sre.SemanticAttr.Type.SUPERSCRIPT;break;case"MOVER":t=sre.SemanticAttr.Type.OVERSCORE,sre.SemanticPred.isAccent(r[1])&&(r[1].role=sre.SemanticAttr.Role.OVERACCENT);break;case"MUNDER":t=sre.SemanticAttr.Type.UNDERSCORE,sre.SemanticPred.isAccent(r[1])&&(r[1].role=sre.SemanticAttr.Role.UNDERACCENT);break;default:i=sre.SemanticPred.isAccent(r[1]),t=sre.SemanticPred.isAccent(r[2]),i&&(r[1].role=sre.SemanticAttr.Role.UNDERACCENT),t&&(r[2].role=sre.SemanticAttr.Role.OVERACCENT),t&&!i?(i=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.OVERSCORE,[n,r[2]],[]),r=[i,r[1]],t=sre.SemanticAttr.Type.UNDERSCORE):(i=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.UNDERSCORE,[n,r[1]],[]),r=[i,r[2]],t=sre.SemanticAttr.Type.OVERSCORE),i.role=sre.SemanticAttr.Role.UNDEROVER}return r=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(t,r,[]),t=sre.SemanticPred.isEmbellished(n),i&&(i.embellished=t),r.embellished=t,r.role=n.role,r},sre.SemanticProcessor.prototype.getFunctionsInRow_=function(t,r){if(r=r||[],t.length===0)return r;var n=t.shift(),i=sre.SemanticProcessor.classifyFunction_(n,t);return i?(t=sre.SemanticProcessor.getInstance().getFunctionsInRow_(t,[]),t=sre.SemanticProcessor.getInstance().getFunctionArgs_(n,t,i),r.concat(t)):(r.push(n),sre.SemanticProcessor.getInstance().getFunctionsInRow_(t,r))},sre.SemanticProcessor.CLASSIFY_FUNCTION_={},sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.INTEGRAL]="integral",sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.SUM]="bigop",sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.PREFIXFUNC]="prefix",sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.LIMFUNC]="prefix",sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.SIMPLEFUNC]="prefix",sre.SemanticProcessor.CLASSIFY_FUNCTION_[sre.SemanticAttr.Role.COMPFUNC]="prefix",sre.SemanticProcessor.classifyFunction_=function(t,r){return t.type===sre.SemanticAttr.Type.APPL||t.type===sre.SemanticAttr.Type.BIGOP||t.type===sre.SemanticAttr.Type.INTEGRAL?"":r[0]&&r[0].textContent===sre.SemanticAttr.functionApplication()?(r.shift(),r=sre.SemanticAttr.Role.SIMPLEFUNC,(t.role===sre.SemanticAttr.Role.PREFIXFUNC||t.role===sre.SemanticAttr.Role.LIMFUNC)&&(r=t.role),sre.SemanticProcessor.propagateFunctionRole_(t,r),"prefix"):(r=sre.SemanticProcessor.CLASSIFY_FUNCTION_[t.role])?r:sre.SemanticPred.isSimpleFunctionHead(t)?"simple":""},sre.SemanticProcessor.propagateFunctionRole_=function(t,r){t&&(sre.SemanticPred.isAttribute("role","SUBSUP")(t)||(t.role=r),sre.SemanticProcessor.propagateFunctionRole_(t.childNodes[0],r))},sre.SemanticProcessor.prototype.getFunctionArgs_=function(t,r,n){switch(n){case"integral":return r=sre.SemanticProcessor.getInstance().getIntegralArgs_(r),!r.intvar&&!r.integrand.length?(r.rest.unshift(t),r.rest):(n=sre.SemanticProcessor.getInstance().row(r.integrand),t=sre.SemanticProcessor.getInstance().integralNode_(t,n,r.intvar),r.rest.unshift(t),r.rest);case"prefix":if(r[0]&&r[0].type===sre.SemanticAttr.Type.FENCED){var i=r.shift();return i.role!==sre.SemanticAttr.Role.NEUTRAL&&(i.role=sre.SemanticAttr.Role.LEFTRIGHT),t=sre.SemanticProcessor.getInstance().functionNode_(t,i),r.unshift(t),r}if(n=sre.SemanticProcessor.sliceNodes_(r,sre.SemanticPred.isPrefixFunctionBoundary),n.head.length)i=sre.SemanticProcessor.getInstance().row(n.head),n.div&&n.tail.unshift(n.div);else{if(!n.div||!sre.SemanticPred.isAttribute("type","APPL")(n.div))return r.unshift(t),r;i=n.div}return t=sre.SemanticProcessor.getInstance().functionNode_(t,i),n.tail.unshift(t),n.tail;case"bigop":return n=sre.SemanticProcessor.sliceNodes_(r,sre.SemanticPred.isBigOpBoundary),n.head.length?(i=sre.SemanticProcessor.getInstance().row(n.head),t=sre.SemanticProcessor.getInstance().bigOpNode_(t,i),n.div&&n.tail.unshift(n.div),n.tail.unshift(t),n.tail):(r.unshift(t),r);default:return r.length===0?[t]:(n=r[0],n.type===sre.SemanticAttr.Type.FENCED&&n.role!==sre.SemanticAttr.Role.NEUTRAL&&sre.SemanticPred.isSimpleFunctionScope(n)?(n.role=sre.SemanticAttr.Role.LEFTRIGHT,sre.SemanticProcessor.propagateFunctionRole_(t,sre.SemanticAttr.Role.SIMPLEFUNC),t=sre.SemanticProcessor.getInstance().functionNode_(t,r.shift()),r.unshift(t),r):(r.unshift(t),r))}},sre.SemanticProcessor.prototype.getIntegralArgs_=function(t,r){if(r=r||[],t.length===0)return{integrand:r,intvar:null,rest:t};var n=t[0];return sre.SemanticPred.isGeneralFunctionBoundary(n)?{integrand:r,intvar:null,rest:t}:sre.SemanticPred.isIntegralDxBoundarySingle(n)?{integrand:r,intvar:n,rest:t.slice(1)}:t[1]&&sre.SemanticPred.isIntegralDxBoundary(n,t[1])?(n=sre.SemanticProcessor.getInstance().prefixNode_(t[1],[n]),n.role=sre.SemanticAttr.Role.INTEGRAL,{integrand:r,intvar:n,rest:t.slice(2)}):(r.push(t.shift()),sre.SemanticProcessor.getInstance().getIntegralArgs_(t,r))},sre.SemanticProcessor.prototype.functionNode_=function(t,r){var n=sre.SemanticProcessor.getInstance().factory_.makeContentNode(sre.SemanticAttr.functionApplication());n.type=sre.SemanticAttr.Type.PUNCTUATION,n.role=sre.SemanticAttr.Role.APPLICATION;var i=sre.SemanticProcessor.getFunctionOp_(t,function(l){return sre.SemanticPred.isAttribute("type","FUNCTION")(l)||sre.SemanticPred.isAttribute("type","IDENTIFIER")(l)&&sre.SemanticPred.isAttribute("role","SIMPLEFUNC")(l)});return sre.SemanticProcessor.getInstance().functionalNode_(sre.SemanticAttr.Type.APPL,[t,r],i,[n])},sre.SemanticProcessor.prototype.bigOpNode_=function(t,r){var n=sre.SemanticProcessor.getFunctionOp_(t,sre.SemanticPred.isAttribute("type","LARGEOP"));return sre.SemanticProcessor.getInstance().functionalNode_(sre.SemanticAttr.Type.BIGOP,[t,r],n,[])},sre.SemanticProcessor.prototype.integralNode_=function(t,r,n){r=r||sre.SemanticProcessor.getInstance().factory_.makeEmptyNode(),n=n||sre.SemanticProcessor.getInstance().factory_.makeEmptyNode();var i=sre.SemanticProcessor.getFunctionOp_(t,sre.SemanticPred.isAttribute("type","LARGEOP"));return sre.SemanticProcessor.getInstance().functionalNode_(sre.SemanticAttr.Type.INTEGRAL,[t,r,n],i,[])},sre.SemanticProcessor.prototype.functionalNode_=function(t,r,n,i){var l=r[0];if(n){var s=n.parent;i.push(n)}return t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(t,r,i),t.role=l.role,s&&(n.parent=s),t},sre.SemanticProcessor.getFunctionOp_=function(t,r){if(r(t))return t;for(var n=0,i;i=t.childNodes[n];n++)if(i=sre.SemanticProcessor.getFunctionOp_(i,r))return i;return null},sre.SemanticProcessor.prototype.tablesInRow=function(t){t=sre.SemanticProcessor.partitionNodes_(t,sre.SemanticPred.tableIsMatrixOrVector);for(var r=[],n=0,i;i=t.rel[n];n++)r=r.concat(t.comp.shift()),r.push(sre.SemanticProcessor.tableToMatrixOrVector_(i));for(r=r.concat(t.comp.shift()),t=sre.SemanticProcessor.partitionNodes_(r,sre.SemanticPred.isTableOrMultiline),r=[],n=0;i=t.rel[n];n++){var l=t.comp.shift();sre.SemanticPred.tableIsCases(i,l)&&sre.SemanticProcessor.tableToCases_(i,l.pop()),r=r.concat(l),r.push(i)}return r.concat(t.comp.shift())},sre.SemanticProcessor.tableToMatrixOrVector_=function(t){var r=t.childNodes[0];sre.SemanticPred.isAttribute("type","MULTILINE")(r)?sre.SemanticProcessor.tableToVector_(t):sre.SemanticProcessor.tableToMatrix_(t),t.contentNodes.forEach(goog.bind(r.appendContentNode,r)),t=0;for(var n;n=r.childNodes[t];t++)sre.SemanticProcessor.assignRoleToRow_(n,sre.SemanticProcessor.getComponentRoles_(r));return r.parent=null,r},sre.SemanticProcessor.tableToVector_=function(t){var r=t.childNodes[0];r.type=sre.SemanticAttr.Type.VECTOR,r.childNodes.length===1?sre.SemanticProcessor.tableToSquare_(t):sre.SemanticProcessor.binomialForm_(r)},sre.SemanticProcessor.binomialForm_=function(t){sre.SemanticPred.isBinomial(t)&&(t.role=sre.SemanticAttr.Role.BINOMIAL,t.childNodes[0].role=sre.SemanticAttr.Role.BINOMIAL,t.childNodes[1].role=sre.SemanticAttr.Role.BINOMIAL)},sre.SemanticProcessor.tableToMatrix_=function(t){var r=t.childNodes[0];r.type=sre.SemanticAttr.Type.MATRIX,r.childNodes&&0<r.childNodes.length&&r.childNodes[0].childNodes&&r.childNodes.length===r.childNodes[0].childNodes.length?sre.SemanticProcessor.tableToSquare_(t):r.childNodes&&r.childNodes.length===1&&(r.role=sre.SemanticAttr.Role.ROWVECTOR)},sre.SemanticProcessor.tableToSquare_=function(t){var r=t.childNodes[0];sre.SemanticPred.isAttribute("role","NEUTRAL")(t)?r.role=sre.SemanticAttr.Role.DETERMINANT:r.role=sre.SemanticAttr.Role.SQUAREMATRIX},sre.SemanticProcessor.getComponentRoles_=function(t){var r=t.role;return r&&r!==sre.SemanticAttr.Role.UNKNOWN?r:sre.SemanticAttr.Role[t.type.toUpperCase()]||sre.SemanticAttr.Role.UNKNOWN},sre.SemanticProcessor.tableToCases_=function(t,r){for(var n=0,i;i=t.childNodes[n];n++)sre.SemanticProcessor.assignRoleToRow_(i,sre.SemanticAttr.Role.CASES);return t.type=sre.SemanticAttr.Type.CASES,t.appendContentNode(r),sre.SemanticPred.tableIsMultiline(t)&&sre.SemanticProcessor.binomialForm_(t),t},sre.SemanticProcessor.tableToMultiline=function(t){if(sre.SemanticPred.tableIsMultiline(t)){t.type=sre.SemanticAttr.Type.MULTILINE;for(var r=0,n;n=t.childNodes[r];r++)sre.SemanticProcessor.rowToLine_(n,sre.SemanticAttr.Role.MULTILINE);t.childNodes.length===1&&sre.SemanticPred.isFencedElement(t.childNodes[0].childNodes[0])&&sre.SemanticProcessor.tableToMatrixOrVector_(sre.SemanticProcessor.rewriteFencedLine_(t)),sre.SemanticProcessor.binomialForm_(t),sre.SemanticProcessor.classifyMultiline(t)}else sre.SemanticProcessor.classifyTable(t)},sre.SemanticProcessor.rewriteFencedLine_=function(t){var r=t.childNodes[0],n=t.childNodes[0].childNodes[0],i=t.childNodes[0].childNodes[0].childNodes[0];return n.parent=t.parent,t.parent=n,i.parent=r,n.childNodes=[t],r.childNodes=[i],n},sre.SemanticProcessor.rowToLine_=function(t,r){r=r||sre.SemanticAttr.Role.UNKNOWN,sre.SemanticPred.isAttribute("type","ROW")(t)&&(t.type=sre.SemanticAttr.Type.LINE,t.role=r,t.childNodes.length===1&&sre.SemanticPred.isAttribute("type","CELL")(t.childNodes[0])&&(t.childNodes=t.childNodes[0].childNodes,t.childNodes.forEach(function(n){n.parent=t})))},sre.SemanticProcessor.assignRoleToRow_=function(t,r){if(sre.SemanticPred.isAttribute("type","LINE")(t))t.role=r;else if(sre.SemanticPred.isAttribute("type","ROW")(t)){t.role=r;var n=sre.SemanticPred.isAttribute("type","CELL");t.childNodes.forEach(function(i){n(i)&&(i.role=r)})}},sre.SemanticProcessor.sliceNodes_=function(t,r,n){n&&t.reverse();for(var i=[],l=0,s;s=t[l];l++){if(r(s))return n?{head:t.slice(l+1).reverse(),div:s,tail:i.reverse()}:{head:i,div:s,tail:t.slice(l+1)};i.push(s)}return n?{head:[],div:null,tail:i.reverse()}:{head:i,div:null,tail:[]}},sre.SemanticProcessor.partitionNodes_=function(t,r){var n=[],i=[];do{var l=sre.SemanticProcessor.sliceNodes_(t,r);i.push(l.head),n.push(l.div),t=l.tail}while(l.div);return n.pop(),{rel:n,comp:i}},sre.SemanticProcessor.prototype.mfenced=function(t,r,n,i){if(n&&0<i.length){var l=sre.SemanticProcessor.nextSeparatorFunction_(n),s=[i.shift()];i.forEach(goog.bind(function(o){s.push(sre.SemanticProcessor.getInstance().factory_.makeContentNode(l())),s.push(o)},this)),i=s}return t&&r?sre.SemanticProcessor.getInstance().horizontalFencedNode_(sre.SemanticProcessor.getInstance().factory_.makeContentNode(t),sre.SemanticProcessor.getInstance().factory_.makeContentNode(r),i):(t&&i.unshift(sre.SemanticProcessor.getInstance().factory_.makeContentNode(t)),r&&i.push(sre.SemanticProcessor.getInstance().factory_.makeContentNode(r)),sre.SemanticProcessor.getInstance().row(i))},sre.SemanticProcessor.nextSeparatorFunction_=function(t){if(t){if(t.match(/^\s+$/))return null;var r=t.replace(/\s/g,"").split("").filter(function(n){return n})}else r=[","];return function(){return 1<r.length?r.shift():r[0]}},sre.SemanticProcessor.number=function(t){(t.type===sre.SemanticAttr.Type.UNKNOWN||t.type===sre.SemanticAttr.Type.IDENTIFIER)&&(t.type=sre.SemanticAttr.Type.NUMBER),sre.SemanticProcessor.numberRole_(t),sre.SemanticProcessor.exprFont_(t)},sre.SemanticProcessor.numberRole_=function(t){if(t.role===sre.SemanticAttr.Role.UNKNOWN){var r=sre.SemanticUtil.splitUnicode(t.textContent).map(sre.SemanticAttr.lookupMeaning);r.every(function(n){return n.type===sre.SemanticAttr.Type.NUMBER&&n.role===sre.SemanticAttr.Role.INTEGER||n.type===sre.SemanticAttr.Type.PUNCTUATION&&n.role===sre.SemanticAttr.Role.COMMA})?t.role=sre.SemanticAttr.Role.INTEGER:r.every(function(n){return n.type===sre.SemanticAttr.Type.NUMBER&&n.role===sre.SemanticAttr.Role.INTEGER||n.type===sre.SemanticAttr.Type.PUNCTUATION})?t.role=sre.SemanticAttr.Role.FLOAT:t.role=sre.SemanticAttr.Role.OTHERNUMBER}},sre.SemanticProcessor.exprFont_=function(t){if(t.font===sre.SemanticAttr.Font.UNKNOWN){var r=sre.SemanticUtil.splitUnicode(t.textContent).map(sre.SemanticAttr.lookupMeaning).reduce(function(n,i){return n&&i.font&&i.font!==sre.SemanticAttr.Font.UNKNOWN&&i.font!==n?n===sre.SemanticAttr.Font.UNKNOWN?i.font:null:n},sre.SemanticAttr.Font.UNKNOWN);r&&(t.font=r)}},sre.SemanticProcessor.prototype.fractionLikeNode=function(t,r,n,i){return!i&&sre.SemanticUtil.isZeroLength(n)?(i=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.LINE,[t],[]),r=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.LINE,[r],[]),r=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.MULTILINE,[i,r],[]),sre.SemanticProcessor.binomialForm_(r),sre.SemanticProcessor.classifyMultiline(r)):(r=sre.SemanticProcessor.getInstance().fractionNode_(t,r),i&&r.addAnnotation("general","bevelled")),r},sre.SemanticProcessor.prototype.fractionNode_=function(t,r){return t=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.FRACTION,[t,r],[]),t.role=t.childNodes.every(function(n){return sre.SemanticPred.isAttribute("type","NUMBER")(n)&&sre.SemanticPred.isAttribute("role","INTEGER")(n)})?sre.SemanticAttr.Role.VULGAR:t.childNodes.every(sre.SemanticPred.isPureUnit)?sre.SemanticAttr.Role.UNIT:sre.SemanticAttr.Role.DIVISION,this.propagateSimpleFunction(t),t},sre.SemanticProcessor.prototype.tensor=function(t,r,n,i,l){return r=sre.SemanticProcessor.getInstance().factory_.makeBranchNode(sre.SemanticAttr.Type.TENSOR,[t,sre.SemanticProcessor.getInstance().scriptNode_(r,sre.SemanticAttr.Role.LEFTSUB),sre.SemanticProcessor.getInstance().scriptNode_(n,sre.SemanticAttr.Role.LEFTSUPER),sre.SemanticProcessor.getInstance().scriptNode_(i,sre.SemanticAttr.Role.RIGHTSUB),sre.SemanticProcessor.getInstance().scriptNode_(l,sre.SemanticAttr.Role.RIGHTSUPER)],[]),r.role=t.role,r.embellished=sre.SemanticPred.isEmbellished(t),r},sre.SemanticProcessor.prototype.pseudoTensor=function(t,r,n){var i=function(o){return!sre.SemanticPred.isAttribute("type","EMPTY")(o)},l=r.filter(i).length;if(i=n.filter(i).length,!l&&!i)return t;var s=l?i?"MSUBSUP":"MSUB":"MSUP";return t=[t],l&&t.push(sre.SemanticProcessor.getInstance().scriptNode_(r,sre.SemanticAttr.Role.RIGHTSUB,!0)),i&&t.push(sre.SemanticProcessor.getInstance().scriptNode_(n,sre.SemanticAttr.Role.RIGHTSUPER,!0)),sre.SemanticProcessor.getInstance().limitNode(s,t)},sre.SemanticProcessor.prototype.scriptNode_=function(t,r,n){switch(t.length){case 0:t=sre.SemanticProcessor.getInstance().factory_.makeEmptyNode();break;case 1:if(t=t[0],n)return t;break;default:t=sre.SemanticProcessor.getInstance().dummyNode_(t)}return t.role=r,t},sre.SemanticProcessor.getEmbellishedInner_=function(t){return t&&t.embellished&&0<t.childNodes.length?sre.SemanticProcessor.getEmbellishedInner_(t.childNodes[0]):t},sre.SemanticProcessor.purgeFences_=function(t){var r=t.rel;t=t.comp;for(var n=[],i=[];0<r.length;){var l=r.shift(),s=t.shift();sre.SemanticPred.isElligibleEmbellishedFence(l)?(n.push(l),i.push(s)):(sre.SemanticProcessor.fenceToPunct_(l),s.push(l),s=s.concat(t.shift()),t.unshift(s))}return i.push(t.shift()),{rel:n,comp:i}},sre.SemanticProcessor.rewriteFencedNode_=function(t){var r=t.contentNodes[1],n=sre.SemanticProcessor.rewriteFence_(t,t.contentNodes[0]);return t.contentNodes[0]=n.fence,n=sre.SemanticProcessor.rewriteFence_(n.node,r),t.contentNodes[1]=n.fence,t.contentNodes[0].parent=t,t.contentNodes[1].parent=t,n.node.parent=null,n.node},sre.SemanticProcessor.rewriteFence_=function(t,r){if(!r.embellished)return{node:t,fence:r};var n=r.childNodes[0],i=sre.SemanticProcessor.rewriteFence_(t,n);return sre.SemanticPred.isAttribute("type","SUPERSCRIPT")(r)||sre.SemanticPred.isAttribute("type","SUBSCRIPT")(r)||sre.SemanticPred.isAttribute("type","TENSOR")(r)?(sre.SemanticPred.isAttribute("role","SUBSUP")(r)||(r.role=t.role),n!==i.node&&(r.replaceChild(n,i.node),n.parent=t),sre.SemanticProcessor.propagateFencePointer_(r,n),{node:r,fence:i.fence}):(r.replaceChild(n,i.fence),r.mathmlTree&&r.mathml.indexOf(r.mathmlTree)===-1&&r.mathml.push(r.mathmlTree),{node:i.node,fence:r})},sre.SemanticProcessor.propagateFencePointer_=function(t,r){t.fencePointer=r.fencePointer||r.id.toString(),t.embellished=null},sre.SemanticProcessor.classifyMultiline=function(t){for(var r=0,n=t.childNodes.length,i;r<n&&(!(i=t.childNodes[r])||!i.childNodes.length);)r++;if(!(r>=n)){var l=i.childNodes[0].role;l!==sre.SemanticAttr.Role.UNKNOWN&&t.childNodes.every(function(s){return s=s.childNodes[0],!s||s.role===l&&(sre.SemanticPred.isAttribute("type","RELATION")(s)||sre.SemanticPred.isAttribute("type","RELSEQ")(s))})&&(t.role=l)}},sre.SemanticProcessor.classifyTable=function(t){var r=sre.SemanticProcessor.computeColumns_(t);sre.SemanticProcessor.classifyByColumns_(t,r,"EQUALITY")||sre.SemanticProcessor.classifyByColumns_(t,r,"INEQUALITY",["EQUALITY"])||sre.SemanticProcessor.classifyByColumns_(t,r,"ARROW")},sre.SemanticProcessor.classifyByColumns_=function(t,r,n,i){i=function(o){return sre.SemanticProcessor.isPureRelation_(o,n)};var l=function(o){return sre.SemanticProcessor.isEndRelation_(o,n)||sre.SemanticProcessor.isPureRelation_(o,n)},s=function(o){return sre.SemanticProcessor.isEndRelation_(o,n,!0)||sre.SemanticProcessor.isPureRelation_(o,n)};return r.length===3&&sre.SemanticProcessor.testColumns_(r,1,i)||r.length===2&&(sre.SemanticProcessor.testColumns_(r,1,l)||sre.SemanticProcessor.testColumns_(r,0,s))?(t.role=sre.SemanticAttr.Role[n],!0):!1},sre.SemanticProcessor.isEndRelation_=function(t,r,n){return n=n?t.childNodes.length-1:0,sre.SemanticPred.isAttribute("type","RELSEQ")(t)&&sre.SemanticPred.isAttribute("role",r)(t)&&sre.SemanticPred.isAttribute("type","EMPTY")(t.childNodes[n])},sre.SemanticProcessor.isPureRelation_=function(t,r){return sre.SemanticPred.isAttribute("type","RELATION")(t)&&sre.SemanticPred.isAttribute("role",r)(t)},sre.SemanticProcessor.computeColumns_=function(t){for(var r=[],n=0,i;i=t.childNodes[n];n++)for(var l=0,s;s=i.childNodes[l];l++)r[l]?r[l].push(s):r[l]=[s];return r},sre.SemanticProcessor.testColumns_=function(t,r,n){return(t=t[r])?t.some(function(i){return i.childNodes.length&&n(i.childNodes[0])})&&t.every(function(i){return!i.childNodes.length||n(i.childNodes[0])}):!1},sre.SemanticProcessor.MATHJAX_FONTS={"-tex-caligraphic":sre.SemanticAttr.Font.CALIGRAPHIC,"-tex-caligraphic-bold":sre.SemanticAttr.Font.CALIGRAPHICBOLD,"-tex-calligraphic":sre.SemanticAttr.Font.CALIGRAPHIC,"-tex-calligraphic-bold":sre.SemanticAttr.Font.CALIGRAPHICBOLD,"-tex-oldstyle":sre.SemanticAttr.Font.OLDSTYLE,"-tex-oldstyle-bold":sre.SemanticAttr.Font.OLDSTYLEBOLD,"-tex-mathit":sre.SemanticAttr.Font.ITALIC},sre.SemanticProcessor.prototype.font=function(t){var r=sre.SemanticProcessor.MATHJAX_FONTS[t];return r||t},sre.SemanticProcessor.prototype.propagateSimpleFunction=function(t){sre.Engine.getInstance().domain!=="clearspeak"||t.type!==sre.SemanticAttr.Type.INFIXOP&&t.type!==sre.SemanticAttr.Type.FRACTION||!t.childNodes.every(sre.SemanticPred.isSimpleFunction)||(t.role=sre.SemanticAttr.Role.COMPFUNC)},sre.SemanticProcessor.prototype.propagateComposedFunction=function(t){sre.Engine.getInstance().domain==="clearspeak"&&t.type===sre.SemanticAttr.Type.FENCED&&t.childNodes[0].role===sre.SemanticAttr.Role.COMPFUNC&&(t.role=sre.SemanticAttr.Role.COMPFUNC)},sre.SemanticProcessor.proof=function(t,r,n){return r=sre.SemanticProcessor.separateSemantics(r),sre.SemanticProcessor.getInstance().proof(t,r,n)},sre.SemanticProcessor.prototype.proof=function(t,r,n){return r.inference||r.axiom||console.log("Noise"),r.axiom?(r=this.cleanInference(t.childNodes),r=r.length?this.factory_.makeBranchNode(sre.SemanticAttr.Type.INFERENCE,n(r),[]):this.factory_.makeEmptyNode(),r.role=sre.SemanticAttr.Role.AXIOM,r.mathmlTree=t,r):(t=this.inference(t,r,n),r.proof&&(t.role=sre.SemanticAttr.Role.PROOF,t.childNodes[0].role=sre.SemanticAttr.Role.FINAL),t)},sre.SemanticProcessor.prototype.inference=function(t,r,n){if(r.inferenceRule)return n=this.getFormulas(t,[],n),n=this.factory_.makeBranchNode(sre.SemanticAttr.Type.INFERENCE,[n.conclusion,n.premises],[]);var i=r.labelledRule,l=sre.DomUtil.toArray(t.childNodes);return r=[],i!=="left"&&i!=="both"||r.push(this.getLabel(t,l,n,sre.SemanticAttr.Role.LEFT)),i!=="right"&&i!=="both"||r.push(this.getLabel(t,l,n,sre.SemanticAttr.Role.RIGHT)),n=this.getFormulas(t,l,n),n=this.factory_.makeBranchNode(sre.SemanticAttr.Type.INFERENCE,[n.conclusion,n.premises],r),n.mathmlTree=t,n},sre.SemanticProcessor.prototype.getLabel=function(t,r,n,i){return t=this.findNestedRow(r,"prooflabel",i),n=this.factory_.makeBranchNode(sre.SemanticAttr.Type.RULELABEL,n(sre.DomUtil.toArray(t.childNodes)),[]),n.role=i,n.mathmlTree=t,n},sre.SemanticProcessor.prototype.getFormulas=function(t,r,n){r=r.length?this.findNestedRow(r,"inferenceRule"):t;var i=sre.SemanticProcessor.getSemantics(r).inferenceRule==="up";t=i?r.childNodes[0]:r.childNodes[1],r=(i?r.childNodes[1]:r.childNodes[0]).childNodes[0].childNodes[0];var l=sre.DomUtil.toArray(r.childNodes[0].childNodes);i=[];var s=1;l=$jscomp.makeIterator(l);for(var o=l.next();!o.done;o=l.next())o=o.value,s%2&&i.push(o.childNodes[0]),s++;return i=n(i),n=n(sre.DomUtil.toArray(t.childNodes[0].childNodes))[0],i=this.factory_.makeBranchNode(sre.SemanticAttr.Type.PREMISES,i,[]),i.mathmlTree=r,n=this.factory_.makeBranchNode(sre.SemanticAttr.Type.CONCLUSION,[n],[]),n.mathmlTree=t.childNodes[0].childNodes[0],{conclusion:n,premises:i}},sre.SemanticProcessor.prototype.findNestedRow=function(t,r,n){return this.findNestedRow_(t,r,0,n)},sre.SemanticProcessor.prototype.findNestedRow_=function(t,r,n,i){if(3<n)return null;for(var l=0,s;s=t[l];l++){var o=sre.DomUtil.tagName(s);if(o!=="MSPACE"){if(o==="MROW")return this.findNestedRow_(sre.DomUtil.toArray(s.childNodes),r,n+1,i);if(sre.SemanticProcessor.findSemantics(s,r,i))return s}}return null},sre.SemanticProcessor.prototype.cleanInference=function(t){return sre.DomUtil.toArray(t).filter(function(r){return sre.DomUtil.tagName(r)!=="MSPACE"})},sre.SemanticProcessor.findSemantics=function(t,r,n){return n=n==null?null:n,(t=sre.SemanticProcessor.getSemantics(t))&&t[r]?n==null?!0:t[r]===n:!1},sre.SemanticProcessor.getSemantics=function(t){return(t=t.getAttribute("semantics"))?sre.SemanticProcessor.separateSemantics(t):null},sre.SemanticProcessor.removePrefix=function(t){return t=$jscomp.makeIterator(t.split("_")),t.next(),$jscomp.arrayFromIterator(t).join("_")},sre.SemanticProcessor.separateSemantics=function(t){var r={};return t.split(";").forEach(function(n){var i=$jscomp.makeIterator(n.split(":"));n=i.next().value,i=i.next().value,r[sre.SemanticProcessor.removePrefix(n)]=i}),r},sre.SemanticMathml=function(){sre.SemanticAbstractParser.call(this,"MathML"),this.parseMap_={SEMANTICS:goog.bind(this.semantics_,this),MATH:goog.bind(this.rows_,this),MROW:goog.bind(this.rows_,this),MPADDED:goog.bind(this.rows_,this),MSTYLE:goog.bind(this.rows_,this),MFRAC:goog.bind(this.fraction_,this),MSUB:goog.bind(this.limits_,this),MSUP:goog.bind(this.limits_,this),MSUBSUP:goog.bind(this.limits_,this),MOVER:goog.bind(this.limits_,this),MUNDER:goog.bind(this.limits_,this),MUNDEROVER:goog.bind(this.limits_,this),MROOT:goog.bind(this.root_,this),MSQRT:goog.bind(this.sqrt_,this),MTABLE:goog.bind(this.table_,this),MLABELEDTR:goog.bind(this.tableLabeledRow_,this),MTR:goog.bind(this.tableRow_,this),MTD:goog.bind(this.tableCell_,this),MS:goog.bind(this.text_,this),MTEXT:goog.bind(this.text_,this),"ANNOTATION-XML":goog.bind(this.text_,this),MI:goog.bind(this.identifier_,this),MN:goog.bind(this.number_,this),MO:goog.bind(this.operator_,this),MFENCED:goog.bind(this.fenced_,this),MENCLOSE:goog.bind(this.enclosed_,this),MMULTISCRIPTS:goog.bind(this.multiscripts_,this),ANNOTATION:goog.bind(this.empty_,this),NONE:goog.bind(this.empty_,this),MACTION:goog.bind(this.action_,this)}},goog.inherits(sre.SemanticMathml,sre.SemanticAbstractParser),sre.SemanticMathml.prototype.parse=function(t){sre.SemanticProcessor.getInstance().setNodeFactory(this.getFactory());var r=sre.DomUtil.toArray(t.childNodes),n=sre.DomUtil.tagName(t),i=this.parseMap_[n];return r=(i||goog.bind(this.dummy_,this))(t,r),this.addAttributes(r,t),["MATH","MROW","MPADDED","MSTYLE","SEMANTICS"].indexOf(n)!==-1||(r.mathml.unshift(t),r.mathmlTree=t),r},sre.SemanticMathml.prototype.addAttributes=function(t,r){if(r.hasAttributes()){r=r.attributes;for(var n=r.length-1;0<=n;n--){var i=r[n].name;i.match(/^ext/)&&(t.attributes[i]=r[n].value)}}},sre.SemanticMathml.prototype.semantics_=function(t,r){return r.length?this.parse(r[0]):this.getFactory().makeEmptyNode()},sre.SemanticMathml.prototype.rows_=function(t,r){var n=t.getAttribute("semantics");return n&&n.match("bspr_")?sre.SemanticProcessor.proof(t,n,goog.bind(this.parseList,this)):(r=sre.SemanticUtil.purgeNodes(r),r=r.length===1?this.parse(r[0]):sre.SemanticProcessor.getInstance().row(this.parseList(r)),r.mathml.unshift(t),r)},sre.SemanticMathml.prototype.fraction_=function(t,r){return sre.SemanticProcessor.getInstance().fractionLikeNode(this.parse(r[0]),this.parse(r[1]),t.getAttribute("linethickness"),t.getAttribute("bevelled")==="true")},sre.SemanticMathml.prototype.limits_=function(t,r){return sre.SemanticProcessor.getInstance().limitNode(sre.DomUtil.tagName(t),this.parseList(r))},sre.SemanticMathml.prototype.root_=function(t,r){return this.getFactory().makeBranchNode(sre.SemanticAttr.Type.ROOT,[this.parse(r[1]),this.parse(r[0])],[])},sre.SemanticMathml.prototype.sqrt_=function(t,r){return t=this.parseList(sre.SemanticUtil.purgeNodes(r)),this.getFactory().makeBranchNode(sre.SemanticAttr.Type.SQRT,[sre.SemanticProcessor.getInstance().row(t)],[])},sre.SemanticMathml.prototype.table_=function(t,r){var n=t.getAttribute("semantics");return n&&n.match("bspr_")?sre.SemanticProcessor.proof(t,n,goog.bind(this.parseList,this)):(t=this.getFactory().makeBranchNode(sre.SemanticAttr.Type.TABLE,this.parseList(r),[]),sre.SemanticProcessor.tableToMultiline(t),t)},sre.SemanticMathml.prototype.tableRow_=function(t,r){return t=this.getFactory().makeBranchNode(sre.SemanticAttr.Type.ROW,this.parseList(r),[]),t.role=sre.SemanticAttr.Role.TABLE,t},sre.SemanticMathml.prototype.tableLabeledRow_=function(t,r){return r.length?(t=this.parse(r[0]),t.role=sre.SemanticAttr.Role.LABEL,r=this.getFactory().makeBranchNode(sre.SemanticAttr.Type.ROW,this.parseList(r.slice(1)),[t]),r.role=sre.SemanticAttr.Role.TABLE,r):this.tableRow_(t,r)},sre.SemanticMathml.prototype.tableCell_=function(t,r){return t=this.parseList(sre.SemanticUtil.purgeNodes(r)),t=t.length?t.length===1&&sre.SemanticPred.isAttribute("type","EMPTY")(t[0])?t:[sre.SemanticProcessor.getInstance().row(t)]:[],t=this.getFactory().makeBranchNode(sre.SemanticAttr.Type.CELL,t,[]),t.role=sre.SemanticAttr.Role.TABLE,t},sre.SemanticMathml.prototype.text_=function(t,r){return sre.SemanticProcessor.getInstance().text(t.textContent,sre.SemanticProcessor.getInstance().font(t.getAttribute("mathvariant")),sre.DomUtil.tagName(t))},sre.SemanticMathml.prototype.identifier_=function(t,r){return t=sre.SemanticProcessor.getInstance().identifierNode(t.textContent,sre.SemanticProcessor.getInstance().font(t.getAttribute("mathvariant")),t.getAttribute("class")),sre.Engine.getInstance().domain!=="clearspeak"||"fghFGH".split("").indexOf(t.textContent)!==-1&&(t.role=sre.SemanticAttr.Role.SIMPLEFUNC),t},sre.SemanticMathml.prototype.number_=function(t,r){return t=this.leaf_(t),sre.SemanticProcessor.number(t),t},sre.SemanticMathml.prototype.operator_=function(t,r){return t=this.leaf_(t),t.type===sre.SemanticAttr.Type.UNKNOWN&&(t.type=sre.SemanticAttr.Type.OPERATOR),t},sre.SemanticMathml.prototype.fenced_=function(t,r){r=this.parseList(sre.SemanticUtil.purgeNodes(r));var n=sre.SemanticMathml.getAttribute_(t,"separators",","),i=sre.SemanticMathml.getAttribute_(t,"open","(");return t=sre.SemanticMathml.getAttribute_(t,"close",")"),t=sre.SemanticProcessor.getInstance().mfenced(i,t,n,r),sre.SemanticProcessor.getInstance().tablesInRow([t])[0]},sre.SemanticMathml.prototype.enclosed_=function(t,r){return r=this.parseList(sre.SemanticUtil.purgeNodes(r)),r=this.getFactory().makeBranchNode(sre.SemanticAttr.Type.ENCLOSE,[sre.SemanticProcessor.getInstance().row(r)],[]),r.role=t.getAttribute("notation")||sre.SemanticAttr.Role.UNKNOWN,r},sre.SemanticMathml.prototype.multiscripts_=function(t,r){if(!r.length)return this.getFactory().makeEmptyNode();if(t=this.parse(r.shift()),!r.length)return t;for(var n=[],i=[],l=[],s=[],o=!1,u=0,p=0,m;m=r[p];p++)sre.DomUtil.tagName(m)==="MPRESCRIPTS"?(o=!0,u=0):(o?u&1?n.push(m):i.push(m):u&1?l.push(m):s.push(m),u++);return sre.SemanticUtil.purgeNodes(n).length||sre.SemanticUtil.purgeNodes(i).length?sre.SemanticProcessor.getInstance().tensor(t,this.parseList(i),this.parseList(n),this.parseList(s),this.parseList(l)):sre.SemanticProcessor.getInstance().pseudoTensor(t,this.parseList(s),this.parseList(l))},sre.SemanticMathml.prototype.empty_=function(t,r){return this.getFactory().makeEmptyNode()},sre.SemanticMathml.prototype.action_=function(t,r){return 1<r.length?this.parse(r[1]):this.getFactory().makeUnprocessed(t)},sre.SemanticMathml.prototype.dummy_=function(t,r){return this.getFactory().makeUnprocessed(t)},sre.SemanticMathml.prototype.leaf_=function(t){return this.getFactory().makeLeafNode(t.textContent,sre.SemanticProcessor.getInstance().font(t.getAttribute("mathvariant")))},sre.SemanticMathml.getAttribute_=function(t,r,n){return t.hasAttribute(r)?(t=t.getAttribute(r),t.match(/^\s*$/)?null:t):n},sre.SemanticTree=function(t){this.mathml=t,this.parser=new sre.SemanticMathml,this.root=this.parser.parse(t),this.collator=this.parser.getFactory().leafMap.collateMeaning();var r=this.collator.newDefault();r&&(this.parser=new sre.SemanticMathml,this.parser.getFactory().defaultMap=r,this.root=this.parser.parse(t)),sre.SemanticTree.implicitVisitor_.visit(this.root,{}),sre.SemanticTree.unitVisitor_.visit(this.root,{}),sre.SemanticAnnotations.getInstance().annotate(this.root)},sre.SemanticTree.implicitVisitor_=new sre.SemanticVisitor("general",function(t,r){return t.type===sre.SemanticAttr.Type.INFIXOP&&t.role===sre.SemanticAttr.Role.MULTIPLICATION&&t.contentNodes.every(function(n){return!n.embellished&&n.textContent===sre.SemanticAttr.invisibleTimes()})&&(t.role=sre.SemanticAttr.Role.IMPLICIT),!1}),sre.SemanticTree.unitVisitor_=new sre.SemanticVisitor("general",function(t,r){return t.type===sre.SemanticAttr.Type.INFIXOP&&t.role===sre.SemanticAttr.Role.MULTIPLICATION&&(r=t.childNodes,r.length&&(sre.SemanticPred.isPureUnit(r[0])||sre.SemanticPred.isUnitCounter(r[0]))&&t.childNodes.slice(1).every(sre.SemanticPred.isPureUnit)&&(t.role=sre.SemanticAttr.Role.UNIT)),!1}),sre.SemanticTree.empty=function(){var t=sre.DomUtil.parseInput("<math/>"),r=new sre.SemanticTree(t);return r.mathml=t,r},sre.SemanticTree.fromNode=function(t,r){var n=sre.SemanticTree.empty();return n.root=t,r&&(n.mathml=r),n},sre.SemanticTree.fromRoot=function(t,r){for(;t.parent;)t=t.parent;return t=sre.SemanticTree.fromNode(t),r&&(t.mathml=r),t},sre.SemanticTree.prototype.xml=function(t){var r=sre.DomUtil.parseInput("<stree></stree>");return t=this.root.xml(r.ownerDocument,t),r.appendChild(t),r},sre.SemanticTree.prototype.toString=function(t){return new sre.SystemExternal.xmldom.XMLSerializer().serializeToString(this.xml(t))},sre.SemanticTree.prototype.formatXml=function(t){return t=this.toString(t),sre.DomUtil.formatXml(t)},sre.SemanticTree.prototype.displayTree=function(){this.root.displayTree()},sre.SemanticTree.prototype.replaceNode=function(t,r){var n=t.parent;n?n.replaceChild(t,r):this.root=r},sre.SemanticTree.prototype.toJson=function(){var t={};return t.stree=this.root.toJson(),t},sre.Semantic={},sre.Semantic.Font=sre.SemanticAttr.Font,sre.Semantic.Role=sre.SemanticAttr.Role,sre.Semantic.Type=sre.SemanticAttr.Type,sre.Semantic.xmlTree=function(t){return sre.Semantic.getTree(t).xml()},sre.Semantic.getTree=function(t){return new sre.SemanticTree(t)},sre.Semantic.getTreeFromString=function(t){return t=sre.DomUtil.parseInput(t),sre.Semantic.getTree(t)},sre.MathspeakUtil={},sre.MathspeakUtil.spaceoutText=function(t){return t.textContent.split("").join(" ")},sre.MathspeakUtil.spaceoutNodes=function(t,r){var n=t.textContent.split(""),i=[],l=sre.SemanticProcessor.getInstance();t=t.ownerDocument;for(var s=0,o;o=n[s];s++)o=l.identifierNode(o,sre.Semantic.Font.UNKNOWN,""),r(o),i.push(o.xml(t));return i},sre.MathspeakUtil.spaceoutNumber=function(t){return sre.MathspeakUtil.spaceoutNodes(t,function(r){r.textContent.match(/\W/)||(r.type=sre.Semantic.Type.NUMBER)})},sre.MathspeakUtil.spaceoutIdentifier=function(t){return sre.MathspeakUtil.spaceoutNodes(t,function(r){r.font=sre.Semantic.Font.UNKNOWN,r.type=sre.Semantic.Type.IDENTIFIER})},sre.MathspeakUtil.nestingBarriers=[sre.Semantic.Type.CASES,sre.Semantic.Type.CELL,sre.Semantic.Type.INTEGRAL,sre.Semantic.Type.LINE,sre.Semantic.Type.MATRIX,sre.Semantic.Type.MULTILINE,sre.Semantic.Type.OVERSCORE,sre.Semantic.Type.ROOT,sre.Semantic.Type.ROW,sre.Semantic.Type.SQRT,sre.Semantic.Type.SUBSCRIPT,sre.Semantic.Type.SUPERSCRIPT,sre.Semantic.Type.TABLE,sre.Semantic.Type.UNDERSCORE,sre.Semantic.Type.VECTOR],sre.MathspeakUtil.nestingDepth={},sre.MathspeakUtil.resetNestingDepth=function(t){return sre.MathspeakUtil.nestingDepth={},[t]},sre.MathspeakUtil.getNestingDepth=function(t,r,n,i,l,s){i=i||sre.MathspeakUtil.nestingBarriers,l=l||{},s=s||function(u){return!1};var o=new sre.SystemExternal.xmldom.XMLSerializer().serializeToString(r);return sre.MathspeakUtil.nestingDepth[t]||(sre.MathspeakUtil.nestingDepth[t]={}),sre.MathspeakUtil.nestingDepth[t][o]?sre.MathspeakUtil.nestingDepth[t][o]:s(r)||0>n.indexOf(r.tagName)?0:(r=sre.MathspeakUtil.computeNestingDepth_(r,n,sre.BaseUtil.setdifference(i,n),l,s,0),sre.MathspeakUtil.nestingDepth[t][o]=r)},sre.MathspeakUtil.containsAttr=function(t,r){if(!t.attributes)return!1;t=sre.DomUtil.toArray(t.attributes);for(var n=0,i;i=t[n];n++)if(r[i.nodeName]===i.nodeValue)return!0;return!1},sre.MathspeakUtil.computeNestingDepth_=function(t,r,n,i,l,s){return l(t)||-1<n.indexOf(t.tagName)||sre.MathspeakUtil.containsAttr(t,i)||(-1<r.indexOf(t.tagName)&&s++,!t.childNodes||t.childNodes.length===0)?s:(t=sre.DomUtil.toArray(t.childNodes),Math.max.apply(null,t.map(function(o){return sre.MathspeakUtil.computeNestingDepth_(o,r,n,i,l,s)})))},sre.MathspeakUtil.fractionNestingDepth=function(t){return sre.MathspeakUtil.getNestingDepth("fraction",t,["fraction"],sre.MathspeakUtil.nestingBarriers,{},sre.Messages.MS_FUNC.FRAC_NEST_DEPTH)},sre.MathspeakUtil.nestedFraction=function(t,r,n){return t=sre.MathspeakUtil.fractionNestingDepth(t),t=Array.apply(null,Array(t)).map(function(i){return r}),n&&t.push(n),t.join(sre.Messages.REGEXP.JOINER_FRAC)},sre.MathspeakUtil.openingFractionVerbose=function(t){return sre.MathspeakUtil.nestedFraction(t,sre.Messages.MS.START,sre.Messages.MS.FRAC_V)},sre.MathspeakUtil.closingFractionVerbose=function(t){return sre.MathspeakUtil.nestedFraction(t,sre.Messages.MS.END,sre.Messages.MS.FRAC_V)},sre.MathspeakUtil.overFractionVerbose=function(t){return sre.MathspeakUtil.nestedFraction(t,sre.Messages.MS.FRAC_OVER)},sre.MathspeakUtil.openingFractionBrief=function(t){return sre.MathspeakUtil.nestedFraction(t,sre.Messages.MS.START,sre.Messages.MS.FRAC_B)},sre.MathspeakUtil.closingFractionBrief=function(t){return sre.MathspeakUtil.nestedFraction(t,sre.Messages.MS.END,sre.Messages.MS.FRAC_B)},sre.MathspeakUtil.openingFractionSbrief=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),t===1?sre.Messages.MS.FRAC_S:sre.Messages.MS_FUNC.COMBINE_NESTED_FRACTION(sre.Messages.MS.NEST_FRAC,sre.Messages.MS_FUNC.RADICAL_NEST_DEPTH(t-1),sre.Messages.MS.FRAC_S)},sre.MathspeakUtil.closingFractionSbrief=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),t===1?sre.Messages.MS.ENDFRAC:sre.Messages.MS_FUNC.COMBINE_NESTED_FRACTION(sre.Messages.MS.NEST_FRAC,sre.Messages.MS_FUNC.RADICAL_NEST_DEPTH(t-1),sre.Messages.MS.ENDFRAC)},sre.MathspeakUtil.overFractionSbrief=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),t===1?sre.Messages.MS.FRAC_OVER:sre.Messages.MS_FUNC.COMBINE_NESTED_FRACTION(sre.Messages.MS.NEST_FRAC,sre.Messages.MS_FUNC.RADICAL_NEST_DEPTH(t-1),sre.Messages.MS.FRAC_OVER)},sre.MathspeakUtil.isSmallVulgarFraction=function(t){return sre.NumbersUtil.vulgarFractionSmall(t,10,100)?[t]:[]},sre.MathspeakUtil.nestedSubSuper=function(t,r,n){for(;t.parentNode;){var i=t.parentNode,l=i.parentNode,s=t.getAttribute&&t.getAttribute("role");(l.tagName===sre.Semantic.Type.SUBSCRIPT&&t===i.childNodes[1]||l.tagName===sre.Semantic.Type.TENSOR&&s&&(s===sre.Semantic.Role.LEFTSUB||s===sre.Semantic.Role.RIGHTSUB))&&(r=n.sub+sre.Messages.REGEXP.JOINER_SUBSUPER+r),(l.tagName===sre.Semantic.Type.SUPERSCRIPT&&t===i.childNodes[1]||l.tagName===sre.Semantic.Type.TENSOR&&s&&(s===sre.Semantic.Role.LEFTSUPER||s===sre.Semantic.Role.RIGHTSUPER))&&(r=n.sup+sre.Messages.REGEXP.JOINER_SUBSUPER+r),t=l}return r.trim()},sre.MathspeakUtil.subscriptVerbose=function(t){return sre.MathspeakUtil.nestedSubSuper(t,sre.Messages.MS.SUBSCRIPT,{sup:sre.Messages.MS.SUPER,sub:sre.Messages.MS.SUB})},sre.MathspeakUtil.subscriptBrief=function(t){return sre.MathspeakUtil.nestedSubSuper(t,sre.Messages.MS.SUB,{sup:sre.Messages.MS.SUP,sub:sre.Messages.MS.SUB})},sre.MathspeakUtil.superscriptVerbose=function(t){return sre.MathspeakUtil.nestedSubSuper(t,sre.Messages.MS.SUPERSCRIPT,{sup:sre.Messages.MS.SUPER,sub:sre.Messages.MS.SUB})},sre.MathspeakUtil.superscriptBrief=function(t){return sre.MathspeakUtil.nestedSubSuper(t,sre.Messages.MS.SUP,{sup:sre.Messages.MS.SUP,sub:sre.Messages.MS.SUB})},sre.MathspeakUtil.baselineVerbose=function(t){return(t=sre.MathspeakUtil.nestedSubSuper(t,"",{sup:sre.Messages.MS.SUPER,sub:sre.Messages.MS.SUB}))?t.replace(new RegExp(sre.Messages.MS.SUB+"$"),sre.Messages.MS.SUBSCRIPT).replace(new RegExp(sre.Messages.MS.SUPER+"$"),sre.Messages.MS.SUPERSCRIPT):sre.Messages.MS.BASELINE},sre.MathspeakUtil.baselineBrief=function(t){return sre.MathspeakUtil.nestedSubSuper(t,"",{sup:sre.Messages.MS.SUP,sub:sre.Messages.MS.SUB})||sre.Messages.MS.BASE},sre.MathspeakUtil.radicalNestingDepth=function(t){return sre.MathspeakUtil.getNestingDepth("radical",t,["sqrt","root"],sre.MathspeakUtil.nestingBarriers,{})},sre.MathspeakUtil.nestedRadical=function(t,r,n){var i=sre.MathspeakUtil.radicalNestingDepth(t);return n=(t=sre.MathspeakUtil.getRootIndex(t))?sre.Messages.MS_FUNC.COMBINE_ROOT_INDEX(n,t):n,i===1?n:sre.Messages.MS_FUNC.COMBINE_NESTED_RADICAL(r,sre.Messages.MS_FUNC.RADICAL_NEST_DEPTH(i-1),n)},sre.MathspeakUtil.getRootIndex=function(t){return t=t.tagName==="sqrt"?"2":sre.XpathUtil.evalXPath("children/*[1]",t)[0].textContent.trim(),sre.Messages.MS_ROOT_INDEX[t]||""},sre.MathspeakUtil.openingRadicalVerbose=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NESTED,sre.Messages.MS.STARTROOT)},sre.MathspeakUtil.closingRadicalVerbose=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NESTED,sre.Messages.MS.ENDROOT)},sre.MathspeakUtil.indexRadicalVerbose=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NESTED,sre.Messages.MS.ROOTINDEX)},sre.MathspeakUtil.openingRadicalBrief=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NEST_ROOT,sre.Messages.MS.STARTROOT)},sre.MathspeakUtil.closingRadicalBrief=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NEST_ROOT,sre.Messages.MS.ENDROOT)},sre.MathspeakUtil.indexRadicalBrief=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NEST_ROOT,sre.Messages.MS.ROOTINDEX)},sre.MathspeakUtil.openingRadicalSbrief=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NEST_ROOT,sre.Messages.MS.ROOT)},sre.MathspeakUtil.indexRadicalSbrief=function(t){return sre.MathspeakUtil.nestedRadical(t,sre.Messages.MS.NEST_ROOT,sre.Messages.MS.INDEX)},sre.MathspeakUtil.underscoreNestingDepth=function(t){return sre.MathspeakUtil.getNestingDepth("underscore",t,["underscore"],sre.MathspeakUtil.nestingBarriers,{},function(r){return r.tagName&&r.tagName===sre.Semantic.Type.UNDERSCORE&&r.childNodes[0].childNodes[1].getAttribute("role")===sre.Semantic.Role.UNDERACCENT})},sre.MathspeakUtil.nestedUnderscore=function(t){return t=sre.MathspeakUtil.underscoreNestingDepth(t),Array(t).join(sre.Messages.MS.UNDER)+sre.Messages.MS.UNDERSCRIPT},sre.MathspeakUtil.overscoreNestingDepth=function(t){return sre.MathspeakUtil.getNestingDepth("overscore",t,["overscore"],sre.MathspeakUtil.nestingBarriers,{},function(r){return r.tagName&&r.tagName===sre.Semantic.Type.OVERSCORE&&r.childNodes[0].childNodes[1].getAttribute("role")===sre.Semantic.Role.OVERACCENT})},sre.MathspeakUtil.nestedOverscore=function(t){return t=sre.MathspeakUtil.overscoreNestingDepth(t),Array(t).join(sre.Messages.MS.OVER)+sre.Messages.MS.OVERSCRIPT},sre.MathspeakUtil.determinantIsSimple=function(t){if(t.tagName!==sre.Semantic.Type.MATRIX||t.getAttribute("role")!==sre.Semantic.Role.DETERMINANT)return[];for(var r=sre.XpathUtil.evalXPath("children/row/children/cell/children/*",t),n=0,i;i=r[n];n++)if(i.tagName!==sre.Semantic.Type.NUMBER){if(i.tagName===sre.Semantic.Type.IDENTIFIER&&(i=i.getAttribute("role"),i===sre.Semantic.Role.LATINLETTER||i===sre.Semantic.Role.GREEKLETTER||i===sre.Semantic.Role.OTHERLETTER))continue;return[]}return[t]},sre.MathspeakUtil.generateBaselineConstraint=function(){var t=function(o){return o.map(function(u){return"ancestor::"+u})},r="not("+t(["subscript","superscript","tensor"]).join(" or ")+")",n=t(["relseq","multrel"]);t=t(["fraction","punctuation","fenced","sqrt","root"]);for(var i=[],l=0,s;s=t[l];l++)i=i.concat(n.map(function(o){return s+"/"+o}));return n="not("+i.join(" | ")+")",["ancestor::*/following-sibling::*",r,n].join(" and ")},sre.MathspeakUtil.removeParens=function(t){return!t.childNodes.length||!t.childNodes[0].childNodes.length||!t.childNodes[0].childNodes[0].childNodes.length?"":(t=t.childNodes[0].childNodes[0].childNodes[0].textContent,t.match(/^\(.+\)$/)?t.slice(1,-1):t)},sre.MathspeakUtil.componentString_={3:"CSFleftsuperscript",4:"CSFleftsubscript",2:"CSFbaseline",1:"CSFrightsubscript",0:"CSFrightsuperscript"},sre.MathspeakUtil.childNumber_={4:2,3:3,2:1,1:4,0:5},sre.MathspeakUtil.generateTensorRuleStrings_=function(t){var r=[],n="",i="";t=parseInt(t,2);for(var l=0;5>l;l++){var s="children/*["+sre.MathspeakUtil.childNumber_[l]+"]";if(t&1){var o=sre.MathspeakUtil.componentString_[l%5];n="[t] "+o+"Verbose; [n] "+s+";"+n,i="[t] "+o+"Brief; [n] "+s+";"+i}else r.unshift("name("+s+')="empty"');t>>=1}return r.push(n),r.push(i),r},sre.MathspeakUtil.generateTensorRules=function(t){var r=goog.bind(t.defineRule,t),n=goog.bind(t.defineRulesAlias,t);t=goog.bind(t.defineSpecialisedRule,t);for(var i="11111 11110 11101 11100 10111 10110 10101 10100 01111 01110 01101 01100".split(" "),l=0,s;s=i[l];l++){var o="tensor"+s;s=sre.MathspeakUtil.generateTensorRuleStrings_(s);var u=s.pop(),p=s.pop(),m=[o,"default",p,"self::tensor"].concat(s),h=[o,"brief",u,"self::tensor"].concat(s);r.apply(null,m),r.apply(null,h),t(o,"brief","sbrief"),m=sre.MathspeakUtil.componentString_[2],p+="; [t]"+m+"Verbose",u+="; [t]"+m+"Brief",o+="-baseline",m=[o,"default",p,"self::tensor","following-sibling::*"].concat(s),h=[o,"brief",u,"self::tensor","following-sibling::*"].concat(s),r.apply(null,m),r.apply(null,h),t(o,"brief","sbrief"),o=[o,"self::tensor","not(following-sibling::*)","ancestor::fraction|ancestor::punctuated|ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::relseq|ancestor::multirel|@embellished"].concat(s),n.apply(null,o)}},sre.Locale={},sre.Locale.nestingToString=function(t){switch(t){case 1:return sre.Messages.MS.ONCE||"";case 2:return sre.Messages.MS.TWICE;default:return t.toString()}},sre.Locale.vulgarNestingDepth=function(t){return!!sre.MathspeakUtil.isSmallVulgarFraction(t).length},sre.Locale.combinePostfixIndex=function(t,r){return t===sre.Messages.MS.ROOTINDEX||t===sre.Messages.MS.INDEX?t:t+" "+r},sre.Locale.localFont=function(t){var r=sre.Messages.FONT[t];return r===void 0&&(r=t||""),typeof r=="string"?r:r[0]},sre.Grammar.getInstance().setCorrection("localFont",sre.Locale.localFont),sre.Locale.localRole=function(t){return sre.Messages.ROLE[t]||t},sre.Grammar.getInstance().setCorrection("localRole",sre.Locale.localRole),sre.Locale.localEnclose=function(t){return sre.Messages.ENCLOSE[t]||t},sre.Grammar.getInstance().setCorrection("localEnclose",sre.Locale.localEnclose),sre.Locale.makePlural=function(t){var r=sre.Messages.PLURAL_UNIT[t];return r||sre.Messages.PLURAL(t)},sre.Grammar.getInstance().setCorrection("plural",sre.Locale.makePlural),sre.Locale.prefixCombiner=function(t,r,n){return t=n?n+" "+t:t,r?r+" "+t:t},sre.Locale.postfixCombiner=function(t,r,n){return t=n?n+" "+t:t,r?t+" "+r:t},sre.Numbers.de={},sre.Numbers.de.onesNumbers_=" eins zwei drei vier f\xFCnf sechs sieben acht neun zehn elf zw\xF6lf dreizehn vierzehn f\xFCnfzehn sechzehn siebzehn achtzehn neunzehn".split(" "),sre.Numbers.de.tensNumbers_="  zwanzig drei\xDFig vierzig f\xFCnfzig sechzig siebzig achtzig neunzig".split(" "),sre.Numbers.de.largeNumbers_=" tausend million milliarde billion billiarde trillion trilliard quadrillion quadrilliard quintillion quintilliarde sextillion sextilliarde".split(" "),sre.Numbers.de.onePrefix_=function(t){return t===sre.Numbers.de.onesNumbers_[1]?"ein":t},sre.Numbers.de.hundredsToWords_=function(t){t%=1e3;var r=sre.Numbers.de.onesNumbers_[Math.floor(t/100)],n=r?sre.Numbers.de.onePrefix_(r)+"hundert":"";if(t%=100)if(n+=n?sre.Numbers.de.NUMBERS.numSep:"",r=sre.Numbers.de.onesNumbers_[t])n+=r;else{var i=sre.Numbers.de.tensNumbers_[Math.floor(t/10)];r=sre.Numbers.de.onesNumbers_[t%10],n+=r?sre.Numbers.de.onePrefix_(r)+"und"+i:i}return n},sre.Numbers.de.numberToWords=function(t){if(t>=Math.pow(10,36))return t.toString();for(var r=0,n="";0<t;){if(t%1e3){var i=sre.Numbers.de.hundredsToWords_(t%1e3);n=sre.Numbers.de.onePrefix_(i)+(r?sre.Numbers.de.largeNumbers_[r]:"")+n}t=Math.floor(t/1e3),r++}return n.replace(/ein$/,"eins")},sre.Numbers.de.numberToOrdinal=function(t,r){return t===1?"eintel":t===2?r?"halbe":"halb":sre.Numbers.de.wordOrdinal(t)+"l"},sre.Numbers.de.wordOrdinal=function(t){return t===1?"erste":t===3?"dritte":t===7?"siebte":t===8?"achte":sre.Numbers.de.numberToWords(t)+(19>t?"te":"ste")},sre.Numbers.de.simpleOrdinal=function(t){return t.toString()+"."},sre.Numbers.de.NUMBERS={wordOrdinal:sre.Numbers.de.wordOrdinal,simpleOrdinal:sre.Numbers.de.simpleOrdinal,numberToWords:sre.Numbers.de.numberToWords,numberToOrdinal:sre.Numbers.de.numberToOrdinal,vulgarSep:" ",numSep:""};var germanPrefixCombiner=function(t,r,n){return n==="s"&&(r=r.split(" ").map(function(i){return i.replace(/s$/,"")}).join(" "),n=""),t=n?n+" "+t:t,r?r+" "+t:t},germanPostfixCombiner=function(t,r,n){return t=n&&n!=="s"?n+" "+t:t,r?t+" "+r:t};sre.Locale.de={MS:{START:"Anfang",FRAC_V:"Bruch",FRAC_B:"Bruch",FRAC_S:"Bruch",END:"Ende",FRAC_OVER:"durch",TWICE:"Twice",NEST_FRAC:"geschachtelt",ENDFRAC:"Ende Bruch",SUPER:"hoch",SUB:"Index",SUP:"hoch",SUPERSCRIPT:"hoch",SUBSCRIPT:"Index",BASELINE:"Grundlinie",BASE:"Grund",NESTED:"geschachtelte",NEST_ROOT:"geschachtelte",STARTROOT:"Anfang Wurzel",ENDROOT:"Ende Wurzel",ROOTINDEX:"Wurzelexponent",ROOT:"Wurzel",INDEX:"Exponent",UNDER:"Unter",UNDERSCRIPT:"Unterschrift",OVER:"\xDCber",OVERSCRIPT:"\xDCberschrift"},MS_FUNC:{FRAC_NEST_DEPTH:sre.Locale.vulgarNestingDepth,RADICAL_NEST_DEPTH:function(t){return 1<t?sre.Numbers.de.NUMBERS.numberToWords(t)+"fach":""},COMBINE_ROOT_INDEX:function(t,r){return t.replace("Wurzel",r?r+"wurzel":"")},COMBINE_NESTED_FRACTION:function(t,r,n){return t+r+n},COMBINE_NESTED_RADICAL:function(t,r,n){return t=n.match(/exponent$/)?t+"r":t,t=(r?r+" ":"")+t,n.match(/ /)?n.replace(/ /," "+t+" "):t+" "+n},FONT_REGEXP:function(t){return t=t.split(" ").map(function(r){return r.replace(/s$/,"(|s)")}).join(" "),new RegExp("((^"+t+" )|( "+t+"$))")}},MS_ROOT_INDEX:{2:"Quadrat",3:"Kubik"},FONT:{bold:"fettes","bold-fraktur":"fettes Fraktur","bold-italic":"fettkursives","bold-script":"fettes Schreibschrift",caligraphic:"kalligrafisches","caligraphic-bold":"fettes kalligrafisches","double-struck":["mit Doppelstrich",germanPostfixCombiner],"double-struck-italic":["kursiv mit Doppelstrich",germanPostfixCombiner],fraktur:"Fraktur",fullwidth:"vollbreites",italic:"kursives",monospace:"nichtproportionales",normal:"normales",oldstyle:"antiquiertes","oldstyle-bold":"antiquiertes fettes",script:"Schreibschrift","sans-serif":"serifenloses","sans-serif-italic":"serifenloses kursives","sans-serif-bold":"serifenloses fettes","sans-serif-bold-italic":"serifenloses fettkursives",unknown:"unbekannt"},EMBELLISH:{super:"hoch",sub:"Index",circled:"eingekreistes",parenthesized:"eingeklammertes",period:["Punkt",germanPostfixCombiner],"negative-circled":"schwarz eingekreistes","double-circled":"doppelt eingekreistes","circled-sans-serif":"eingekreistes serifenloses","negative-circled-sans-serif":"schwarz eingekreistes serifenloses",comma:["Komma",germanPostfixCombiner],squared:"umrahmtes","negative-squared":"schwarz umrahmtes"},ROLE:{addition:"Addition",multiplication:"Multiplikation",subtraction:"Subtraktion",division:"Division",equality:"Gleichung",inequality:"Ungleichung",element:"Element",arrow:"Pfeil",determinant:"Determinante",rowvector:"Zeilenvektor",binomial:"Binomialkoeffizient",squarematrix:"quadratische Matrize",multiline:"mehrzeiligem Ausdruck",matrix:"Matrize",vector:"Vektor",cases:"Fallunterscheidung",table:"Tabelle",unknown:"unbekannt"},ENCLOSE:{longdiv:"langer Bruchstrich",actuarial:"Bilanzsumme",radical:"Quadratwurzel",box:"rechteckige Umrandung",roundedbox:"abgerundete rechteckige Umrandung",circle:"kreis\xE4hnliche Umrandung",left:"senkrechte Linie links",right:"senkrechte Linie rechts",top:"waagerechte Linie oberhalb",bottom:"waagerechte Linie unterhalb",updiagonalstrike:"durchgestrichen",downdiagonalstrike:"durchgestrichen",verticalstrike:"senkrecht durchgestrichen",horizontalstrike:"durchgestrichen",madruwb:"arabisches Fakult\xE4tssymbol",updiagonalarrow:"Pfeil von links unten nach rechts oben",phasorangle:"phasor angle",unknown:"langer Bruchstrich"},NAVIGATE:{COLLAPSIBLE:"kollabierbar",EXPANDABLE:"ausfaltbar",LEVEL:"Niveau"},REGEXP:{TEXT:"a-zA-Z\xE4\xF6\xFC\xC4\xD6\xDC\xDF",NUMBER:"((\\d{1,3})(?=(.| ))((.| )\\d{3})*(\\,\\d+)?)|^\\d*\\,\\d+|^\\d+",DECIMAL_MARK:",",DIGIT_GROUP:"\\.",JOINER_SUBSUPER:" ",JOINER_FRAC:" "},PLURAL_UNIT:{Meile:"Meilen",Yard:"Yards",Joule:"Joules",Gallone:"Gallonen",Unze:"Unzen",Tonne:"Tonnen",Minute:"Minuten",Stunde:"Stunden",Sekunde:"Sekunden"},PLURAL:function(t){return t.match(/(B|b)yte$/)?t.replace(/yte$/,"ytes"):t},NUMBERS:sre.Numbers.de.NUMBERS,ALPHABETS:{latinSmall:"abcdefghijklmnopqrstuvwxyz".split(""),latinCap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),greekSmall:"nabla;alpha;beta;gamma;delta;epsilon;zeta;eta;theta;iota;kappa;lambda;my;ny;xi;omikron;pi;rho;abschlie\xDFendes sigma;sigma;tau;ypsilon;phi;chi;psi;omega;partielle Ableitung;epsilon;theta;kappa;phi;rho;pi".split(";"),greekCap:"Alpha Beta Gamma Delta Epsilon Zeta Eta Theta Iota Kappa Lambda My Ny Xi Omikron Pi Rho Theta Sigma Tau Ypsilon Phi Chi Psi Omega".split(" ")},ALPHABET_TRANSFORMERS:{digit:{default:function(t){return t===0?"null":sre.Numbers.de.numberToWords(t)},mathspeak:function(t){return t.toString()},clearspeak:function(t){return t.toString()}},letter:{default:function(t){return t}}},ALPHABET_PREFIXES:{capPrefix:{default:"gro\xDFes"},smallPrefix:{default:""},digitPrefix:{default:"s"}},ALPHABET_COMBINER:germanPrefixCombiner},sre.Grammar.getInstance().setCorrection("correctOne",function(t){return t.replace(/^eins /,"ein ")}),sre.Grammar.getInstance().setCorrection("localFontNumber",function(t){var r=sre.Messages.FONT[t];return r===void 0&&(r=t||""),r=typeof r=="string"?r:r[0],r.split(" ").map(function(n){return n.replace(/s$/,"")}).join(" ")}),sre.Grammar.getInstance().setCorrection("lowercase",function(t){return t.toLowerCase()}),sre.Grammar.getInstance().setCorrection("article",function(t){return sre.Grammar.getInstance().getParameter("case")==="dative"?{der:"dem",die:"der",das:"dem"}[t]:t}),sre.Grammar.getInstance().setCorrection("masculine",function(t){return sre.Grammar.getInstance().getParameter("case")==="dative"?t+"n":t}),sre.Numbers.en={},sre.Numbers.en.onesNumbers_=" one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),sre.Numbers.en.tensNumbers_="  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),sre.Numbers.en.largeNumbers_=" thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion".split(" "),sre.Numbers.en.hundredsToWords_=function(t){t%=1e3;var r=sre.Numbers.en.onesNumbers_[Math.floor(t/100)]?sre.Numbers.en.onesNumbers_[Math.floor(t/100)]+sre.Numbers.en.NUMBERS.numSep+"hundred":"";return(t%=100)&&(r+=r?sre.Numbers.en.NUMBERS.numSep:"",r+=sre.Numbers.en.onesNumbers_[t]||sre.Numbers.en.tensNumbers_[Math.floor(t/10)]+(t%10?sre.Numbers.en.NUMBERS.numSep+sre.Numbers.en.onesNumbers_[t%10]:"")),r},sre.Numbers.en.numberToWords=function(t){if(t>=Math.pow(10,36))return t.toString();for(var r=0,n="";0<t;)t%1e3&&(n=sre.Numbers.en.hundredsToWords_(t%1e3)+(r?"-"+sre.Numbers.en.largeNumbers_[r]+"-":"")+n),t=Math.floor(t/1e3),r++;return n.replace(/-$/,"")},sre.Numbers.en.numberToOrdinal=function(t,r){return t===1?r?"oneths":"oneth":t===2?r?"halves":"half":(t=sre.Numbers.en.wordOrdinal(t),r?t+"s":t)},sre.Numbers.en.wordOrdinal=function(t){return t=sre.Numbers.en.numberToWords(t),t=t.match(/one$/)?t.slice(0,-3)+"first":t.match(/two$/)?t.slice(0,-3)+"second":t.match(/three$/)?t.slice(0,-5)+"third":t.match(/five$/)?t.slice(0,-4)+"fifth":t.match(/eight$/)?t.slice(0,-5)+"eighth":t.match(/nine$/)?t.slice(0,-4)+"ninth":t.match(/twelve$/)?t.slice(0,-6)+"twelfth":t.match(/ty$/)?t.slice(0,-2)+"tieth":t+"th"},sre.Numbers.en.simpleOrdinal=function(t){var r=t%100,n=t.toString();if(10<r&&20>r)return n+"th";switch(t%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd";default:return n+"th"}},sre.Numbers.en.NUMBERS={wordOrdinal:sre.Numbers.en.wordOrdinal,simpleOrdinal:sre.Numbers.en.simpleOrdinal,numberToWords:sre.Numbers.en.numberToWords,numberToOrdinal:sre.Numbers.en.numberToOrdinal,vulgarSep:" ",numSep:" "},sre.Locale.en={MS:{START:"Start",FRAC_V:"Fraction",FRAC_B:"Frac",FRAC_S:"Frac",END:"End",FRAC_OVER:"Over",TWICE:"Twice",NEST_FRAC:"Nest",ENDFRAC:"EndFrac",SUPER:"Super",SUB:"Sub",SUP:"Sup",SUPERSCRIPT:"Superscript",SUBSCRIPT:"Subscript",BASELINE:"Baseline",BASE:"Base",NESTED:"Nested",NEST_ROOT:"Nest",STARTROOT:"StartRoot",ENDROOT:"EndRoot",ROOTINDEX:"RootIndex",ROOT:"Root",INDEX:"Index",UNDER:"Under",UNDERSCRIPT:"Underscript",OVER:"Over",OVERSCRIPT:"Overscript"},MS_FUNC:{FRAC_NEST_DEPTH:sre.Locale.vulgarNestingDepth,RADICAL_NEST_DEPTH:sre.Locale.nestingToString,COMBINE_ROOT_INDEX:function(t,r){return t},COMBINE_NESTED_FRACTION:function(t,r,n){return t+r+n},COMBINE_NESTED_RADICAL:function(t,r,n){return t+r+n},FONT_REGEXP:function(t){return new RegExp("^"+t.split(/ |-/).join("( |-)")+"( |-)")}},MS_ROOT_INDEX:{},FONT:{bold:"bold","bold-fraktur":"bold fraktur","bold-italic":"bold italic","bold-script":"bold script",caligraphic:"calligraphic","caligraphic-bold":"calligraphic bold","double-struck":"double struck","double-struck-italic":"double struck italic",fraktur:"fraktur",fullwidth:"fullwidth",italic:"italic",monospace:"monospace",normal:"normal",oldstyle:"oldstyle","oldstyle-bold":"oldstyle bold",script:"script","sans-serif":"sans serif","sans-serif-italic":"sans serif italic","sans-serif-bold":"sans serif bold","sans-serif-bold-italic":"sans serif bold italic",unknown:"unknown"},EMBELLISH:{super:"super",sub:"sub",circled:"circled",parenthesized:"parenthesized",period:["period",sre.Locale.postfixCombiner],"negative-circled":"black circled","double-circled":"double circled","circled-sans-serif":"circled sans serif","negative-circled-sans-serif":"black circled sans serif",comma:["comma",sre.Locale.postfixCombiner],squared:"squared","negative-squared":"black squared"},ROLE:{addition:"addition",multiplication:"multiplication",subtraction:"subtraction",division:"division",equality:"equality",inequality:"inequality",element:"element",arrow:"arrow",determinant:"determinant",rowvector:"row vector",binomial:"binomial",squarematrix:"square matrix",multiline:"multiple lines",matrix:"matrix",vector:"vector",cases:"case statement",table:"table",unknown:"unknown"},ENCLOSE:{longdiv:"long division",actuarial:"actuarial symbol",radical:"square root",box:"box",roundedbox:"rounded box",circle:"circle",left:"left vertical-line",right:"right vertical-line",top:"overbar",bottom:"underbar",updiagonalstrike:"crossout",downdiagonalstrike:"crossout",verticalstrike:"vertical strikeout",horizontalstrike:"crossout",madruwb:"Arabic factorial symbol",updiagonalarrow:"diagonal arrow",phasorangle:"phasor angle",unknown:"long division"},NAVIGATE:{COLLAPSIBLE:"collapsible",EXPANDABLE:"expandable",LEVEL:"Level"},REGEXP:{TEXT:"a-zA-Z",NUMBER:"((\\d{1,3})(?=(,| ))((,| )\\d{3})*(\\.\\d+)?)|^\\d*\\.\\d+|^\\d+",DECIMAL_MARK:"\\.",DIGIT_GROUP:",",JOINER_SUBSUPER:" ",JOINER_FRAC:""},PLURAL_UNIT:{foot:"feet",inch:"inches","square foot":"square feet","square inch":"square inches","cubic foot":"cubic feet","cubic inch":"cubic inches"},NUMBERS:sre.Numbers.en.NUMBERS,ALPHABETS:{latinSmall:"abcdefghijklmnopqrstuvwxyz".split(""),latinCap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),greekSmall:"nabla;alpha;beta;gamma;delta;epsilon;zeta;eta;theta;iota;kappa;lamda;mu;nu;xi;omicron;pi;rho;final sigma;sigma;tau;upsilon;phi;chi;psi;omega;partial differential;epsilon;theta;kappa;phi;rho;pi".split(";"),greekCap:"Alpha Beta Gamma Delta Epsilon Zeta Eta Theta Iota Kappa Lamda Mu Nu Xi Omicron Pi Rho Theta Sigma Tau Upsilon Phi Chi Psi Omega".split(" ")},ALPHABET_TRANSFORMERS:{digit:{default:function(t){return t===0?"zero":sre.Numbers.en.numberToWords(t)},mathspeak:function(t){return t.toString()},clearspeak:function(t){return t.toString()}},letter:{default:function(t){return t}}},ALPHABET_PREFIXES:{capPrefix:{default:"cap",mathspeak:"upper"},smallPrefix:{default:""},digitPrefix:{default:""}},ALPHABET_COMBINER:sre.Locale.prefixCombiner},sre.Numbers.es={},sre.Numbers.es.onesNumbers_=" uno dos tres cuatro cinco seis siete ocho nueve diez once doce trece catorce quince diecis\xE9is diecisiete dieciocho diecinueve veinte veintiuno veintid\xF3s veintitr\xE9s veinticuatro veinticinco veintis\xE9is veintisiete veintiocho veintinueve".split(" "),sre.Numbers.es.tensNumbers_="   treinta cuarenta cincuenta sesenta setenta ochenta noventa".split(" "),sre.Numbers.es.hundredsNumbers_=" cien doscientos trescientos cuatrocientos quinientos seiscientos setecientos ochocientos novecientos".split(" "),sre.Numbers.es.largeNumbers_=";mil;mill\xF3n;mil mill\xF3nes;bill\xF3n;mil bill\xF3nes;trill\xF3n;mil trill\xF3nes;cuatrill\xF3;mil cuatrill\xF3es;quintill\xF3n;mil quintill\xF3nes;sextill\xF3n;mil sextill\xF3nes;septill\xF3n;mil septill\xF3nes;octill\xF3n;mil octill\xF3nes;nonill\xF3n;mil nonill\xF3nes;decill\xF3n;mil decill\xF3nes".split(";"),sre.Numbers.es.tensToWords_=function(t){var r=t%100;return 30>r?sre.Numbers.es.onesNumbers_[r]:(t=sre.Numbers.es.tensNumbers_[Math.floor(r/10)],r=sre.Numbers.es.onesNumbers_[r%10],t&&r?t+" y "+r:t||r)},sre.Numbers.es.hundredsToWords_=function(t){var r=t%1e3;t=Math.floor(r/100);var n=sre.Numbers.es.hundredsNumbers_[t];return r=sre.Numbers.es.tensToWords_(r%100),t===1?r?n+"to "+r:n:n&&r?n+" "+r:n||r},sre.Numbers.es.numberToWords=function(t){if(t>=Math.pow(10,36))return t.toString();for(var r=0,n="";0<t;){var i=t%1e3;if(i){var l=sre.Numbers.es.largeNumbers_[r],s=sre.Numbers.es.hundredsToWords_(i);r?i===1?(l=l.match("/^mil( |$)/")?l:"un "+l,n=l+(n?" "+n:"")):(l=l.replace(/\u00f3n$/,"ones"),n=sre.Numbers.es.hundredsToWords_(i)+" "+l+(n?" "+n:"")):n=s}t=Math.floor(t/1e3),r++}return n},sre.Numbers.es.onesOrdinals_="primera segunda tercera cuarta quinta sexta s\xE9ptima octava novena d\xE9cima und\xE9cima duod\xE9cima".split(" "),sre.Numbers.es.tensOrdinals_="d\xE9cima vig\xE9sima trig\xE9sima cuadrag\xE9sima quincuag\xE9sima sexag\xE9sima septuag\xE9sima octog\xE9sima nonag\xE9sima".split(" "),sre.Numbers.es.hundredsOrdinals_="cent\xE9sima ducent\xE9sima tricent\xE9sima cuadringent\xE9sima quingent\xE9sima sexcent\xE9sima septingent\xE9sima octingent\xE9sima noningent\xE9sima".split(" "),sre.Numbers.es.numberToOrdinal=function(t,r){if(1999<t)return t.toString()+"a";if(12>=t)return sre.Numbers.es.onesOrdinals_[t-1];if(r=[],1e3<=t&&(t-=1e3,r.push("mil\xE9sima")),!t)return r.join(" ");var n=Math.floor(t/100);return 0<n&&(r.push(sre.Numbers.es.hundredsOrdinals_[n-1]),t%=100),12>=t?r.push(sre.Numbers.es.onesOrdinals_[t-1]):(n=Math.floor(t/10),0<n&&(r.push(sre.Numbers.es.tensOrdinals_[n-1]),t%=10),0<t&&r.push(sre.Numbers.es.onesOrdinals_[t-1])),r.join(" ")},sre.Numbers.es.simpleOrdinal=function(t){var r=sre.Grammar.getInstance().getParameter("gender");return t.toString()+(r==="female"?"a":"o")},sre.Numbers.es.NUMBERS={simpleOrdinal:sre.Numbers.es.simpleOrdinal,numberToWords:sre.Numbers.es.numberToWords,numberToOrdinal:sre.Numbers.es.numberToOrdinal,vulgarSep:"-"};var sansserifCombiner=function(t,r,n){return t="sans serif "+(n?n+" "+t:t),r?t+" "+r:t};sre.Locale.es={MS:{START:"empezar",FRAC_V:"fracci\xF3n",FRAC_B:"frac",FRAC_S:"frac",END:"finalizar",FRAC_OVER:"entre",TWICE:"",NEST_FRAC:"",ENDFRAC:"",SUPER:"super",SUB:"sub",SUP:"sup",SUPERSCRIPT:"super\xEDndice",SUBSCRIPT:"sub\xEDndice",BASELINE:"l\xEDnea base",BASE:"",NESTED:"",NEST_ROOT:"",STARTROOT:"empezar ra\xEDz",ENDROOT:"finalizar ra\xEDz",ROOTINDEX:"\xEDndice de ra\xEDz",ROOT:"ra\xEDz",INDEX:"",UNDER:"bajo",UNDERSCRIPT:"bajo\xEDndice",OVER:"sobre",OVERSCRIPT:"sobre\xEDndice"},MS_FUNC:{FRAC_NEST_DEPTH:function(t){return!1},RADICAL_NEST_DEPTH:function(t){return""},COMBINE_ROOT_INDEX:sre.Locale.combinePostfixIndex,COMBINE_NESTED_FRACTION:function(t,r,n){return t+r+n},COMBINE_NESTED_RADICAL:function(t,r,n){return t+n},FONT_REGEXP:function(t){return RegExp("^"+t+" ")}},MS_ROOT_INDEX:{2:"cuadrada",3:"c\xFAbica",4:"a la cuarta",5:"a la quinta",6:"a la sexta",7:"a la s\xE9ptima",8:"a la octava",9:"a la novena",10:"a la d\xE9cima"},FONT:{bold:"negrita","bold-fraktur":"negrita Fraktur","bold-italic":"negrita cursiva","bold-script":"negrita script",caligraphic:"caligr\xE1fica","caligraphic-bold":"caligr\xE1fica negrita","double-struck":"negrita de pizarra","double-struck-italic":"negrita de pizarra cursiva",fraktur:"Fraktur",fullwidth:"ancho completo",italic:"cursiva",monospace:"monoespacio",normal:"normal",oldstyle:"estilo antiguo","oldstyle-bold":"estilo antiguo negrita",script:"script","sans-serif":"sans serif","sans-serif-italic":"sans serif cursiva","sans-serif-bold":"sans serif negrita","sans-serif-bold-italic":"sans serif negrita cursiva",unknown:"desconocida"},ROLE:{addition:"adici\xF3n",multiplication:"multiplicaci\xF3n",subtraction:"resta",division:"divisi\xF3n",equality:"igualdad",inequality:"desigualdad",element:"elemento",arrow:"flecha",determinant:"determinante",rowvector:"fila vector",binomial:"binomial",squarematrix:"matriz cuadrada",multiline:"l\xEDneas m\xFAltiples",matrix:"matriz",vector:"vector",cases:"declaraci\xF3n de caso",table:"mesa",unknown:"desconocida"},ENCLOSE:{longdiv:"divisi\xF3n larga",actuarial:"s\xEDmbolo actuarial",radical:"ra\xEDz cuadrada",box:"caja",roundedbox:"caja redondeada",circle:"c\xEDrculo",left:"barra vertical izquierda",right:"barra vertical derecha",top:"barra",bottom:"subbarra",updiagonalstrike:"tachadura",downdiagonalstrike:"tachadura",verticalstrike:"ponchado vertical",horizontalstrike:"cruce",madruwb:"s\xEDmbolo factorial \xE1rabe",updiagonalarrow:"flecha diagonal",phasorangle:"\xE1ngulo de fasores",unknown:"divisi\xF3n larga"},EMBELLISH:{super:"super\xEDndice",sub:"sub\xEDndice",circled:["en circulo",sre.Locale.postfixCombiner],parenthesized:["entre par\xE9ntesis",sre.Locale.postfixCombiner],period:["punto",sre.Locale.postfixCombiner],"negative-circled":["en circulo negro",sre.Locale.postfixCombiner],"double-circled":["en doble circulo",sre.Locale.postfixCombiner],"circled-sans-serif":["en circulo",sansserifCombiner],"negative-circled-sans-serif":["en circulo negro",sansserifCombiner],comma:["coma",sre.Locale.postfixCombiner],squared:["en cuadrado",sre.Locale.postfixCombiner],"negative-squared":["en cuadrado negro",sre.Locale.postfixCombiner]},NAVIGATE:{COLLAPSIBLE:"plegable",EXPANDABLE:"ampliable",LEVEL:"nivel"},REGEXP:{TEXT:"a-zA-Z\xE1\xE9\xED\xF3\xFA\xF1\xC1\xC9\xCD\xD3\xDA\xD1",NUMBER:"((\\d{1,3})(?=( ))(( )\\d{3})*(,\\d+)?)|^\\d*,\\d+|^\\d+",DECIMAL_MARK:",",DIGIT_GROUP:"",JOINER_SUBSUPER:" ",JOINER_FRAC:" "},PLURAL_UNIT:{},PLURAL:function(t){return/.*s$/.test(t)?t:t+"s"},NUMBERS:sre.Numbers.es.NUMBERS,ALPHABETS:{latinSmall:"abcdefghijklmnopqrstuvwxyz".split(""),latinCap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),greekSmall:"nabla;alfa;beta;gamma;delta;\xE9psilon;zeta;eta;theta;iota;kappa;lambda;mi;ni;xi;\xF3micron;pi;rho;sigma final;sigma;tau;\xEDpsilon;phi;ji;psi;omega;diferencial parcial;\xE9psilon;theta;kappa;phi;rho;pi".split(";"),greekCap:"Alfa Beta Gamma Delta \xC9psilon Zeta Eta Theta Iota Kappa Lambda Mi Ni Xi \xD3micron Pi Rho Theta Sigma Tau \xCDpsilon Phi Ji Psi Omega".split(" ")},ALPHABET_TRANSFORMERS:{digit:{default:function(t){return t===0?"cero":sre.Numbers.es.numberToWords(t)},mathspeak:function(t){return t.toString()},clearspeak:function(t){return t.toString()}},letter:{default:function(t){return t}}},ALPHABET_PREFIXES:{capPrefix:{default:"may\xFAscula"},smallPrefix:{default:""},digitPrefix:{default:""}},ALPHABET_COMBINER:sre.Locale.prefixCombiner,UNIT_TIMES:"por"},sre.Numbers.fr={},sre.Numbers.fr.SUB_ISO="fr",sre.Numbers.fr.onesNumbers_=" un deux trois quatre cinq six sept huit neuf dix onze douze treize quatorze quinze seize dix-sept dix-huit dix-neuf".split(" "),sre.Numbers.fr.tensNumbers_={fr:"  vingt trente quarante cinquante soixante soixante-dix quatre-vingts quatre-vingt-dix".split(" "),be:"  vingt trente quarante cinquante soixante septante quatre-vingts nonante".split(" "),sw:"  vingt trente quarante cinquante soixante septante huitante nonante".split(" ")},sre.Numbers.fr.largeNumbers_=";mille;millions;milliards;billions;mille billions;trillions;mille trillions;quadrillions;mille quadrillions;quintillions;mille quintillions".split(";"),sre.Numbers.fr.hundredsToWords_=function(t){var r=t%1e3;if(t=sre.Numbers.fr.onesNumbers_[Math.floor(r/100)]?sre.Numbers.fr.onesNumbers_[Math.floor(r/100)]+"-cent":"",r%=100){t+=t?"-":"";var n=sre.Numbers.fr.onesNumbers_[r];if(n)t+=n;else{var i=sre.Numbers.fr.tensNumbers_[sre.Numbers.fr.SUB_ISO][Math.floor(r/10)];i.match(/\-dix$/)?(n=sre.Numbers.fr.onesNumbers_[r%10+10],t+=i.replace(/\-dix$/,"")+"-"+n):t+=i+(r%10?"-"+sre.Numbers.fr.onesNumbers_[r%10]:"")}}return(r=t.match(/s\-\w+$/))?t.replace(/s\-\w+$/,r[0].slice(1)):t.replace(/\-un$/,"-et-un")},sre.Numbers.fr.numberToWords=function(t){if(t>=Math.pow(10,36))return t.toString();for(var r=0,n="";0<t;){var i=t%1e3;if(i){var l=sre.Numbers.fr.largeNumbers_[r],s=sre.Numbers.fr.hundredsToWords_(i);l&&l.match(/^mille /)?(i=l.replace(/^mille /,""),n=n.match(RegExp(i))?s+(r?"-mille-":"")+n:n.match(RegExp(i.replace(/s$/,"")))?s+(r?"-mille-":"")+n.replace(i.replace(/s$/,""),i):s+(r?"-"+l+"-":"")+n):(l=i===1&&l?l.replace(/s$/,""):l,n=s+(r?"-"+l+"-":"")+n)}t=Math.floor(t/1e3),r++}return n.replace(/-$/,"")},sre.Numbers.fr.SMALL_ORDINAL={1:"uni\xE8me",2:"demi",3:"tiers",4:"quart"},sre.Numbers.fr.numberToOrdinal=function(t,r){var n=sre.Numbers.fr.SMALL_ORDINAL[t]||sre.Numbers.fr.wordOrdinal(t);return t===3?n:r?n+"s":n},sre.Numbers.fr.wordOrdinal=function(t){return t===1?"premi\xE8re":(t=sre.Numbers.fr.numberToWords(t),t.match(/^neuf$/)?t=t.slice(0,-1)+"v":t.match(/cinq$/)?t+="u":t.match(/trois$/)||!t.match(/e$/)&&!t.match(/s$/)||(t=t.slice(0,-1)),t+"i\xE8me")},sre.Numbers.fr.simpleOrdinal=function(t){var r=sre.Grammar.getInstance().getParameter("gender");return t===1?t.toString()+(r==="male"?"er":"re"):t.toString()+"e"},sre.Numbers.fr.NUMBERS={wordOrdinal:sre.Numbers.fr.wordOrdinal,simpleOrdinal:sre.Numbers.fr.simpleOrdinal,numberToWords:sre.Numbers.fr.numberToWords,numberToOrdinal:sre.Numbers.fr.numberToOrdinal,vulgarSep:"-"},sre.Locale.fr={MS:{START:"d\xE9but",FRAC_V:"fraction",FRAC_B:"frac",FRAC_S:"frac",END:"fin",FRAC_OVER:"sur",ONCE:"1",TWICE:"2",NEST_FRAC:"imbriqu\xE9e",ENDFRAC:"fin frac",SUPER:"sup",SUB:"sub",SUP:"sup",SUPERSCRIPT:"exposant",SUBSCRIPT:"indice",BASELINE:"position de base",BASE:"position de base",NESTED:"imbriqu\xE9e",NEST_ROOT:"imbriqu\xE9e",STARTROOT:"d\xE9but racine",ENDROOT:"fin racine",ROOTINDEX:"indice du radical",ROOT:"racine",INDEX:"indice",UNDER:"sous",UNDERSCRIPT:"souscript",OVER:"sus",OVERSCRIPT:"suscript"},MS_FUNC:{FRAC_NEST_DEPTH:function(t){return!1},RADICAL_NEST_DEPTH:sre.Locale.nestingToString,COMBINE_ROOT_INDEX:sre.Locale.combinePostfixIndex,COMBINE_NESTED_FRACTION:function(t,r,n){return n.replace(/ $/g,"")+r+t},COMBINE_NESTED_RADICAL:function(t,r,n){return n+" "+t},FONT_REGEXP:function(t){return RegExp(" (en |)"+t+"$")}},MS_ROOT_INDEX:{2:"carr\xE9e",3:"cubique"},FONT:{bold:"en gras","bold-fraktur":"en gothique gras","bold-italic":"en italique gras","bold-script":"de ronde en gras",caligraphic:"en calligraphique","caligraphic-bold":"en calligraphique gras","double-struck":"ajour\xE9","double-struck-italic":"ajour\xE9 en italique",fraktur:"en gothique",fullwidth:"en pleine largeur",italic:"en italique",monospace:"en chasse fixe",normal:"en normal",oldstyle:"en ancien","oldstyle-bold":"en ancien gras",script:"de ronde","sans-serif":"sans empattement","sans-serif-italic":"en italique sans empattement","sans-serif-bold":"en gras sans empattement","sans-serif-bold-italic":"en italique gras sans empattement",unknown:"inconnu"},EMBELLISH:{super:["exposant",sre.Locale.prefixCombiner],sub:["indice",sre.Locale.prefixCombiner],circled:"encercl\xE9",parenthesized:"entre parenth\xE8ses",period:"un point","negative-circled":"encercl\xE9 noir","double-circled":"encercl\xE9 double","circled-sans-serif":"sans empattement encercl\xE9","negative-circled-sans-serif":"sans empattement encercl\xE9 noir",comma:"virgule",squared:"encadr\xE9","negative-squared":"encadr\xE9 inverse"},ROLE:{addition:"addition",multiplication:"multiplication",subtraction:"soustraction",division:"division",equality:"\xE9galit\xE9",inequality:"in\xE9galit\xE9",element:"\xE9l\xE9ment",arrow:"fl\xE8che",determinant:"d\xE9terminant",rowvector:"vecteur-rang\xE9e",binomial:"binomial",squarematrix:"matrice carr\xE9e","set empty":"ensemble vide","set extended":"extension","set singleton":"singleton","set collection":"collection",label:"\xE9tiquette",multiline:"multi-ligne",matrix:"matrice",vector:"vecteur",cases:"d\xE9claration de cas",table:"tableau",unknown:"inconnu"},ENCLOSE:{longdiv:"longue division",actuarial:"notation actuarielle",radical:"radical",box:"bo\xEEte",roundedbox:"bo\xEEte arrondie",circle:"cercle",left:"barre verticale gauche",right:"barre verticale droite",top:"trait suscrit",bottom:"trait souscrit",updiagonalstrike:"texte biff\xE9 diagonal montant",downdiagonalstrike:"texte biff\xE9 diagonal descendant",verticalstrike:"texte biff\xE9 vertical",horizontalstrike:"texte biff\xE9 horizontal",madruwb:"symbole factorielle arabe",updiagonalarrow:"fl\xE8che diagonale montante",phasorangle:"angle de phase",unknown:"division longue"},NAVIGATE:{COLLAPSIBLE:"compressible",EXPANDABLE:"d\xE9compressible",LEVEL:"niveau"},REGEXP:{TEXT:"a-zA-Z\xE0\xE2\xE6\xE7\xE9\xE8\xEA\xEB\xEE\xEF\xF4\u0153\xF9\xFB\xFC\xFF\xC0\xC2\xC6\xC7\xC9\xC8\xCA\xCB\xCE\xCF\xD4\u0152\xD9\xDB\xDC\u0178",NUMBER:"((\\d{1,3})(?=( ))(( )\\d{3})*(,\\d+)?)|^\\d*,\\d+|^\\d+",DECIMAL_MARK:",",DIGIT_GROUP:"",JOINER_SUBSUPER:"-",JOINER_FRAC:" "},PLURAL_UNIT:{foot:"feet",inch:"inches"},NUMBERS:sre.Numbers.fr.NUMBERS,ALPHABETS:{latinSmall:"abcdefghijklmnopqrstuvwxyz".split(""),latinCap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),greekSmall:"nabla;alpha;b\xEAta;gamma;delta;epsilon;z\xEAta;\xEAta;th\xEAta;iota;kappa;lambda;m\xFB;n\xFB;xi;omicron;pi;rh\xF4;sigma final;sigma;tau;upsilon;phi;chi;psi;om\xE9ga;d\xE9riv\xE9e partielle;epsilon;th\xEAta;kappa;phi;rh\xF4;pi".split(";"),greekCap:"Alpha B\xEAta Gamma Delta Epsilon Z\xEAta \xCAta Th\xEAta Iota Kappa Lambda M\xFB N\xFB Xi Omicron Pi Rh\xF4 Th\xEAta Sigma Tau Upsilon Phi Chi Psi Om\xE9ga".split(" ")},ALPHABET_TRANSFORMERS:{digit:{default:function(t){return t===0?"zero":sre.Numbers.fr.numberToWords(t)},mathspeak:function(t){return t.toString()},clearspeak:function(t){return t.toString()}},letter:{default:function(t){return t}}},ALPHABET_PREFIXES:{capPrefix:{default:"majuscule"},smallPrefix:{default:""},digitPrefix:{default:""}},ALPHABET_COMBINER:function(t,r,n){return t=n?t+" "+n:t,r?t+" "+r:t}},sre.Numbers.nemeth={},sre.Numbers.nemeth.oneNumbers_="\u2834\u2802\u2806\u2812\u2832\u2822\u2816\u2836\u2826\u2814".split(""),sre.Numbers.nemeth.numberToWords=function(t){return t.toString().split("").map(function(r){return sre.Numbers.nemeth.oneNumbers_[parseInt(r,10)]}).join("")},sre.Numbers.nemeth.NUMBERS={numberToWords:sre.Numbers.nemeth.numberToWords,simpleOrdinal:sre.Numbers.nemeth.numberToWords};var postfixCombiner=function(t,r,n){return r?t+r:t},embellishCombiner=function(t,r,n){return r+(n||"\u2830")+t+"\u283B"},doubleEmbellishCombiner=function(t,r,n){return r+(n||"\u2830")+t+"\u283B\u283B"},parensCombiner=function(t,r,n){return r+(n||"\u2830")+t+"\u283E"};sre.Locale.nemeth={MS:{FRACTION_REPEAT:"\u2820",FRACTION_START:"\u2839",FRAC_V:"\u2839",FRAC_B:"Frac",FRAC_S:"Frac",END:"\u2820",FRACTION_OVER:"\u280C",TWICE:"Twice",NEST_FRAC:"Nest",ENDFRAC:"\u283C",FRACTION_END:"\u283C",SUPER:"\u2818",SUB:"\u2830",SUP:"\u2818",SUPERSCRIPT:"\u2818",SUBSCRIPT:"\u2830",BASELINE:"\u2810",BASE:"\u2810",NESTED:"\u2828",NEST_ROOT:"Nest",STARTROOT:"\u281C",ENDROOT:"\u283B",ROOTINDEX:"\u2823",ROOT:"\u2828",INDEX:"\u2823",UNDER:"\u2829",UNDERSCRIPT:"\u2829",OVER:"\u2823",OVERSCRIPT:"\u2823"},MS_FUNC:{FRAC_NEST_DEPTH:function(t){return!1},RADICAL_NEST_DEPTH:function(t){return""},COMBINE_ROOT_INDEX:function(t,r){return t},FONT_REGEXP:function(t){return RegExp("^"+t)}},MS_ROOT_INDEX:{},FONT:{bold:"\u2838","bold-fraktur":"\u2838\u2800\u2838","bold-italic":"\u2838\u2828","bold-script":"\u2838\u2808",caligraphic:"\u2808","caligraphic-bold":"\u2808\u2838","double-struck":"\u2838","double-struck-italic":"\u2838\u2828",fraktur:"\u2838",italic:"\u2828",monospace:"",normal:"",oldstyle:"","oldstyle-bold":"\u2838",script:"\u2808","sans-serif":"\u2820\u2828","sans-serif-italic":"\u2820\u2828\u2828","sans-serif-bold":"\u2820\u2828\u2838","sans-serif-bold-italic":"\u2820\u2828\u2838\u2828",unknown:""},EMBELLISH:{super:"\u2818",sub:"\u2830",circled:["\u282B\u2809\u2838\u282B",embellishCombiner],parenthesized:["\u2837",parensCombiner],period:["\u2838\u2832",postfixCombiner],"negative-circled":["\u282B\u2838\u2809\u2838\u282B",embellishCombiner],"double-circled":["\u282B\u2809\u2838\u282B\u282B\u2809\u2838\u282B",doubleEmbellishCombiner],"circled-sans-serif":["\u282B\u2809\u2838\u282B\u2820\u2828",embellishCombiner],"negative-circled-sans-serif":["\u282B\u2838\u2809\u2838\u282B\u2820\u2828",embellishCombiner],comma:["\u2820",postfixCombiner],squared:["\u282B\u2832\u2838\u282B",embellishCombiner],"negative-squared":["\u282B\u2838\u2832\u2838\u282B",embellishCombiner]},ROLE:{addition:"addition",multiplication:"multiplication",subtraction:"subtraction",division:"division",equality:"equality",inequality:"inequality",element:"element",arrow:"arrow",determinant:"determinant",rowvector:"row vector",binomial:"binomial",squarematrix:"square matrix",multiline:"multiple lines",matrix:"matrix",vector:"vector",cases:"case statement",table:"table",unknown:"unknown"},ENCLOSE:{longdiv:"long division",actuarial:"actuarial symbol",radical:"square root",box:"box",roundedbox:"rounded box",circle:"circle",left:"left vertical-line",right:"right vertical-line",top:"overbar",bottom:"underbar",updiagonalstrike:"crossout",downdiagonalstrike:"crossout",verticalstrike:"vertical strikeout",horizontalstrike:"crossout",madruwb:"Arabic factorial symbol",updiagonalarrow:"diagonal arrow",phasorangle:"phasor angle",unknown:"long division"},REGEXP:{TEXT:"a-zA-Z",NUMBER:"((\\d{1,3})(?=(,| ))((,| )\\d{3})*(\\.\\d+)?)|^\\d*\\.\\d+|^\\d+",DECIMAL_MARK:".",DIGIT_GROUP:",",JOINER_SUBSUPER:"",JOINER_FRAC:""},NAVIGATE:{COLLAPSIBLE:"collapsible",EXPANDABLE:"expandable",LEVEL:"Level"},NUMBERS:sre.Numbers.nemeth.NUMBERS,ALPHABETS:{latinSmall:"\u2801\u2803\u2809\u2819\u2811\u280B\u281B\u2813\u280A\u281A\u2805\u2807\u280D\u281D\u2815\u280F\u281F\u2817\u280E\u281E\u2825\u2827\u283A\u282D\u283D\u2835".split(""),latinCap:"\u2820\u2801 \u2820\u2803 \u2820\u2809 \u2820\u2819 \u2820\u2811 \u2820\u280B \u2820\u281B \u2820\u2813 \u2820\u280A \u2820\u281A \u2820\u2805 \u2820\u2807 \u2820\u280D \u2820\u281D \u2820\u2815 \u2820\u280F \u2820\u281F \u2820\u2817 \u2820\u280E \u2820\u281E \u2820\u2825 \u2820\u2827 \u2820\u283A \u2820\u282D \u2820\u283D \u2820\u2835".split(" "),greekSmall:"\u2828\u282B \u2828\u2801 \u2828\u2803 \u2828\u281B \u2828\u2819 \u2828\u2811 \u2828\u2831 \u2828\u2826 \u2828\u2839 \u2828\u280A \u2828\u2805 \u2828\u2807 \u2828\u280D \u2828\u281D \u2828\u282D \u2828\u2815 \u2828\u280F \u2828\u2817 \u2828\u2812 \u2828\u280E \u2828\u281E \u2828\u2825 \u2828\u280B \u2828\u282F \u2828\u2813 \u2828\u2815 \u2808\u2819 \u2828\u2811 \u2828\u2839 \u2828\u2805 \u2828\u280B \u2828\u2817 \u2828\u280F".split(" "),greekCap:"\u2828\u2820\u2801 \u2828\u2820\u2803 \u2828\u2820\u281B \u2828\u2820\u2819 \u2828\u2820\u2811 \u2828\u2820\u2831 \u2828\u2820\u2823 \u2828\u2820\u2839 \u2828\u2820\u280A \u2828\u2820\u2805 \u2828\u2820\u2807 \u2828\u2820\u280D \u2828\u2820\u281D \u2828\u2820\u282D \u2828\u2820\u2815 \u2828\u2820\u280F \u2828\u2820\u2817 \u2828\u2820\u2839 \u2828\u2820\u280E \u2828\u2820\u2825 \u2828\u2820\u2825 \u2828\u2820\u280B \u2828\u2820\u282F \u2828\u2820\u282B \u2828\u2820\u283A".split(" ")},ALPHABET_TRANSFORMERS:{digit:{default:sre.Numbers.nemeth.numberToWords},letter:{default:function(t){return t}}},ALPHABET_PREFIXES:{capPrefix:{default:""},smallPrefix:{default:""},digitPrefix:{default:"\u283C"}},ALPHABET_COMBINER:function(t,r,n){return r?r+t:t}},sre.L10n={},sre.L10n.setLocale=function(){var t=sre.L10n.getLocale();if(t)for(var r in t)sre.Messages[r]=t[r]},sre.L10n.getLocale=function(){var t=sre.Engine.getInstance().locale;return sre.Variables.LOCALES.indexOf(t)===-1&&(console.error("Locale "+t+" does not exist! Using en instead."),sre.Engine.getInstance().locale="en"),sre.Locale[sre.Engine.getInstance().locale]||sre.Locale.en},sre.EnrichCase=function(){},sre.EnrichCase.prototype.getMathml=function(){},sre.AbstractEnrichCase=function(t){this.semantic=t},sre.AbstractEnrichCase.prototype.getMathml=goog.abstractMethod,sre.EnrichCaseFactory=function(){},sre.EnrichCaseFactory.cases=[],sre.EnrichCaseFactory.getCase=function(t){for(var r=0,n;n=sre.EnrichCaseFactory.cases[r];r++)if(n.test(t))return new n.constr(t);return null},sre.SemanticSkeleton=function(t){this.array=t=t===0?t:t||[],this.levelsMap=this.parents=null},sre.SemanticSkeleton.prototype.populate=function(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))},sre.SemanticSkeleton.prototype.populate_=function(t,r,n){if(sre.SemanticSkeleton.simpleCollapseStructure(t))this.levelsMap[t]=r,this.parents[t]=t===n[0]?n.slice(1):n;else{r=sre.SemanticSkeleton.contentCollapseStructure(t)?t.slice(1):t,n=[r[0]].concat(n);for(var i=0,l=r.length;i<l;i++)this.populate_(r[i],t,n)}},sre.SemanticSkeleton.prototype.toString=function(){return sre.SemanticSkeleton.makeSexp_(this.array)},sre.SemanticSkeleton.makeSexp_=function(t){return sre.SemanticSkeleton.simpleCollapseStructure(t)?t.toString():sre.SemanticSkeleton.contentCollapseStructure(t)?"(c "+t.slice(1).map(sre.SemanticSkeleton.makeSexp_).join(" ")+")":"("+t.map(sre.SemanticSkeleton.makeSexp_).join(" ")+")"},sre.SemanticSkeleton.fromTree=function(t){return sre.SemanticSkeleton.fromNode(t.root)},sre.SemanticSkeleton.fromNode=function(t){return new sre.SemanticSkeleton(sre.SemanticSkeleton.fromNode_(t))},sre.SemanticSkeleton.fromString=function(t){return new sre.SemanticSkeleton(sre.SemanticSkeleton.fromString_(t))},sre.SemanticSkeleton.fromString_=function(t){return t=t.replace(/\(/g,"["),t=t.replace(/\)/g,"]"),t=t.replace(/ /g,","),t=t.replace(/c/g,'"c"'),JSON.parse(t)},sre.SemanticSkeleton.fromNode_=function(t){if(!t)return[];var r=t.contentNodes;if(r.length){var n=r.map(sre.SemanticSkeleton.fromNode_);n.unshift("c")}var i=t.childNodes;return i.length?(i=i.map(sre.SemanticSkeleton.fromNode_),r.length&&i.unshift(n),i.unshift(t.id),i):r.length?[t.id,n]:t.id},sre.SemanticSkeleton.simpleCollapseStructure=function(t){return typeof t=="number"},sre.SemanticSkeleton.contentCollapseStructure=function(t){return!!t&&!sre.SemanticSkeleton.simpleCollapseStructure(t)&&t[0]==="c"},sre.SemanticSkeleton.interleaveIds=function(t,r){return sre.BaseUtil.interleaveLists(sre.SemanticSkeleton.collapsedLeafs(t),sre.SemanticSkeleton.collapsedLeafs(r))},sre.SemanticSkeleton.collapsedLeafs=function(t){var r=function(n){return sre.SemanticSkeleton.simpleCollapseStructure(n)?[n]:sre.SemanticSkeleton.contentCollapseStructure(n[1])?n.slice(2):n.slice(1)};return Array.prototype.slice.call(arguments,0).reduce(function(n,i){return n.concat(r(i))},[])},sre.SemanticSkeleton.fromStructure=function(t,r){return new sre.SemanticSkeleton(sre.SemanticSkeleton.tree_(t,r.root))},sre.SemanticSkeleton.tree_=function(t,r){if(!r)return[];if(!r.childNodes.length)return r.id;var n=r.id,i=[n];n=sre.XpathUtil.evalXPath(".//self::*[@"+sre.EnrichMathml.Attribute.ID+"="+n+"]",t)[0],r=sre.SemanticSkeleton.combineContentChildren(r,r.contentNodes.map(function(s){return s}),r.childNodes.map(function(s){return s})),n&&n.setAttribute(sre.EnrichMathml.Attribute.OWNS,r.map(function(s){return s.id}).join(" ")),n=0;for(var l;l=r[n];n++)i.push(sre.SemanticSkeleton.tree_(t,l));return i},sre.SemanticSkeleton.combineContentChildren=function(t,r,n){switch(t.type){case sre.Semantic.Type.RELSEQ:case sre.Semantic.Type.INFIXOP:case sre.Semantic.Type.MULTIREL:return sre.BaseUtil.interleaveLists(n,r);case sre.Semantic.Type.PREFIXOP:return r.concat(n);case sre.Semantic.Type.POSTFIXOP:return n.concat(r);case sre.Semantic.Type.FENCED:return n.unshift(r[0]),n.push(r[1]),n;case sre.Semantic.Type.APPL:return[n[0],r[0],n[1]];case sre.Semantic.Type.ROOT:return[n[1],n[0]];case sre.Semantic.Type.ROW:case sre.Semantic.Type.LINE:return r.length&&n.unshift(r[0]),n;default:return n}},sre.EnrichMathml={},sre.EnrichMathml.Error=function(t){Error.call(this),this.message=t||"",this.name="MathML Enrichment Error"},goog.inherits(sre.EnrichMathml.Error,Error),sre.EnrichMathml.SETTINGS={collapsed:!0,implicit:!0},sre.EnrichMathml.ATTRIBUTE_PREFIX_="data-semantic-",sre.EnrichMathml.Attribute={ADDED:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"added",ALTERNATIVE:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"alternative",CHILDREN:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"children",COLLAPSED:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"collapsed",CONTENT:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"content",EMBELLISHED:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"embellished",FENCEPOINTER:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"fencepointer",FONT:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"font",ID:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"id",ANNOTATION:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"annotation",OPERATOR:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"operator",OWNS:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"owns",PARENT:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"parent",PREFIX:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"prefix",ROLE:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"role",SPEECH:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"speech",STRUCTURE:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"structure",TYPE:sre.EnrichMathml.ATTRIBUTE_PREFIX_+"type"},sre.EnrichMathml.enrich=function(t,r){var n=t.cloneNode(!0);return sre.EnrichMathml.walkTree(r.root),sre.Engine.getInstance().structure&&t.setAttribute(sre.EnrichMathml.Attribute.STRUCTURE,sre.SemanticSkeleton.fromStructure(t,r).toString()),sre.Debugger.getInstance().generateOutput(function(){return sre.EnrichMathml.formattedOutput(n,t,r,!0),[]}),t},sre.EnrichMathml.walkTree=function(t){var r=sre.EnrichCaseFactory.getCase(t);if(r)return r=r.getMathml(),sre.EnrichMathml.ascendNewNode(r);if(t.mathml.length===1)return sre.Debugger.getInstance().output("Walktree Case 0"),r=t.mathml[0],sre.EnrichMathml.setAttributes(r,t),sre.EnrichMathml.ascendNewNode(r);r=t.contentNodes.map(sre.EnrichMathml.cloneContentNode),sre.EnrichMathml.setOperatorAttribute_(t,r);var n=t.childNodes.map(sre.EnrichMathml.walkTree);if(n=sre.SemanticSkeleton.combineContentChildren(t,r,n),r=t.mathmlTree,r===null)sre.Debugger.getInstance().output("Walktree Case 1"),r=sre.EnrichMathml.introduceNewLayer(n);else{var i=sre.EnrichMathml.attachedElement_(n);sre.Debugger.getInstance().output("Walktree Case 2"),i?(sre.Debugger.getInstance().output("Walktree Case 2.1"),r=i.parentNode):(sre.Debugger.getInstance().output("Walktree Case 2.2"),r=sre.EnrichMathml.getInnerNode(r))}return r=sre.EnrichMathml.rewriteMfenced(r),sre.EnrichMathml.mergeChildren_(r,n),sre.EnrichMathml.setAttributes(r,t),sre.EnrichMathml.ascendNewNode(r)},sre.EnrichMathml.introduceNewLayer=function(t){var r=sre.EnrichMathml.mathmlLca_(t),n=r.node,i=r.type;return i===sre.EnrichMathml.lcaType.VALID&&sre.SemanticUtil.hasEmptyTag(n)||(sre.Debugger.getInstance().output("Walktree Case 1.1"),n=sre.DomUtil.createElement("mrow"),i===sre.EnrichMathml.lcaType.PRUNED?(sre.Debugger.getInstance().output("Walktree Case 1.1.0"),n=sre.EnrichMathml.introduceLayerAboveLca(n,r.node,t)):t[0]&&(sre.Debugger.getInstance().output("Walktree Case 1.1.1"),r=sre.EnrichMathml.attachedElement_(t),t=sre.EnrichMathml.childrenSubset_(r.parentNode,t),sre.DomUtil.replaceNode(r,n),t.forEach(function(l){n.appendChild(l)}))),n},sre.EnrichMathml.introduceLayerAboveLca=function(t,r,n){var i=sre.EnrichMathml.descendNode_(r);if(sre.SemanticUtil.hasMathTag(i)){sre.Debugger.getInstance().output("Walktree Case 1.1.0.0"),sre.EnrichMathml.moveSemanticAttributes_(i,t),sre.DomUtil.toArray(i.childNodes).forEach(function(s){t.appendChild(s)});var l=t;t=i,i=l}return r=n.indexOf(r),n[r]=i,sre.DomUtil.replaceNode(i,t),t.appendChild(i),n.forEach(function(s){t.appendChild(s)}),t},sre.EnrichMathml.moveSemanticAttributes_=function(t,r){for(var n in sre.EnrichMathml.Attribute){var i=sre.EnrichMathml.Attribute[n];t.hasAttribute(i)&&(r.setAttribute(i,t.getAttribute(i)),t.removeAttribute(i))}},sre.EnrichMathml.childrenSubset_=function(t,r){var n=sre.DomUtil.toArray(t.childNodes),i=1/0,l=-1/0;return r.forEach(function(s){s=n.indexOf(s),s!==-1&&(i=Math.min(i,s),l=Math.max(l,s))}),n.slice(i,l+1)},sre.EnrichMathml.mergeChildren_=function(t,r){var n=t.childNodes;if(n.length)for(var i=0;r.length;)n[i]===r[0]||sre.EnrichMathml.functionApplication_(n[i],r[0])?(r.shift(),i++):n[i]&&r.indexOf(n[i])===-1?i++:(sre.EnrichMathml.isDescendant_(r[0],t)||t.insertBefore(r[0],n[i]||null),r.shift());else r.forEach(function(l){t.appendChild(l)})},sre.EnrichMathml.isDescendant_=function(t,r){if(!t)return!1;do if(t=t.parentNode,t===r)return!0;while(t);return!1},sre.EnrichMathml.functionApplication_=function(t,r){var n=sre.SemanticAttr.functionApplication();if(t&&r&&t.textContent&&r.textContent&&t.textContent===n&&r.textContent===n&&r.getAttribute(sre.EnrichMathml.Attribute.ADDED)==="true"){n=0;for(var i;i=t.attributes[n];n++)r.hasAttribute(i.nodeName)||r.setAttribute(i.nodeName,i.nodeValue);return sre.DomUtil.replaceNode(t,r),!0}return!1},sre.EnrichMathml.lcaType={VALID:"valid",INVALID:"invalid",PRUNED:"pruned"},sre.EnrichMathml.mathmlLca_=function(t){var r=sre.EnrichMathml.attachedElement_(t);if(!r)return{type:sre.EnrichMathml.lcaType.INVALID,node:null};var n=sre.EnrichMathml.attachedElement_(t.slice().reverse());if(r===n)return{type:sre.EnrichMathml.lcaType.VALID,node:r};r=sre.EnrichMathml.pathToRoot_(r);var i=sre.EnrichMathml.prunePath_(r,t);t=sre.EnrichMathml.pathToRoot_(n,function(s){return i.indexOf(s)!==-1}),n=t[0];var l=i.indexOf(n);return l===-1?{type:sre.EnrichMathml.lcaType.INVALID,node:null}:{type:i.length!==r.length?sre.EnrichMathml.lcaType.PRUNED:sre.EnrichMathml.validLca_(i[l+1],t[1])?sre.EnrichMathml.lcaType.VALID:sre.EnrichMathml.lcaType.INVALID,node:n}},sre.EnrichMathml.prunePath_=function(t,r){for(var n=0;t[n]&&r.indexOf(t[n])===-1;)n++;return t.slice(0,n+1)},sre.EnrichMathml.attachedElement_=function(t){for(var r=0,n=null;!n&&r<t.length;)t[r].parentNode&&(n=t[r]),r++;return n},sre.EnrichMathml.pathToRoot_=function(t,r){r=r||function(i){return!1};for(var n=[t];!r(t)&&!sre.SemanticUtil.hasMathTag(t)&&t.parentNode;)t=sre.EnrichMathml.parentNode_(t),n.unshift(t);return n},sre.EnrichMathml.validLca_=function(t,r){return!(!t||!r||t.previousSibling||r.nextSibling)},sre.EnrichMathml.ascendNewNode=function(t){for(;!sre.SemanticUtil.hasMathTag(t)&&sre.EnrichMathml.unitChild_(t);)t=sre.EnrichMathml.parentNode_(t);return t},sre.EnrichMathml.descendNode_=function(t){var r=sre.DomUtil.toArray(t.childNodes);return r?(r=r.filter(function(n){return n.nodeType===sre.DomUtil.NodeType.ELEMENT_NODE&&!sre.SemanticUtil.hasIgnoreTag(n)}),r.length===1&&sre.SemanticUtil.hasEmptyTag(r[0])&&!r[0].hasAttribute(sre.EnrichMathml.Attribute.TYPE)?sre.EnrichMathml.descendNode_(r[0]):t):t},sre.EnrichMathml.unitChild_=function(t){var r=sre.EnrichMathml.parentNode_(t);return r&&sre.SemanticUtil.hasEmptyTag(r)?sre.DomUtil.toArray(r.childNodes).every(function(n){return n===t||sre.EnrichMathml.isIgnorable_(n)}):!1},sre.EnrichMathml.isIgnorable_=function(t){if(!t||sre.SemanticUtil.hasIgnoreTag(t))return!0;var r=sre.DomUtil.toArray(t.childNodes);return!sre.SemanticUtil.hasEmptyTag(t)&&r.length?!1:sre.DomUtil.toArray(t.childNodes).every(sre.EnrichMathml.isIgnorable_)},sre.EnrichMathml.parentNode_=function(t){return t.parentNode},sre.EnrichMathml.addCollapsedAttribute=function(t,r){r=new sre.SemanticSkeleton(r),t.setAttribute(sre.EnrichMathml.Attribute.COLLAPSED,r.toString())},sre.EnrichMathml.cloneContentNode=function(t){if(t.mathml.length)return sre.EnrichMathml.walkTree(t);var r=sre.EnrichMathml.SETTINGS.implicit?sre.EnrichMathml.createInvisibleOperator_(t):sre.DomUtil.createElement("mrow");return t.mathml=[r],r},sre.EnrichMathml.makeIdList=function(t){return t.map(function(r){return r.id}).join(",")},sre.EnrichMathml.setAttributes=function(t,r){t.setAttribute(sre.EnrichMathml.Attribute.TYPE,r.type);for(var n=r.allAttributes(),i=0,l;l=n[i];i++)t.setAttribute(sre.EnrichMathml.Attribute[l[0].toUpperCase()],l[1]);r.childNodes.length&&t.setAttribute(sre.EnrichMathml.Attribute.CHILDREN,sre.EnrichMathml.makeIdList(r.childNodes)),r.contentNodes.length&&t.setAttribute(sre.EnrichMathml.Attribute.CONTENT,sre.EnrichMathml.makeIdList(r.contentNodes)),r.parent&&t.setAttribute(sre.EnrichMathml.Attribute.PARENT,r.parent.id)},sre.EnrichMathml.rewriteMfenced=function(t){if(sre.DomUtil.tagName(t)!=="MFENCED")return t;for(var r=sre.DomUtil.createElement("mrow"),n=0,i;i=t.attributes[n];n++)["open","close","separators"].indexOf(i.name)===-1&&r.setAttribute(i.name,i.value);return sre.DomUtil.toArray(t.childNodes).forEach(function(l){r.appendChild(l)}),sre.DomUtil.replaceNode(t,r),r},sre.EnrichMathml.createInvisibleOperator_=function(t){var r=sre.DomUtil.createElement("mo"),n=sre.DomUtil.createTextNode(t.textContent);return r.appendChild(n),sre.EnrichMathml.setAttributes(r,t),r.setAttribute(sre.EnrichMathml.Attribute.ADDED,"true"),r},sre.EnrichMathml.setOperatorAttribute_=function(t,r){var n=t.type+(t.textContent?","+t.textContent:"");r.forEach(function(i){sre.EnrichMathml.getInnerNode(i).setAttribute(sre.EnrichMathml.Attribute.OPERATOR,n)})},sre.EnrichMathml.getInnerNode=function(t){var r=sre.DomUtil.toArray(t.childNodes);if(!r)return t;r=r.filter(function(o){return o.nodeType===sre.DomUtil.NodeType.ELEMENT_NODE&&!sre.EnrichMathml.isIgnorable_(o)});for(var n=[],i=0,l;l=r[i];i++)if(sre.SemanticUtil.hasEmptyTag(l)){var s=sre.EnrichMathml.getInnerNode(l);s&&s!==l&&n.push(s)}else n.push(l);return n.length===1?n[0]:t},sre.EnrichMathml.formattedOutput=function(t,r,n,i){i=i||!1,sre.EnrichMathml.formattedOutput_(t,"Original MathML",i),sre.EnrichMathml.formattedOutput_(n,"Semantic Tree",i),sre.EnrichMathml.formattedOutput_(r,"Semantically enriched MathML",i)},sre.EnrichMathml.formattedOutput_=function(t,r,n){t=sre.DomUtil.formatXml(t.toString()),console.info(n?r+":\n```html\n"+sre.EnrichMathml.removeAttributePrefix(t)+"\n```\n":t)},sre.EnrichMathml.removeAttributePrefix=function(t){return t.toString().replace(new RegExp(sre.EnrichMathml.ATTRIBUTE_PREFIX_,"g"),"")},sre.EnrichMathml.addPrefix=function(t){var r=t.toUpperCase();return sre.EnrichMathml.Attribute[r]||sre.EnrichMathml.ATTRIBUTE_PREFIX_+t},sre.EnrichMathml.collapsePunctuated=function(t,r){var n=!!r;r=r||[];var i=t.parent,l=t.contentNodes.map(function(p){return p.id});l.unshift("c"),l=[t.id,l];for(var s=0,o;o=t.childNodes[s];s++){var u=sre.EnrichMathml.walkTree(o);r.push(u),u=sre.EnrichMathml.getInnerNode(u),i&&!n&&u.setAttribute(sre.EnrichMathml.Attribute.PARENT,i.id),l.push(o.id)}return l},sre.EnrichMathml.printNodeList__=function(t,r){console.info(t),sre.DomUtil.toArray(r).forEach(function(n){console.info(n.toString())}),console.info("<<<<<<<<<<<<<<<<<")},sre.CaseBinomial=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseBinomial,sre.AbstractEnrichCase),sre.CaseBinomial.test=function(t){return!t.mathmlTree&&t.type===sre.SemanticAttr.Type.LINE&&t.role===sre.SemanticAttr.Role.BINOMIAL},sre.CaseBinomial.prototype.getMathml=function(){if(!this.semantic.childNodes.length)return this.mml;if(this.mml=sre.EnrichMathml.walkTree(this.semantic.childNodes[0]),this.mml.hasAttribute(sre.EnrichMathml.Attribute.TYPE)){var t=sre.DomUtil.createElement("mrow");t.setAttribute(sre.EnrichMathml.Attribute.ADDED,"true"),sre.DomUtil.replaceNode(this.mml,t),t.appendChild(this.mml),this.mml=t}return sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml},sre.CaseDoubleScript=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseDoubleScript,sre.AbstractEnrichCase),sre.CaseDoubleScript.test=function(t){if(!t.mathmlTree||!t.childNodes.length)return!1;var r=sre.DomUtil.tagName(t.mathmlTree);return t=t.childNodes[0].role,r==="MSUBSUP"&&t===sre.SemanticAttr.Role.SUBSUP||r==="MUNDEROVER"&&t===sre.SemanticAttr.Role.UNDEROVER},sre.CaseDoubleScript.prototype.getMathml=function(){var t=this.semantic.childNodes[0],r=t.childNodes[0],n=this.semantic.childNodes[1],i=t.childNodes[1],l=sre.EnrichMathml.walkTree(n),s=sre.EnrichMathml.walkTree(r),o=sre.EnrichMathml.walkTree(i);return sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml.setAttribute(sre.EnrichMathml.Attribute.CHILDREN,sre.EnrichMathml.makeIdList([r,i,n])),[s,o,l].forEach(goog.bind(function(u){sre.EnrichMathml.getInnerNode(u).setAttribute(sre.EnrichMathml.Attribute.PARENT,this.mml.getAttribute(sre.EnrichMathml.Attribute.ID))},this)),this.mml.setAttribute(sre.EnrichMathml.Attribute.TYPE,t.role),sre.EnrichMathml.addCollapsedAttribute(this.mml,[this.semantic.id,[t.id,r.id,i.id],n.id]),this.mml},sre.CaseMultiindex=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseMultiindex,sre.AbstractEnrichCase),sre.CaseMultiindex.prototype.completeMultiscript=function(t,r){var n=sre.DomUtil.toArray(this.mml.childNodes).slice(1),i=0,l=goog.bind(function(s){for(var o=0,u;u=s[o];o++){var p=n[i];if(p&&u==sre.EnrichMathml.getInnerNode(p).getAttribute(sre.EnrichMathml.Attribute.ID))sre.EnrichMathml.getInnerNode(p).setAttribute(sre.EnrichMathml.Attribute.PARENT,this.semantic.id),i++;else{var m=this.semantic.querySelectorAll(function(h){return h.id===u});this.mml.insertBefore(sre.CaseMultiindex.createNone_(m[0]),p||null)}}},this);l(t),n[i]&&sre.DomUtil.tagName(n[i])!=="MPRESCRIPTS"?this.mml.insertBefore(n[i],sre.DomUtil.createElement("mprescripts")):i++,l(r)},sre.CaseMultiindex.createNone_=function(t){var r=sre.DomUtil.createElement("none");return t&&sre.EnrichMathml.setAttributes(r,t),r.setAttribute(sre.EnrichMathml.Attribute.ADDED,"true"),r},sre.CaseMultiindex.multiscriptIndex=function(t){return t.type===sre.SemanticAttr.Type.PUNCTUATED&&t.contentNodes[0].role===sre.SemanticAttr.Role.DUMMY?sre.EnrichMathml.collapsePunctuated(t):(sre.EnrichMathml.walkTree(t),t.id)},sre.CaseMultiscripts=function(t){sre.CaseMultiindex.call(this,t)},goog.inherits(sre.CaseMultiscripts,sre.CaseMultiindex),sre.CaseMultiscripts.test=function(t){return t.mathmlTree?sre.DomUtil.tagName(t.mathmlTree)==="MMULTISCRIPTS"&&(t.type===sre.SemanticAttr.Type.SUPERSCRIPT||t.type===sre.SemanticAttr.Type.SUBSCRIPT):!1},sre.CaseMultiscripts.prototype.getMathml=function(){if(sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===sre.SemanticAttr.Role.SUBSUP){var t=this.semantic.childNodes[0],r=t.childNodes[0],n=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),i=sre.CaseMultiindex.multiscriptIndex(t.childNodes[1]),l=[this.semantic.id,[t.id,r.id,i],n];sre.EnrichMathml.addCollapsedAttribute(this.mml,l),this.mml.setAttribute(sre.EnrichMathml.Attribute.TYPE,t.role),this.completeMultiscript(sre.SemanticSkeleton.interleaveIds(i,n),[])}else r=this.semantic.childNodes[0],n=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),l=[this.semantic.id,r.id,n],sre.EnrichMathml.addCollapsedAttribute(this.mml,l);return t=sre.SemanticSkeleton.collapsedLeafs(i||[],n),n=sre.EnrichMathml.walkTree(r),sre.EnrichMathml.getInnerNode(n).setAttribute(sre.EnrichMathml.Attribute.PARENT,this.semantic.id),t.unshift(r.id),this.mml.setAttribute(sre.EnrichMathml.Attribute.CHILDREN,t.join(",")),this.mml},sre.CaseEmbellished=function(t){sre.AbstractEnrichCase.call(this,t),this.ofenceMml=this.ofence=this.fencedMml=this.fenced=null,this.ofenceMap={},this.cfenceMml=this.cfence=null,this.cfenceMap={},this.parentCleanup=[]},goog.inherits(sre.CaseEmbellished,sre.AbstractEnrichCase),sre.CaseEmbellished.test=function(t){return!(!t.mathmlTree||!t.fencePointer)},sre.CaseEmbellished.prototype.getMathml=function(){return this.getFenced_(),this.fencedMml=sre.EnrichMathml.walkTree(this.fenced),this.getFencesMml_(),this.rewrite_()},sre.CaseEmbellished.prototype.getFenced_=function(){for(var t=this.semantic;t.type!==sre.SemanticAttr.Type.FENCED;)t=t.childNodes[0];this.fenced=t.childNodes[0],this.ofence=t.contentNodes[0],this.cfence=t.contentNodes[1],sre.CaseEmbellished.fencedMap_(this.ofence,this.ofenceMap),sre.CaseEmbellished.fencedMap_(this.cfence,this.cfenceMap)},sre.CaseEmbellished.fencedMap_=function(t,r){r[t.id]=t.mathmlTree,t.embellished&&sre.CaseEmbellished.fencedMap_(t.childNodes[0],r)},sre.CaseEmbellished.prototype.getFencesMml_=function(){for(var t=this.semantic,r=Object.keys(this.ofenceMap),n=Object.keys(this.cfenceMap);!(this.ofenceMml&&this.cfenceMml||t===this.fenced);)r.indexOf(t.fencePointer)===-1||this.ofenceMml||(this.ofenceMml=t.mathmlTree),n.indexOf(t.fencePointer)===-1||this.cfenceMml||(this.cfenceMml=t.mathmlTree),t=t.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=sre.EnrichMathml.ascendNewNode(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=sre.EnrichMathml.ascendNewNode(this.cfenceMml))},sre.CaseEmbellished.prototype.rewrite_=function(){var t=this.semantic,r=null,n=this.introduceNewLayer_();for(sre.EnrichMathml.setAttributes(n,this.fenced.parent);t.type!==sre.SemanticAttr.Type.FENCED;){var i=t.mathmlTree,l=this.specialCase_(t,i);if(l)t=l;else{sre.EnrichMathml.setAttributes(i,t),l=[];for(var s=1,o;o=t.childNodes[s];s++)l.push(sre.EnrichMathml.walkTree(o));t=t.childNodes[0]}l=sre.DomUtil.createElement("dummy"),s=n.parentNode,o=i.childNodes[0],sre.DomUtil.replaceNode(i,l),sre.DomUtil.replaceNode(n,i),sre.DomUtil.replaceNode(i.childNodes[0],n),sre.DomUtil.replaceNode(l,o),i.parentNode=s,n=i.childNodes[0],r||(r=i)}return sre.EnrichMathml.walkTree(this.ofence),sre.EnrichMathml.walkTree(this.cfence),this.cleanupParents_(),r||n},sre.CaseEmbellished.prototype.specialCase_=function(t,r){var n=sre.DomUtil.tagName(r),i=null;if(n==="MSUBSUP"){i=t.childNodes[0];var l=sre.CaseDoubleScript}else n==="MMULTISCRIPTS"&&(t.type===sre.SemanticAttr.Type.SUPERSCRIPT||t.type===sre.SemanticAttr.Type.SUBSCRIPT?l=sre.CaseMultiscripts:t.type===sre.SemanticAttr.Type.TENSOR&&(l=sre.CaseTensor),i=l&&t.childNodes[0]&&t.childNodes[0].role===sre.SemanticAttr.Role.SUBSUP?t.childNodes[0]:t);return i?(n=i.childNodes[0],r=sre.CaseEmbellished.makeEmptyNode_(n.id),i.childNodes[0]=r,r=new l(t).getMathml(),i.childNodes[0]=n,this.parentCleanup.push(r),i.childNodes[0]):null},sre.CaseEmbellished.makeEmptyNode_=function(t){var r=sre.DomUtil.createElement("mrow");return t=new sre.SemanticNode(t),t.type=sre.SemanticAttr.Type.EMPTY,t.mathmlTree=r,t},sre.CaseEmbellished.prototype.introduceNewLayer_=function(){var t=this.fullFence(this.ofenceMml),r=this.fullFence(this.cfenceMml),n=sre.DomUtil.createElement("mrow");if(sre.DomUtil.replaceNode(this.fencedMml,n),n.appendChild(this.fencedMml),n.insertBefore(t,this.fencedMml),n.appendChild(r),!n.parentNode){for(t=sre.DomUtil.createElement("mrow");0<n.childNodes.length;)t.appendChild(n.childNodes[0]);n.appendChild(t),n=t}return n},sre.CaseEmbellished.prototype.fullFence=function(t){for(var r=this.fencedMml.parentNode;t.parentNode&&t.parentNode!==r;)t=t.parentNode;return t},sre.CaseEmbellished.prototype.cleanupParents_=function(){this.parentCleanup.forEach(function(t){var r=t.childNodes[1].getAttribute(sre.EnrichMathml.Attribute.PARENT);t.childNodes[0].setAttribute(sre.EnrichMathml.Attribute.PARENT,r)})},sre.CaseLine=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseLine,sre.AbstractEnrichCase),sre.CaseLine.test=function(t){return!!t.mathmlTree&&t.type===sre.SemanticAttr.Type.LINE},sre.CaseLine.prototype.getMathml=function(){return this.semantic.contentNodes.length&&sre.EnrichMathml.walkTree(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&sre.EnrichMathml.walkTree(this.semantic.childNodes[0]),sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml},sre.CaseProof=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseProof,sre.AbstractEnrichCase),sre.CaseProof.test=function(t){return!!t.mathmlTree&&(t.type===sre.SemanticAttr.Type.INFERENCE||t.type===sre.SemanticAttr.Type.PREMISES)},sre.CaseProof.prototype.getMathml=function(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach(function(t){sre.EnrichMathml.walkTree(t),sre.EnrichMathml.setAttributes(t.mathmlTree,t)}),this.semantic.childNodes.forEach(function(t){sre.EnrichMathml.walkTree(t)}),sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml},sre.CaseTable=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree,this.inner=[]},goog.inherits(sre.CaseTable,sre.AbstractEnrichCase),sre.CaseTable.test=function(t){return!!t.mathmlTree&&(t.type===sre.SemanticAttr.Type.MATRIX||t.type===sre.SemanticAttr.Type.VECTOR||t.type===sre.SemanticAttr.Type.CASES)},sre.CaseTable.prototype.getMathml=function(){var t=sre.EnrichMathml.cloneContentNode(this.semantic.contentNodes[0]),r=this.semantic.contentNodes[1]?sre.EnrichMathml.cloneContentNode(this.semantic.contentNodes[1]):null;return this.inner=this.semantic.childNodes.map(sre.EnrichMathml.walkTree),sre.DomUtil.tagName(this.mml)==="MFENCED"?(this.mml.insertBefore(t,this.mml.childNodes[0]||null),r&&this.mml.appendChild(r),this.mml=sre.EnrichMathml.rewriteMfenced(this.mml)):(t=[t,this.mml],r&&t.push(r),this.mml=sre.EnrichMathml.introduceNewLayer(t)),sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml},sre.CaseTensor=function(t){sre.CaseMultiindex.call(this,t)},goog.inherits(sre.CaseTensor,sre.CaseMultiindex),sre.CaseTensor.test=function(t){return!!t.mathmlTree&&t.type===sre.SemanticAttr.Type.TENSOR},sre.CaseTensor.prototype.getMathml=function(){sre.EnrichMathml.walkTree(this.semantic.childNodes[0]);var t=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),r=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[2]),n=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[3]),i=sre.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[4]);sre.EnrichMathml.setAttributes(this.mml,this.semantic),sre.EnrichMathml.addCollapsedAttribute(this.mml,[this.semantic.id,this.semantic.childNodes[0].id,t,r,n,i]);var l=sre.SemanticSkeleton.collapsedLeafs(t,r,n,i);return l.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(sre.EnrichMathml.Attribute.CHILDREN,l.join(",")),this.completeMultiscript(sre.SemanticSkeleton.interleaveIds(n,i),sre.SemanticSkeleton.interleaveIds(t,r)),this.mml},sre.CaseText=function(t){sre.AbstractEnrichCase.call(this,t),this.mml=t.mathmlTree},goog.inherits(sre.CaseText,sre.AbstractEnrichCase),sre.CaseText.test=function(t){return t.type===sre.SemanticAttr.Type.PUNCTUATED&&(t.role===sre.SemanticAttr.Role.TEXT||t.contentNodes.every(function(r){return r.role===sre.SemanticAttr.Role.DUMMY}))},sre.CaseText.prototype.getMathml=function(){var t=[],r=sre.EnrichMathml.collapsePunctuated(this.semantic,t);return this.mml=sre.EnrichMathml.introduceNewLayer(t),sre.EnrichMathml.setAttributes(this.mml,this.semantic),this.mml.removeAttribute(sre.EnrichMathml.Attribute.CONTENT),sre.EnrichMathml.addCollapsedAttribute(this.mml,r),this.mml},sre.EnrichCases=function(){},sre.EnrichCaseFactory.cases.push({test:sre.CaseEmbellished.test,constr:sre.CaseEmbellished},{test:sre.CaseDoubleScript.test,constr:sre.CaseDoubleScript},{test:sre.CaseTensor.test,constr:sre.CaseTensor},{test:sre.CaseMultiscripts.test,constr:sre.CaseMultiscripts},{test:sre.CaseLine.test,constr:sre.CaseLine},{test:sre.CaseBinomial.test,constr:sre.CaseBinomial},{test:sre.CaseProof.test,constr:sre.CaseProof},{test:sre.CaseTable.test,constr:sre.CaseTable},{test:sre.CaseText.test,constr:sre.CaseText}),sre.Enrich={},sre.Enrich.semanticMathmlNode=function(t){t=t.cloneNode(!0);var r=sre.Semantic.getTree(t);return sre.EnrichMathml.enrich(t,r)},sre.Enrich.semanticMathmlSync=function(t){return t=sre.DomUtil.parseInput(t),sre.Enrich.semanticMathmlNode(t)},sre.Enrich.semanticMathml=function(t,r){if(sre.Engine.isReady()){var n=sre.DomUtil.parseInput(t);r(sre.Enrich.semanticMathmlNode(n))}else setTimeout(function(){sre.Enrich.semanticMathml(t,r)},500)},sre.Enrich.testTranslation__=function(t){return new sre.EnrichCases,sre.Debugger.getInstance().init(),t=sre.Enrich.semanticMathmlSync(sre.Enrich.prepareMmlString(t)).toString(),sre.EnrichMathml.removeAttributePrefix(t),sre.Debugger.getInstance().exit(),t},sre.Enrich.prepareMmlString=function(t){return t.match(/^<math/)||(t="<math>"+t),t.match(/\/math>$/)||(t+="</math>"),t},sre.ColorPicker=function(t,r){this.foreground=sre.ColorPicker.getChannelColor_(r,sre.ColorPicker.DEFAULT_FOREGROUND_),this.background=sre.ColorPicker.getChannelColor_(t,sre.ColorPicker.DEFAULT_BACKGROUND_)},sre.ColorPicker.DEFAULT_BACKGROUND_="blue",sre.ColorPicker.DEFAULT_FOREGROUND_="black",sre.ColorPicker.namedColors_={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}},sre.ColorPicker.getChannelColor_=function(t,r){t=t||{color:r};var n=t.color?sre.ColorPicker.namedColors_[t.color]:t;return n||(n=sre.ColorPicker.namedColors_[r]),n.alpha=t.hasOwnProperty("alpha")?t.alpha:1,sre.ColorPicker.normalizeColor_(n)},sre.ColorPicker.normalizeColor_=function(t){var r=function(n){return n=Math.max(n,0),n=Math.min(255,n),Math.round(n)};return t.red=r(t.red),t.green=r(t.green),t.blue=r(t.blue),t.alpha=Math.max(t.alpha,0),t.alpha=Math.min(1,t.alpha),t},sre.ColorPicker.prototype.rgba=function(){var t=function(r){return"rgba("+r.red+","+r.green+","+r.blue+","+r.alpha+")"};return{background:t(this.background),foreground:t(this.foreground)}},sre.ColorPicker.prototype.rgb=function(){var t=function(r){return"rgb("+r.red+","+r.green+","+r.blue+")"};return{background:t(this.background),alphaback:this.background.alpha.toString(),foreground:t(this.foreground),alphafore:this.foreground.alpha.toString()}},sre.ColorPicker.prototype.hex=function(){var t=function(r){return"#"+sre.ColorPicker.toHex_(r.red)+sre.ColorPicker.toHex_(r.green)+sre.ColorPicker.toHex_(r.blue)};return{background:t(this.background),alphaback:this.background.alpha.toString(),foreground:t(this.foreground),alphafore:this.foreground.alpha.toString()}},sre.ColorPicker.toHex_=function(t){return t=t.toString(16),t.length===1?"0"+t:t},sre.ContrastPicker=function(){this.hue=10,this.sat=100,this.incr=this.light=50},sre.ContrastPicker.prototype.generate=function(){return sre.ColorPicker.RGB2hex_(sre.ColorPicker.rgb2RGB_(sre.ColorPicker.hsl2rgb_(this.hue,this.sat,this.light)))},sre.ContrastPicker.prototype.increment=function(){this.hue=(this.hue+this.incr)%360},sre.ColorPicker.hsl2rgb_=function(t,r,n){n=1<n?n/100:n;var i=(1-Math.abs(2*n-1))*(1<r?r/100:r),l=i*(1-Math.abs(t/60%2-1));n-=i/2;var s=r=0,o=0;return 0<=t&&60>t?(t=$jscomp.makeIterator([i,l,0]),r=t.next().value,s=t.next().value,o=t.next().value):60<=t&&120>t?(t=$jscomp.makeIterator([l,i,0]),r=t.next().value,s=t.next().value,o=t.next().value):120<=t&&180>t?(t=$jscomp.makeIterator([0,i,l]),r=t.next().value,s=t.next().value,o=t.next().value):180<=t&&240>t?(t=$jscomp.makeIterator([0,l,i]),r=t.next().value,s=t.next().value,o=t.next().value):240<=t&&300>t?(t=$jscomp.makeIterator([l,0,i]),r=t.next().value,s=t.next().value,o=t.next().value):300<=t&&360>t&&(t=$jscomp.makeIterator([i,0,l]),r=t.next().value,s=t.next().value,o=t.next().value),{red:r+n,green:s+n,blue:o+n}},sre.ColorPicker.rgb2RGB_=function(t){return{red:Math.round(255*t.red),green:Math.round(255*t.green),blue:Math.round(255*t.blue)}},sre.ColorPicker.RGB2hex_=function(t){return"rgb("+t.red+","+t.green+","+t.blue+")"},sre.Highlighter=function(){},sre.Highlighter.prototype.highlight=function(t){},sre.Highlighter.prototype.unhighlight=function(){},sre.Highlighter.prototype.highlightAll=function(t){},sre.Highlighter.prototype.unhighlightAll=function(){},sre.Highlighter.prototype.setColor=function(t){},sre.Highlighter.prototype.addEvents=function(t,r){},sre.AbstractHighlighter=function(){this.currentHighlights_=[],this.color=null,this.mactionName=""},sre.AbstractHighlighter.ATTR="sre-highlight",sre.AbstractHighlighter.prototype.highlight=function(t){this.currentHighlights_.push(t.map(goog.bind(function(r){var n=this.highlightNode(r);return this.setHighlighted(r),n},this)))},sre.AbstractHighlighter.prototype.highlightNode=goog.abstractMethod,sre.AbstractHighlighter.prototype.highlightAll=function(t){t=this.getMactionNodes(t);for(var r=0,n;n=t[r];r++)this.highlight([n])},sre.AbstractHighlighter.prototype.unhighlight=function(){var t=this.currentHighlights_.pop();t&&t.forEach(goog.bind(function(r){this.isHighlighted(r.node)&&(this.unhighlightNode(r),this.unsetHighlighted(r.node))},this))},sre.AbstractHighlighter.prototype.unhighlightNode=goog.abstractMethod,sre.AbstractHighlighter.prototype.unhighlightAll=function(){for(;0<this.currentHighlights_.length;)this.unhighlight()},sre.AbstractHighlighter.prototype.setColor=function(t){this.color=t},sre.AbstractHighlighter.prototype.colorString=function(){return this.color.rgba()},sre.AbstractHighlighter.prototype.addEvents=function(t,r){t=this.getMactionNodes(t);for(var n=0,i;i=t[n];n++)for(var l in r)i.addEventListener(l,r[l])},sre.AbstractHighlighter.prototype.getMactionNodes=function(t){return t.getElementsByClassName(this.mactionName)},sre.AbstractHighlighter.prototype.isMactionNode=function(t){return(t=t.className||t.getAttribute("class"))?t.match(new RegExp(this.mactionName)):!1},sre.AbstractHighlighter.prototype.isHighlighted=function(t){return t.hasAttribute(sre.AbstractHighlighter.ATTR)},sre.AbstractHighlighter.prototype.setHighlighted=function(t){t.setAttribute(sre.AbstractHighlighter.ATTR,!0)},sre.AbstractHighlighter.prototype.unsetHighlighted=function(t){t.removeAttribute(sre.AbstractHighlighter.ATTR)},sre.AbstractHighlighter.prototype.colorizeAll=function(t){sre.XpathUtil.evalXPath(".//*[@"+sre.EnrichMathml.Attribute.ID+"]",t).forEach(goog.bind(function(r){this.colorize(r)},this))},sre.AbstractHighlighter.prototype.uncolorizeAll=function(t){sre.XpathUtil.evalXPath(".//*[@"+sre.EnrichMathml.Attribute.ID+"]",t).forEach(goog.bind(function(r){this.uncolorize(r)},this))},sre.AbstractHighlighter.prototype.colorize=function(t){var r=sre.EnrichMathml.addPrefix("foreground");t.hasAttribute(r)&&(t.setAttribute(r+"-old",t.style.color),t.style.color=t.getAttribute(r))},sre.AbstractHighlighter.prototype.uncolorize=function(t){var r=sre.EnrichMathml.addPrefix("foreground")+"-old";t.hasAttribute(r)&&(t.style.color=t.getAttribute(r))},sre.CssHighlighter=function(){sre.AbstractHighlighter.call(this),this.mactionName="mjx-maction"},goog.inherits(sre.CssHighlighter,sre.AbstractHighlighter),sre.CssHighlighter.prototype.highlightNode=function(t){var r={node:t,background:t.style.backgroundColor,foreground:t.style.color},n=this.colorString();return t.style.backgroundColor=n.background,t.style.color=n.foreground,r},sre.CssHighlighter.prototype.unhighlightNode=function(t){t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground},sre.ChtmlHighlighter=function(){sre.CssHighlighter.call(this)},goog.inherits(sre.ChtmlHighlighter,sre.CssHighlighter),sre.ChtmlHighlighter.prototype.isMactionNode=function(t){return t.tagName.toUpperCase()===this.mactionName.toUpperCase()},sre.ChtmlHighlighter.prototype.getMactionNodes=function(t){return t.getElementsByTagName(this.mactionName)},sre.HtmlHighlighter=function(){sre.AbstractHighlighter.call(this),this.mactionName="maction"},goog.inherits(sre.HtmlHighlighter,sre.AbstractHighlighter),sre.HtmlHighlighter.prototype.setMode=function(t){this.mode=t},sre.HtmlHighlighter.prototype.highlightNode=function(t){var r={node:t,foreground:t.style.color,position:t.style.position},n=this.color.rgb();t.style.color=n.foreground,t.style.position="relative";var i=t.bbox;if(i&&i.w){var l=sre.DomUtil.createElement("span"),s=parseFloat(t.style.paddingLeft||"0");l.style.backgroundColor=n.background,l.style.opacity=n.alphaback.toString(),l.style.display="inline-block",l.style.height=i.h+i.d+.1+"em",l.style.verticalAlign=-i.d+"em",l.style.marginTop=l.style.marginBottom="-0.05em",l.style.width=i.w+0+"em",l.style.marginLeft=s-0+"em",l.style.marginRight=-i.w-s+"em",t.parentNode.insertBefore(l,t),r.box=l}return r},sre.HtmlHighlighter.prototype.unhighlightNode=function(t){var r=t.node;r.style.color=t.foreground,r.style.position=t.position,t.box&&t.box.parentNode.removeChild(t.box)},sre.MmlCssHighlighter=function(){sre.CssHighlighter.call(this),this.mactionName="maction"},goog.inherits(sre.MmlCssHighlighter,sre.CssHighlighter),sre.MmlCssHighlighter.prototype.getMactionNodes=function(t){return t.getElementsByTagName(this.mactionName)},sre.MmlCssHighlighter.prototype.isMactionNode=function(t){return t.tagName===this.mactionName},sre.MmlHighlighter=function(){sre.AbstractHighlighter.call(this),this.mactionName="maction"},goog.inherits(sre.MmlHighlighter,sre.AbstractHighlighter),sre.MmlHighlighter.prototype.highlightNode=function(t){var r=t.getAttribute("style");return r+=";background-color: "+this.colorString().background,r+=";color: "+this.colorString().foreground,t.setAttribute("style",r),{node:t}},sre.MmlHighlighter.prototype.unhighlightNode=function(t){var r=t.node.getAttribute("style");r=r.replace(";background-color: "+this.colorString().background,""),r=r.replace(";color: "+this.colorString().foreground,""),t.node.setAttribute("style",r)},sre.MmlHighlighter.prototype.colorString=function(){return this.color.rgba()},sre.MmlHighlighter.prototype.getMactionNodes=function(t){return t.getElementsByTagName(this.mactionName)},sre.MmlHighlighter.prototype.isMactionNode=function(t){return t.tagName===this.mactionName},sre.SvgHighlighter=function(){sre.AbstractHighlighter.call(this),this.mactionName="mjx-svg-maction"},goog.inherits(sre.SvgHighlighter,sre.AbstractHighlighter),sre.SvgHighlighter.prototype.highlightNode=function(t){if(this.isHighlighted(t))return{node:t.previousSibling||t,background:t.style.backgroundColor,foreground:t.style.color};if(t.tagName==="svg"){var r={node:t,background:t.style.backgroundColor,foreground:t.style.color};return t.style.backgroundColor=this.colorString().background,t.style.color=this.colorString().foreground,r}if(r=sre.DomUtil.createElementNS("http://www.w3.org/2000/svg","rect"),t.nodeName==="use"){var n=sre.DomUtil.createElementNS("http://www.w3.org/2000/svg","g");t.parentNode.insertBefore(n,t),n.appendChild(t);var i=n.getBBox();n.parentNode.replaceChild(t,n)}else i=t.getBBox();return r.setAttribute("x",i.x-40),r.setAttribute("y",i.y-40),r.setAttribute("width",i.width+80),r.setAttribute("height",i.height+80),(i=t.getAttribute("transform"))&&r.setAttribute("transform",i),r.setAttribute("fill",this.colorString().background),r.setAttribute(sre.AbstractHighlighter.ATTR,!0),t.parentNode.insertBefore(r,t),r={node:r,foreground:t.getAttribute("fill")},t.setAttribute("fill",this.colorString().foreground),r},sre.SvgHighlighter.prototype.setHighlighted=function(t){t.tagName==="svg"&&sre.SvgHighlighter.superClass_.setHighlighted.call(this,t)},sre.SvgHighlighter.prototype.unhighlightNode=function(t){"background"in t?(t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground):(t.foreground?t.node.nextSibling.setAttribute("fill",t.foreground):t.node.nextSibling.removeAttribute("fill"),t.node.parentNode.removeChild(t.node))},sre.SvgHighlighter.prototype.isMactionNode=function(t){return t=t.className||t.getAttribute("class"),(t=t.baseVal!==void 0?t.baseVal:t)?t.match(new RegExp(this.mactionName)):!1},sre.SvgV3Highlighter=function(){sre.SvgHighlighter.call(this),this.mactionName="maction"},goog.inherits(sre.SvgV3Highlighter,sre.SvgHighlighter),sre.SvgV3Highlighter.prototype.highlightNode=function(t){if(this.isHighlighted(t))return{node:t,background:this.colorString().background,foreground:this.colorString().foreground};if(t.tagName==="svg"||t.tagName==="MJX-CONTAINER"){var r={node:t,background:t.style.backgroundColor,foreground:t.style.color};return t.style.backgroundColor=this.colorString().background,t.style.color=this.colorString().foreground,r}r=sre.DomUtil.createElementNS("http://www.w3.org/2000/svg","rect"),r.setAttribute("sre-highlighter-added",!0);var n=t.getBBox();return r.setAttribute("x",n.x-40),r.setAttribute("y",n.y-40),r.setAttribute("width",n.width+80),r.setAttribute("height",n.height+80),(n=t.getAttribute("transform"))&&r.setAttribute("transform",n),r.setAttribute("fill",this.colorString().background),t.parentNode.insertBefore(r,t),r={node:t,foreground:t.getAttribute("fill")},t.nodeName==="rect"?(n=new sre.ColorPicker({alpha:0,color:"black"}),t.setAttribute("fill",n.rgba().foreground)):t.setAttribute("fill",this.colorString().foreground),r},sre.SvgV3Highlighter.prototype.unhighlightNode=function(t){var r=t.node.previousSibling;r&&r.hasAttribute("sre-highlighter-added")?(t.foreground?t.node.setAttribute("fill",t.foreground):t.node.removeAttribute("fill"),t.node.parentNode.removeChild(r)):(t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground)},sre.SvgV3Highlighter.prototype.isMactionNode=function(t){return t.getAttribute("data-mml-node")===this.mactionName},sre.SvgV3Highlighter.prototype.getMactionNodes=function(t){return sre.XpathUtil.evalXPath('.//*[@data-mml-node="'+this.mactionName+'"]',t)},sre.HighlighterFactory={},sre.HighlighterFactory.highlighter=function(t,r,n){return t=new sre.ColorPicker(t,r),n=new(sre.HighlighterFactory.highlighterMapping_[n.renderer==="NativeMML"&&n.browser==="Safari"?"MML-CSS":n.renderer==="SVG"&&n.browser==="v3"?"SVG-V3":n.renderer]||sre.HighlighterFactory.highlighterMapping_.NativeMML),n.setColor(t),n},sre.HighlighterFactory.addEvents=function(t,r,n){(n=sre.HighlighterFactory.highlighterMapping_[n.renderer])&&new n().addEvents(t,r)},sre.HighlighterFactory.highlighterMapping_={SVG:sre.SvgHighlighter,"SVG-V3":sre.SvgV3Highlighter,NativeMML:sre.MmlHighlighter,"HTML-CSS":sre.HtmlHighlighter,"MML-CSS":sre.MmlCssHighlighter,CommonHTML:sre.CssHighlighter,CHTML:sre.ChtmlHighlighter},sre.Span=function(t,r){this.string=t,this.attributes=r},sre.AudioUtil={},sre.AudioUtil.mergePause=function(t,r,n){return t?{pause:sre.AudioUtil.mergePause_(t.pause,r.pause,n)}:r},sre.AudioUtil.mergePause_=function(t,r,n){return(n||function(i,l){return typeof i=="number"||typeof l=="number"?i+l:typeof i=="number"?l:typeof l=="number"?i:[t,r].sort()[0]}).call(null,t,r)},sre.AudioUtil.mergeMarkup=function(t,r){delete t.open,r.close.forEach(function(i){delete t[i]}),r.open.forEach(function(i){t[i]=r[i]});var n=Object.keys(t);t.open=n},sre.AudioUtil.sortClose=function(t,r){if(1>=t.length)return t;for(var n=[],i=0,l;l=r[i],t.length;i++)l.close&&l.close.length&&l.close.forEach(function(s){var o=t.indexOf(s);o!==-1&&(n.unshift(s),t.splice(o,1))});return n},sre.AudioUtil.PersonalityRanges_={},sre.AudioUtil.LastOpen_=[],sre.AudioUtil.personalityMarkup=function(t){sre.AudioUtil.PersonalityRanges_={},sre.AudioUtil.LastOpen_=[];for(var r=[],n={},i=0,l;l=t[i];i++){var s=null,o=l.descriptionSpan(),u=l.personality;l=u[sre.Engine.personalityProps.JOIN],delete u[sre.Engine.personalityProps.JOIN],typeof u[sre.Engine.personalityProps.PAUSE]!="undefined"&&(s={},s[sre.Engine.personalityProps.PAUSE]=u[sre.Engine.personalityProps.PAUSE],delete u[sre.Engine.personalityProps.PAUSE]),u=sre.AudioUtil.personalityDiff_(u,n),sre.AudioUtil.appendMarkup_(r,o,u,l,s,!0)}return r=r.concat(sre.AudioUtil.finaliseMarkup_()),r=sre.AudioUtil.simplifyMarkup_(r)},sre.AudioUtil.appendElement_=function(t,r){var n=t[t.length-1];if(n)if(sre.AudioUtil.isSpanElement(r)&&sre.AudioUtil.isSpanElement(n))if(typeof n.join=="undefined")n.span=n.span.concat(r.span);else{t=n.span.pop();var i=r.span.shift();n.span.push(t+n.join+i),n.span=n.span.concat(r.span),n.join=r.join}else sre.AudioUtil.isPauseElement(r)&&sre.AudioUtil.isPauseElement(n)?n.pause=sre.AudioUtil.mergePause_(n.pause,r.pause):t.push(r);else t.push(r)},sre.AudioUtil.simplifyMarkup_=function(t){for(var r={},n=[],i=0,l;l=t[i];i++)if(sre.AudioUtil.isMarkupElement(l))if(!l.close||l.close.length!==1||l.open.length)sre.AudioUtil.copyValues_(l,r),n.push(l);else{var s=t[i+1];if(!s||sre.AudioUtil.isSpanElement(s))sre.AudioUtil.copyValues_(l,r),n.push(l);else{var o=sre.AudioUtil.isPauseElement(s)?s:null;o&&(s=t[i+2]),s&&sre.AudioUtil.isMarkupElement(s)&&s.open[0]===l.close[0]&&!s.close.length&&s[s.open[0]]===r[s.open[0]]?o?(sre.AudioUtil.appendElement_(n,o),i+=2):i+=1:(sre.AudioUtil.copyValues_(l,r),n.push(l))}}else sre.AudioUtil.appendElement_(n,l);return n},sre.AudioUtil.copyValues_=function(t,r){t.rate&&(r.rate=t.rate),t.pitch&&(r.pitch=t.pitch),t.volume&&(r.volume=t.volume)},sre.AudioUtil.finaliseMarkup_=function(){for(var t=[],r=sre.AudioUtil.LastOpen_.length-1;0<=r;r--){var n=sre.AudioUtil.LastOpen_[r];if(n.length){for(var i={open:[],close:[]},l=0;l<n.length;l++){var s=n[l];i.close.push(s),i[s]=0}t.push(i)}}return t},sre.AudioUtil.isMarkupElement=function(t){return typeof t=="object"&&t.open},sre.AudioUtil.isPauseElement=function(t){return typeof t=="object"&&Object.keys(t).length===1&&Object.keys(t)[0]===sre.Engine.personalityProps.PAUSE},sre.AudioUtil.isSpanElement=function(t){var r=Object.keys(t);return typeof t=="object"&&(r.length===1&&r[0]==="span"||r.length===2&&(r[0]==="span"&&r[1]==="join"||r[1]==="span"&&r[0]==="join"))},sre.AudioUtil.appendMarkup_=function(t,r,n,i,l,s){if(s){if(s=t[t.length-1])var o=s[sre.Engine.personalityProps.JOIN];if(s&&!r.string&&l&&sre.AudioUtil.isPauseElement(s)){var u=sre.Engine.personalityProps.PAUSE;s[u]=sre.AudioUtil.mergePause_(s[u],l[u]),l=null}s&&r.string&&Object.keys(n).length===0&&sre.AudioUtil.isSpanElement(s)&&(typeof o!="undefined"&&(u=s.span.pop(),r=new sre.Span(u.string+o+r.string,u.attributes)),s.span.push(r),r=new sre.Span("",{}),s[sre.Engine.personalityProps.JOIN]=i)}Object.keys(n).length!==0&&t.push(n),r.string&&t.push({span:[r],join:i}),l&&t.push(l)},sre.AudioUtil.personalityDiff_=function(t,r){if(!r)return t;var n={};for(u in sre.Engine.personalityProps){var i=sre.Engine.personalityProps[u],l=t[i],s=r[i];if(!(!l&&!s||l&&s&&l===s)){var o=l||0;sre.AudioUtil.isMarkupElement(n)||(n.open=[],n.close=[]),l||n.close.push(i),s||n.open.push(i),s&&l&&(n.close.push(i),n.open.push(i)),r[i]=o,n[i]=o,sre.AudioUtil.PersonalityRanges_[i]?sre.AudioUtil.PersonalityRanges_[i].push(o):sre.AudioUtil.PersonalityRanges_[i]=[o]}}if(sre.AudioUtil.isMarkupElement(n)){for(t=n.close.slice();0<t.length;){var u=sre.AudioUtil.LastOpen_.pop();if(i=sre.BaseUtil.setdifference(u,t),t=sre.BaseUtil.setdifference(t,u),u=i,t.length===0)u.length!==0&&sre.AudioUtil.LastOpen_.push(u);else if(u.length!==0)for(n.close=n.close.concat(u),n.open=n.open.concat(u),i=0;l=u[i];i++)n[l]=r[l]}sre.AudioUtil.LastOpen_.push(n.open)}return n},sre.AudioRenderer=function(){},sre.AudioRenderer.prototype.setSeparator=function(t){},sre.AudioRenderer.prototype.getSeparator=function(){},sre.AudioRenderer.prototype.markup=function(t){},sre.AudioRenderer.prototype.error=function(t){},sre.AudioRenderer.prototype.merge=function(t){},sre.AudioRenderer.prototype.finalize=function(t){},sre.AbstractAudioRenderer=function(){this.separator_=" "},sre.AbstractAudioRenderer.prototype.setSeparator=function(t){this.separator_=t},sre.AbstractAudioRenderer.prototype.getSeparator=function(){return this.separator_},sre.AbstractAudioRenderer.prototype.markup=goog.abstractMethod,sre.AbstractAudioRenderer.prototype.error=function(t){return null},sre.AbstractAudioRenderer.prototype.merge=function(t){return t.map(function(r){return r.string}).join(this.getSeparator())},sre.AbstractAudioRenderer.prototype.finalize=function(t){return t},sre.AbstractAudioRenderer.prototype.pauseValue=function(t){switch(t){case"long":t=750;break;case"medium":t=500;break;case"short":t=250;break;default:t=parseInt(t,10)}return Math.floor(t*parseInt(sre.Engine.getInstance().getRate(),10)/100)},sre.MarkupRenderer=function(){sre.AbstractAudioRenderer.call(this),this.scaleFunction_=null},goog.inherits(sre.MarkupRenderer,sre.AbstractAudioRenderer),sre.MarkupRenderer.prototype.setScaleFunction=function(t,r,n,i,l){var s=l||0;this.scaleFunction_=function(o){return o=(o-t)/(r-t),+(Math.round(n*(1-o)+i*o+"e+"+s)+"e-"+s)}},sre.MarkupRenderer.prototype.applyScaleFunction=function(t){return this.scaleFunction_?this.scaleFunction_(t):t},sre.MarkupRenderer.prototype.pause=goog.abstractMethod,sre.MarkupRenderer.prototype.prosodyElement=goog.abstractMethod,sre.AcssRenderer=function(){sre.MarkupRenderer.call(this)},goog.inherits(sre.AcssRenderer,sre.MarkupRenderer),sre.AcssRenderer.prototype.markup=function(t){this.setScaleFunction(-2,2,0,10,0),t=sre.AudioUtil.personalityMarkup(t);for(var r=[],n={open:[]},i=null,l=!1,s=0,o;o=t[s];s++)if(sre.AudioUtil.isMarkupElement(o))sre.AudioUtil.mergeMarkup(n,o);else if(sre.AudioUtil.isPauseElement(o))l&&(i=sre.AudioUtil.mergePause(i,o,Math.max));else{o='"'+this.merge(o.span)+'"',l=!0,i&&(r.push(this.pause(i)),i=null);var u=this.prosody_(n);r.push(u?"(text ("+u+") "+o+")":o)}return"(exp "+r.join(" ")+")"},sre.AcssRenderer.prototype.error=function(t){return'(error "'+sre.EventUtil.Move[t.toString()]+'")'},sre.AcssRenderer.prototype.prosody_=function(t){for(var r=t.open,n=[],i=0,l;l=r[i];i++)n.push(this.prosodyElement(l,t[l]));return n.join(" ")},sre.AcssRenderer.prototype.prosodyElement=function(t,r){switch(r=this.applyScaleFunction(r),t){case sre.Engine.personalityProps.RATE:return"(richness . "+r+")";case sre.Engine.personalityProps.PITCH:return"(average-pitch . "+r+")";case sre.Engine.personalityProps.VOLUME:return"(stress . "+r+")"}return"(value . "+r+")"},sre.AcssRenderer.prototype.pause=function(t){return"(pause . "+this.pauseValue(t[sre.Engine.personalityProps.PAUSE])+")"},sre.PunctuationRenderer=function(){sre.AbstractAudioRenderer.call(this)},goog.inherits(sre.PunctuationRenderer,sre.AbstractAudioRenderer),sre.PunctuationRenderer.prototype.markup=function(t){t=sre.AudioUtil.personalityMarkup(t);for(var r="",n=null,i=!1,l=0,s;s=t[l];l++)sre.AudioUtil.isMarkupElement(s)||(sre.AudioUtil.isPauseElement(s)?i&&(n=sre.AudioUtil.mergePause(n,s,Math.max)):(n&&(r+=this.pause(n[sre.Engine.personalityProps.PAUSE]),n=null),r+=(i?this.getSeparator():"")+this.merge(s.span),i=!0));return r},sre.PunctuationRenderer.PAUSE_PUNCTUATION_={short:",",medium:";",long:"."},sre.PunctuationRenderer.prototype.pause=function(t){return sre.PunctuationRenderer.PAUSE_PUNCTUATION_[typeof t=="number"?250>=t?"short":500>=t?"medium":"long":t]||""},sre.XmlRenderer=function(){sre.MarkupRenderer.call(this)},goog.inherits(sre.XmlRenderer,sre.MarkupRenderer),sre.XmlRenderer.prototype.markup=function(t){this.setScaleFunction(-2,2,-100,100,2),t=sre.AudioUtil.personalityMarkup(t);for(var r=[],n=[],i=0,l;l=t[i];i++)if(l.span)r.push(this.merge(l.span));else if(sre.AudioUtil.isPauseElement(l))r.push(this.pause(l));else{if(l.close.length)for(var s=0;s<l.close.length;s++){var o=n.pop();if(l.close.indexOf(o)===-1)throw new sre.Engine.Error("Unknown closing markup element: "+o);r.push(this.closeTag(o))}l.open.length&&sre.AudioUtil.sortClose(l.open.slice(),t.slice(i+1)).forEach(goog.bind(function(u){r.push(this.prosodyElement(u,l[u])),n.push(u)},this))}return r.join(" ")},sre.XmlRenderer.prototype.closeTag=goog.abstractMethod,sre.SableRenderer=function(){sre.XmlRenderer.call(this)},goog.inherits(sre.SableRenderer,sre.XmlRenderer),sre.SableRenderer.prototype.finalize=function(t){return'<?xml version="1.0"?><!DOCTYPE SABLE PUBLIC "-//SABLE//DTD SABLE speech mark up//EN" "Sable.v0_2.dtd" []><SABLE>'+this.getSeparator()+t+this.getSeparator()+"</SABLE>"},sre.SableRenderer.prototype.pause=function(t){return'<BREAK MSEC="'+this.pauseValue(t[sre.Engine.personalityProps.PAUSE])+'"/>'},sre.SableRenderer.prototype.prosodyElement=function(t,r){switch(r=this.applyScaleFunction(r),t){case sre.Engine.personalityProps.PITCH:return'<PITCH RANGE="'+r+'%">';case sre.Engine.personalityProps.RATE:return'<RATE SPEED="'+r+'%">';case sre.Engine.personalityProps.VOLUME:return'<VOLUME LEVEL="'+r+'%">';default:return"<"+t.toUpperCase()+' VALUE="'+r+'">'}},sre.SableRenderer.prototype.closeTag=function(t){return"</"+t.toUpperCase()+">"},sre.SsmlRenderer=function(){sre.XmlRenderer.call(this)},goog.inherits(sre.SsmlRenderer,sre.XmlRenderer),sre.SsmlRenderer.prototype.finalize=function(t){return'<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis"><prosody rate="'+sre.Engine.getInstance().getRate()+'%">'+this.getSeparator()+t+this.getSeparator()+"</prosody></speak>"},sre.SsmlRenderer.prototype.pause=function(t){return'<break time="'+this.pauseValue(t[sre.Engine.personalityProps.PAUSE])+'ms"/>'},sre.SsmlRenderer.prototype.prosodyElement=function(t,r){return r=Math.floor(this.applyScaleFunction(r)),r=0>r?r.toString():"+"+r.toString(),"<prosody "+t.toLowerCase()+'="'+r+(t===sre.Engine.personalityProps.VOLUME?">":'%">')},sre.SsmlRenderer.prototype.closeTag=function(t){return"</prosody>"},sre.SsmlStepRenderer=function(){sre.SsmlRenderer.call(this)},goog.inherits(sre.SsmlStepRenderer,sre.SsmlRenderer),sre.SsmlStepRenderer.prototype.markup=function(t){return sre.SsmlStepRenderer.MARKS={},sre.SsmlStepRenderer.superClass_.markup.call(this,t)},sre.SsmlStepRenderer.CHARACTER_ATTR_="character",sre.SsmlStepRenderer.MARKS={},sre.SsmlStepRenderer.prototype.merge=function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n],l=i.attributes.extid;l&&!sre.SsmlStepRenderer.MARKS[l]&&(r.push('<mark name="'+l+'"/>'),sre.SsmlStepRenderer.MARKS[l]=!0),i.string.length===1&&i.string.match(/[a-zA-Z]/)?r.push('<say-as interpret-as="'+sre.SsmlStepRenderer.CHARACTER_ATTR_+'">'+i.string+"</say-as>"):r.push(i.string)}return r.join(this.getSeparator())},sre.StringRenderer=function(){sre.AbstractAudioRenderer.call(this)},goog.inherits(sre.StringRenderer,sre.AbstractAudioRenderer),sre.StringRenderer.prototype.markup=function(t){var r="";if(t=t.filter(function(o){return o.descriptionString()}),!t.length)return r;for(var n=0;n<t.length-1;n++){var i=t[n],l=i.personality[sre.Engine.personalityProps.JOIN],s=sre.Engine.getInstance().locale==="nemeth"?"":this.getSeparator();l=typeof l=="undefined"?s:l,r+=i.descriptionString()+l}return r+=t[n].descriptionString()},sre.AuralRendering=function(){},goog.addSingletonGetter(sre.AuralRendering),sre.AuralRendering.prototype.setSeparator=function(t){var r=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];r&&r.setSeparator(t)},sre.AuralRendering.prototype.getSeparator=function(){var t=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];return t?t.getSeparator():""},sre.AuralRendering.prototype.markup=function(t){var r=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];return r?r.markup(t):""},sre.AuralRendering.prototype.merge=function(t){var r=t.map(function(i){return{string:i,attributes:{}}}),n=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];return n?n.merge(r):t.join()},sre.AuralRendering.prototype.finalize=function(t){var r=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];return r?r.finalize(t):t},sre.AuralRendering.prototype.error=function(t){var r=sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup];return r?r.error(t):""},sre.AuralRendering.registerRenderer=function(t,r){sre.AuralRendering.rendererMapping_[t]=r},sre.AuralRendering.ofType=function(t){return sre.AuralRendering.rendererMapping_[sre.Engine.getInstance().markup]instanceof t},sre.AuralRendering.rendererMapping_={},sre.AuralRendering.registerRenderer(sre.Engine.Markup.NONE,new sre.StringRenderer),sre.AuralRendering.registerRenderer(sre.Engine.Markup.PUNCTUATION,new sre.PunctuationRenderer),sre.AuralRendering.registerRenderer(sre.Engine.Markup.ACSS,new sre.AcssRenderer),sre.AuralRendering.registerRenderer(sre.Engine.Markup.SABLE,new sre.SableRenderer),sre.AuralRendering.xmlInstance=new sre.SsmlRenderer,sre.AuralRendering.registerRenderer(sre.Engine.Markup.VOICEXML,sre.AuralRendering.xmlInstance),sre.AuralRendering.registerRenderer(sre.Engine.Markup.SSML,sre.AuralRendering.xmlInstance),sre.AuralRendering.registerRenderer(sre.Engine.Markup.SSML_STEP,new sre.SsmlStepRenderer),sre.WalkerUtil={},sre.WalkerUtil.splitAttribute=function(t){return t?t.split(/,/):[]},sre.WalkerUtil.getAttribute=function(t,r){return sre.DomUtil.getDataAttribute(t,r)},sre.WalkerUtil.getSemanticRoot=function(t){if(t.hasAttribute(sre.EnrichMathml.Attribute.TYPE)&&!t.hasAttribute(sre.EnrichMathml.Attribute.PARENT))return t;for(var r=sre.DomUtil.querySelectorAllByAttr(t,sre.EnrichMathml.Attribute.TYPE),n=0,i;i=r[n];n++)if(!i.hasAttribute(sre.EnrichMathml.Attribute.PARENT))return i;return t},sre.WalkerUtil.getBySemanticId=function(t,r){return t.getAttribute(sre.EnrichMathml.Attribute.ID)===r?t:sre.DomUtil.querySelectorAllByAttrValue(t,sre.EnrichMathml.Attribute.ID,r)[0]},sre.RebuildStree=function(t){this.factory=new sre.SemanticNodeFactory,this.nodeDict={},this.mathml=t,this.mmlRoot=sre.WalkerUtil.getSemanticRoot(t),this.streeRoot=this.assembleTree(this.mmlRoot),this.stree=sre.SemanticTree.fromNode(this.streeRoot,this.mathml),this.xml=this.stree.xml(),sre.SemanticProcessor.getInstance().setNodeFactory(this.factory)},sre.RebuildStree.prototype.getTree=function(){return this.stree},sre.RebuildStree.prototype.assembleTree=function(t){var r=this.makeNode(t),n=sre.WalkerUtil.splitAttribute(sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.CHILDREN)),i=sre.WalkerUtil.splitAttribute(sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.CONTENT));if(i.length===0&&n.length===0)return r.textContent=t.textContent,r;if(0<i.length){var l=sre.WalkerUtil.getBySemanticId(t,i[0]);l&&(l=sre.WalkerUtil.splitAttribute(sre.WalkerUtil.getAttribute(l,sre.EnrichMathml.Attribute.OPERATOR)),1<l.length&&(r.textContent=l[1]))}return l=function(s){return s=sre.WalkerUtil.getBySemanticId(t,s),s=this.assembleTree(s),s.parent=r,s},r.contentNodes=i.map(goog.bind(l,this)),r.childNodes=n.map(goog.bind(l,this)),(n=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.COLLAPSED))?this.postProcess(r,n):r},sre.RebuildStree.prototype.makeNode=function(t){var r=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.TYPE),n=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.ROLE),i=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.FONT),l=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.ANNOTATION)||"",s=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.ID),o=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.EMBELLISHED);return t=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.FENCEPOINTER),s=this.createNode(parseInt(s,10)),s.type=r,s.role=n,s.font=i||sre.SemanticAttr.Font.UNKNOWN,s.parseAnnotation(l),t&&(s.fencePointer=t),o&&(s.embellished=o),s},sre.RebuildStree.isPunctuated=function(t){return!sre.SemanticSkeleton.simpleCollapseStructure(t)&&t[1]&&sre.SemanticSkeleton.contentCollapseStructure(t[1])},sre.RebuildStree.prototype.makePunctuation=function(t){return t=this.createNode(t),t.updateContent(sre.SemanticAttr.invisibleComma()),t.role=sre.SemanticAttr.Role.DUMMY,t},sre.RebuildStree.prototype.makePunctuated=function(t,r,n){var i=this.createNode(r[0]);i.type=sre.SemanticAttr.Type.PUNCTUATED,i.embellished=t.embellished,i.fencePointer=t.fencePointer,i.role=n,t=r.splice(1,1)[0].slice(1),i.contentNodes=t.map(goog.bind(this.makePunctuation,this)),this.collapsedChildren_(r)},sre.RebuildStree.prototype.makeEmpty=function(t,r,n){r=this.createNode(r),r.type=sre.SemanticAttr.Type.EMPTY,r.embellished=t.embellished,r.fencePointer=t.fencePointer,r.role=n},sre.RebuildStree.prototype.makeIndex=function(t,r,n){sre.RebuildStree.isPunctuated(r)?this.makePunctuated(t,r,n):sre.SemanticSkeleton.simpleCollapseStructure(r)&&!this.nodeDict[r.toString()]&&this.makeEmpty(t,r,n)},sre.RebuildStree.prototype.postProcess=function(t,r){if(r=sre.SemanticSkeleton.fromString(r).array,t.type===sre.SemanticAttr.Role.SUBSUP){var n=this.createNode(r[1][0]);return n.type=sre.SemanticAttr.Type.SUBSCRIPT,n.role=sre.SemanticAttr.Role.SUBSUP,t.type=sre.SemanticAttr.Type.SUPERSCRIPT,n.embellished=t.embellished,n.fencePointer=t.fencePointer,this.makeIndex(t,r[1][2],sre.SemanticAttr.Role.RIGHTSUB),this.makeIndex(t,r[2],sre.SemanticAttr.Role.RIGHTSUPER),this.collapsedChildren_(r),t}return t.type===sre.SemanticAttr.Type.SUBSCRIPT?(this.makeIndex(t,r[2],sre.SemanticAttr.Role.RIGHTSUB),this.collapsedChildren_(r),t):t.type===sre.SemanticAttr.Type.SUPERSCRIPT?(this.makeIndex(t,r[2],sre.SemanticAttr.Role.RIGHTSUPER),this.collapsedChildren_(r),t):t.type===sre.SemanticAttr.Type.TENSOR?(this.makeIndex(t,r[2],sre.SemanticAttr.Role.LEFTSUB),this.makeIndex(t,r[3],sre.SemanticAttr.Role.LEFTSUPER),this.makeIndex(t,r[4],sre.SemanticAttr.Role.RIGHTSUB),this.makeIndex(t,r[5],sre.SemanticAttr.Role.RIGHTSUPER),this.collapsedChildren_(r),t):t.type===sre.SemanticAttr.Type.PUNCTUATED?(sre.RebuildStree.isPunctuated(r)&&(r=r.splice(1,1)[0].slice(1),t.contentNodes=r.map(goog.bind(this.makePunctuation,this))),t):(t.type===sre.SemanticAttr.Role.UNDEROVER&&(n=this.createNode(r[1][0]),t.childNodes[1].role===sre.SemanticAttr.Role.OVERACCENT?(n.type=sre.SemanticAttr.Type.OVERSCORE,t.type=sre.SemanticAttr.Type.UNDERSCORE):(n.type=sre.SemanticAttr.Type.UNDERSCORE,t.type=sre.SemanticAttr.Type.OVERSCORE),n.role=sre.SemanticAttr.Role.UNDEROVER,n.embellished=t.embellished,n.fencePointer=t.fencePointer,this.collapsedChildren_(r)),t)},sre.RebuildStree.prototype.createNode=function(t){var r=this.factory.makeNode(t);return this.nodeDict[t.toString()]=r},sre.RebuildStree.prototype.collapsedChildren_=function(t){var r=goog.bind(function(n){var i=this.nodeDict[n[0]];i.childNodes=[];for(var l=1,s=n.length;l<s;l++){var o=n[l];i.childNodes.push(sre.SemanticSkeleton.simpleCollapseStructure(o)?this.nodeDict[o]:r(o))}return i},this);r(t)},sre.SpeechGenerator=function(){},sre.SpeechGenerator.prototype.getSpeech=function(t,r){},sre.SpeechGenerator.prototype.getRebuilt=function(){},sre.SpeechGenerator.prototype.setRebuilt=function(t){},sre.SpeechGenerator.prototype.setOptions=function(t){},sre.SpeechGenerator.prototype.getOptions=function(){},sre.SpeechGenerator.prototype.start=function(){},sre.SpeechGenerator.prototype.end=function(){},sre.AuditoryDescription=function(t){this.context=t.context||"",this.text=t.text||"",this.userValue=t.userValue||"",this.annotation=t.annotation||"",this.attributes=t.attributes||{},this.personality=t.personality||{}},sre.AuditoryDescription.create=function(t,r){return t.text=sre.Grammar.getInstance().apply(t.text,r||{}),new sre.AuditoryDescription(t)},sre.AuditoryDescription.prototype.isEmpty=function(){return this.context.length==0&&this.text.length==0&&this.userValue.length==0&&this.annotation.length==0},sre.AuditoryDescription.prototype.clone=function(){if(this.personality){var t={};for(var r in this.personality)t=this.personality[r]}if(this.attributes){var n={};for(r in this.attributes)n=this.attributes[r]}return new sre.AuditoryDescription({context:this.context,text:this.text,userValue:this.userValue,annotation:this.annotation,personality:t,attributes:n})},sre.AuditoryDescription.prototype.toString=function(){return'AuditoryDescription(context="'+this.context+'"  text="'+this.text+'"  userValue="'+this.userValue+'"  annotation="'+this.annotation+'")'},sre.AuditoryDescription.prototype.descriptionString=function(){return this.context&&this.text?this.context+" "+this.text:this.context||this.text},sre.AuditoryDescription.prototype.descriptionSpan=function(){return new sre.Span(this.descriptionString(),this.attributes)},sre.AuditoryDescription.prototype.equals=function(t){return this.context==t.context&&this.text==t.text&&this.userValue==t.userValue&&this.annotation==t.annotation},sre.SpeechRule=function(t,r,n,i){this.name=t,this.dynamicCstr=r,this.precondition=n,this.action=i,this.context=null},sre.SpeechRule.prototype.toString=function(){return this.name+" | "+this.dynamicCstr.toString()+" | "+this.precondition.toString()+" ==> "+this.action.toString()},sre.SpeechRule.Type={NODE:"NODE",MULTI:"MULTI",TEXT:"TEXT",PERSONALITY:"PERSONALITY"},sre.SpeechRule.Type.fromString=function(t){switch(t){case"[n]":return sre.SpeechRule.Type.NODE;case"[m]":return sre.SpeechRule.Type.MULTI;case"[t]":return sre.SpeechRule.Type.TEXT;case"[p]":return sre.SpeechRule.Type.PERSONALITY;default:throw"Parse error: "+t}},sre.SpeechRule.Type.toString=function(t){switch(t){case sre.SpeechRule.Type.NODE:return"[n]";case sre.SpeechRule.Type.MULTI:return"[m]";case sre.SpeechRule.Type.TEXT:return"[t]";case sre.SpeechRule.Type.PERSONALITY:return"[p]";default:throw"Unknown type error: "+t}},sre.SpeechRule.Component=function(t){this.type=t.type,this.content=t.content,this.attributes=t.attributes,this.grammar=t.grammar},sre.SpeechRule.Component.fromString=function(t){var r={};if(r.type=sre.SpeechRule.Type.fromString(t.substring(0,3)),t=t.slice(3).trim(),!t)throw new sre.SpeechRule.OutputError("Missing content.");switch(r.type){case sre.SpeechRule.Type.TEXT:if(t[0]=='"'){var n=sre.SpeechRule.splitString_(t,"\\(")[0].trim();if(n.slice(-1)!='"')throw new sre.SpeechRule.OutputError("Invalid string syntax.");r.content=n,t=t.slice(n.length).trim(),t.indexOf("(")==-1&&(t="");break}case sre.SpeechRule.Type.NODE:case sre.SpeechRule.Type.MULTI:n=t.indexOf(" ("),n==-1?(r.content=t.trim(),t=""):(r.content=t.substring(0,n).trim(),t=t.slice(n).trim())}return t&&(t=sre.SpeechRule.Component.attributesFromString(t),t.grammar&&(r.grammar=t.grammar,delete t.grammar),Object.keys(t).length&&(r.attributes=t)),r=new sre.SpeechRule.Component(r)},sre.SpeechRule.Component.prototype.toString=function(){var t=""+sre.SpeechRule.Type.toString(this.type);t+=this.content?" "+this.content:"";var r=this.attributesToString();return t+(r?" "+r:"")},sre.SpeechRule.Component.grammarFromString=function(t){return sre.Grammar.parseInput(t)},sre.SpeechRule.Component.prototype.grammarToString=function(){return this.getGrammar().join(":")},sre.SpeechRule.Component.prototype.getGrammar=function(){var t=[],r;for(r in this.grammar)this.grammar[r]===!0?t.push(r):this.grammar[r]===!1?t.push("!"+r):t.push(r+"="+this.grammar[r]);return t},sre.SpeechRule.Component.attributesFromString=function(t){if(t[0]!="("||t.slice(-1)!=")")throw new sre.SpeechRule.OutputError("Invalid attribute expression: "+t);var r={};t=sre.SpeechRule.splitString_(t.slice(1,-1),",");for(var n=0,i=t.length;n<i;n++){var l=t[n],s=l.indexOf(":");if(s==-1)r[l.trim()]="true";else{var o=l.substring(0,s).trim();l=l.slice(s+1).trim(),r[o]=o==="grammar"?sre.SpeechRule.Component.grammarFromString(l):r[o]=l}}return r},sre.SpeechRule.Component.prototype.attributesToString=function(){var t=this.getAttributes(),r=this.grammarToString();return r&&t.push("grammar:"+r),0<t.length?"("+t.join(", ")+")":""},sre.SpeechRule.Component.prototype.getAttributes=function(){var t=[],r;for(r in this.attributes){var n=this.attributes[r];n==="true"?t.push(r):t.push(r+":"+n)}return t},sre.SpeechRule.Action=function(t){this.components=t},sre.SpeechRule.Action.fromString=function(t){t=sre.SpeechRule.splitString_(t,";").filter(function(s){return s.match(/\S/)}).map(function(s){return s.trim()});for(var r=[],n=0,i=t.length;n<i;n++){var l=sre.SpeechRule.Component.fromString(t[n]);l&&r.push(l)}return new sre.SpeechRule.Action(r)},sre.SpeechRule.Action.prototype.toString=function(){return this.components.map(function(t){return t.toString()}).join("; ")},sre.SpeechRule.Precondition=function(t,r){this.query=t,this.constraints=r||[]},sre.SpeechRule.Precondition.prototype.toString=function(){var t=this.constraints.join(", ");return this.query+", "+t},sre.SpeechRule.splitString_=function(t,r){for(var n=[],i="";t!="";){var l=t.search(r);if(l==-1){if((t.match(/"/g)||[]).length%2!=0)throw new sre.SpeechRule.OutputError("Invalid string in expression: "+t);n.push(i+t),t=i=""}else if((t.substring(0,l).match(/"/g)||[]).length%2==0)n.push(i+t.substring(0,l)),i="",t=t.substring(l+1);else{var s=t.substring(l).search('"');if(s==-1)throw new sre.SpeechRule.OutputError("Invalid string in expression: "+t);i+=t.substring(0,l+s+1),t=t.substring(l+s+1)}}return i&&n.push(i),n},sre.SpeechRule.OutputError=function(t){sre.Engine.Error.call(this,t),this.name="RuleError"},goog.inherits(sre.SpeechRule.OutputError,sre.Engine.Error),sre.SpeechRuleFunctions=function(){},sre.SpeechRuleFunctions.Store_=function(t,r){this.prefix_=t,this.store_=r},sre.SpeechRuleFunctions.Store_.prototype.add=function(t,r){this.checkCustomFunctionSyntax_(t)&&(this.store_[t]=r)},sre.SpeechRuleFunctions.Store_.prototype.addStore=function(t){for(var r=Object.keys(t.store_),n=0,i;i=r[n];n++)this.add(i,t.store_[i])},sre.SpeechRuleFunctions.Store_.prototype.lookup=function(t){return this.store_[t]},sre.SpeechRuleFunctions.CustomQueries=function(){sre.SpeechRuleFunctions.Store_.call(this,"CQF",{})},goog.inherits(sre.SpeechRuleFunctions.CustomQueries,sre.SpeechRuleFunctions.Store_),sre.SpeechRuleFunctions.CustomStrings=function(){sre.SpeechRuleFunctions.Store_.call(this,"CSF",{})},goog.inherits(sre.SpeechRuleFunctions.CustomStrings,sre.SpeechRuleFunctions.Store_),sre.SpeechRuleFunctions.ContextFunctions=function(){sre.SpeechRuleFunctions.Store_.call(this,"CTXF",{})},goog.inherits(sre.SpeechRuleFunctions.ContextFunctions,sre.SpeechRuleFunctions.Store_),sre.SpeechRuleFunctions.Store_.prototype.checkCustomFunctionSyntax_=function(t){return t.match(new RegExp("^"+this.prefix_))?!0:(console.error("FunctionError: Invalid function name. Expected prefix "+this.prefix_),!1)},sre.SpeechRuleContext=function(){this.customQueries=new sre.SpeechRuleFunctions.CustomQueries,this.customStrings=new sre.SpeechRuleFunctions.CustomStrings,this.contextFunctions=new sre.SpeechRuleFunctions.ContextFunctions},sre.SpeechRuleContext.prototype.applyCustomQuery=function(t,r){return(r=this.customQueries.lookup(r))?r(t):null},sre.SpeechRuleContext.prototype.applySelector=function(t,r){return this.applyCustomQuery(t,r)||sre.XpathUtil.evalXPath(r,t)},sre.SpeechRuleContext.prototype.applyQuery=function(t,r){return t=this.applySelector(t,r),0<t.length?t[0]:null},sre.SpeechRuleContext.prototype.applyConstraint=function(t,r){return!!this.applyQuery(t,r)||sre.XpathUtil.evaluateBoolean(r,t)},sre.SpeechRuleContext.prototype.constructString=function(t,r){if(!r)return"";if(r.charAt(0)=='"')return r.slice(1,-1);var n=this.customStrings.lookup(r);return n?n(t):sre.XpathUtil.evaluateString(r,t)},sre.SpeechRuleContext.prototype.parse=function(t){for(var r=0,n;n=t[r];r++)({CQF:this.customQueries,CSF:this.customStrings,CTXF:this.contextFunctions})[n[0]].add(n[1],n[2])},sre.SpeechRuleEvaluator=function(){},sre.SpeechRuleEvaluator.prototype.evaluateDefault=goog.abstractMethod,sre.SpeechRuleStore=function(){},sre.SpeechRuleStore.prototype.addRule=goog.abstractMethod,sre.SpeechRuleStore.prototype.deleteRule=goog.abstractMethod,sre.SpeechRuleStore.prototype.findRule=goog.abstractMethod,sre.SpeechRuleStore.prototype.findAllRules=goog.abstractMethod,sre.SpeechRuleStore.prototype.lookupRule=goog.abstractMethod,sre.SpeechRuleStore.prototype.defineRule=goog.abstractMethod,sre.TrieNode=function(){},sre.TrieNode.prototype.getConstraint=function(){},sre.TrieNode.prototype.getKind=function(){},sre.TrieNode.prototype.applyTest=function(t){},sre.TrieNode.prototype.addChild=function(t){},sre.TrieNode.prototype.getChild=function(t){},sre.TrieNode.prototype.getChildren=function(){},sre.TrieNode.prototype.findChildren=function(t){},sre.TrieNode.Kind={ROOT:"root",DYNAMIC:"dynamic",QUERY:"query",BOOLEAN:"boolean",STATIC:"static"},sre.AbstractTrieNode=function(t,r){this.constraint=t,this.test=r,this.children_={},this.kind=sre.TrieNode.Kind.ROOT},sre.AbstractTrieNode.prototype.getConstraint=function(){return this.constraint},sre.AbstractTrieNode.prototype.getKind=function(){return this.kind},sre.AbstractTrieNode.prototype.applyTest=function(t){return this.test(t)},sre.AbstractTrieNode.prototype.addChild=function(t){var r=t.getConstraint(),n=this.children_[r];return this.children_[r]=t,n},sre.AbstractTrieNode.prototype.getChild=function(t){return this.children_[t]},sre.AbstractTrieNode.prototype.getChildren=function(){var t=[],r;for(r in this.children_)t.push(this.children_[r]);return t},sre.AbstractTrieNode.prototype.findChildren=function(t){var r=[],n;for(n in this.children_){var i=this.children_[n];i.applyTest(t)&&r.push(i)}return r},sre.AbstractTrieNode.prototype.toString=function(){return this.constraint},sre.StaticTrieNode=function(t,r){sre.AbstractTrieNode.call(this,t,r),this.kind=sre.TrieNode.Kind.STATIC,this.rule_=null},goog.inherits(sre.StaticTrieNode,sre.AbstractTrieNode),sre.StaticTrieNode.prototype.getRule=function(){return this.rule_},sre.StaticTrieNode.prototype.setRule=function(t){this.rule_&&sre.Debugger.getInstance().output("Replacing rule "+this.rule_+" with "+t),this.rule_=t},sre.StaticTrieNode.prototype.toString=function(){return this.getRule()?this.constraint+`
==> `+this.getRule().action:this.constraint},sre.TrieNodeFactory={},sre.TrieNodeFactory.getNode=function(t,r,n){switch(t){case sre.TrieNode.Kind.ROOT:return new sre.RootTrieNode;case sre.TrieNode.Kind.DYNAMIC:return new sre.DynamicTrieNode(r);case sre.TrieNode.Kind.QUERY:return new sre.QueryTrieNode(r,n);case sre.TrieNode.Kind.BOOLEAN:return new sre.BooleanTrieNode(r,n);default:return null}},sre.RootTrieNode=function(){sre.AbstractTrieNode.call(this,"",function(){return!0}),this.kind=sre.TrieNode.Kind.ROOT},goog.inherits(sre.RootTrieNode,sre.AbstractTrieNode),sre.DynamicTrieNode=function(t){sre.AbstractTrieNode.call(this,t,function(r){return r===t}),this.kind=sre.TrieNode.Kind.DYNAMIC},goog.inherits(sre.DynamicTrieNode,sre.AbstractTrieNode),sre.TrieNodeFactory.constraintTest_=function(t){if(t.match(/^self::\*$/))return function(s){return!0};if(t.match(/^self::\w+$/)){var r=t.slice(6).toUpperCase();return function(s){return s.tagName&&sre.DomUtil.tagName(s)===r}}if(t.match(/^self::\w+:\w+$/)){t=t.split(":");var n=sre.XpathUtil.resolveNameSpace(t[2]);return n?(r=t[3].toUpperCase(),function(s){return s.localName&&s.localName.toUpperCase()===r&&s.namespaceURI===n}):null}if(t.match(/^@\w+$/)){var i=t.slice(1);return function(s){return s.hasAttribute&&s.hasAttribute(i)}}if(t.match(/^@\w+="[\w\d ]+"$/)){t=t.split("="),i=t[0].slice(1);var l=t[1].slice(1,-1);return function(s){return s.hasAttribute&&s.hasAttribute(i)&&s.getAttribute(i)===l}}return t.match(/^@\w+!="[\w\d ]+"$/)?(t=t.split("!="),i=t[0].slice(1),l=t[1].slice(1,-1),function(s){return!s.hasAttribute||!s.hasAttribute(i)||s.getAttribute(i)!==l}):t.match(/^contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)$/)?(t=t.split('"'),l=t[1],function(s){return sre.Grammar.getInstance().getParameter(l)}):t.match(/^not\(\s*contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)\s*\)$/)?(t=t.split('"'),l=t[1],function(s){return!sre.Grammar.getInstance().getParameter(l)}):null},sre.QueryTrieNode=function(t,r){this.context_=r,sre.StaticTrieNode.call(this,t,sre.TrieNodeFactory.constraintTest_(t)),this.kind=sre.TrieNode.Kind.QUERY},goog.inherits(sre.QueryTrieNode,sre.StaticTrieNode),sre.QueryTrieNode.prototype.applyTest=function(t){return this.test?this.test(t):this.context_.applyQuery(t,this.constraint)===t},sre.BooleanTrieNode=function(t,r){this.context_=r,sre.StaticTrieNode.call(this,t,sre.TrieNodeFactory.constraintTest_(t)),this.kind=sre.TrieNode.Kind.BOOLEAN},goog.inherits(sre.BooleanTrieNode,sre.StaticTrieNode),sre.BooleanTrieNode.prototype.applyTest=function(t){return this.test?this.test(t):this.context_.applyConstraint(t,this.constraint)},sre.Trie=function(t){this.store=t,this.root=sre.TrieNodeFactory.getNode(sre.TrieNode.Kind.ROOT,"",this.store.context)},sre.Trie.prototype.addRule=function(t){for(var r=this.root,n=t.context,i=t.dynamicCstr.getValues(),l=0,s=i.length;l<s;l++)r=this.addNode_(r,i[l],sre.TrieNode.Kind.DYNAMIC,n);for(r=this.addNode_(r,t.precondition.query,sre.TrieNode.Kind.QUERY,n),i=t.precondition.constraints,l=0,s=i.length;l<s;l++)r=this.addNode_(r,i[l],sre.TrieNode.Kind.BOOLEAN,n);r.setRule(t)},sre.Trie.prototype.addNode_=function(t,r,n,i){var l=t.getChild(r);return l||(l=sre.TrieNodeFactory.getNode(n,r,i),t.addChild(l)),l},sre.Trie.prototype.lookupRules=function(t,r){for(var n=[this.root],i=[];r.length;){for(var l=r.shift(),s=[];n.length;){var o=n.shift();o=o.getChildren(),o.forEach(function(u){u.getKind()===sre.TrieNode.Kind.DYNAMIC&&l.indexOf(u.getConstraint())===-1||s.push(u)})}n=s.slice()}for(;n.length;)o=n.shift(),o.getRule&&(r=o.getRule())&&i.push(r),o=o.findChildren(t),n=n.concat(o);return i},sre.Trie.prototype.hasSubtrie=function(t){for(var r=this.root,n=0,i=t.length;n<i;n++)if(r=r.getChild(t[n]),!r)return!1;return!0},sre.Trie.prototype.toString=function(){return sre.Trie.printWithDepth_(this.root,0,"")},sre.Trie.prototype.collectRules=function(){return sre.Trie.collectRules_(this.root)},sre.Trie.prototype.order=function(){return sre.Trie.order_(this.root)},sre.Trie.printWithDepth_=function(t,r,n){var i=Array(r+2).join(r)+": ";n+=i+t.toString()+`
`,t=t.getChildren(),i=0;for(var l;l=t[i];i++)n=sre.Trie.printWithDepth_(l,r+1,n);return n},sre.Trie.order_=function(t){if(t=t.getChildren(),!t.length)return 0;var r=Math.max.apply(null,t.map(sre.Trie.order_));return Math.max(t.length,r)},sre.Trie.collectRules_=function(t){var r=[];for(t=[t];t.length;){var n=t.shift();if(n.getKind()===sre.TrieNode.Kind.QUERY||n.getKind()===sre.TrieNode.Kind.BOOLEAN){var i=n.getRule();i&&r.unshift(i)}t=t.concat(n.getChildren())}return r},sre.Trie.prototype.enumerate=function(t){return this.enumerate_(this.root,t)},sre.Trie.prototype.enumerate_=function(t,r){r=r||{},t=t.getChildren();for(var n=0,i;i=t[n];n++)i.kind===sre.TrieNode.Kind.DYNAMIC&&(r[i.getConstraint()]=this.enumerate_(i,r[i.getConstraint()]));return r},sre.BaseRuleStore=function(){this.context=new sre.SpeechRuleContext,this.customQueries=this.context.customQueries,this.customStrings=this.context.customStrings,this.contextFunctions=this.context.contextFunctions,this.speechRules_=[],this.trie=new sre.Trie(this),this.parseOrder=sre.DynamicCstr.DEFAULT_ORDER,this.parser=new sre.DynamicCstr.Parser(this.parseOrder),this.locale=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE],this.modality=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY],this.domain=null,this.initialized=!1,this.parseMethods={Rule:goog.bind(this.defineRule,this)}},sre.BaseRuleStore.prototype.lookupRule=function(t,r){return!t||t.nodeType!=sre.DomUtil.NodeType.ELEMENT_NODE&&t.nodeType!=sre.DomUtil.NodeType.TEXT_NODE?null:(t=this.trie.lookupRules(t,r.allProperties()),0<t.length?this.pickMostConstraint_(r,t):null)},sre.BaseRuleStore.prototype.defineRule=function(t,r,n,i,l){try{var s=sre.SpeechRule.Action.fromString(n),o=Array.prototype.slice.call(arguments,4),u=new sre.SpeechRule.Precondition(i,o),p=this.parseCstr(r),m=new sre.SpeechRule(t,p,u,s)}catch(h){if(h.name=="RuleError")return console.error("Rule Error ",i,"("+r+"):",h.message),null;throw h}return this.addRule(m),m},sre.BaseRuleStore.prototype.addRule=function(t){t.context=this.context,this.trie.addRule(t),this.speechRules_.unshift(t)},sre.BaseRuleStore.prototype.deleteRule=function(t){t=this.speechRules_.indexOf(t),t!=-1&&this.speechRules_.splice(t,1)},sre.BaseRuleStore.prototype.findRule=function(t){for(var r=0,n;n=this.speechRules_[r];r++)if(t(n))return n;return null},sre.BaseRuleStore.prototype.findAllRules=function(t){return this.speechRules_.filter(t)},sre.BaseRuleStore.prototype.evaluateDefault=function(t){return[sre.AuditoryDescription.create({text:t.textContent})]},sre.BaseRuleStore.prototype.debugSpeechRule=function(t,r){var n=t.precondition,i=t.context.applyQuery(r,n.query);sre.Debugger.getInstance().output(n.query,i&&i.toString()),n.constraints.forEach(goog.bind(function(l){sre.Debugger.getInstance().output(l,t.context.applyConstraint(r,l))},this))},sre.BaseRuleStore.prototype.initialize=goog.abstractMethod,sre.BaseRuleStore.prototype.removeDuplicates=function(t){for(var r=this.speechRules_.length-1,n;n=this.speechRules_[r];r--)n!=t&&t.dynamicCstr.equal(n.dynamicCstr)&&sre.BaseRuleStore.comparePreconditions_(n,t)&&this.speechRules_.splice(r,1)},sre.BaseRuleStore.prototype.pickMostConstraint_=function(t,r){var n=sre.Engine.getInstance().comparator;return r.sort(function(i,l){return n.compare(i.dynamicCstr,l.dynamicCstr)||l.precondition.constraints.length-i.precondition.constraints.length}),sre.Debugger.getInstance().generateOutput(goog.bind(function(){return r.map(function(i){return i.name+"("+i.dynamicCstr.toString()+")"})},this)),r[0]},sre.BaseRuleStore.compareStaticConstraints_=function(t,r){if(t.length!=r.length)return!1;for(var n=0,i;i=t[n];n++)if(r.indexOf(i)==-1)return!1;return!0},sre.BaseRuleStore.comparePreconditions_=function(t,r){return t=t.precondition,r=r.precondition,t.query!=r.query?!1:sre.BaseRuleStore.compareStaticConstraints_(t.constraints,r.constraints)},sre.BaseRuleStore.prototype.getSpeechRules=function(){return this.speechRules_},sre.BaseRuleStore.prototype.setSpeechRules=function(t){this.speechRules_=t},sre.BaseRuleStore.prototype.parseCstr=function(t){return this.parser.parse(this.locale+"."+this.modality+(this.domain?"."+this.domain:"")+"."+t)},sre.BaseRuleStore.prototype.parse=function(t){this.modality=t.modality||this.modality,this.locale=t.locale||this.locale,this.domain=t.domain||this.domain,this.context.parse(t.functions||[]),this.parseRules(t.rules||[])},sre.BaseRuleStore.prototype.parseRules=function(t){for(var r=0,n;n=t[r];r++){var i=n[0],l=this.parseMethods[i];i&&l&&l.apply(this,n.slice(1))}},sre.MathStore=function(){sre.BaseRuleStore.call(this),this.initializer=[],this.parseMethods.Alias=goog.bind(this.defineRuleAlias,this),this.parseMethods.Aliases=goog.bind(this.defineRulesAlias,this),this.parseMethods.UniqueAlias=goog.bind(this.defineUniqueRuleAlias,this),this.parseMethods.SpecializedRule=goog.bind(this.defineSpecialisedRule,this)},goog.inherits(sre.MathStore,sre.BaseRuleStore),sre.MathStore.prototype.initialize=function(){if(!this.initialized){for(var t=0,r;r=this.initializer[t];t++)r(this);this.setSpeechRules(this.trie.collectRules()),this.initialized=!0}},sre.MathStore.prototype.defineUniqueRuleAlias=function(t,r,n,i){var l=this.parseCstr(r),s=this.findRule(goog.bind(function(o){return o.name==t&&l.equal(o.dynamicCstr)},this));if(!s)throw new sre.SpeechRule.OutputError("Rule named "+t+" with style "+r+" does not exist.");this.addAlias_(s,n,Array.prototype.slice.call(arguments,3))},sre.MathStore.prototype.defineRuleAlias=function(t,r,n){var i=this.findRule(function(l){return l.name==t});if(!i)throw new sre.SpeechRule.OutputError("Rule with named "+t+" does not exist.");this.addAlias_(i,r,Array.prototype.slice.call(arguments,2))},sre.MathStore.prototype.defineRulesAlias=function(t,r,n){var i=this.findAllRules(function(o){return o.name==t});if(i.length==0)throw new sre.SpeechRule.OutputError("Rule with name "+t+" does not exist.");var l=Array.prototype.slice.call(arguments,2),s=[];i.forEach(goog.bind(function(o){e:{for(var u=o.dynamicCstr.toString(),p=o.action.toString(),m=0,h;h=s[m];m++)if(h.action===p&&h.cstr===u){u=!1;break e}s.push({cstr:u,action:p}),u=!0}u&&this.addAlias_(o,r,l)},this))},sre.MathStore.prototype.addAlias_=function(t,r,n){r=new sre.SpeechRule.Precondition(r,n),r=new sre.SpeechRule(t.name,t.dynamicCstr,r,t.action),r.name=t.name,this.addRule(r)},sre.MathStore.prototype.defineSpecialisedRule=function(t,r,n,i){var l=this.parseCstr(r),s=this.findRule(goog.bind(function(o){return o.name==t&&l.equal(o.dynamicCstr)},this));if(!s)throw new sre.SpeechRule.OutputError("Rule named "+t+" with style "+r+" does not exist.");r=this.parseCstr(n),i=i?sre.SpeechRule.Action.fromString(i):s.action,s=new sre.SpeechRule(s.name,r,s.precondition,i),this.addRule(s)},sre.MathStore.prototype.evaluateDefault=function(t){return this.evaluateString_(t.textContent)},sre.MathStore.prototype.evaluateString_=function(t){var r=[];if(t.match(/^\s+$/))return r;var n=this.matchNumber_(t);if(n&&n.length===t.length)return r.push(this.evaluate_(n.number)),r;t=sre.BaseUtil.removeEmpty(t.replace(/\s/g," ").split(" "));for(var i=0;n=t[i];i++)if(n.length==1)r.push(this.evaluate_(n));else if(n.match(new RegExp("^["+sre.Messages.REGEXP.TEXT+"]+$")))r.push(this.evaluate_(n));else for(var l=n;l;){n=this.matchNumber_(l);var s=l.match(new RegExp("^["+sre.Messages.REGEXP.TEXT+"]+"));n?(r.push(this.evaluate_(n.number)),l=l.substring(n.length)):s?(r.push(this.evaluate_(s[0])),l=l.substring(s[0].length)):(n=l[0].charCodeAt(0),55296<=n&&56319>=n&&1<l.length&&!isNaN(l.charCodeAt(1))?(r.push(this.evaluate_(l.slice(0,2))),l=l.substring(2)):(r.push(this.evaluate_(l[0])),l=l.substring(1)))}return r},sre.MathStore.prototype.matchNumber_=function(t){var r=t.match(new RegExp("^"+sre.Messages.REGEXP.NUMBER)),n=t.match(new RegExp("^"+sre.Locale.en.REGEXP.NUMBER));if(!r&&!n)return null;var i=n&&n[0]===t;return r&&r[0]===t||!i?{number:r[0],length:r[0].length}:{number:n[0].replace(new RegExp(sre.Locale.en.REGEXP.DIGIT_GROUP,"g"),"X").replace(new RegExp(sre.Locale.en.REGEXP.DECIMAL_MARK,"g"),sre.Messages.REGEXP.DECIMAL_MARK).replace(/X/g,sre.Messages.REGEXP.DIGIT_GROUP.replace(/\\/g,"")),length:n[0].length}},sre.MathStore.prototype.evaluate_=function(t){return sre.AuditoryDescription.create({text:t},{adjust:!0,translate:!0})},sre.MathStore.prototype.parse=function(t){sre.MathStore.superClass_.parse.call(this,t),this.initializer=t.initialize||[]},sre.BrailleStore=function(){sre.MathStore.call(this),this.modality="braille"},goog.inherits(sre.BrailleStore,sre.MathStore),sre.BrailleStore.prototype.evaluateDefault=function(t){t=t.textContent.slice(0);var r=[];if(t.match(/^\s+$/))return r;for(;t;){var n=t[0],i=n.charCodeAt(0);55296<=i&&56319>=i&&1<t.length&&!isNaN(t.charCodeAt(1))?(r.push(sre.AuditoryDescription.create({text:t.slice(0,2)},{adjust:!0,translate:!0})),t=t.substring(2)):(r.push(sre.AuditoryDescription.create({text:n},{adjust:!0,translate:!0})),t=t.substring(1))}return r},sre.ClearspeakPreferences=function(t,r){sre.DynamicCstr.call(this,t),this.preference=r},goog.inherits(sre.ClearspeakPreferences,sre.DynamicCstr),sre.ClearspeakPreferences.prototype.equal=function(t){if(!sre.ClearspeakPreferences.superClass_.equal.call(this,t))return!1;var r=Object.keys(this.preference);if(t=t.preference,r.length!==Object.keys(t).length)return!1;for(var n=0,i;i=r[n];n++)if(this.preference[i]!==t[i])return!1;return!0},sre.ClearspeakPreferences.AUTO="Auto",sre.ClearspeakPreferences.PREFERENCES=new sre.DynamicProperties({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:"Auto EndFrac FracOver General GeneralEndFrac Ordinal Over OverEndFrac Per".split(" "),Functions:["Auto","None","Reciprocal"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:"Auto Combinatoric EndMatrix EndVector SilentColNum SpeakColNum Vector".split(" "),MultiLineLabel:"Auto Case Constraint Equation Line None Row Step".split(" "),MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:"Auto CoordPoint Interval Silent Speak SpeakNestingLevel".split(" "),Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),sre.ClearspeakPreferences.comparator=function(){return new sre.ClearspeakPreferences.Comparator(sre.Engine.getInstance().dynamicCstr,sre.DynamicProperties.create([sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN]],[sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.STYLE]]))},sre.ClearspeakPreferences.Comparator=function(t,r){sre.DynamicCstr.DefaultComparator.call(this,t,r),this.preference=t.preference||{}},goog.inherits(sre.ClearspeakPreferences.Comparator,sre.DynamicCstr.DefaultComparator),sre.ClearspeakPreferences.Comparator.prototype.match=function(t){if(!sre.ClearspeakPreferences.Comparator.superClass_.match.call(this,t))return!1;if(!t.preference)return!0;for(var r=Object.keys(t.preference),n=0,i;i=r[n];n++)if(this.preference[i]!==t.preference[i])return!1;return!0},sre.ClearspeakPreferences.Comparator.prototype.compare=function(t,r){var n=sre.ClearspeakPreferences.Comparator.superClass_.compare.call(this,t,r);return n!==0?n:!t.preference&&r.preference?1:t.preference&&!r.preference?-1:!t.preference&&!r.preference?0:(t=Object.keys(t.preference).length,r=Object.keys(r.preference).length,t>r?-1:t<r?1:0)},sre.ClearspeakPreferences.Parser=function(){sre.DynamicCstr.Parser.call(this,[sre.DynamicCstr.Axis.LOCALE,sre.DynamicCstr.Axis.MODALITY,sre.DynamicCstr.Axis.DOMAIN,sre.DynamicCstr.Axis.STYLE])},goog.inherits(sre.ClearspeakPreferences.Parser,sre.DynamicCstr.Parser),sre.ClearspeakPreferences.Parser.prototype.parse=function(t){var r=sre.ClearspeakPreferences.Parser.superClass_.parse.call(this,t);t=r.getValue(sre.DynamicCstr.Axis.STYLE),r=r.getValue(sre.DynamicCstr.Axis.LOCALE);var n={};return t!==sre.DynamicCstr.DEFAULT_VALUE&&(n=this.fromPreference(t),t=this.toPreference(n)),new sre.ClearspeakPreferences({locale:r,modality:sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY],domain:"clearspeak",style:t},n)},sre.ClearspeakPreferences.Parser.prototype.fromPreference=function(t){return sre.ClearspeakPreferences.fromPreference(t)},sre.ClearspeakPreferences.fromPreference=function(t){t=t.split(":");for(var r={},n=sre.ClearspeakPreferences.PREFERENCES.getProperties(),i=Object.keys(n),l=0,s;s=t[l];l++)if(s=s.split("_"),i.indexOf(s[0])!==-1){var o=s[1];o&&o!==sre.ClearspeakPreferences.AUTO&&n[s[0]].indexOf(o)!==-1&&(r[s[0]]=s[1])}return r},sre.ClearspeakPreferences.Parser.prototype.toPreference=function(t){return sre.ClearspeakPreferences.toPreference(t)},sre.ClearspeakPreferences.toPreference=function(t){for(var r=Object.keys(t),n=[],i=0;i<r.length;i++)n.push(r[i]+"_"+t[r[i]]);return n.length?n.join(":"):sre.DynamicCstr.DEFAULT_VALUE},sre.ClearspeakPreferences.LOCALE_PREFERENCES=null,sre.ClearspeakPreferences.getLocalePreferences=function(t){return sre.ClearspeakPreferences.LOCALE_PREFERENCES||(t=t||sre.MathCompoundStore.getInstance().enumerate(sre.SpeechRuleEngine.getInstance().enumerate()),sre.ClearspeakPreferences.LOCALE_PREFERENCES=sre.ClearspeakPreferences.getLocalePreferences_(t)),sre.ClearspeakPreferences.LOCALE_PREFERENCES},sre.ClearspeakPreferences.getLocalePreferences_=function(t){var r={},n;for(n in t)if(t[n].speech&&t[n].speech.clearspeak){var i=Object.keys(t[n].speech.clearspeak),l=r[n]={},s;for(s in sre.ClearspeakPreferences.PREFERENCES.getProperties()){var o=sre.ClearspeakPreferences.PREFERENCES.getProperties()[s],u=[s+"_Auto"];if(o){o=$jscomp.makeIterator(o);for(var p=o.next();!p.done;p=o.next())p=p.value,i.indexOf(s+"_"+p)!==-1&&u.push(s+"_"+p)}l[s]=u}}return r},sre.ClearspeakPreferences.getSpeechExplorer=function(t){return(t=t.attached)&&t.length?t.find(function(r){return r.speechGenerator&&r.speechGenerator.getOptions().modality==="speech"}):null},sre.ClearspeakPreferences.smartPreferences=function(t,r){if(r=sre.ClearspeakPreferences.getLocalePreferences()[r],!r)return[];if(t=sre.ClearspeakPreferences.getSpeechExplorer(t),!t)return[{type:"radio",content:"Standard",id:"clearspeak-default",variable:"speechRules"}];t=sre.ClearspeakPreferences.relevantPreferences(t.walker.getFocus().getSemanticPrimary());var n=sre.Engine.DOMAIN_TO_STYLES.clearspeak;return[{type:"radio",content:"No Preferences",id:"clearspeak-default",variable:"speechRules"},{type:"radio",content:"Current Preferences",id:"clearspeak-"+n,variable:"speechRules"},{type:"rule"},{type:"label",content:"Preferences for "+t},{type:"rule"}].concat(r[t].map(function(i){return i=i.split("_"),{type:"radio",content:i[1],id:"clearspeak-"+sre.ClearspeakPreferences.addPreference(n,i[0],i[1]),variable:"speechRules"}}))},sre.ClearspeakPreferences.relevantPreferences=function(t){var r=sre.ClearspeakPreferences.SEMANTIC_MAPPING_[t.type];return r&&(r[t.role]||r[""])||"ImpliedTimes"},sre.ClearspeakPreferences.REVERSE_MAPPING_=[["AbsoluteValue",sre.SemanticAttr.Type.FENCED,sre.SemanticAttr.Role.NEUTRAL],["Bar",sre.SemanticAttr.Type.OVERSCORE,sre.SemanticAttr.Role.OVERACCENT],["Caps",sre.SemanticAttr.Type.IDENTIFIER,sre.SemanticAttr.Role.LATINLETTER],["CombinationPermutation",sre.SemanticAttr.Type.APPL,sre.SemanticAttr.Role.UNKNOWN],["Ellipses",sre.SemanticAttr.Type.PUNCTUATION,sre.SemanticAttr.Role.ELLIPSIS],["Exponent",sre.SemanticAttr.Type.SUPERSCRIPT,""],["Fraction",sre.SemanticAttr.Type.FRACTION,""],["Functions",sre.SemanticAttr.Type.APPL,sre.SemanticAttr.Role.SIMPLEFUNC],["ImpliedTimes",sre.SemanticAttr.Type.OPERATOR,sre.SemanticAttr.Role.IMPLICIT],["Log",sre.SemanticAttr.Type.APPL,sre.SemanticAttr.Role.PREFIXFUNC],["Matrix",sre.SemanticAttr.Type.MATRIX,""],["Matrix",sre.SemanticAttr.Type.VECTOR,""],["MultiLineLabel",sre.SemanticAttr.Type.MULTILINE,sre.SemanticAttr.Role.LABEL],["MultiLineOverview",sre.SemanticAttr.Type.MULTILINE,sre.SemanticAttr.Role.TABLE],["MultiLinePausesBetweenColumns",sre.SemanticAttr.Type.MULTILINE,sre.SemanticAttr.Role.TABLE],["MultiLineLabel",sre.SemanticAttr.Type.TABLE,sre.SemanticAttr.Role.LABEL],["MultiLineOverview",sre.SemanticAttr.Type.TABLE,sre.SemanticAttr.Role.TABLE],["MultiLinePausesBetweenColumns",sre.SemanticAttr.Type.TABLE,sre.SemanticAttr.Role.TABLE],["MultiLineLabel",sre.SemanticAttr.Type.CASES,sre.SemanticAttr.Role.LABEL],["MultiLineOverview",sre.SemanticAttr.Type.CASES,sre.SemanticAttr.Role.TABLE],["MultiLinePausesBetweenColumns",sre.SemanticAttr.Type.CASES,sre.SemanticAttr.Role.TABLE],["MultsymbolDot",sre.SemanticAttr.Type.OPERATOR,sre.SemanticAttr.Role.MULTIPLICATION],["MultsymbolX",sre.SemanticAttr.Type.OPERATOR,sre.SemanticAttr.Role.MULTIPLICATION],["Paren",sre.SemanticAttr.Type.FENCED,sre.SemanticAttr.Role.LEFTRIGHT],["Prime",sre.SemanticAttr.Type.SUPERSCRIPT,sre.SemanticAttr.Role.PRIME],["Roots",sre.SemanticAttr.Type.ROOT,""],["Roots",sre.SemanticAttr.Type.SQRT,""],["SetMemberSymbol",sre.SemanticAttr.Type.RELATION,sre.SemanticAttr.Role.ELEMENT],["Sets",sre.SemanticAttr.Type.FENCED,sre.SemanticAttr.Role.SETEXT],["TriangleSymbol",sre.SemanticAttr.Type.IDENTIFIER,sre.SemanticAttr.Role.GREEKLETTER],["Trig",sre.SemanticAttr.Type.APPL,sre.SemanticAttr.Role.PREFIXFUNC],["VerticalLine",sre.SemanticAttr.Type.PUNCTUATED,sre.SemanticAttr.Role.VBAR]],sre.ClearspeakPreferences.SEMANTIC_MAPPING_=function(){for(var t={},r=0,n;n=sre.ClearspeakPreferences.REVERSE_MAPPING_[r];r++){var i=n[0],l=t[n[1]];l||(l={},t[n[1]]=l),l[n[2]]=i}return t}(),sre.ClearspeakPreferences.findPreference=function(t,r){return t==="default"?sre.ClearspeakPreferences.AUTO:sre.ClearspeakPreferences.fromPreference(t)[r]||sre.ClearspeakPreferences.AUTO},sre.ClearspeakPreferences.addPreference=function(t,r,n){return t==="default"?r+"_"+n:(t=sre.ClearspeakPreferences.fromPreference(t),t[r]=n,sre.ClearspeakPreferences.toPreference(t))},sre.Engine.getInstance().comparators.clearspeak=sre.ClearspeakPreferences.comparator,sre.Engine.getInstance().parsers.clearspeak=new sre.ClearspeakPreferences.Parser,sre.AlphabetGenerator={},sre.AlphabetGenerator.Font={BOLD:"bold",BOLDFRAKTUR:"bold-fraktur",BOLDITALIC:"bold-italic",BOLDSCRIPT:"bold-script",DOUBLESTRUCK:"double-struck",FULLWIDTH:"fullwidth",FRAKTUR:"fraktur",ITALIC:"italic",MONOSPACE:"monospace",NORMAL:"normal",SCRIPT:"script",SANSSERIF:"sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLD:"sans-serif-bold",SANSSERIFBOLDITALIC:"sans-serif-bold-italic"},sre.AlphabetGenerator.Embellish={SUPER:"super",SUB:"sub",CIRCLED:"circled",PARENTHESIZED:"parenthesized",PERIOD:"period",NEGATIVECIRCLED:"negative-circled",DOUBLECIRCLED:"double-circled",CIRCLEDSANSSERIF:"circled-sans-serif",NEGATIVECIRCLEDSANSSERIF:"negative-circled-sans-serif",COMMA:"comma",SQUARED:"squared",NEGATIVESQUARED:"negative-squared"},sre.AlphabetGenerator.Base={LATINCAP:"latinCap",LATINSMALL:"latinSmall",GREEKCAP:"greekCap",GREEKSMALL:"greekSmall",DIGIT:"digit"},sre.AlphabetGenerator.Domains_={small:["default"],capital:["default"],digit:["default"]},sre.AlphabetGenerator.makeDomains_=function(){var t=sre.Messages.ALPHABET_PREFIXES,r=sre.Messages.ALPHABET_TRANSFORMERS,n=function(i,l){var s={};return Object.keys(i).forEach(function(o){s[o]=!0}),Object.keys(l).forEach(function(o){s[o]=!0}),Object.keys(s)};sre.AlphabetGenerator.Domains_.small=n(t.smallPrefix,r.letter),sre.AlphabetGenerator.Domains_.capital=n(t.capPrefix,r.letter),sre.AlphabetGenerator.Domains_.digit=n(t.digitPrefix,r.digit)},sre.AlphabetGenerator.generate=function(t,r){var n=sre.Engine.getInstance().locale;sre.Engine.getInstance().locale=t,sre.L10n.setLocale(),r.addSymbolRules({locale:t}),sre.AlphabetGenerator.makeDomains_(),t=sre.AlphabetGenerator.INTERVALS;for(var i=0,l;l=t[i];i++){var s=sre.AlphabetGenerator.makeInterval(l.interval,l.subst),o=s.map(function(u){return sre.SemanticUtil.numberToUnicode(parseInt(u,16))});"offset"in l?sre.AlphabetGenerator.numberRules(r,s,o,l.font,l.category,l.offset||0):sre.AlphabetGenerator.alphabetRules(r,s,o,sre.Messages.ALPHABETS[l.base],l.font,l.category,!!l.capital)}sre.Engine.getInstance().locale=n,sre.L10n.setLocale()},sre.AlphabetGenerator.makeInterval=function(t,r){var n=parseInt(t[0],16);t=parseInt(t[1],16);for(var i=[];n<=t;n++){var l=n.toString(16).toUpperCase();l=3<l.length?l:("000"+l).slice(-4),r[l]!==!1&&(l=r[l]||l,i.push(l))}return i},sre.AlphabetGenerator.getFont=function(t){return t=t==="normal"||t==="fullwidth"?"":sre.Messages.FONT[t]||sre.Messages.EMBELLISH[t]||"",typeof t=="string"?{font:t,combiner:sre.Messages.ALPHABET_COMBINER}:{font:t[0],combiner:t[1]}},sre.AlphabetGenerator.alphabetRules=function(t,r,n,i,l,s,o){l=sre.AlphabetGenerator.getFont(l);for(var u=0,p,m,h;p=r[u],m=n[u],h=i[u];u++)sre.AlphabetGenerator.makeLetter(t,l.combiner,p,m,h,l.font,o?sre.Messages.ALPHABET_PREFIXES.capPrefix:sre.Messages.ALPHABET_PREFIXES.smallPrefix,s,sre.Messages.ALPHABET_TRANSFORMERS.letter,o?sre.AlphabetGenerator.Domains_.capital:sre.AlphabetGenerator.Domains_.small)},sre.AlphabetGenerator.numberRules=function(t,r,n,i,l,s){i=sre.AlphabetGenerator.getFont(i);for(var o=0,u,p;u=r[o],p=n[o];o++)sre.AlphabetGenerator.makeLetter(t,i.combiner,u,p,o+s,i.font,sre.Messages.ALPHABET_PREFIXES.digitPrefix,l,sre.Messages.ALPHABET_TRANSFORMERS.digit,sre.AlphabetGenerator.Domains_.digit)},sre.AlphabetGenerator.makeLetter=function(t,r,n,i,l,s,o,u,p,m){for(var h=0,S;S=m[h];h++){var R=S in o?o[S]:o.default;t.defineRule(n.toString(),S,"default",u,i,r((S in p?p[S]:p.default)(l),s,R))}},sre.AlphabetGenerator.INTERVALS=[{interval:["1D400","1D419"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLD},{interval:["1D41A","1D433"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLD},{interval:["1D56C","1D585"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLDFRAKTUR},{interval:["1D468","1D481"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLDITALIC},{interval:["1D482","1D49B"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLDSCRIPT},{interval:["1D538","1D551"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.FRAKTUR},{interval:["1D51E","1D537"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.FRAKTUR},{interval:["FF21","FF3A"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.FULLWIDTH},{interval:["FF41","FF5A"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.FULLWIDTH},{interval:["1D434","1D44D"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.ITALIC},{interval:["1D44E","1D467"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.ITALIC},{interval:["1D670","1D689"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.MONOSPACE},{interval:["1D68A","1D6A3"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.MONOSPACE},{interval:["0041","005A"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.NORMAL},{interval:["0061","007A"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.NORMAL},{interval:["1D49C","1D4B5"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SCRIPT},{interval:["1D4B6","1D4CF"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SCRIPT},{interval:["1D5A0","1D5B9"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIF},{interval:["1D5BA","1D5D3"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIF},{interval:["1D608","1D621"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.NORMAL},{interval:["03B0","03D0"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.NORMAL},{interval:["1D6A8","1D6C0"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLD},{interval:["1D6C1","1D6E1"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLD},{interval:["1D6E2","1D6FA"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.ITALIC},{interval:["1D6FB","1D71B"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.ITALIC},{interval:["1D71C","1D734"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.BOLDITALIC},{interval:["1D735","1D755"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.BOLDITALIC},{interval:["1D756","1D76E"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:sre.AlphabetGenerator.Base.GREEKCAP,subst:{},capital:!0,category:"Lu",font:sre.AlphabetGenerator.Font.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:sre.AlphabetGenerator.Base.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:sre.AlphabetGenerator.Font.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.NORMAL},{interval:["2070","2079"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.SUPER},{interval:["2080","2089"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.SUB},{interval:["245F","2473"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.CIRCLED},{interval:["3251","325F"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:21,category:"No",font:sre.AlphabetGenerator.Embellish.CIRCLED},{interval:["32B1","32BF"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:36,category:"No",font:sre.AlphabetGenerator.Embellish.CIRCLED},{interval:["2474","2487"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:1,category:"No",font:sre.AlphabetGenerator.Embellish.PARENTHESIZED},{interval:["2487","249B"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.PERIOD},{interval:["2775","277F"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:11,category:"No",font:sre.AlphabetGenerator.Embellish.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:1,category:"No",font:sre.AlphabetGenerator.Embellish.DOUBLECIRCLED},{interval:["277F","2789"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.BOLD},{interval:["1D7D8","1D7E1"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.SANSSERIF},{interval:["1D7EC","1D7F5"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"Nd",font:sre.AlphabetGenerator.Font.MONOSPACE},{interval:["1F101","1F10A"],base:sre.AlphabetGenerator.Base.DIGIT,subst:{},offset:0,category:"No",font:sre.AlphabetGenerator.Embellish.COMMA},{interval:["24B6","24CF"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"So",font:sre.AlphabetGenerator.Embellish.CIRCLED},{interval:["24D0","24E9"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"So",font:sre.AlphabetGenerator.Embellish.CIRCLED},{interval:["1F110","1F129"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"So",font:sre.AlphabetGenerator.Embellish.PARENTHESIZED},{interval:["249C","24B5"],base:sre.AlphabetGenerator.Base.LATINSMALL,subst:{},capital:!1,category:"So",font:sre.AlphabetGenerator.Embellish.PARENTHESIZED},{interval:["1F130","1F149"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"So",font:sre.AlphabetGenerator.Embellish.SQUARED},{interval:["1F170","1F189"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"So",font:sre.AlphabetGenerator.Embellish.NEGATIVESQUARED},{interval:["1F150","1F169"],base:sre.AlphabetGenerator.Base.LATINCAP,subst:{},capital:!0,category:"So",font:sre.AlphabetGenerator.Embellish.NEGATIVECIRCLED}],sre.MathSimpleStore=function(){sre.MathStore.call(this),this.category=""},goog.inherits(sre.MathSimpleStore,sre.MathStore),sre.MathSimpleStore.prototype.defineRulesFromMappings=function(t,r,n){for(var i in n)for(var l in n[i])this.defineRuleFromStrings(t,i,l,r,n[i][l])},sre.MathSimpleStore.prototype.defineRuleFromStrings=function(t,r,n,i,l){this.defineRule(t,r+"."+n,'[t] "'+l+'"',"self::text()",i==='"'?"self::text() = '"+i+"'":'self::text() = "'+i+'"')},sre.MathSimpleStore.prototype.lookupRule=function(t,r){return t=this.getSpeechRules().filter(function(n){return sre.MathSimpleStore.testDynamicConstraints_(r,n)}),t.length?t.sort(function(n,i){return sre.Engine.getInstance().comparator.compare(n.dynamicCstr,i.dynamicCstr)})[0]:null},sre.MathSimpleStore.testDynamicConstraints_=function(t,r){return sre.Engine.getInstance().strict?r.dynamicCstr.equal(t):sre.Engine.getInstance().comparator.match(r.dynamicCstr)},sre.MathCompoundStore=function(){this.subStores_={},this.locale=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE],this.modality=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY]},goog.addSingletonGetter(sre.MathCompoundStore),sre.MathCompoundStore.prototype.getSubStore_=function(t){var r=this.subStores_[t];return r?(sre.Debugger.getInstance().output("Store exists! "+t),r):(r=new sre.MathSimpleStore,this.subStores_[t]=r)},sre.MathCompoundStore.prototype.setupStore_=function(t,r){t.locale=this.locale,t.modality=this.modality,r&&(t.category=r)},sre.MathCompoundStore.prototype.defineRules=function(t,r,n,i){var l=this.getSubStore_(r);this.setupStore_(l,n),l.defineRulesFromMappings(t,r,i)},sre.MathCompoundStore.prototype.defineRule=function(t,r,n,i,l,s){var o=this.getSubStore_(l);this.setupStore_(o,i),o.defineRuleFromStrings(t,r,n,l,s)},sre.MathCompoundStore.prototype.changeLocale_=function(t){return!t.locale&&!t.modality?!1:(this.locale=t.locale||this.locale,this.modality=t.modality||this.modality,!0)},sre.MathCompoundStore.prototype.addSymbolRules=function(t){if(!this.changeLocale_(t)){var r=sre.MathSimpleStore.parseUnicode_(t.key);this.defineRules(t.key,r,t.category,t.mappings)}},sre.MathCompoundStore.prototype.addFunctionRules=function(t){if(!this.changeLocale_(t)){var r=t.names,n=t.mappings;t=t.category;for(var i=0,l;l=r[i];i++)this.defineRules(l,l,t,n)}},sre.MathCompoundStore.prototype.addUnitRules=function(t){if(!this.changeLocale_(t)){var r=t.names;r&&(t.names=r.map(function(n){return n+":unit"})),this.addFunctionRules(t)}},sre.MathCompoundStore.prototype.lookupRule=function(t,r){return(t=this.subStores_[t])?t.lookupRule(null,r):null},sre.MathCompoundStore.prototype.lookupCategory=function(t){return(t=this.subStores_[t])?t.category:""},sre.MathCompoundStore.prototype.lookupString=function(t,r){return(t=this.lookupRule(t,r))?t.action.components.map(function(n){return n.content.slice(1,-1)}).join(" "):""},sre.MathCompoundStore.prototype.enumerate=function(t){t=t||{};for(var r in this.subStores_)t=this.subStores_[r].trie.enumerate(t);return t},sre.MathSimpleStore.parseUnicode_=function(t){return t=parseInt(t,16),65536>t?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))},sre.MathMap=function(){this.store=sre.MathCompoundStore.getInstance(),this.loaded_=[],this.addRules={functions:goog.bind(this.store.addFunctionRules,this.store),symbols:goog.bind(this.store.addSymbolRules,this.store),units:goog.bind(this.store.addUnitRules,this.store)}},goog.addSingletonGetter(sre.MathMap),sre.MathMap.oldInst_=sre.MathMap.getInstance,sre.MathMap.getInstance=function(){var t=sre.MathMap.oldInst_();return t.loadLocale(),t},sre.MathMap.prototype.loadLocale=function(){var t=sre.Engine.getInstance().locale;if(this.loaded_.indexOf(t)===-1){var r=sre.Engine.getInstance().mode===sre.Engine.Mode.ASYNC;r&&(sre.Engine.getInstance().mode=sre.Engine.Mode.SYNC),this.loaded_.push(t),this.retrieveMaps(t),r&&(sre.Engine.getInstance().mode=sre.Engine.Mode.ASYNC)}},sre.MathMap.toFetch_=0,sre.Engine.registerTest(function(){return sre.MathMap.getInstance()&&!sre.MathMap.toFetch_}),sre.MathMap.prototype.retrieveFiles=function(t){switch(t=sre.BaseUtil.makePath(sre.SystemExternal.jsonPath)+t+".js",sre.Engine.getInstance().mode){case sre.Engine.Mode.ASYNC:sre.MathMap.toFetch_++;var r=goog.bind(this.parseMaps,this);sre.MathMap.fromFile_(t,function(n,i){sre.MathMap.toFetch_--,n||r(i)});break;case sre.Engine.Mode.HTTP:sre.MathMap.toFetch_++,this.getJsonAjax_(t);break;default:t=sre.MathMap.loadFile(t),this.parseMaps(t)}},sre.MathMap.prototype.parseMaps=function(t){t=JSON.parse(t),this.addMaps(t)},sre.MathMap.prototype.addMaps=function(t,r){for(var n=0,i;i=Object.keys(t)[n];n++){var l=i.split("/");r&&r!==l[0]||t[i].forEach(this.addRules[l[1]])}},sre.MathMap.prototype.retrieveMaps=function(t){sre.AlphabetGenerator.generate(t,this.store),sre.Engine.getInstance().isIE&&sre.Engine.getInstance().mode===sre.Engine.Mode.HTTP?this.getJsonIE_(t):this.retrieveFiles(t)},sre.MathMap.prototype.getJsonIE_=function(t,r){var n=r||1;sre.BrowserUtil.mapsForIE?this.addMaps(sre.BrowserUtil.mapsForIE,t):5>=n&&setTimeout(goog.bind(function(){this.getJsonIE_(t,n++)},this),300)},sre.MathMap.fromFile_=function(t,r){return sre.SystemExternal.fs.readFile(t,"utf8",r)},sre.MathMap.loadFile=function(t){try{return sre.MathMap.readJSON_(t)}catch(r){console.error("Unable to load file: "+t+`
`+r)}return"{}"},sre.MathMap.readJSON_=function(t){return sre.SystemExternal.fs.readFileSync(t)},sre.MathMap.prototype.getJsonAjax_=function(t){var r=new XMLHttpRequest,n=goog.bind(this.parseMaps,this);r.onreadystatechange=function(){r.readyState===4&&(sre.MathMap.toFetch_--,r.status===200&&n(r.responseText))},r.open("GET",t,!0),r.send()},sre.StoreUtil={},sre.StoreUtil.nodeCounter=function(t,r){var n=t.length,i=0,l=r;return r||(l=""),function(){return i<n&&(i+=1),l+" "+i}},sre.StoreUtil.pauseSeparator=function(t,r){t=parseFloat(r);var n=isNaN(t)?r:t;return function(){return[sre.AuditoryDescription.create({text:"",personality:{pause:n}})]}},sre.StoreUtil.contentIterator=function(t,r){var n=0<t.length?sre.XpathUtil.evalXPath("../../content/*",t[0]):[];return function(){var i=n.shift(),l=r?[sre.AuditoryDescription.create({text:r},{translate:!0})]:[];return i?(i=sre.SpeechRuleEngine.getInstance().evaluateNode(i),l.concat(i)):l}},sre.ClearspeakUtil={},sre.ClearspeakUtil.numbersToAlpha=function(t){return t.match(/\d+/)?sre.Messages.NUMBERS.numberToWords(parseInt(t,10)):t},sre.ClearspeakUtil.nodeCounter=function(t,r){r=r.split("-");var n=sre.StoreUtil.nodeCounter(t,r[0]||""),i=r[1]||"",l=r[2]||"",s=!0;return function(){var o=n();return s?(s=!1,l+o+i):o+i}},sre.ClearspeakUtil.isSimpleExpression=function(t){return sre.ClearspeakUtil.isSimpleNumber_(t)||sre.ClearspeakUtil.isSimpleLetters_(t)||sre.ClearspeakUtil.isSimpleDegree_(t)||sre.ClearspeakUtil.isSimpleNegative_(t)||sre.ClearspeakUtil.isSimpleFunction_(t)},sre.ClearspeakUtil.isSimpleFunction_=function(t){return t.type===sre.SemanticAttr.Type.APPL&&(t.childNodes[0].role===sre.SemanticAttr.Role.PREFIXFUNC||t.childNodes[0].role===sre.SemanticAttr.Role.SIMPLEFUNC)&&(sre.ClearspeakUtil.isSimple_(t.childNodes[1])||t.childNodes[1].type===sre.SemanticAttr.Type.FENCED&&sre.ClearspeakUtil.isSimple_(t.childNodes[1].childNodes[0]))},sre.ClearspeakUtil.isSimpleNegative_=function(t){return t.type===sre.SemanticAttr.Type.PREFIXOP&&t.role===sre.SemanticAttr.Role.NEGATIVE&&sre.ClearspeakUtil.isSimple_(t.childNodes[0])&&t.childNodes[0].type!==sre.SemanticAttr.Type.PREFIXOP&&t.childNodes[0].type!==sre.SemanticAttr.Type.APPL&&t.childNodes[0].type!==sre.SemanticAttr.Type.PUNCTUATED},sre.ClearspeakUtil.isSimpleDegree_=function(t){return t.type===sre.SemanticAttr.Type.PUNCTUATED&&t.role===sre.SemanticAttr.Role.ENDPUNCT&&t.childNodes.length===2&&t.childNodes[1].role===sre.SemanticAttr.Role.DEGREE&&(sre.ClearspeakUtil.isLetter_(t.childNodes[0])||sre.ClearspeakUtil.isNumber_(t.childNodes[0])||t.childNodes[0].type===sre.SemanticAttr.Type.PREFIXOP&&t.childNodes[0].role===sre.SemanticAttr.Role.NEGATIVE&&(sre.ClearspeakUtil.isLetter_(t.childNodes[0].childNodes[0])||sre.ClearspeakUtil.isNumber_(t.childNodes[0].childNodes[0])))},sre.ClearspeakUtil.isSimpleLetters_=function(t){return sre.ClearspeakUtil.isLetter_(t)||t.type===sre.SemanticAttr.Type.INFIXOP&&t.role===sre.SemanticAttr.Role.IMPLICIT&&(t.childNodes.length===2&&(sre.ClearspeakUtil.isLetter_(t.childNodes[0])||sre.ClearspeakUtil.isSimpleNumber_(t.childNodes[0]))&&sre.ClearspeakUtil.isLetter_(t.childNodes[1])||t.childNodes.length===3&&sre.ClearspeakUtil.isSimpleNumber_(t.childNodes[0])&&sre.ClearspeakUtil.isLetter_(t.childNodes[1])&&sre.ClearspeakUtil.isLetter_(t.childNodes[2]))},sre.ClearspeakUtil.isSimple_=function(t){return t.hasAnnotation("clearspeak","simple")},sre.ClearspeakUtil.isLetter_=function(t){return t.type===sre.SemanticAttr.Type.IDENTIFIER&&(t.role===sre.SemanticAttr.Role.LATINLETTER||t.role===sre.SemanticAttr.Role.GREEKLETTER||t.role===sre.SemanticAttr.Role.OTHERLETTER||t.role===sre.SemanticAttr.Role.SIMPLEFUNC)},sre.ClearspeakUtil.isNumber_=function(t){return t.type===sre.SemanticAttr.Type.NUMBER&&(t.role===sre.SemanticAttr.Role.INTEGER||t.role===sre.SemanticAttr.Role.FLOAT)},sre.ClearspeakUtil.isSimpleNumber_=function(t){return sre.ClearspeakUtil.isNumber_(t)||sre.ClearspeakUtil.isSimpleFraction_(t)},sre.ClearspeakUtil.isSimpleFraction_=function(t){if(sre.ClearspeakUtil.hasPreference("Fraction_Over")||sre.ClearspeakUtil.hasPreference("Fraction_FracOver")||t.type!==sre.SemanticAttr.Type.FRACTION||t.role!==sre.SemanticAttr.Role.VULGAR)return!1;if(sre.ClearspeakUtil.hasPreference("Fraction_Ordinal"))return!0;var r=parseInt(t.childNodes[0].textContent,10);return t=parseInt(t.childNodes[1].textContent,10),0<r&&20>r&&0<t&&11>t},sre.ClearspeakUtil.hasPreference=function(t){return sre.Engine.getInstance().style===t},sre.ClearspeakUtil.simpleExpression=function(){return new sre.SemanticAnnotator("clearspeak",function(t){return sre.ClearspeakUtil.isSimpleExpression(t)?"simple":""})},sre.ClearspeakUtil.simpleNode=function(t){return t.hasAttribute("annotation")?(t=t.getAttribute("annotation"),!!/clearspeak:simple$|clearspeak:simple;/.exec(t)):!1},sre.ClearspeakUtil.simpleCell_=function(t){if(sre.ClearspeakUtil.simpleNode(t))return!0;if(t.tagName!==sre.SemanticAttr.Type.SUBSCRIPT)return!1;t=t.childNodes[0].childNodes;var r=t[1];return t[0].tagName===sre.SemanticAttr.Type.IDENTIFIER&&(sre.ClearspeakUtil.isInteger_(r)||r.tagName===sre.SemanticAttr.Type.INFIXOP&&r.hasAttribute("role")&&r.getAttribute("role")===sre.SemanticAttr.Role.IMPLICIT&&sre.ClearspeakUtil.allIndices_(r))},sre.ClearspeakUtil.isInteger_=function(t){return t.tagName===sre.SemanticAttr.Type.NUMBER&&t.hasAttribute("role")&&t.getAttribute("role")===sre.SemanticAttr.Role.INTEGER},sre.ClearspeakUtil.allIndices_=function(t){return sre.XpathUtil.evalXPath("children/*",t).every(function(r){return sre.ClearspeakUtil.isInteger_(r)||r.tagName===sre.SemanticAttr.Type.IDENTIFIER})},sre.ClearspeakUtil.allCellsSimple=function(t){return sre.XpathUtil.evalXPath(t.tagName===sre.SemanticAttr.Type.MATRIX?"children/row/children/cell/children/*":"children/line/children/*",t).every(sre.ClearspeakUtil.simpleCell_)?[t]:[]},sre.ClearspeakUtil.isSmallVulgarFraction=function(t){return sre.NumbersUtil.vulgarFractionSmall(t,20,11)?[t]:[]},sre.ClearspeakUtil.isUnitExpression=function(t){return t.type===sre.SemanticAttr.Type.TEXT||t.type===sre.SemanticAttr.Type.PUNCTUATED&&t.role===sre.SemanticAttr.Role.TEXT&&sre.ClearspeakUtil.isNumber_(t.childNodes[0])&&sre.ClearspeakUtil.allTextLastContent_(t.childNodes.slice(1))||t.type===sre.SemanticAttr.Type.IDENTIFIER&&t.role===sre.SemanticAttr.Role.UNIT||t.type===sre.SemanticAttr.Type.INFIXOP&&(t.role===sre.SemanticAttr.Role.IMPLICIT||t.role===sre.SemanticAttr.Role.UNIT)},sre.ClearspeakUtil.allTextLastContent_=function(t){for(var r=0;r<t.length-1;r++)if(t[r].type!==sre.SemanticAttr.Type.TEXT||t[r].textContent!=="")return!1;return t[t.length-1].type===sre.SemanticAttr.Type.TEXT},sre.ClearspeakUtil.unitExpression=function(){return new sre.SemanticAnnotator("clearspeak",function(t){return sre.ClearspeakUtil.isUnitExpression(t)?"unit":""})},sre.ClearspeakUtil.ordinalExponent=function(t){var r=parseInt(t.textContent,10);return isNaN(r)?t.textContent:10<r?sre.Messages.NUMBERS.simpleOrdinal(r):sre.Messages.NUMBERS.wordOrdinal(r)},sre.ClearspeakUtil.isCapitalLetter=function(t){return sre.MathCompoundStore.getInstance().lookupCategory(t.textContent)==="Lu"?[t]:[]},sre.ClearspeakUtil.NESTING_DEPTH=null,sre.ClearspeakUtil.nestingDepth=function(t){var r=0,n=t.textContent,i=t.getAttribute("role")==="open"?0:1;for(t=t.parentNode;t;)t.tagName===sre.SemanticAttr.Type.FENCED&&t.childNodes[0].childNodes[i].textContent===n&&r++,t=t.parentNode;return sre.ClearspeakUtil.NESTING_DEPTH=1<r?sre.Messages.NUMBERS.wordOrdinal(r):"",sre.ClearspeakUtil.NESTING_DEPTH},sre.ClearspeakUtil.matchingFences=function(t){var r=t.previousSibling;if(r)var n=t;else r=t,n=t.nextSibling;return n?sre.SemanticAttr.isMatchingFence(r.textContent,n.textContent)?[t]:[]:[]},sre.ClearspeakUtil.insertNesting=function(t,r){if(!r||!t)return t;var n=t.match(/^(open|close) /);return n?n[0]+r+" "+t.substring(n[0].length):r+" "+t},sre.Grammar.getInstance().setCorrection("insertNesting",sre.ClearspeakUtil.insertNesting),sre.ClearspeakUtil.fencedArguments=function(t){var r=sre.DomUtil.toArray(t.parentNode.childNodes),n=sre.XpathUtil.evalXPath("../../children/*",t);return r=r.indexOf(t),sre.ClearspeakUtil.fencedFactor_(n[r])||sre.ClearspeakUtil.fencedFactor_(n[r+1])?[t]:[]},sre.ClearspeakUtil.simpleArguments=function(t){var r=sre.DomUtil.toArray(t.parentNode.childNodes),n=sre.XpathUtil.evalXPath("../../children/*",t);return r=r.indexOf(t),sre.ClearspeakUtil.simpleFactor_(n[r])&&n[r+1]&&(sre.ClearspeakUtil.simpleFactor_(n[r+1])||n[r+1].tagName===sre.SemanticAttr.Type.ROOT||n[r+1].tagName===sre.SemanticAttr.Type.SQRT||n[r+1].tagName===sre.SemanticAttr.Type.SUPERSCRIPT&&n[r+1].childNodes[0].childNodes[0]&&(n[r+1].childNodes[0].childNodes[0].tagName===sre.SemanticAttr.Type.NUMBER||n[r+1].childNodes[0].childNodes[0].tagName===sre.SemanticAttr.Type.IDENTIFIER)&&(n[r+1].childNodes[0].childNodes[1].textContent==="2"||n[r+1].childNodes[0].childNodes[1].textContent==="3"))?[t]:[]},sre.ClearspeakUtil.simpleFactor_=function(t){return!!t&&(t.tagName===sre.SemanticAttr.Type.NUMBER||t.tagName===sre.SemanticAttr.Type.IDENTIFIER||t.tagName===sre.SemanticAttr.Type.FUNCTION||t.tagName===sre.SemanticAttr.Type.APPL||t.tagName===sre.SemanticAttr.Type.FRACTION)},sre.ClearspeakUtil.fencedFactor_=function(t){return t&&(t.tagName===sre.SemanticAttr.Type.FENCED||t.hasAttribute("role")&&t.getAttribute("role")===sre.SemanticAttr.Role.LEFTRIGHT||sre.ClearspeakUtil.layoutFactor_(t))},sre.ClearspeakUtil.layoutFactor_=function(t){return!!t&&(t.tagName===sre.SemanticAttr.Type.MATRIX||t.tagName===sre.SemanticAttr.Type.VECTOR)},sre.ClearspeakUtil.isHyperbolic=function(t){if(t.tagName===sre.SemanticAttr.Type.APPL){var r=sre.XpathUtil.evalXPath("children/*[1]",t)[0];if(r&&r.tagName===sre.SemanticAttr.Type.FUNCTION&&sre.MathCompoundStore.getInstance().lookupCategory(r.textContent)==="Hyperbolic")return[t]}return[]},sre.ClearspeakUtil.isLogarithmWithBase=function(t){if(t.tagName===sre.SemanticAttr.Type.SUBSCRIPT){var r=sre.XpathUtil.evalXPath("children/*[1]",t)[0];if(r&&r.tagName===sre.SemanticAttr.Type.FUNCTION&&sre.MathCompoundStore.getInstance().lookupCategory(r.textContent)==="Logarithm")return[t]}return[]},sre.ClearspeakUtil.wordOrdinal=function(t){return sre.Messages.NUMBERS.wordOrdinal(parseInt(t.textContent,10))},sre.ClearspeakUtil.firstCurrency=function(t){var r=sre.XpathUtil.evalXPath("children/*[1]",t)[0];return r&&sre.MathCompoundStore.getInstance().lookupCategory(r.textContent+":unit")==="currency"?[t]:[]},sre.ClearspeakUtil.lastCurrency=function(t){var r=sre.XpathUtil.evalXPath("children/*[last()]",t)[0];return r&&sre.MathCompoundStore.getInstance().lookupCategory(r.textContent+":unit")==="currency"?[t]:[]},sre.ClearspeakUtil.addAnnotators=function(){sre.SemanticAnnotations.getInstance().register(sre.ClearspeakUtil.simpleExpression()),sre.SemanticAnnotations.getInstance().register(sre.ClearspeakUtil.unitExpression())},sre.ClearspeakFrench={locale:"fr",domain:"clearspeak",functions:[["CTXF","CTXFpauseSeparator",sre.StoreUtil.pauseSeparator],["CTXF","CTXFnodeCounter",sre.ClearspeakUtil.nodeCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.ClearspeakUtil.isSmallVulgarFraction],["CQF","CQFcellsSimple",sre.ClearspeakUtil.allCellsSimple],["CSF","CSFordinalExponent",sre.ClearspeakUtil.ordinalExponent],["CSF","CSFwordOrdinal",sre.Messages.NUMBERS.wordOrdinal],["CQF","CQFisCapital",sre.ClearspeakUtil.isCapitalLetter],["CQF","CQFmatchingFences",sre.ClearspeakUtil.matchingFences],["CSF","CSFnestingDepth",sre.ClearspeakUtil.nestingDepth],["CQF","CQFfencedArguments",sre.ClearspeakUtil.fencedArguments],["CQF","CQFsimpleArguments",sre.ClearspeakUtil.simpleArguments],["CQF","CQFisHyperbolic",sre.ClearspeakUtil.isHyperbolic],["CQF","CQFisLogarithm",sre.ClearspeakUtil.isLogarithmWithBase],["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber]],rules:['Rule{collapsed{default{[t] "compress\xE9e"; [n] . (engine:modality=summary,grammar:collapsed){self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["Rule","stree","default","[n] ./*[1]","self::stree"],["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default",'[p] (pause:"short")',"self::empty"],'Rule{font{default{[n] . (grammar:ignoreFont=@font);  [t] @font (grammar:localFont,pause:"short"){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier{default{[n] . (grammar:ignoreFont=@font);  [t] @font (grammar:localFont,pause:"short"){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] self::* (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),["Rule","text","default","[n] text()","self::text"],'Rule;capital;default;[n] text() (pitch:0.6,grammar:ignoreCaps="majuscule");self::identifier;@role="latinletter" or @role="greekletter" or @role="simple function";CQFisCapital'.split(";"),'Rule;capital;Caps_SayCaps;[n] text();self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text(){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule;capital;Caps_SayCaps;[n] text() (pause:"short");self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital;following-sibling::*[1]'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text() (pause:"short"){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{following-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule,punctuation-lr,default,[p] (pause:"short"); [n] text() (pause:"short"),self::punctuation,@role="comma"'.split(","),'Rule;punctuation;default;[n] text();self::punctuation;@role="comma";not(preceding-sibling::*[1]/children);not(following-sibling::*[1]/children)'.split(";"),'Rule,punctuation-l,default,[p] (pause:"short"); [n] text(),self::punctuation,@role="comma",not(following-sibling::*[1]/children)'.split(","),'Rule;punctuation-r;default;[n] text() (pause:"short");self::punctuation;@role="comma";not(preceding-sibling::*[1]/children)'.split(";"),'Rule;ellipsis;Ellipses_AndSoOn;[t] "et ainsi de suite";self::punctuation;@role="ellipsis";not(following-sibling::*[1]);not(preceding-sibling::*[last()][@role="ellipsis"])'.split(";"),`Rule;ellipsis;Ellipses_AndSoOn;[t] "et ainsi de suite jusqu'\xE0";self::punctuation;@role="ellipsis";preceding-sibling::*[1];following-sibling::*[1]`.split(";"),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "\xE9valu\xE9 \xE0"; [n] content/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="subscript"'.split(","),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "\xE9valu\xE9 \xE0"; [n] content/*[1]/children/*[2]; [p] (pause:"short"); [t] "moins la m\xEAme expression \xE9valu\xE9e \xE0"; [n] content/*[1]/children/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="superscript",name(content/*[1]/children/*[1])="subscript"'.split(","),'Rule;vbar-such-that;VerticalLine_SuchThat;[t] "tel que";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Divides;[t] "diviseur de";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Given;[t] "sachant";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;set-member;default;[t] "est un";self::operator;@role="set extended";text()="\u2208" or text()="\u220A"'.split(";"),["SpecializedRule","set-member","default","SetMemberSymbol_Member",'[t] "appartient \xE0"'],["SpecializedRule","set-member","default","SetMemberSymbol_Element",'[t] "est un \xE9l\xE9ment de"'],["SpecializedRule","set-member","default","SetMemberSymbol_Belongs",'[t] "est dans"'],`Rule;set-not-member;default;[t] "n'est pas un";self::operator;@role="set extended";text()="\u2209"`.split(";"),["SpecializedRule","set-not-member","default","SetMemberSymbol_Member",`[t] "n'appartient pas \xE0"`],["SpecializedRule","set-not-member","default","SetMemberSymbol_Element",`[t] "n'est pas un \xE9l\xE9ment de"`],["SpecializedRule","set-not-member","default","SetMemberSymbol_Belongs",`[t] "n'est pas dans"`],'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"],self::*'.split(","),'Rule,feet,default,[n] children/*[1]; [t] "feet",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2032"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,foot,default,[n] children/*[1]; [t] "foot",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2032"],children/*[1][text()="1"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,inches,default,[n] children/*[1]; [t] "inches",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2033"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,inch,default,[n] children/*[1]; [t] "inch",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2033"],children/*[1][text()="1"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,minutes,default,[p] (pause:short); [n] children/*[1]; [t] "minutes",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"]'.split(","),'Rule,minute,default,[p] (pause:short); [n] children/*[1]; [t] "minute",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule,seconds,default,[p] (pause:short); [n] children/*[1]; [t] "seconds",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"]'.split(","),'Rule,second,default,[p] (pause:short); [n] children/*[1]; [t] "second",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule,degrees-angle,Prime_Angle,[n] children/*[1]; [t] "degrees"; [p] (pause:short),self::punctuation,@role="degree"'.split(","),'Rule,degree-angle,Prime_Angle,[n] children/*[1]; [t] "degree"; [p] (pause:short),self::punctuation,@role="degree",children/*[1][text()="1"]'.split(","),'Rule{minutes-angle{Prime_Angle{[n] children/*[1]; [t] "minutes"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule,minute-angle,Prime_Angle,[n] children/*[1]; [t] "minute"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule{seconds-angle{Prime_Angle{[n] children/*[1]; [t] "seconds"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),'Rule,second-angle,Prime_Angle,[n] children/*[1]; [t] "second"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule{feet-length{Prime_Length{[n] children/*[1]; [t] "feet"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule,foot-length,Prime_Length,[n] children/*[1]; [t] "foot"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule{inches-length{Prime_Length{[n] children/*[1]; [t] "inches"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),'Rule,inch-length,Prime_Length,[n] children/*[1]; [t] "inch"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],["Rule","function","default","[n] text()","self::function"],["Rule","appl","default",'[n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short")',"self::appl"],'Rule,appl-simple,default,[n] children/*[1]; [t] "de"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="appl"'.split(","),'Rule,appl-simple,default,[n] children/*[1]; [t] "de"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="fenced",name(children/*[2]/children/*[1])="appl"'.split(","),["Rule","appl","Functions_None",'[p] (pause:"short"); [n] children/*[1]; [t] "fois"; [n] children/*[2]; [p] (pause:"short")',"self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,@role="prefix function"'.split(","),'Rule{binary-operation{ImpliedTimes_MoreImpliedTimes{[n] . (grammar:impliedTimes); [p] (pause:"short"){self::appl{@role="prefix function"{parent::*/parent::infixop[@role="implicit"]{following-sibling::*{not(contains(@grammar, "impliedTimes"))'.split("{"),'Rule{function-prefix-simple-arg{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{name(children/*[2])="fenced"{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[2]/children/*[1])!="number"{name(children/*[2]/children/*[1])!="identifier"{name(children/*[2]/children/*[1])!="appl"'.split("{"),'Rule,function-prefix-embell,default,[p] (pause:"short"); [n] children/*[1]; [n] children/*[2]; [p] (pause:"short"); ,self::appl,@role="prefix function",name(children/*[1])!="function"'.split(","),'Rule{function-prefix-fenced-or-frac-arg{default{[p] (pause:"short"); [n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple"))){self::*'.split("{"),'Rule,function-prefix-subscript,default,[p] (pause:"short"); [n] children/*[1]; [t] "de"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="subscript",self::*'.split(","),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(following-sibling::*){not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{name(children/*[2])="fenced"{not(contains(@grammar, "NatLog"))'.split("{"),'Rule;function-ln;Log_LnAsNaturalLog;[n] . (grammar:NatLog);self::appl;@role="prefix function";content/*[2][text()="ln"];not(following-sibling::*);not(contains(@grammar, "NatLog"))'.split(";"),'Rule{function-ln{Log_LnAsNaturalLog{[n] . (grammar:NatLog); [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-prefix-as-exp{default{[n] children/*[1]; [t] "de"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(parent::*/parent::*)="superscript"{not(following-sibling::*){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple")))'.split("{"),'Rule,function-prefix-subscript-as-exp,default,[n] children/*[1]; [t] "de"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(parent::*/parent::*)="superscript",not(following-sibling::*),name(children/*[1])="subscript"'.split(","),'Rule,function-prefix-hyper,default,[p] (pause:"short"); [n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",CQFisHyperbolic'.split(","),'Rule{function-prefix-inverse{default{[p] (pause:"short");  [n] children/*[1]/children/*[1]; [t] "inverse de"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-inverse{Trig_Reciprocal{[p] (pause:"short"); [t] "la reciproque de"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-inverse{Trig_Reciprocal{[p] (pause:"short"); [t] "la reciproque de"; [n] children/*[1]/children/*[1];[n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{contains(children/*[2]/@annotation, "clearspeak:simple"){children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule,appl-triginverse,Trig_TrigInverse,[p] (pause:"short"); [n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="superscript",name(children/*[1]/children/*[2])="prefixop",children/*[1]/children/*[2][@role="negative"],children/*[1]/children/*[2]/children/*[1][text()="1"]'.split(","),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{name(children/*[2])="fenced"{children/*[2]/children/*[1][@role="prefix function"]{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none")){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or (name(children/*[2])="fraction" and children/*[2][@role!="vulgar"])'.split("{"),'Rule{function-inverse{default{[n] children/*[1]; [t] "inverse"{self::superscript{@role="prefix function" or @role="simple function"{name(children/*[2])="prefixop"{children/*[2][@role="negative"]{children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-inverse{Functions_Reciprocal{[t] "la reciproque de"; [n] children/*[1]{self::superscript{@role="prefix function" or @role="simple function"{name(children/*[2])="prefixop"{children/*[2][@role="negative"]{children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule;function-inverse;Functions_None;[n] . (grammar:functions_none);self::superscript;@role="prefix function" or @role="simple function";name(children/*[2])="prefixop";children/*[2][@role="negative"];children/*[2]/children/*[1][text()="1"];not(contains(@grammar, "functions_none"))'.split(";"),["Rule","superscript","default",`[n] children/*[1]; [t] "\xE0 l'exposant" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "fin exposant" (pause:"short")`,"self::superscript"],'Rule,superscript-simple-exponent,default,[n] children/*[1]; [t] "\xE0 la puissance"; [n] children/*[2]; [p] (pause:"medium"),self::superscript,not(descendant::superscript)'.split(","),'Rule,superscript-simple-exponent,default,[n] children/*[1]; [t] "\xE0 la puissance"; [n] children/*[2]; [p] (pause:"medium") ,self::superscript,not(descendant::superscript),not(following-sibling::*)'.split(","),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="number";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="fraction";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),["Aliases","superscript-simple-exponent","self::superscript",'children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"]','name(children/superscript/children/*[1])="identifier"'],'Aliases;superscript-simple-exponent;self::superscript;children/*[2][@role="implicit"];count(children/*[2]/children/*)=2;contains(children/*[2]/children/*[1]/@annotation, "simple");name(children/*[2]/children/*[2])="superscript";(name(children/*[2]/children/*[2]/children/*[1])="number" and contains(children/*[2]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple")) or name(children/*[2]/children/*[2]/children/*[1])="identifier";children/*[2]/children/*[2]/children/*[2][text()="2"] or children/*[2]/children/*[2]/children/*[2][text()="3"]'.split(";"),'Rule;superscript-simple-function;Functions_None;[n] . (grammar:functions_none);self::superscript;name(children/*[1])="identifier";children/*[1][@role="simple function"];not(contains(@grammar, "functions_none"))'.split(";"),'Rule,superscript-ordinal,Exponent_Ordinal,[n] children/*[1]; [t] "\xE0 la"; [n] children/*[2] (grammar:ordinal); [t] "puissance" (pause:"medium"),self::superscript,name(children/*[2])="identifier",children/*[2][@role="latinletter"]'.split(","),'Rule,superscript-ordinal,Exponent_Ordinal,[n] children/*[1]; [t] "\xE0 la puissance"; [n] children/*[2]; [p] (pause:"medium"),self::superscript,name(children/*[2])="identifier",children/*[2][@role="latinletter"],CQFisCaptial'.split(","),'Rule{exponent{default{[n] text() (join:"-"); [t] "i\xE8me"{self::identifier{contains(@grammar, "ordinal")'.split("{"),'Rule;exponent;default;[t] CSFordinalExponent;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_Ordinal;[t] CSFwordOrdinal;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_Ordinal;[t] "zero";self::number;@role="integer";contains(@grammar, "ordinal");text()="0"'.split(";"),'Rule;exponent;Exponent_OrdinalPower;[t] CSFwordOrdinal;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_OrdinalPower;[t] "zero";self::number;@role="integer";contains(@grammar, "ordinal");text()="0"'.split(";"),'Rule,square,default,[n] children/*[1]; [t] "au carr\xE9",self::superscript,children/*[2][text()="2"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*,self::*'.split(","),'Rule,cube,default,[n] children/*[1]; [t] "au cube",self::superscript,children/*[2][text()="3"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*,self::*'.split(","),'Rule;paren-simple;default;[n] children/*[1];self::fenced;@role="leftright";contains(children/*[1]/@annotation, "clearspeak:simple");name(../..)!="superscript" and name(../..)!="subscript"'.split(";"),'Rule;paren-simple-exp;default;[n] children/*[1];self::fenced;@role="leftright";name(../..)="superscript";children/*[1][@role="integer"] or children/*[1][@role="float"] or (children/*[1][@role="vulgar"] and contains(children/*[1]/@annotation, "clearspeak:simple")) or children/*[1][@role="latinletter"] or children/*[1][@role="greekletter"] or children/*[1][@role="otherletter"]'.split(";"),'Rule;paren-simple-nested-func;default;[n] children/*[1];self::fenced;@role="leftright";name(../*[1])="identifier" or name(../*[1])="function";parent::*/parent::*[@role="simple function" or @role="prefix function"];children/*[1][@role="simple function" or @role="prefix function"];contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split(";"),'Rule{paren-simple-nested-func-no-bracket{Functions_None{[n] children/*[1];{self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{name(children/*[1]/children/*[1])="identifier" or name(children/*[1]/children/*[1])="function"{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[1]/children/*[2]/children/*[1])="identifier" or name(children/*[1]/children/*[2]/children/*[1])="number"'.split("{"),'Rule,fences-open-close,default,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright"'.split(","),'Rule{paren-simple-nested-func{default{[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{not(contains(children/*[1]/@annotation, "clearspeak:simple"))'.split("{"),'Rule{paren-simple-nested-func{Functions_None{[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split("{"),["SpecializedRule","fences-open-close","default","Paren_Speak"],["Aliases","fences-open-close","self::fenced",'@role="composed function"'],["Rule","fence-silent","Paren_Silent",'[p] (pause:"short"); [n] children/*[1]; [p] (pause:"short")',"self::fenced"],'Rule,fences-open-close,ImpliedTimes_None,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright",parent::*/parent::*[@role!="simple function"],parent::*/parent::*[@role!="prefix function"]'.split(","),'Rule;fence-nesting;Paren_SpeakNestingLevel;[n] text() (grammar:insertNesting=CSFnestingDepth);self::fence;contains(@grammar, "spokenFence");CQFmatchingFences'.split(";"),["Rule","fence-no-nesting","Paren_SpeakNestingLevel","[n] text()","self::fence"],'Rule,fences-points,Paren_CoordPoint,[t] "le point avec coordon\xE9es"; [n] children/*[1],self::fenced,name(children/*[1])="punctuated",children/*[1][@role="sequence"]'.split(","),'Rule{fences-interval{Paren_Interval{[t] "un intervalle de"; [n] children/*[1]/children/*[1]; [t] "\xE0"; [n] children/*[1]/children/*[3]; [p] (pause:"short"); [n] . (grammar:interval){self::fenced{not(contains(@grammar, "interval")){name(children/*[1])="punctuated"{children/*[1][@role="sequence"]{count(./children/*[1]/content/*)=1{children/*[1]/content/*[1][@role="comma"]'.split("{"),'Rule{interval-open{Paren_Interval{[t] "sans inclure"; [n] children/*[1]/children/*[1]; [t] "ni"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"'.split("{"),'Rule{interval-closed-open{Paren_Interval{[t] "avec"; [n] children/*[1]/children/*[1]; [t] "inclus"; [p] (pause:"short"); [t] "mais sans inclure"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"'.split("{"),'Rule{interval-open-closed{Paren_Interval{[t] "sans inclure"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [t] "mais avec"; [n] children/*[1]/children/*[3]; [t] "inclus"{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"'.split("{"),'Rule{interval-closed{Paren_Interval{[t] "avec"; [n] children/*[1]/children/*[1]; [t] "et"; [n] children/*[1]/children/*[3]; [t] "inclus"{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()="]"'.split("{"),'Rule{interval-open-inf-r{Paren_Interval{[t] "sans inclure"; [n] children/*[1]/children/*[1]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-inf-l{Paren_Interval{[t] "sans inclure"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule;interval-open-inf-lr;Paren_Interval;;self::fenced;contains(@grammar, "interval");content/*[1]/text()="(";content/*[2]/text()=")";children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E");children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split(";"),'Rule{interval-closed-open-inf{Paren_Interval{[t] "avec"; [n] children/*[1]/children/*[1]; [t] "inclus"{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-closed-inf{Paren_Interval{[t] "avec"; [n] children/*[1]/children/*[3]; [t] "inclus"{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule,paren-nested-embellished-funcs,Functions_None,[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"),self::fenced,@role="leftright",name(../..)="appl",name(children/*[1]) = "appl",preceding-sibling::*/descendant-or-self::*[@role="subsup"] or children/*[1]/descendant-or-self::*[@role="subsup"]'.split(","),'Rule;set-empty;default;[t] "ensemble vide";self::fenced;@role="set empty"'.split(";"),'Rule,set-extended,default,[t] "ensemble des"; [n] children/*[1]/children/*[1]; [t] "tel que"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule,set-collection,default,[t] "ensemble"; [n] children/*[1],self::fenced,@role="set collection"'.split(","),["Aliases","set-collection","self::fenced",'@role="set singleton"'],'Rule,set-extended,Sets_woAll,[t] "ensemble de"; [n] children/*[1]/children/*[1]; [t] "tel que"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule;set-collection;Sets_SilentBracket;[n] children/*[1];self::fenced;@role="set collection"'.split(";"),["Rule","subscript","default",'[p] (pause:short); [n] children/*[1]; [t] "sub"; [n] children/*[2]; [p] (pause:short)',"self::subscript"],'Rule,subscript-base,default,[n] children/*[1]; [t] "base"; [n] children/*[2],self::subscript,CQFisLogarithm'.split(","),'Rule{subscript-index{default{[n] children/*[1]; [t] "sub"; [n] children/*[2]{self::subscript{contains(@grammar, "simpleDet")'.split("{"),["Rule","fraction","default",'[p] (pause:short); [t] "fraction avec num\xE9rateur"; [n] children/*[1]; [p] (pause:short); [t] "et d\xE9nominateur"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule,fraction,Functions_None,[p] (pause:short); [t] "fraction avec num\xE9rateur"; [n] children/*[1]; [p] (pause:short); [t] "et d\xE9nominateur"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="appl" or name(children/*[2])="appl"'.split(","),'Rule{simple-fraction{default{[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short){self::fraction{contains(children/*[1]/@annotation, "clearspeak:simple") or contains(children/*[1]/@annotation, "clearspeak:unit"){contains(children/*[2]/@annotation, "clearspeak:simple") or contains(children/*[2]/@annotation, "clearspeak:unit")'.split("{"),'Rule,simple-vulgar-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short),self::fraction,@role="vulgar"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="text",name(children/*[2])="text"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="infixop",children/*[1][@role="unit"],name(children/*[2])="text"'.split(","),'Rule;vulgar-fraction;default;[t] CSFvulgarFraction;self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["Rule","fraction","Fraction_Over",'[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_OverEndFrac",'[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short); [t] "fin fraction"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_FracOver",'[p] (pause:short); [t] "fraction"; [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_Per",'[p] (pause:short); [n] children/*[1]; [t] "par"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_GeneralEndFrac",'[p] (pause:short); [t] "fraction avec num\xE9rateur"; [n] children/*[1]; [p] (pause:short); [t] "et d\xE9nominateur"; [n] children/*[2]; [p] (pause:short); [t] "fin fraction"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_General",'[p] (pause:short); [t] "fraction avec num\xE9rateur"; [n] children/*[1]; [p] (pause:short); [t] "et d\xE9nominateur"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule;simple-vulgar-fraction;Fraction_Ordinal;[t] CSFvulgarFraction;self::fraction;@role="vulgar"'.split(";"),'Rule{fraction{Fraction_EndFrac{[p] (pause:short); [n] . (grammar:endfrac); [t] "fin fraction"; [p] (pause:short){self::fraction{not(contains(@grammar, "endfrac")){not(contains(children/*[1]/@annotation, "clearspeak:unit")){not(contains(children/*[2]/@annotation, "clearspeak:unit"))'.split("{"),'Rule{vulgar-fraction{Fraction_EndFrac{[p] (pause:short); [n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short){self::fraction{name(children/*[1])="fraction"{name(children/*[2])="fraction"{contains(children/*[1]/@annotation, "clearspeak:simple"){contains(children/*[2]/@annotation, "clearspeak:simple")'.split("{"),'Rule;simple-vulgar-fraction;Fraction_EndFrac;[t] CSFvulgarFraction;self::fraction;@role="vulgar";contains(@annotation, "clearspeak:simple");self::*'.split(";"),["Rule","sqrt","default",'[t] "la racine carr\xE9e de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short)',"self::sqrt"],'Rule,sqrt-nested,default,[p] (pause: "short"); [t] "la racine carr\xE9e de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,negative-sqrt,default,[t] "la racine carr\xE9e n\xE9gative de"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt"'.split(","),'Rule,negative-sqrt,default,[p] (pause: "short"); [t] "la racine carr\xE9e n\xE9gative de"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt",not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRoot,[t] "la racine carr\xE9e positive de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRoot,[p] (pause: "short"); [t] "la racine carr\xE9e positive de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRootEnd,[t] "la racine carr\xE9e positive de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRootEnd,[p] (pause: "short"); [t] "la racine carr\xE9e positive de"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule{sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,cube,default,[t] "la racine cubique de"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"]'.split(","),'Rule,cube-nested,default,[p] (pause:short); [t] "la racine cubique de"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"],not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),["Rule","root","default",'[t] "la"; [n] children/*[1] (grammar:ordinal); [t] "racine de"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short)',"self::root"],'Rule,root-nested,default,[p] (pause:short); [t] "la"; [n] children/*[1] (grammar:ordinal); [t] "racine de"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule{root-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{root-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "fin racine"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,negative,default,[t] "n\xE9gatif"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),'Rule,positive,default,[t] "positif"; [n] children/*[1],self::prefixop,@role="positive"'.split(","),`Rule,angle-measure,default,[t] "la mesure de l'" (join:""); [n] content/*[1]; [n] children/*[2] (grammar:angle),self::infixop,content/*[1]/text()="\u2220",children/*[1][text()="m"]`.split(","),["Rule","prefix","default","[m] content/* (grammar:prefix); [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/* (grammar:postfix)","self::postfixop"],'Rule{set-prefix-operators{default{[t] "le"; [n] self::* (grammar:!prefix); [t] "de"{self::*{contains(@grammar,"prefix"){descendant-or-self::*/text()="\u2229" or descendant-or-self::*/text()="\u222A"{self::*{self::*{self::*'.split("{"),["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule,binary-operation,ImpliedTimes_MoreImpliedTimes,[m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit",name(children/*[1])="appl"'.split(","),'Rule,binary-operation-pause,default,[m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[last()])="appl"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[1])="appl",name(children/*[last()])="appl"'.split(","),'Rule;implicit-times;default;[p] (pause:short);self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times default  self::operator @role="multiplication" text()="\u2062" CQFsimpleArguments'.split(" "),'Rule;implicit-times;default;[n] text();self::operator;@role="multiplication";text()="\u2062";CQFfencedArguments'.split(";"),'Rule;implicit-times;ImpliedTimes_MoreImpliedTimes;[n] text();self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times ImpliedTimes_None  self::operator @role="multiplication" text()="\u2062"'.split(" "),'Rule{binary-operation-simple{default{[m] children/* (rate:"0.5"); [p] (pause:short){self::infixop{@role="implicit"{contains(@annotation, "clearspeak:simple"){not(contains(@grammar, "inFrac"))'.split("{"),'Rule;simple-in-fraction;default;[n] . (rate:"0.5",grammar:inFrac);self::*;contains(@annotation, "clearspeak:simple");not(contains(@grammar, "inFrac"));name(.)!="identifier";name(.)!="function";name(.)!="number";name(parent::*/parent::*)="fraction";not(preceding-sibling::*)'.split(";"),'Rule;operators-after-power;Exponent_AfterPower;[m] children/* (rate:"0.5");self::infixop;@role="implicit";contains(@grammar, "afterPower")'.split(";"),["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],'Rule;natural-numbers;default;[t] "les nombres entier naturel";self::identifier;text()="\u2115" or (text()="N" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;integers;default;[t] "les nombres entiers";self::identifier;text()="\u2124" or (text()="Z" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;rational-numbers;default;[t] "les Nombres rationnels";self::identifier;text()="\u211A" or (text()="Q" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;real-numbers;default;[t] "les nombres r\xE9els";self::identifier;text()="\u211D" or (text()="R" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;complex-numbers;default;[t] "les nombres complexes";self::identifier;text()="\u2102" or (text()="C" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule,natural-numbers-super,default,[t] "n" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,integers-super,default,[t] "z" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,rational-numbers-super,default,[t] "q" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,real-numbers-super,default,[t] "r" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211D" or (children/*[1]/text()="R" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,complex-numbers-super,default,[t] "c" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2102" or (children/*[1]/text()="C" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule;natural-numbers-with-zero;default;[t] "les nombres entiers naturel avec zero";self::subscript;children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck");children/*[2]/text()="0"'.split(";"),'Rule;positive-integers;default;[t] "les nombres entiers positif";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*'.split(";"),'Rule;positive-integers;default;[t] "les nombres entiers n\xE9gatif";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*'.split(";"),'Rule;positive-rational-numbers;default;[t] "les nombres rationnels positif";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*'.split(";"),'Rule;negative-rational-numbers;default;[t] "les nombres rationnels n\xE9gatif";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*'.split(";"),'Rule,fences-neutral,default,[p] (pause:short); [t] "la valeur absolue de"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_AbsEnd,[p] (pause:short); [t] "la valeur absolue de"; [n] children/*[1]; [p] (pause: short); [t] "fin de valeur absolue"; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Cardinality,[p] (pause:short); [t] "la cardinalit\xE9 de"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Determinant,[p] (pause:short); [t] "le d\xE9terminant de"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["Rule","matrix","default",'[t] "la matrice de dimension"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:"); [p] (pause:long)',"self::matrix"],'Rule{matrix-simple{default{[t] "la matrice de dimension"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*);  [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:",grammar:simpleDet); [p] (pause:long){self::matrix{count(children/*)<4{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule,matrix-trivial,default,[t] "la matrice de dimension 1 par 1 avec \xE9l\xE9ment"; [n] children/*[1]; [p] (pause:long),self::vector,@role="squarematrix"'.split(","),'Rule{determinant{default{[t] "le d\xE9terminant de la matrice de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="determinant"{count(children/*)<4{CQFcellsSimple'.split("{"),'Rule{determinant-simple{default{[t] "le d\xE9terminant de la matrice de dimension"; [t] count(children/*);  [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:"); [p] (pause:long){self::matrix{@role="determinant"'.split("{"),["Rule","matrix-vector","default",'[t] "la matrice colonne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","matrix-vector","default","Matrix_SpeakColNum"],'Rule{matrix-vector-simple{default{[t] "la matrice colonne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple{@role!="squarematrix"'.split("{"),["Rule","matrix-vector-simple","Matrix_SilentColNum",'[t] "la matrice colonne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long)',"self::vector"],'Rule{matrix-row-vector{default{[t] "la matrice ligne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"colonne-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","matrix-row-vector","default","Matrix_SpeakColNum"],'Rule{matrix-row-vector-simple{default{[t] "la matrice ligne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule{matrix-row-vector-simple{Matrix_SilentColNum{[t] "la matrice ligne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),'Rule;matrix-row-simple;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row-simple","Matrix_SilentColNum",'[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short")',"self::row"],'Rule;line-simple;default;[n] children/*[1];self::line;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFnodeCounter,context:"colonne-,- ",sepFunc:CTXFpauseSeparator,separator:"medium"); [p] (pause:long)',"self::row"],["SpecializedRule","matrix-row","default","Matrix_SpeakColNum"],["Rule","matrix-cell","default","[n] children/*[1]","self::cell"],'Rule{matrix-end-matrix{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "fin matrice"{self::matrix{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-vector{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "fin matrice"{self::vector{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-determinant{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "fin d\xE9terminant"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix"))'.split("{"),["Rule","vector","Matrix_Vector",'[t] "le vecteur colonne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","vector","Matrix_Vector","Matrix_EndVector"],'Rule{vector-simple{Matrix_Vector{[t] "le vecteur colonne de dimension"; [t] count(children/*); [t] "par";  [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector{Matrix_Vector{[t] "le vecteur ligne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"colonne-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","row-vector","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector-simple{Matrix_Vector{[t] "le vecteur ligne de dimension"; [t] count(children/*); [t] "par"; [t] count(children/*[1]/children/*); [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","row-vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{vector-end-matrix{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "fin matrice"{self::matrix{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "fin vecteur"{self::vector{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "fin vecteur"{self::matrix{@role="rowvector"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-determinant{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "fin d\xE9terminant"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule,binomial,Matrix_Combinatoric,[n] children/*[2]/children/*[1]; [t] "parmi"; [n] children/*[1]/children/*[1]; ,self::vector,@role="binomial"'.split(","),'Rule{lines-summary{default{[p] (pause:short); [t] count(children/*); [t] "lignes";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary")){self::*'.split("{"),'Rule;lines-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::multiline;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Aliases","lines-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],'Rule{cases-summary{default{[p] (pause:short); [t] count(children/*); [t] "cas";  [n] . (grammar:layoutSummary){self::cases{not(contains(@grammar, "layoutSummary"))'.split("{"),'Rule;cases-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::cases;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Rule","lines","default",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Ligne-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines","self::multiline"],["Rule","line","default","[n] children/*[1]","self::line"],'Rule;row-medium;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"medium");self::row;@role="table"'.split(";"),["Aliases","row-medium","self::row",'@role="cases"'],'Rule;row-long;MultiLinePausesBetweenColumns_Long;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"long");self::row;@role="table"'.split(";"),["Aliases","row-long","self::row",'@role="cases"'],'Rule;row-short;MultiLinePausesBetweenColumns_Short;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;@role="table"'.split(";"),["Aliases","row-short","self::row",'@role="cases"'],'Rule;blank-cell;default;[t] "vide";self::cell;count(children/*)=0'.split(";"),'Rule;blank-empty;default;[t] "vide";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),["Rule","cases","default",'[p] (pause:short);  [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Cas-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::cases"],'Rule{lines-cases-summary{MultiLineLabel_Case{[p] (pause:short); [t] count(children/*); [t] "cas";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-cases-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-cases","MultiLineLabel_Case",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Cas-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-cases","self::multiline"],'Rule{lines-equations-summary{MultiLineLabel_Equation{[p] (pause:short); [t] count(children/*); [t] "\xE9quations";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-equations-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-equations","MultiLineLabel_Equation",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"\xC9quation-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-equations","self::multiline"],'Rule{lines-steps-summary{MultiLineLabel_Step{[p] (pause:short); [t] count(children/*); [t] " \xE9tapes";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-steps-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-steps","MultiLineLabel_Step",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:" \xC9tape-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-steps","self::multiline"],'Rule{lines-rows-summary{MultiLineLabel_Row{[p] (pause:short); [t] count(children/*); [t] "colonnes";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-rows-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-rows","MultiLineLabel_Row",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"rang\xE9e-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-rows","self::multiline"],'Rule{lines-constraints-summary{MultiLineLabel_Constraint{[p] (pause:short); [t] count(children/*); [t] "contraintes";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-constraints-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-constraints","MultiLineLabel_Constraint",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Contrainte-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-constraints","self::multiline"],'Rule{lines-none{MultiLineLabel_None{[p] (pause:short); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long){self::table{contains(@grammar, "layoutSummary")'.split("{"),["Aliases","lines-none","self::multiline",'contains(@grammar, "layoutSummary")'],["Aliases","lines-none","self::cases",'contains(@grammar, "layoutSummary")'],["Rule","bigop","default",'[t] "le"; [n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:short)',"self::bigop"],["Rule","limboth","default",'[n] children/*[1]; [t] "de"; [n] children/*[2];[t] "\xE0"; [n] children/*[3];',"self::limboth"],["Rule","limlower","default",'[n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short)',"self::limlower"],["Rule","limupper","default",'[n] children/*[1]; [t] "sous"; [n] children/*[2]; [p] (pause:short)',"self::limupper"],["Rule","integral","default",'[t] "le"; [n] children/*[1]; [t] "de"; [n] children/*[2]; [p] (pause:short)',"self::integral"],["Rule","overscript","default",'[n] children/*[1]; [t] "sous"; [n] children/*[2]; [p] (pause:short)',"self::overscore"],'Rule,overscript,default,[n] children/*[1]; [n] children/*[2];,self::overscore,children/*[2][@role="overaccent"]'.split(","),'Rule,overscript-limits,default,[n] children/*[1]; [t] "\xE0"; [n] children/*[2],self::overscore,children/*[2][@role!="overaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role!="underaccent"]'.split(","),["Rule","underscript","default",'[n] children/*[1]; [t] "sur"; [n] children/*[2]; [p] (pause:short)',"self::underscore"],'Rule,underscript-limits,default,[n] children/*[1]; [t] "de"; [n] children/*[2],self::underscore,@role="underover",children/*[2][@role!="underaccent"]'.split(","),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "et"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "nombre"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),'Rule,decimal-period,default,[t] "la d\xE9cimale"; [n] children/*[1] (grammar:spaceout); [t] "virgule suivi par les chiffres r\xE9p\xE9t\xE9s";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period,default,[t] "la d\xE9cimale"; [n] children/*[1] (grammar:spaceout); [t] "suivi par les chiffres r\xE9p\xE9t\xE9s";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period-singular,default,[t] "la d\xE9cimale"; [n] children/*[1] (grammar:spaceout); [t] "virgule suivi par le chiffre r\xE9p\xE9t\xE9";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[3]/children/*[1]/text())=1'.split(","),'Rule,decimal-period-singular,default,[t] "la d\xE9cimale"; [n] children/*[1] (grammar:spaceout); [t] "suivi par le chiffre r\xE9p\xE9t\xE9";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[2]/children/*[1]/text())=1'.split(","),'Rule;number-with-spaces;default;[m] CQFspaceoutNumber (grammar:!spaceout:number);self::number;contains(@grammar, "spaceout")'.split(";"),'Rule;decimal-point;default;[t] "point";self::punctuation;@role="fullstop";contains(@grammar,"number")'.split(";"),'Rule,line-segment,default,[t] "le segment"; [n] children/*[1]/children/*[1]; [n] children/*[1]/children/*[2]; [p] (pause:short),self::overscore,@role="implicit",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],name(children/*[1])="infixop",count(./children/*[1]/children/*)=2'.split(","),'Rule,conjugate,Bar_Conjugate,[t] "le complexe conjugu\xE9 de"; [n] children/*[1],self::overscore,children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule;defined-by;default;[t] "est d\xE9fini par" (pause:short);self::overscore;@role="equality";@embellished="relation";name(children/*[2])="text";children/*[2][text()]="def"'.split(";"),'Rule,adorned-sign,default,[t] "signe"; [n] children/*[1] ; [t] "avec"; [n] children/*[2]; [t] "dessus",self::overscore,@embellished,name(children/*[1])="operator" or name(children/*[1])="relation"'.split(","),'Rule;factorial;default;[t] "factorielle";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),["Rule","tensor-base","default","[n] children/*[2]; [n] children/*[3]; [n] children/*[1]; [n] children/*[4]; [n] children/*[5]","self::tensor"],'Rule{left-super{default{[t] "exposant gauche"; [n] text(){self::*[@role="leftsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-super{default{[t] "exposant gauche"; [m] children/*{self::punctuated{@role="leftsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "indice gauche"; [n] text(){self::*[@role="leftsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "indice gauche"; [m] children/*{self::punctuated{@role="leftsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "exposant droite"; [n] text(){self::*[@role="rightsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "exposant droite"; [m] children/*{self::punctuated{@role="rightsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "indice droite"; [n] text(){self::*[@role="rightsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "indice droite"; [m] children/*{self::punctuated{@role="rightsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule;empty-index;default;[p] (pause:medium);self::empty;@role="rightsub" or @role="rightsuper" or @role="leftsub" or @role="leftsuper"'.split(";"),'Rule,combinatorics,default,[n] children/*[2] (grammar:combinatorics); [n] children/*[1]; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P" or text()="C"]'.split(","),'Rule,choose,CombinationPermutation_ChoosePermute,[t] "combinaison de"; [n] children/*[3] (grammar:combinatorics); [t] "parmi"; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="C"]'.split(","),'Rule,permute,CombinationPermutation_ChoosePermute,[t] "permutation de"; [n] children/*[2] (grammar:combinatorics); [t] "parmi"; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P"]'.split(",")]},sre.Grammar.getInstance().setPreprocessor("numbers2alpha",sre.ClearspeakUtil.numbersToAlpha),sre.ClearspeakGerman={locale:"de",domain:"clearspeak",functions:[["CTXF","CTXFpauseSeparator",sre.StoreUtil.pauseSeparator],["CTXF","CTXFnodeCounter",sre.ClearspeakUtil.nodeCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.ClearspeakUtil.isSmallVulgarFraction],["CQF","CQFcellsSimple",sre.ClearspeakUtil.allCellsSimple],["CSF","CSFwordOrdinal",sre.ClearspeakUtil.wordOrdinal],["CQF","CQFisCapital",sre.ClearspeakUtil.isCapitalLetter],["CQF","CQFmatchingFences",sre.ClearspeakUtil.matchingFences],["CSF","CSFnestingDepth",sre.ClearspeakUtil.nestingDepth],["CQF","CQFfencedArguments",sre.ClearspeakUtil.fencedArguments],["CQF","CQFsimpleArguments",sre.ClearspeakUtil.simpleArguments],["CQF","CQFisHyperbolic",sre.ClearspeakUtil.isHyperbolic],["CQF","CQFisLogarithm",sre.ClearspeakUtil.isLogarithmWithBase],["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber]],rules:['Rule{collapsed{default{[t] "kollapiert"; [n] . (engine:modality=summary,grammar:collapsed){self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["Rule","stree","default","[n] ./*[1]","self::stree"],["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default",'[p] (pause:"short")',"self::empty"],'Rule{font{default{[t] @font (grammar:localFont); [n] self::* (grammar:ignoreFont=@font,pause:"short"){self::*{name(self::*)!="number"{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),["SpecializedRule","font","default","Caps_SayCaps"],'Rule{font-number{default{[t] @font (grammar:localFontNumber); [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] self::* (grammar:ignoreFont=@font,pause:"short"){self::identifier{string-length(text())=1 or string-length(text())=2{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),["SpecializedRule","font-identifier","default","Caps_SayCaps"],'Rule;omit-font;default;[n] self::* (grammar:ignoreFont=@font);self::identifier;string-length(text())=1 or string-length(text())=2;@font;not(contains(@grammar, "ignoreFont"));@font="italic";self::*'.split(";"),["SpecializedRule","omit-font","default","Caps_SayCaps"],'Rule{font-double-struck{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont){self::*{name(self::*)!="number"{string-length(text())=1 or string-length(text())=2{@font{not(contains(@grammar, "ignoreFont")){@font="double-struck"'.split("{"),["SpecializedRule","font-double-struck","default","Caps_SayCaps"],'Rule{font-number-double-struck{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFontNumber){self::number{string-length(text())=1 or string-length(text())=2{@font{not(contains(@grammar, "ignoreFont")){@font="double-struck"'.split("{"),["Rule","text","default","[n] text()","self::text"],'Rule;capital;default;[n] text() (pitch:0.6,grammar:ignoreCaps="gro\xDFes");self::identifier;@role="latinletter" or @role="greekletter" or @role="simple function";CQFisCapital'.split(";"),'Rule;capital;Caps_SayCaps;[n] text();self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text(){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule;capital;Caps_SayCaps;[n] text() (pause:"short");self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital;following-sibling::*[1]'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text() (pause:"short"){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{following-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule,punctuation-lr,default,[p] (pause:"short"); [n] text() (pause:"short"),self::punctuation,@role="comma"'.split(","),'Rule;punctuation;default;[n] text();self::punctuation;@role="comma";not(preceding-sibling::*[1]/children);not(following-sibling::*[1]/children)'.split(";"),'Rule,punctuation-l,default,[p] (pause:"short"); [n] text(),self::punctuation,@role="comma",not(following-sibling::*[1]/children)'.split(","),'Rule;punctuation-r;default;[n] text() (pause:"short");self::punctuation;@role="comma";not(preceding-sibling::*[1]/children)'.split(";"),'Rule;ellipsis;Ellipses_AndSoOn;[t] "und so weiter";self::punctuation;@role="ellipsis";not(following-sibling::*[1]);not(preceding-sibling::*[last()][@role="ellipsis"])'.split(";"),'Rule;ellipsis;Ellipses_AndSoOn;[t] "und so weiter bis";self::punctuation;@role="ellipsis";preceding-sibling::*[1];following-sibling::*[1]'.split(";"),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "ausgewertet f\xFCr"; [n] content/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="subscript"'.split(","),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "ausgewertet f\xFCr"; [n] content/*[1]/children/*[2]; [p] (pause:"short"); [t] "minus des gleichen Ausdrucks ausgewertet f\xFCr"; [n] content/*[1]/children/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="superscript",name(content/*[1]/children/*[1])="subscript"'.split(","),'Rule;vbar-such-that;VerticalLine_SuchThat;[t] "so dass";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Divides;[t] "teilt";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Given;[t] "f\xFCr die gilt";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;set-member;default;[t] "in";self::operator;@role="set extended";text()="\u2208" or text()="\u220A"'.split(";"),["SpecializedRule","set-member","default","SetMemberSymbol_Element",'[t] "Element von"'],["SpecializedRule","set-member","default","SetMemberSymbol_Belongs",'[t] "geh\xF6rt zu"'],'Rule;set-not-member;default;[t] "nicht in";self::operator;@role="set extended";text()="\u2209"'.split(";"),["SpecializedRule","set-not-member","default","SetMemberSymbol_Element",'[t] "kein Element von"'],["SpecializedRule","set-not-member","default","SetMemberSymbol_Belongs",'[t] "geh\xF6rt nicht zu"'],'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"],self::*'.split(","),'Rule,feet,default,[n] children/*[1]; [t] "Fu\xDF",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2032"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,inches,default,[n] children/*[1]; [t] "Zoll",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2033"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,minutes,default,[p] (pause:short); [n] children/*[1]; [t] "Minuten",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"]'.split(","),'Rule,minute,default,[p] (pause:short); [n] children/*[1]; [t] "Minute",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule,seconds,default,[p] (pause:short); [n] children/*[1]; [t] "Sekunden",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"]'.split(","),'Rule,second,default,[p] (pause:short); [n] children/*[1]; [t] "Sekunde",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule,degrees-angle,Prime_Angle,[n] children/*[1]; [t] "Grad"; [p] (pause:short),self::punctuation,@role="degree"'.split(","),'Rule{minutes-angle{Prime_Angle{[n] children/*[1]; [t] "Minuten"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule,minute-angle,Prime_Angle,[n] children/*[1]; [t] "Minute"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule{seconds-angle{Prime_Angle{[n] children/*[1]; [t] "Sekunden"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),'Rule,second-angle,Prime_Angle,[n] children/*[1]; [t] "Sekunde"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule{feet-length{Prime_Length{[n] children/*[1]; [t] "Fu\xDF"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule{inches-length{Prime_Length{[n] children/*[1]; [t] "Zoll"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),["Rule","punctuated","default","[m] children/*","self::punctuated"],["Rule","function","default","[n] text()","self::function"],'Rule{function-article{default{[t] "der" (grammar:article); [n] text(){self::function{@role="prefix function"{contains(@grammar, "addArticle")'.split("{"),'Rule{function-article-fem{default{[t] "die" (grammar:article); [n] text(){self::function{@role="prefix function"{contains(@grammar, "addArticle"){text()="det" or text()="dim" or text()="tr"'.split("{"),["Rule","appl","default",'[n] children/*[1]; [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short")',"self::appl"],'Rule,appl-simple,default,[n] children/*[1]; [t] "von"; [p] (pause:"short"); [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="appl"'.split(","),'Rule,appl-simple,default,[n] children/*[1]; [t] "von"; [p] (pause:"short"); [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="fenced",name(children/*[2]/children/*[1])="appl"'.split(","),["Rule","appl","Functions_None",'[p] (pause:"short"); [n] children/*[1]; [t] "mal"; [n] children/*[2]; [p] (pause:"short")',"self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,@role="prefix function"'.split(","),'Rule{binary-operation{ImpliedTimes_MoreImpliedTimes{[n] . (grammar:impliedTimes); [p] (pause:"short"){self::appl{@role="prefix function"{parent::*/parent::infixop[@role="implicit"]{following-sibling::*{not(contains(@grammar, "impliedTimes"))'.split("{"),'Rule{function-prefix-simple-arg{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{name(children/*[2])="fenced"{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[2]/children/*[1])!="number"{name(children/*[2]/children/*[1])!="identifier"{name(children/*[2]/children/*[1])!="appl"'.split("{"),'Rule,function-prefix-embell,default,[p] (pause:"short"); [n] children/*[1]; [n] children/*[2]; [p] (pause:"short"); ,self::appl,@role="prefix function",name(children/*[1])!="function"'.split(","),'Rule{function-prefix-fenced-or-frac-arg{default{[p] (pause:"short"); [n] children/*[1] (grammar:addArticle); [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"){self::appl{@role="prefix function"{(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple"))){self::*'.split("{"),'Rule,function-prefix-subscript,default,[p] (pause:"short"); [n] children/*[1] (grammar:addArticle); [t] "von"; [p] (pause:"short"); [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="subscript",self::*'.split(","),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(following-sibling::*){not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{name(children/*[2])="fenced"{not(contains(@grammar, "NatLog"))'.split("{"),'Rule;function-ln;Log_LnAsNaturalLog;[n] . (grammar:NatLog);self::appl;@role="prefix function";content/*[2][text()="ln"];not(following-sibling::*);not(contains(@grammar, "NatLog"))'.split(";"),'Rule{function-ln{Log_LnAsNaturalLog{[n] . (grammar:NatLog); [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-prefix-as-exp{default{[n] children/*[1]; [t] "von"; [p] (pause:"short"); [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"){self::appl{@role="prefix function"{name(parent::*/parent::*)="superscript"{not(following-sibling::*){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple")))'.split("{"),'Rule,function-prefix-subscript-as-exp,default,[n] children/*[1]; [t] "von"; [p] (pause:"short"); [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="prefix function",name(parent::*/parent::*)="superscript",not(following-sibling::*),name(children/*[1])="subscript"'.split(","),'Rule,function-prefix-hyper,default,[p] (pause:"short"); [n] children/*[1]; [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="prefix function",CQFisHyperbolic'.split(","),'Rule{function-prefix-inverse{default{[p] (pause:"short"); [t] "der" (grammar:article); [t] "inverse" (grammar:masculine); [n] children/*[1]/children/*[1]; [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule,appl-triginverse,Trig_TrigInverse,[p] (pause:"short"); [n] children/*[1]; [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="superscript",name(children/*[1]/children/*[2])="prefixop",children/*[1]/children/*[2][@role="negative"],children/*[1]/children/*[2]/children/*[1][text()="1"]'.split(","),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "Arkus" (join:""); [n] children/*[1]/children/*[1] (grammar:lowercase); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "Arkus" (join:""); [n] children/*[1]/children/*[1] (grammar:lowercase); [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{name(children/*[2])="fenced"{children/*[2]/children/*[1][@role="prefix function"]{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc{Trig_ArcTrig{[p] (pause:"short"); [t] "Arkus" (join:""); [n] children/*[1]/children/*[1] (grammar:lowercase); [t] "von"; [n] children/*[2] (grammar:case="dative"); [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none")){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or (name(children/*[2])="fraction" and children/*[2][@role!="vulgar"])'.split("{"),'Rule{function-inverse{default{[n] children/*[1]; [t] "invers"{self::superscript{@role="prefix function" or @role="simple function"{name(children/*[2])="prefixop"{children/*[2][@role="negative"]{children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule,superscript-prefix-function,default,[t] "die" (grammar:article); [n] children/*[2] (grammar:ordinal); [t] "Potenz von"; [n] children/*[1],self::superscript,@role="prefix function",name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),'Rule,superscript-prefix-function,default,[t] "die" (grammar:article); [n] children/*[2] (grammar:ordinal); [t] "Potenz von"; [n] children/*[1],self::superscript,@role="prefix function",name(children/*[2])="identifier"'.split(","),'Rule;function-inverse;Functions_None;[n] . (grammar:functions_none);self::superscript;@role="prefix function" or @role="simple function";name(children/*[2])="prefixop";children/*[2][@role="negative"];children/*[2]/children/*[1][text()="1"];not(contains(@grammar, "functions_none"))'.split(";"),["Rule","superscript","default",'[n] children/*[1]; [t] "mit Exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "Ende Exponent" (pause:"short")',"self::superscript"],'Rule,superscript-ordinal,default,[n] children/*[1]; [t] "hoch"; [n] children/*[2]; [p] (pause:"short"),self::superscript,name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),'Rule,superscript-ordinal,default,[n] children/*[1]; [t] "hoch"; [n] children/*[2]; [p] (pause:"short"),self::superscript,name(children/*[2])="prefixop",children/*[2][@role="negative"],name(children/*[2]/children/*[1])="number",children/*[2]/children/*[1][@role="integer"]'.split(","),'Rule,superscript-ordinal,default,[n] children/*[1]; [t] "hoch"; [n] children/*[2]; [p] (pause:"short"),self::superscript,name(children/*[2])="identifier",children/*[2][@role="latinletter" or @role="greekletter" or @role="otherletter"]'.split(","),'Rule,superscript-ordinal-default,default,[n] children/*[1]; [t] "mit Exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "Ende Exponent" (pause:"short"),self::superscript,children//superscript'.split(","),'Rule,superscript-simple-exponent,default,[n] children/*[1]; [t] "hoch"; [n] children/*[2]; [p] (pause:"short"),self::superscript,not(descendant::superscript)'.split(","),'Rule,superscript-simple-exponent-end,default,[n] children/*[1]; [t] "hoch"; [n] children/*[2]; ,self::superscript,not(descendant::superscript),not(following-sibling::*)'.split(","),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="number";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="fraction";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),["Aliases","superscript-simple-exponent","self::superscript",'children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"]','name(children/superscript/children/*[1])="identifier"'],'Aliases;superscript-simple-exponent;self::superscript;children/*[2][@role="implicit"];count(children/*[2]/children/*)=2;contains(children/*[2]/children/*[1]/@annotation, "simple");name(children/*[2]/children/*[2])="superscript";(name(children/*[2]/children/*[2]/children/*[1])="number" and contains(children/*[2]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple")) or name(children/*[2]/children/*[2]/children/*[1])="identifier";children/*[2]/children/*[2]/children/*[2][text()="2"] or children/*[2]/children/*[2]/children/*[2][text()="3"]'.split(";"),'Rule,superscript-simple-power,Exponent_OrdinalPower,[n] children/*[1]; [t] "potenziert mit"; [n] children/*[2]; [p] (pause:"short"),self::superscript,not(descendant::superscript)'.split(","),'Rule,superscript-simple-power-end,Exponent_OrdinalPower,[n] children/*[1]; [t] "potenziert mit"; [n] children/*[2]; ,self::superscript,not(descendant::superscript),not(following-sibling::*)'.split(","),'Aliases;superscript-simple-power;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="number";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),'Aliases;superscript-simple-power;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="fraction";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),["Aliases","superscript-simple-power","self::superscript",'children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"]','name(children/superscript/children/*[1])="identifier"'],'Aliases;superscript-simple-power;self::superscript;children/*[2][@role="implicit"];count(children/*[2]/children/*)=2;contains(children/*[2]/children/*[1]/@annotation, "simple");name(children/*[2]/children/*[2])="superscript";(name(children/*[2]/children/*[2]/children/*[1])="number" and contains(children/*[2]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple")) or name(children/*[2]/children/*[2]/children/*[1])="identifier";children/*[2]/children/*[2]/children/*[2][text()="2"] or children/*[2]/children/*[2]/children/*[2][text()="3"]'.split(";"),'Rule{superscript-ordinal-power{Exponent_OrdinalPower{[n] children/*[1]; [t] "zur"; [n] children/*[2] (grammar:ordinal,join:""); [t] "n Potenz" (pause:"short"){self::superscript{name(children/*[2])="number"{children/*[2][@role="integer"]'.split("{"),["Aliases","superscript-ordinal-power","self::superscript",'name(children/*[2])="identifier"','children/*[2][@role="latinletter" or @role="greekletter" or @role="otherletter"]'],'Rule{superscript-non-ordinal{Exponent_OrdinalPower{[n] children/*[1]; [t] "zur negativ"; [n] children/*[2]/children/*[1] (grammar:ordinal, join:""); [t] "n Potenz" (pause:"short"){self::superscript{children/*[2][@role="negative"]{name(children/*[2]/children/*[1])="number"{children/*[2]/children/*[1][@role="integer"]'.split("{"),'Rule{superscript-simple-function{Exponent_OrdinalPower{[t] "die" (grammar:article); [n] children/*[2] (grammar:ordinal); [t] "Potenz von" (pause:"short"); [n] children/*[1]{self::superscript{name(children/*[1])="identifier"{children/*[1][@role="simple function"]{children/*[2][@role!="prime"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{exponent{default{[n] text() (join:""); [t] "te"{self::identifier{contains(@grammar, "ordinal")'.split("{"),'Rule;exponent;default;[t] CSFwordOrdinal;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;default;[t] "nullte";self::number;@role="integer";contains(@grammar, "ordinal");text()="0"'.split(";"),'Rule,superscript-simple-exp,Exponent_Exponent,[n] children/*[1]; [t] "mit Exponent"; [n] children/*[2]; [p] (pause:"short"),self::superscript,not(descendant::superscript)'.split(","),'Rule,superscript-simple-exp-end,Exponent_Exponent,[n] children/*[1]; [t] "mit Exponent"; [n] children/*[2]; ,self::superscript,not(descendant::superscript),not(following-sibling::*)'.split(","),'Aliases;superscript-simple-exp;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="number";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),'Aliases;superscript-simple-exp;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="fraction";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),["Aliases","superscript-simple-exp","self::superscript",'children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"]','name(children/superscript/children/*[1])="identifier"'],'Aliases;superscript-simple-exp;self::superscript;children/*[2][@role="implicit"];count(children/*[2]/children/*)=2;contains(children/*[2]/children/*[1]/@annotation, "simple");name(children/*[2]/children/*[2])="superscript";(name(children/*[2]/children/*[2]/children/*[1])="number" and contains(children/*[2]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple")) or name(children/*[2]/children/*[2]/children/*[1])="identifier";children/*[2]/children/*[2]/children/*[2][text()="2"] or children/*[2]/children/*[2]/children/*[2][text()="3"]'.split(";"),'Rule;superscript-simple-function;Functions_None;[n] . (grammar:functions_none);self::superscript;name(children/*[1])="identifier";children/*[1][@role="simple function"];not(contains(@grammar, "functions_none"))'.split(";"),'Rule,square,default,[n] children/*[1]; [t] "Quadrat",self::superscript,children/*[2][text()="2"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*,self::*'.split(","),'Rule,cube,default,[n] children/*[1]; [t] "Kubik",self::superscript,children/*[2][text()="3"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*,self::*'.split(","),'Rule;paren-simple;default;[n] children/*[1];self::fenced;@role="leftright";contains(children/*[1]/@annotation, "clearspeak:simple");name(../..)!="superscript" and name(../..)!="subscript"'.split(";"),'Rule;paren-simple-exp;default;[n] children/*[1];self::fenced;@role="leftright";name(../..)="superscript";children/*[1][@role="integer"] or children/*[1][@role="float"] or (children/*[1][@role="vulgar"] and contains(children/*[1]/@annotation, "clearspeak:simple")) or children/*[1][@role="latinletter"] or children/*[1][@role="greekletter"] or children/*[1][@role="otherletter"]'.split(";"),'Rule;paren-simple-nested-func;default;[n] children/*[1];self::fenced;@role="leftright";name(../*[1])="identifier" or name(../*[1])="function";parent::*/parent::*[@role="simple function" or @role="prefix function"];children/*[1][@role="simple function" or @role="prefix function"];contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split(";"),'Rule{paren-simple-nested-func-no-bracket{Functions_None{[n] children/*[1];{self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{name(children/*[1]/children/*[1])="identifier" or name(children/*[1]/children/*[1])="function"{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[1]/children/*[2]/children/*[1])="identifier" or name(children/*[1]/children/*[2]/children/*[1])="number"'.split("{"),'Rule,fences-open-close,default,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright"'.split(","),'Rule{paren-simple-nested-func{default{[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{not(contains(children/*[1]/@annotation, "clearspeak:simple"))'.split("{"),'Rule{paren-simple-nested-func{Functions_None{[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split("{"),["SpecializedRule","fences-open-close","default","Paren_Speak"],["Aliases","fences-open-close","self::fenced",'@role="composed function"'],["Rule","fence-silent","Paren_Silent",'[p] (pause:"short"); [n] children/*[1]; [p] (pause:"short")',"self::fenced"],'Rule,fences-open-close,ImpliedTimes_None,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright",parent::*/parent::*[@role!="simple function"],parent::*/parent::*[@role!="prefix function"]'.split(","),'Rule;fence-nesting;Paren_SpeakNestingLevel;[n] text() (grammar:insertNesting=CSFnestingDepth);self::fence;contains(@grammar, "spokenFence");CQFmatchingFences'.split(";"),["Rule","fence-no-nesting","Paren_SpeakNestingLevel","[n] text()","self::fence"],'Rule,fences-points,Paren_CoordPoint,[t] "der Punkt mit Koordinaten"; [n] children/*[1],self::fenced,name(children/*[1])="punctuated",children/*[1][@role="sequence"]'.split(","),'Rule{fences-interval{Paren_Interval{[t] "das Interval von"; [n] children/*[1]/children/*[1]; [t] "bis"; [n] children/*[1]/children/*[3]; [p] (pause:"short"); [n] . (grammar:interval){self::fenced{not(contains(@grammar, "interval")){name(children/*[1])="punctuated"{children/*[1][@role="sequence"]{count(./children/*[1]/content/*)=1{children/*[1]/content/*[1][@role="comma"]'.split("{"),'Rule{interval-open{Paren_Interval{[t] "ohne"; [n] children/*[1]/children/*[1]; [t] "und"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"'.split("{"),'Rule{interval-closed-open{Paren_Interval{[t] "einschlie\xDFlich"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [t] "aber ohne"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"'.split("{"),'Rule{interval-open-closed{Paren_Interval{[t] "ohne"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [t] "aber einschlie\xDFlich"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"'.split("{"),'Rule{interval-closed{Paren_Interval{[t] "einschlie\xDFlich"; [n] children/*[1]/children/*[1]; [t] "und"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()="]"'.split("{"),'Rule{interval-open-inf-r{Paren_Interval{[t] "ohne"; [n] children/*[1]/children/*[1]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-inf-l{Paren_Interval{[t] "ohne"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule;interval-open-inf-lr;Paren_Interval;;self::fenced;contains(@grammar, "interval");content/*[1]/text()="(";content/*[2]/text()=")";children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E");children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split(";"),'Rule{interval-closed-open-inf{Paren_Interval{[t] "einschlie\xDFlich"; [n] children/*[1]/children/*[1]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-closed-inf{Paren_Interval{[t] "einschlie\xDFlich"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule,paren-nested-embellished-funcs,Functions_None,[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"),self::fenced,@role="leftright",name(../..)="appl",name(children/*[1]) = "appl",preceding-sibling::*/descendant-or-self::*[@role="subsup"] or children/*[1]/descendant-or-self::*[@role="subsup"]'.split(","),'Rule;set-empty;default;[t]  "die leere Menge";self::fenced;@role="set empty"'.split(";"),'Rule,set-extended,default,[t] "die Menge aller"; [n] children/*[1]/children/*[1]; [t] "mit"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule,set-collection,default,[t] "die Menge"; [n] children/*[1],self::fenced,@role="set collection"'.split(","),["Aliases","set-collection","self::fenced",'@role="set singleton"'],'Rule,set-extended,Sets_woAll,[t] "die Menge von"; [n] children/*[1]/children/*[1]; [t] "mit"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule;set-collection;Sets_SilentBracket;[n] children/*[1];self::fenced;@role="set collection"'.split(";"),["Rule","subscript","default",'[p] (pause:short); [n] children/*[1]; [t] "Index"; [n] children/*[2]; [p] (pause:short)',"self::subscript"],'Rule,subscript-base,default,[n] children/*[1]; [t] "Basis"; [n] children/*[2],self::subscript,CQFisLogarithm'.split(","),'Rule{subscript-index{default{[n] children/*[1]; [t] "Index"; [n] children/*[2]{self::subscript{contains(@grammar, "simpleDet")'.split("{"),["Rule","fraction","default",'[p] (pause:short); [t] "Bruch mit Z\xE4hler"; [n] children/*[1]; [p] (pause:short); [t] "und Nenner"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule,fraction,Functions_None,[p] (pause:short); [t] "Bruch mit Z\xE4hler"; [n] children/*[1]; [p] (pause:short); [t] "und Nenner"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="appl" or name(children/*[2])="appl"'.split(","),'Rule{simple-fraction{default{[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short){self::fraction{contains(children/*[1]/@annotation, "clearspeak:simple") or contains(children/*[1]/@annotation, "clearspeak:unit"){contains(children/*[2]/@annotation, "clearspeak:simple") or contains(children/*[2]/@annotation, "clearspeak:unit")'.split("{"),'Rule,simple-vulgar-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short),self::fraction,@role="vulgar"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="text",name(children/*[2])="text"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="infixop",children/*[1][@role="unit"],name(children/*[2])="text"'.split(","),'Rule;vulgar-fraction;default;[t] CSFvulgarFraction (grammar:correctOne);self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["Rule","fraction","Fraction_Over",'[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_OverEndFrac",'[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short); [t] "Ende Bruch"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_FracOver",'[p] (pause:short); [t] "Bruch"; [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_Per",'[p] (pause:short); [n] children/*[1]; [t] "per"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_GeneralEndFrac",'[p] (pause:short); [t] "Bruch mit Z\xE4hler"; [n] children/*[1]; [p] (pause:short); [t] "und Nenner"; [n] children/*[2]; [p] (pause:short); [t] "Ende Bruch"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_General",'[p] (pause:short); [t] "Bruch mit Z\xE4hler"; [n] children/*[1]; [p] (pause:short); [t] "und Nenner"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule;simple-vulgar-fraction;Fraction_Ordinal;[t] CSFvulgarFraction (grammar:correctOne);self::fraction;@role="vulgar"'.split(";"),'Rule{fraction{Fraction_EndFrac{[p] (pause:short); [n] . (grammar:endfrac); [t] "Ende Bruch"; [p] (pause:short){self::fraction{not(contains(@grammar, "endfrac")){not(contains(children/*[1]/@annotation, "clearspeak:unit")){not(contains(children/*[2]/@annotation, "clearspeak:unit"))'.split("{"),'Rule{vulgar-fraction{Fraction_EndFrac{[p] (pause:short); [n] children/*[1]; [t] "geteilt durch"; [n] children/*[2]; [p] (pause:short){self::fraction{name(children/*[1])="fraction"{name(children/*[2])="fraction"{contains(children/*[1]/@annotation, "clearspeak:simple"){contains(children/*[2]/@annotation, "clearspeak:simple")'.split("{"),'Rule;simple-vulgar-fraction;Fraction_EndFrac;[t] CSFvulgarFraction (grammar:correctOne);self::fraction;@role="vulgar";contains(@annotation, "clearspeak:simple");self::*'.split(";"),["Rule","sqrt","default",'[t] "Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short)',"self::sqrt"],'Rule,sqrt-nested,default,[p] (pause: "short"); [t] "Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,negative-sqrt,default,[t] "negative Quadratwurzel aus"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt"'.split(","),'Rule,negative-sqrt,default,[p] (pause: "short"); [t] "negative Quadratwurzel aus"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt",not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRoot,[t] "positive Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRoot,[p] (pause: "short"); [t] "positive Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRootEnd,[t] "positive Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRootEnd,[p] (pause: "short"); [t] "positive Quadratwurzel aus"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule{sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,cube,default,[t] "Kubikwurzel aus"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"]'.split(","),'Rule,cube-nested,default,[p] (pause:short); [t] "Kubikwurzel aus"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"],not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),["Rule","root","default",'[t] "die" (grammar:article); [n] children/*[1] (grammar:ordinal); [t] "Wurzel aus"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short)',"self::root"],'Rule,root-nested,default,[p] (pause:short); [t] "die" (grammar:article); [n] children/*[1] (grammar:ordinal); [t] "Wurzel aus"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule{root-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{root-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "Wurzel Ende"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,negative,default,[t] "minus"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),'Rule,positive,default,[t] "plus"; [n] children/*[1],self::prefixop,@role="positive"'.split(","),'Rule,angle-measure,default,[t] "das Ma\xDF des Winkels"; [n] children/*[2] (grammar:angle),self::infixop,content/*[1]/text()="\u2220",children/*[1][text()="m"]'.split(","),["Rule","prefix","default","[m] content/* (grammar:prefix); [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/* (grammar:postfix)","self::postfixop"],'Rule{set-prefix-operators{default{[t] "der" (grammar:article); [n] self::* (grammar:!prefix); [t] "von"{self::*{contains(@grammar,"prefix"){descendant-or-self::*/text()="\u2229"{self::*{self::*{self::*'.split("{"),'Rule{set-prefix-operators{default{[t] "die" (grammar:article); [n] self::* (grammar:!prefix); [t] "von"{self::*{contains(@grammar,"prefix"){descendant-or-self::*/text()="\u222A"{self::*{self::*{self::*'.split("{"),["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule,binary-operation,ImpliedTimes_MoreImpliedTimes,[m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit",name(children/*[1])="appl"'.split(","),'Rule,binary-operation-pause,default,[m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[last()])="appl"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[1])="appl",name(children/*[last()])="appl"'.split(","),'Rule;implicit-times;default;[p] (pause:short);self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times default  self::operator @role="multiplication" text()="\u2062" CQFsimpleArguments'.split(" "),'Rule;implicit-times;default;[n] text();self::operator;@role="multiplication";text()="\u2062";CQFfencedArguments'.split(";"),'Rule;implicit-times;ImpliedTimes_MoreImpliedTimes;[n] text();self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times ImpliedTimes_None  self::operator @role="multiplication" text()="\u2062"'.split(" "),'Rule{binary-operation-simple{default{[m] children/* (rate:"0.5"); [p] (pause:short){self::infixop{@role="implicit"{contains(@annotation, "clearspeak:simple"){not(contains(@grammar, "inFrac"))'.split("{"),'Rule;simple-in-fraction;default;[n] . (rate:"0.5",grammar:inFrac);self::*;contains(@annotation, "clearspeak:simple");not(contains(@grammar, "inFrac"));name(.)!="identifier";name(.)!="function";name(.)!="number";name(parent::*/parent::*)="fraction";not(preceding-sibling::*)'.split(";"),'Rule;operators-after-power;Exponent_AfterPower;[m] children/* (rate:"0.5");self::infixop;@role="implicit";contains(@grammar, "afterPower")'.split(";"),["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],'Rule;natural-numbers;default;[t] "die nat\xFCrlichen Zahlen";self::identifier;text()="\u2115" or (text()="N" and @font="double-struck");self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;integers;default;[t] "die ganzen Zahlen";self::identifier;text()="\u2124" or (text()="Z" and @font="double-struck");self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;rational-numbers;default;[t] "die rationalen Zahlen";self::identifier;text()="\u211A" or (text()="Q" and @font="double-struck");self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;real-numbers;default;[t] "die reellen Zahlen";self::identifier;text()="\u211D" or (text()="R" and @font="double-struck");self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;complex-numbers;default;[t] "die komplexen Zahlen";self::identifier;text()="\u2102" or (text()="C" and @font="double-struck");self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule,natural-numbers-super,default,[t] "n" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck"),self::*,self::*,self::*,self::*,self::*'.split(","),'Rule,integers-super,default,[t] "z" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck"),self::*,self::*,self::*,self::*,self::*'.split(","),'Rule,rational-numbers-super,default,[t] "q" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck"),self::*,self::*,self::*,self::*,self::*'.split(","),'Rule,real-numbers-super,default,[t] "r" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211D" or (children/*[1]/text()="R" and @font="double-struck"),self::*,self::*,self::*,self::*,self::*'.split(","),'Rule,complex-numbers-super,default,[t] "c" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2102" or (children/*[1]/text()="C" and @font="double-struck"),self::*,self::*,self::*,self::*,self::*'.split(","),'Rule;natural-numbers-with-zero;default;[t] "die nat\xFCrlichen Zahlen mit Null";self::subscript;children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck");children/*[2]/text()="0";self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;positive-integers;default;[t] "die positiven ganzen Zahlen";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;positive-integers;default;[t] "die negativen ganzen Zahlen";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;positive-rational-numbers;default;[t] "die positiven rationalen Zahlen";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule;negative-rational-numbers;default;[t] "die negativen rationalen Zahlen";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*;self::*;self::*'.split(";"),'Rule,fences-neutral,default,[p] (pause:short); [t] "der Betrag von"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_AbsEnd,[p] (pause:short); [t] "der Betrag von"; [n] children/*[1]; [p] (pause: short); [t] "Ende Betrag"; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Cardinality,[p] (pause:short); [t] "die M\xE4chtigkeit der Menge"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Determinant,[p] (pause:short); [t] "die Determinante von"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["Rule","matrix","default",'[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Matrize"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:"); [p] (pause:long)',"self::matrix"],'Rule{matrix-simple{default{[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Matrize"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",grammar:simpleDet); [p] (pause:long){self::matrix{count(children/*)<4{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule,matrix-trivial,default,[t] "die 1 mal 1 Matrize mit Element"; [n] children/*[1]; [p] (pause:long),self::vector,@role="squarematrix"'.split(","),'Rule{determinant{default{[t] "die" (grammar:article); [t] "Determinante der"; [t] count(children/*); [t] "mal"; [t] count(children/*[1]/children/*); [t] "Matrize"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="determinant"{count(children/*)<4{CQFcellsSimple'.split("{"),'Rule{determinant-simple{default{[t] "die" (grammar:article); [t] "Determinante der"; [t] count(children/*); [t] "mal"; [t] count(children/*[1]/children/*); [t] "Matrize"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:"); [p] (pause:long){self::matrix{@role="determinant"'.split("{"),["Rule","matrix-vector","default",'[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Spaltenmatrize"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","matrix-vector","default","Matrix_SpeakColNum"],'Rule{matrix-vector-simple{default{[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Spaltenmatrize"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple{@role!="squarematrix"'.split("{"),["Rule","matrix-vector-simple","Matrix_SilentColNum",'[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Spaltenmatrize"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long)',"self::vector"],'Rule{matrix-row-vector{default{[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Zeilenmatrize"; [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"Spalte-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","matrix-row-vector","default","Matrix_SpeakColNum"],'Rule{matrix-row-vector-simple{default{[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Zeilenmatrize"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule{matrix-row-vector-simple{Matrix_SilentColNum{[t] "die" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Zeilenmatrize"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),'Rule;matrix-row-simple;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row-simple","Matrix_SilentColNum",'[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short")',"self::row"],'Rule;line-simple;default;[n] children/*[1];self::line;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFnodeCounter,context:"Spalte-,- ",sepFunc:CTXFpauseSeparator,separator:"medium"); [p] (pause:long)',"self::row"],["SpecializedRule","matrix-row","default","Matrix_SpeakColNum"],["Rule","matrix-cell","default","[n] children/*[1]","self::cell"],'Rule{matrix-end-matrix{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "Ende Matrize"{self::matrix{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-vector{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "Ende Matrize"{self::vector{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-determinant{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "Ende Determinante"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix"))'.split("{"),["Rule","vector","Matrix_Vector",'[t] "der" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Spaltenvektor"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","vector","Matrix_Vector","Matrix_EndVector"],'Rule{vector-simple{Matrix_Vector{[t] "der" (grammar:article); [t] count(children/*);  [t] "mal"; [t] count(children/*[1]/children/*); [t] "Spaltenvektor"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector{Matrix_Vector{[t] "der" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Zeilenvektor"; [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"Spalte-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","row-vector","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector-simple{Matrix_Vector{[t] "der" (grammar:article); [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Zeilenvektor"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","row-vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{vector-end-matrix{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "Ende Matrize"{self::matrix{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "Ende Vektor"{self::vector{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "Ende Vektor"{self::matrix{@role="rowvector"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-determinant{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "Ende Determinante"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule,binomial,Matrix_Combinatoric,[n] children/*[1]/children/*[1]; [t] "\xFCber"; [n] children/*[2]/children/*[1]; ,self::vector,@role="binomial"'.split(","),'Rule{lines-summary{default{[p] (pause:short); [t] count(children/*); [t] "Zeilen";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary")){self::*'.split("{"),'Rule;lines-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::multiline;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Aliases","lines-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],'Rule{cases-summary{default{[p] (pause:short); [t] count(children/*); [t] "F\xE4lle";  [n] . (grammar:layoutSummary){self::cases{not(contains(@grammar, "layoutSummary"))'.split("{"),'Rule;cases-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::cases;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Rule","lines","default",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines","self::multiline"],["Rule","line","default","[n] children/*[1]","self::line"],'Rule;row-medium;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"medium");self::row;@role="table"'.split(";"),["Aliases","row-medium","self::row",'@role="cases"'],'Rule;row-long;MultiLinePausesBetweenColumns_Long;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"long");self::row;@role="table"'.split(";"),["Aliases","row-long","self::row",'@role="cases"'],'Rule;row-short;MultiLinePausesBetweenColumns_Short;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;@role="table"'.split(";"),["Aliases","row-short","self::row",'@role="cases"'],'Rule;blank-cell;default;[t] "leer";self::cell;count(children/*)=0'.split(";"),'Rule;blank-empty;default;[t] "leer";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),["Rule","cases","default",'[p] (pause:short);  [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Fall-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::cases"],'Rule{lines-cases-summary{MultiLineLabel_Case{[p] (pause:short); [t] count(children/*); [t] "F\xE4lle";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-cases-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-cases","MultiLineLabel_Case",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Fall-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-cases","self::multiline"],'Rule{lines-equations-summary{MultiLineLabel_Equation{[p] (pause:short); [t] count(children/*); [t] "Gleichungen";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-equations-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-equations","MultiLineLabel_Equation",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Gleichung-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-equations","self::multiline"],'Rule{lines-steps-summary{MultiLineLabel_Step{[p] (pause:short); [t] count(children/*); [t] "Rechenschritte";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-steps-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-steps","MultiLineLabel_Step",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Schritt-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-steps","self::multiline"],'Rule{lines-rows-summary{MultiLineLabel_Row{[p] (pause:short); [t] count(children/*); [t] "Zeilen";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-rows-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-rows","MultiLineLabel_Row",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Zeile-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-rows","self::multiline"],'Rule{lines-constraints-summary{MultiLineLabel_Constraint{[p] (pause:short); [t] count(children/*); [t] "Bedingungen";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-constraints-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-constraints","MultiLineLabel_Constraint",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Bedingung-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-constraints","self::multiline"],'Rule{lines-none{MultiLineLabel_None{[p] (pause:short); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long){self::table{contains(@grammar, "layoutSummary")'.split("{"),["Aliases","lines-none","self::multiline",'contains(@grammar, "layoutSummary")'],["Aliases","lines-none","self::cases",'contains(@grammar, "layoutSummary")'],["Rule","bigop","default",'[n] children/*[1]; [t] "\xFCber"; [n] children/*[2]; [p] (pause:short)',"self::bigop"],["Rule","limboth","default",'[n] children/*[1]; [t] "von"; [n] children/*[2];[t] "bis"; [n] children/*[3];',"self::limboth"],["Rule","limlower","default",'[n] children/*[1]; [t] "\xFCber"; [n] children/*[2]; [p] (pause:short)',"self::limlower"],["Rule","limupper","default",'[n] children/*[1]; [t] "unter"; [n] children/*[2]; [p] (pause:short)',"self::limupper"],["Rule","integral","default",'[t] "das"; [n] children/*[1]; [t] "\xFCber"; [n] children/*[2]; [p] (pause:short)',"self::integral"],["Rule","overscript","default",'[n] children/*[1]; [t] "unter"; [n] children/*[2]; [p] (pause:short)',"self::overscore"],'Rule,overscript,default,[n] children/*[1]; [n] children/*[2];,self::overscore,children/*[2][@role="overaccent"]'.split(","),'Rule,overscript-limits,default,[n] children/*[1]; [t] "bis"; [n] children/*[2],self::overscore,children/*[2][@role!="overaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role!="underaccent"]'.split(","),["Rule","underscript","default",'[n] children/*[1]; [t] "\xFCber"; [n] children/*[2]; [p] (pause:short)',"self::underscore"],'Rule,underscript-limits,default,[n] children/*[1]; [t] "von"; [n] children/*[2],self::underscore,@role="underover",children/*[2][@role!="underaccent"]'.split(","),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "Zahl"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),'Rule,decimal-period,default,[t] "Dezimalbruch"; [n] children/*[1] (grammar:spaceout); [t] "Komma mit Periode";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period,default,[t] "Dezimalbruch"; [n] children/*[1] (grammar:spaceout); [t] "mit Periode";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period-singular,default,[t] "Dezimalbruch"; [n] children/*[1] (grammar:spaceout); [t] "Komma mit Periode";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[3]/children/*[1]/text())=1'.split(","),'Rule,decimal-period-singular,default,[t] "Dezimalbruch"; [n] children/*[1] (grammar:spaceout); [t] "mit Periode";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[2]/children/*[1]/text())=1'.split(","),'Rule;number-with-spaces;default;[m] CQFspaceoutNumber (grammar:!spaceout:number);self::number;contains(@grammar, "spaceout")'.split(";"),'Rule;decimal-point;default;[t] "Komma";self::punctuation;@role="fullstop";contains(@grammar,"number")'.split(";"),'Rule,line-segment,default,[t] "die Strecke"; [n] children/*[1]/children/*[1]; [n] children/*[1]/children/*[2]; [p] (pause:short),self::overscore,@role="implicit",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],name(children/*[1])="infixop",count(./children/*[1]/children/*)=2'.split(","),'Rule,conjugate,Bar_Conjugate,[t] "die komplexe Konjugation von"; [n] children/*[1],self::overscore,children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule;defined-by;default;[t] "ist definiert als" (pause:short);self::overscore;@role="equality";@embellished="relation";name(children/*[2])="text";children/*[2][text()]="def"'.split(";"),'Rule,adorned-sign,default,[n] children/*[1] ; [t] "Zeichen mit dar\xFCberstehendem"; [n] children/*[2],self::overscore,@embellished,name(children/*[1])="operator" or name(children/*[1])="relation"'.split(","),'Rule;factorial;default;[t] "Fakult\xE4t";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),["Rule","tensor-base","default","[n] children/*[2]; [n] children/*[3]; [n] children/*[1]; [n] children/*[4]; [n] children/*[5]","self::tensor"],'Rule{left-super{default{[t] "linker oberer Index"; [n] text(){self::*[@role="leftsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-super{default{[t] "linker oberer Index"; [m] children/*{self::punctuated{@role="leftsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "linker unterer Index"; [n] text(){self::*[@role="leftsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "linker unterer Index"; [m] children/*{self::punctuated{@role="leftsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "rechter oberer Index"; [n] text(){self::*[@role="rightsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "rechter oberer Index"; [m] children/*{self::punctuated{@role="rightsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "rechter unterer Index"; [n] text(){self::*[@role="rightsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "rechter unterer Index"; [m] children/*{self::punctuated{@role="rightsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule;empty-index;default;[p] (pause:medium);self::empty;@role="rightsub" or @role="rightsuper" or @role="leftsub" or @role="leftsuper"'.split(";"),'Rule,combinatorics,default,[n] children/*[2] (grammar:combinatorics); [n] children/*[1]; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P" or text()="C"]'.split(","),'Rule,choose,CombinationPermutation_ChoosePermute,[n] children/*[4] (grammar:combinatorics); [t] "aus"; [n] children/*[2] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="C"]'.split(","),'Rule,permute,CombinationPermutation_ChoosePermute,[n] children/*[4] (grammar:combinatorics); [t] "Permutionen von"; [n] children/*[2] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P"]'.split(",")]},sre.Grammar.getInstance().setPreprocessor("numbers2alpha",sre.ClearspeakUtil.numbersToAlpha),sre.ClearspeakRules={domain:"clearspeak",functions:[["CTXF","CTXFpauseSeparator",sre.StoreUtil.pauseSeparator],["CTXF","CTXFnodeCounter",sre.ClearspeakUtil.nodeCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.ClearspeakUtil.isSmallVulgarFraction],["CQF","CQFcellsSimple",sre.ClearspeakUtil.allCellsSimple],["CSF","CSFordinalExponent",sre.ClearspeakUtil.ordinalExponent],["CSF","CSFwordOrdinal",sre.ClearspeakUtil.wordOrdinal],["CQF","CQFisCapital",sre.ClearspeakUtil.isCapitalLetter],["CQF","CQFmatchingFences",sre.ClearspeakUtil.matchingFences],["CSF","CSFnestingDepth",sre.ClearspeakUtil.nestingDepth],["CQF","CQFfencedArguments",sre.ClearspeakUtil.fencedArguments],["CQF","CQFsimpleArguments",sre.ClearspeakUtil.simpleArguments],["CQF","CQFisHyperbolic",sre.ClearspeakUtil.isHyperbolic],["CQF","CQFisLogarithm",sre.ClearspeakUtil.isLogarithmWithBase],["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFfirstCurrency",sre.ClearspeakUtil.firstCurrency],["CQF","CQFlastCurrency",sre.ClearspeakUtil.lastCurrency]],rules:['Rule{collapsed{default{[t] "collapsed"; [n] . (engine:modality=summary,grammar:collapsed){self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["Rule","stree","default","[n] ./*[1]","self::stree"],["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default",'[p] (pause:"short")',"self::empty"],'Rule{font{default{[t] @font (grammar:localFont); [n] self::* (grammar:ignoreFont=@font,pause:"short"){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] self::* (grammar:ignoreFont=@font,pause:"short"){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] self::* (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),'Rule{german-font{default{[t] "German"; [n] self::* (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font="fraktur"'.split("{"),'Rule{german-font{default{[t] "bold German"; [n] self::* (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font="bold-fraktur"'.split("{"),["Rule","text","default","[n] text()","self::text"],'Rule;capital;default;[n] text() (pitch:0.6,grammar:ignoreCaps="cap");self::identifier;@role="latinletter" or @role="greekletter" or @role="simple function";CQFisCapital'.split(";"),'Rule;capital;Caps_SayCaps;[n] text();self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text(){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule;capital;Caps_SayCaps;[n] text() (pause:"short");self::identifier;@role="latinletter" or @role="greekletter";CQFisCapital;following-sibling::*[1]'.split(";"),'Rule{capital{Caps_SayCaps{[p] (pause:"short"); [n] text() (pause:"short"){self::identifier{@role="latinletter" or @role="greekletter"{CQFisCapital{preceding-sibling::*[1]{following-sibling::*[1]{not(name(preceding-sibling::*[1])="function"){not(contains(@grammar, "angle"))'.split("{"),'Rule,punctuation-lr,default,[p] (pause:"short"); [n] text() (pause:"short"),self::punctuation,@role="comma"'.split(","),'Rule;punctuation;default;[n] text();self::punctuation;@role="comma";not(preceding-sibling::*[1]/children);not(following-sibling::*[1]/children)'.split(";"),'Rule,punctuation-l,default,[p] (pause:"short"); [n] text(),self::punctuation,@role="comma",not(following-sibling::*[1]/children)'.split(","),'Rule;punctuation-r;default;[n] text() (pause:"short");self::punctuation;@role="comma";not(preceding-sibling::*[1]/children)'.split(";"),'Rule;ellipsis;Ellipses_AndSoOn;[t] "and so on";self::punctuation;@role="ellipsis";not(following-sibling::*[1]);not(preceding-sibling::*[last()][@role="ellipsis"])'.split(";"),'Rule;ellipsis;Ellipses_AndSoOn;[t] "and so on up to";self::punctuation;@role="ellipsis";preceding-sibling::*[1];following-sibling::*[1]'.split(";"),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "evaluated at"; [n] content/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="subscript"'.split(","),'Rule,vbar-evaluated,default,[n] children/*[1]; [p] (pause:"short"); [t] "evaluated at"; [n] content/*[1]/children/*[2]; [p] (pause:"short"); [t] "minus the same expression evaluated at"; [n] content/*[1]/children/*[1]/children/*[2]; [p] (pause:"short"),self::punctuated,@role="endpunct",content/*[1][@role="vbar"],content/*[1][@embellished],name(content/*[1])="superscript",name(content/*[1]/children/*[1])="subscript"'.split(","),'Rule;vbar-such-that;VerticalLine_SuchThat;[t] "such that";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Divides;[t] "divides";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;vbar-such-that;VerticalLine_Given;[t] "given";self::punctuation;@role="vbar";not(parent::*/parent::*[@embellished="punctuation"])'.split(";"),'Rule;set-member;default;[t] "in";self::operator;@role="set extended";text()="\u2208" or text()="\u220A"'.split(";"),["SpecializedRule","set-member","default","SetMemberSymbol_Member",'[t] "member of"'],["SpecializedRule","set-member","default","SetMemberSymbol_Element",'[t] "element of"'],["SpecializedRule","set-member","default","SetMemberSymbol_Belongs",'[t] "belonging to"'],'Rule;set-not-member;default;[t] "not in";self::operator;@role="set extended";text()="\u2209"'.split(";"),["SpecializedRule","set-not-member","default","SetMemberSymbol_Member",'[t] "not member of"'],["SpecializedRule","set-not-member","default","SetMemberSymbol_Element",'[t] "not element of"'],["SpecializedRule","set-not-member","default","SetMemberSymbol_Belongs",'[t] "not belonging to"'],'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"],self::*'.split(","),'Rule,feet,default,[n] children/*[1]; [t] "feet",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2032"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,foot,default,[n] children/*[1]; [t] "foot",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2032"],children/*[1][text()="1"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,inches,default,[n] children/*[1]; [t] "inches",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2033"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,inch,default,[n] children/*[1]; [t] "inch",self::superscript,children/*[2][@role="prime"],name(children/*[1])="number",children/*[2][text()="\u2033"],children/*[1][text()="1"],not(preceding-sibling::*[@role="degree"])'.split(","),'Rule,minutes,default,[p] (pause:short); [n] children/*[1]; [t] "minutes",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"]'.split(","),'Rule,minute,default,[p] (pause:short); [n] children/*[1]; [t] "minute",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule,seconds,default,[p] (pause:short); [n] children/*[1]; [t] "seconds",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"]'.split(","),'Rule,second,default,[p] (pause:short); [n] children/*[1]; [t] "second",self::superscript,children/*[2][@role="prime"],preceding-sibling::*[@role="degree"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule,degrees-angle,Prime_Angle,[n] children/*[1]; [t] "degrees"; [p] (pause:short),self::punctuation,@role="degree"'.split(","),'Rule,degree-angle,Prime_Angle,[n] children/*[1]; [t] "degree"; [p] (pause:short),self::punctuation,@role="degree",children/*[1][text()="1"]'.split(","),'Rule{minutes-angle{Prime_Angle{[n] children/*[1]; [t] "minutes"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule,minute-angle,Prime_Angle,[n] children/*[1]; [t] "minute"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule{seconds-angle{Prime_Angle{[n] children/*[1]; [t] "seconds"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),'Rule,second-angle,Prime_Angle,[n] children/*[1]; [t] "second"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),'Rule{feet-length{Prime_Length{[n] children/*[1]; [t] "feet"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2032"]'.split("{"),'Rule,foot-length,Prime_Length,[n] children/*[1]; [t] "foot"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2032"],children/*[1][text()="1"]'.split(","),'Rule{inches-length{Prime_Length{[n] children/*[1]; [t] "inches"; [p] (pause:short){self::superscript{children/*[2][@role="prime"]{name(children/*[1])="number" or (children/*[1][@role="latinletter"] and ""=translate(children/*[1]/text(),"abcdefghijklmnopqrstuvwxyz", "")){children/*[2][text()="\u2033"]'.split("{"),'Rule,inch-length,Prime_Length,[n] children/*[1]; [t] "inch"; [p] (pause:short),self::superscript,children/*[2][@role="prime"],children/*[2][text()="\u2033"],children/*[1][text()="1"]'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],["Rule","function","default","[n] text()","self::function"],'Rule{function-article{default{[t] "the"; [n] text(){self::function{@role="prefix function"{contains(@grammar, "addArticle")'.split("{"),["Rule","appl","default",'[n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short")',"self::appl"],'Rule,appl-simple,default,[n] children/*[1]; [t] "of"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="appl"'.split(","),'Rule,appl-simple,default,[n] children/*[1]; [t] "of"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="simple function",name(children/*[2])="fenced",name(children/*[2]/children/*[1])="appl"'.split(","),["Rule","appl","Functions_None",'[p] (pause:"short"); [n] children/*[1]; [t] "times"; [n] children/*[2]; [p] (pause:"short")',"self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,@role="prefix function"'.split(","),'Rule{binary-operation{ImpliedTimes_MoreImpliedTimes{[n] . (grammar:impliedTimes); [p] (pause:"short"){self::appl{@role="prefix function"{parent::*/parent::infixop[@role="implicit"]{following-sibling::*{not(contains(@grammar, "impliedTimes"))'.split("{"),'Rule{function-prefix-simple-arg{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{name(children/*[2])="fenced"{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[2]/children/*[1])!="number"{name(children/*[2]/children/*[1])!="identifier"{name(children/*[2]/children/*[1])!="appl"'.split("{"),'Rule,function-prefix-embell,default,[p] (pause:"short"); [n] children/*[1]; [n] children/*[2]; [p] (pause:"short"); ,self::appl,@role="prefix function",name(children/*[1])!="function"'.split(","),'Rule{function-prefix-fenced-or-frac-arg{default{[p] (pause:"short"); [n] children/*[1] (grammar:addArticle); [t] "of"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple"))){self::*'.split("{"),'Rule,function-prefix-subscript,default,[p] (pause:"short"); [n] children/*[1] (grammar:addArticle); [t] "of"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="subscript",self::*'.split(","),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]{self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(following-sibling::*){not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-ln{default{[n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{name(children/*[2])="fenced"{not(contains(@grammar, "NatLog"))'.split("{"),'Rule;function-ln;Log_LnAsNaturalLog;[n] . (grammar:NatLog);self::appl;@role="prefix function";content/*[2][text()="ln"];not(following-sibling::*);not(contains(@grammar, "NatLog"))'.split(";"),'Rule{function-ln{Log_LnAsNaturalLog{[n] . (grammar:NatLog); [p] (pause:"short"){self::appl{@role="prefix function"{content/*[2][text()="ln"]{not(contains(@grammar, "NatLog"))'.split("{"),'Rule{function-prefix-as-exp{default{[n] children/*[1]; [t] "of"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(parent::*/parent::*)="superscript"{not(following-sibling::*){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or name(children/*[2])="fraction" or (name(children/*[2])!="fenced" and not(contains(children/*[2]/@annotation, "clearspeak:simple")))'.split("{"),'Rule,function-prefix-subscript-as-exp,default,[n] children/*[1]; [t] "of"; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(parent::*/parent::*)="superscript",not(following-sibling::*),name(children/*[1])="subscript"'.split(","),'Rule,function-prefix-hyper,default,[p] (pause:"short"); [n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",CQFisHyperbolic'.split(","),'Rule{function-prefix-inverse{default{[p] (pause:"short"); [t] "the inverse"; [n] children/*[1]/children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule,appl-triginverse,Trig_TrigInverse,[p] (pause:"short"); [n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short"),self::appl,@role="prefix function",name(children/*[1])="superscript",name(children/*[1]/children/*[2])="prefixop",children/*[1]/children/*[2][@role="negative"],children/*[1]/children/*[2]/children/*[1][text()="1"]'.split(","),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc-simple{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{name(children/*[2])="fenced"{children/*[2]/children/*[1][@role="prefix function"]{contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){not(contains(@grammar, "functions_none"))'.split("{"),'Rule{function-prefix-arc{Trig_ArcTrig{[p] (pause:"short"); [t] "arc"; [n] children/*[1]/children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:"short"){self::appl{@role="prefix function"{name(children/*[1])="superscript"{name(children/*[1]/children/*[2])="prefixop"{children/*[1]/children/*[2][@role="negative"]{children/*[1]/children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none")){(name(children/*[2])="fenced" and not(contains(children/*[2]/children/*[1]/@annotation, "clearspeak:simple"))) or (name(children/*[2])="fraction" and children/*[2][@role!="vulgar"])'.split("{"),'Rule{function-inverse{default{[n] children/*[1]; [t] "inverse"{self::superscript{@role="prefix function" or @role="simple function"{name(children/*[2])="prefixop"{children/*[2][@role="negative"]{children/*[2]/children/*[1][text()="1"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule,superscript-prefix-function,default,[t] "the"; [n] children/*[2] (grammar:ordinal); [t] "power of"; [n] children/*[1],self::superscript,@role="prefix function",name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),'Rule,superscript-prefix-function,default,[t] "the"; [n] children/*[2] (grammar:ordinal); [t] "power of"; [n] children/*[1],self::superscript,@role="prefix function",name(children/*[2])="identifier"'.split(","),'Rule;function-inverse;Functions_None;[n] . (grammar:functions_none);self::superscript;@role="prefix function" or @role="simple function";name(children/*[2])="prefixop";children/*[2][@role="negative"];children/*[2]/children/*[1][text()="1"];not(contains(@grammar, "functions_none"))'.split(";"),["Rule","superscript","default",'[n] children/*[1]; [t] "raised to the exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "end exponent" (pause:"short")',"self::superscript"],'Rule,superscript-simple-exponent,default,[n] children/*[1]; [t] "raised to the"; [n] children/*[2]; [t] "power" (pause:"short"),self::superscript,not(descendant::superscript)'.split(","),'Rule,superscript-simple-exponent-end,default,[n] children/*[1]; [t] "raised to the"; [n] children/*[2]; [t] "power",self::superscript,not(descendant::superscript),not(following-sibling::*)'.split(","),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="number";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),'Aliases;superscript-simple-exponent;self::superscript;children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"];name(children/superscript/children/*[1])="fraction";contains(children/superscript/children/*[1]/@annotation, "clearspeak:simple")'.split(";"),["Aliases","superscript-simple-exponent","self::superscript",'children/superscript/children/*[2][text()="2"] or children/superscript/children/*[2][text()="3"]','name(children/superscript/children/*[1])="identifier"'],'Aliases;superscript-simple-exponent;self::superscript;children/*[2][@role="implicit"];count(children/*[2]/children/*)=2;contains(children/*[2]/children/*[1]/@annotation, "simple");name(children/*[2]/children/*[2])="superscript";(name(children/*[2]/children/*[2]/children/*[1])="number" and contains(children/*[2]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple")) or name(children/*[2]/children/*[2]/children/*[1])="identifier";children/*[2]/children/*[2]/children/*[2][text()="2"] or children/*[2]/children/*[2]/children/*[2][text()="3"]'.split(";"),'Rule,superscript-ordinal,default,[n] children/*[1]; [t] "to the"; [n] children/*[2] (grammar:ordinal); [t] "power" (pause:"short"),self::superscript,name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),["Aliases","superscript-ordinal","self::superscript",'name(children/*[2])="identifier"','children/*[2][@role="latinletter" or @role="greekletter" or @role="otherletter"]'],'Rule,superscript-non-ordinal,default,[n] children/*[1]; [t] "to the"; [n] children/*[2]; [t] "power" (pause:"short"),self::superscript,children/*[2][@role="negative"],name(children/*[2]/children/*[1])="number",children/*[2]/children/*[1][@role="integer"]'.split(","),'Rule{superscript-simple-function{default{[t] "the"; [n] children/*[2] (grammar:ordinal); [t] "power of" (pause:"short"); [n] children/*[1]{self::superscript{name(children/*[1])="identifier"{children/*[1][@role="simple function"]{children/*[2][@role!="prime"]{not(contains(@grammar, "functions_none"))'.split("{"),'Rule;superscript-simple-function;Functions_None;[n] . (grammar:functions_none);self::superscript;name(children/*[1])="identifier";children/*[1][@role="simple function"];not(contains(@grammar, "functions_none"))'.split(";"),'Rule,superscript-ordinal,Exponent_Ordinal,[n] children/*[1]; [t] "to the"; [n] children/*[2] (grammar:ordinal); [p] (pause:"short"),self::superscript,name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),'Rule,superscript-ordinal,Exponent_Ordinal,[n] children/*[1]; [t] "to the"; [n] children/*[2]; [p] (pause:"short"),self::superscript,name(children/*[2])="prefixop",children/*[2][@role="negative"],name(children/*[2]/children/*[1])="number",children/*[2]/children/*[1][@role="integer"]'.split(","),'Rule,superscript-ordinal,Exponent_Ordinal,[n] children/*[1]; [t] "to the"; [n] children/*[2] (grammar:ordinal); [p] (pause:"short"),self::superscript,name(children/*[2])="identifier",children/*[2][@role="latinletter" or @role="greekletter" or @role="otherletter"]'.split(","),'Rule,superscript-ordinal-default,Exponent_Ordinal,[n] children/*[1]; [t] "raised to the exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "end exponent" (pause:"short"),self::superscript,children//superscript'.split(","),'Rule,superscript-ordinal,Exponent_OrdinalPower,[n] children/*[1]; [t] "to the"; [n] children/*[2] (grammar:ordinal); [t] "power"; [p] (pause:"short"),self::superscript,name(children/*[2])="number",children/*[2][@role="integer"]'.split(","),'Rule,superscript-ordinal,Exponent_OrdinalPower,[n] children/*[1]; [t] "to the"; [n] children/*[2]; [t] "power"; [p] (pause:"short"),self::superscript,name(children/*[2])="prefixop",children/*[2][@role="negative"],name(children/*[2]/children/*[1])="number",children/*[2]/children/*[1][@role="integer"]'.split(","),'Rule,superscript-ordinal,Exponent_OrdinalPower,[n] children/*[1]; [t] "to the"; [n] children/*[2] (grammar:ordinal); [t] "power"; [p] (pause:"short"),self::superscript,name(children/*[2])="identifier",children/*[2][@role="latinletter" or @role="greekletter" or @role="otherletter"]'.split(","),'Rule,superscript-ordinal-default,Exponent_OrdinalPower,[n] children/*[1]; [t] "raised to the exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "end exponent" (pause:"short"),self::superscript,children//superscript'.split(","),["Rule","superscript-power","Exponent_AfterPower",'[n] children/*[1]; [t] "raised to the power"; [n] children/*[2] (grammar:afterPower); [p] (pause:"short")',"self::superscript"],'Rule,superscript-power-default,Exponent_AfterPower,[n] children/*[1]; [t] "raised to the exponent" (pause:"short"); [n] children/*[2]; [p] (pause:"short"); [t] "end exponent" (pause:"short"),self::superscript,children//superscript'.split(","),'Rule{exponent{default{[n] text() (join:"-"); [t] "th"{self::identifier{contains(@grammar, "ordinal")'.split("{"),'Rule;exponent;default;[t] CSFordinalExponent;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_Ordinal;[t] CSFwordOrdinal;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_Ordinal;[t] "zero";self::number;@role="integer";contains(@grammar, "ordinal");text()="0"'.split(";"),'Rule;exponent;Exponent_OrdinalPower;[t] CSFwordOrdinal;self::number;@role="integer";contains(@grammar, "ordinal");text()!="0"'.split(";"),'Rule;exponent;Exponent_OrdinalPower;[t] "zero";self::number;@role="integer";contains(@grammar, "ordinal");text()="0"'.split(";"),'Rule,square,default,[n] children/*[1]; [t] "squared",self::superscript,@role!="unit",children/*[2][text()="2"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*'.split(","),'Rule,cube,default,[n] children/*[1]; [t] "cubed",self::superscript,@role!="unit",children/*[2][text()="3"],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),self::*'.split(","),'Rule;paren-simple;default;[n] children/*[1];self::fenced;@role="leftright";contains(children/*[1]/@annotation, "clearspeak:simple");name(../..)!="superscript" and name(../..)!="subscript"'.split(";"),'Rule;paren-simple-exp;default;[n] children/*[1];self::fenced;@role="leftright";name(../..)="superscript";children/*[1][@role="integer"] or children/*[1][@role="float"] or (children/*[1][@role="vulgar"] and contains(children/*[1]/@annotation, "clearspeak:simple")) or children/*[1][@role="latinletter"] or children/*[1][@role="greekletter"] or children/*[1][@role="otherletter"]'.split(";"),'Rule;paren-simple-nested-func;default;[n] children/*[1];self::fenced;@role="leftright";name(../*[1])="identifier" or name(../*[1])="function";parent::*/parent::*[@role="simple function" or @role="prefix function"];children/*[1][@role="simple function" or @role="prefix function"];contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split(";"),'Rule{paren-simple-nested-func-no-bracket{Functions_None{[n] children/*[1];{self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{name(children/*[1]/children/*[1])="identifier" or name(children/*[1]/children/*[1])="function"{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple"){name(children/*[1]/children/*[2]/children/*[1])="identifier" or name(children/*[1]/children/*[2]/children/*[1])="number"'.split("{"),'Rule,fences-open-close,default,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright"'.split(","),'Rule{paren-simple-nested-func{default{[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{not(contains(children/*[1]/@annotation, "clearspeak:simple"))'.split("{"),'Rule{paren-simple-nested-func{Functions_None{[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"){self::fenced{@role="leftright"{name(../*[1])="identifier" or name(../*[1])="function"{parent::*/parent::*[@role="simple function" or @role="prefix function"]{children/*[1][@role="simple function" or @role="prefix function"]{contains(children/*[1]/children/*[2]/children/*[1]/@annotation, "clearspeak:simple") or name(children/*[1]/children/*[2]/children/*[1])="subscript" or name(children/*[1]/children/*[2]/children/*[1])="superscript" or children/*[1]/children/*[2]/children/*[1][@role="vulgar"] '.split("{"),["SpecializedRule","fences-open-close","default","Paren_Speak"],["Aliases","fences-open-close","self::fenced",'@role="composed function"'],["Rule","fence-silent","Paren_Silent",'[p] (pause:"short"); [n] children/*[1]; [p] (pause:"short")',"self::fenced"],'Rule,fences-open-close,ImpliedTimes_None,[p] (pause:"short"); [n] content/*[1] (grammar:spokenFence); [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2] (grammar:spokenFence); [p] (pause:"short"),self::fenced,@role="leftright",parent::*/parent::*[@role!="simple function"],parent::*/parent::*[@role!="prefix function"]'.split(","),'Rule;fence-nesting;Paren_SpeakNestingLevel;[n] text() (grammar:insertNesting=CSFnestingDepth);self::fence;contains(@grammar, "spokenFence");CQFmatchingFences'.split(";"),["Rule","fence-no-nesting","Paren_SpeakNestingLevel","[n] text()","self::fence"],'Rule,fences-points,Paren_CoordPoint,[t] "the point with coordinates"; [n] children/*[1],self::fenced,name(children/*[1])="punctuated",children/*[1][@role="sequence"]'.split(","),'Rule{fences-interval{Paren_Interval{[t] "the interval from"; [n] children/*[1]/children/*[1]; [t] "to"; [n] children/*[1]/children/*[3]; [p] (pause:"short"); [n] . (grammar:interval){self::fenced{not(contains(@grammar, "interval")){name(children/*[1])="punctuated"{children/*[1][@role="sequence"]{count(./children/*[1]/content/*)=1{children/*[1]/content/*[1][@role="comma"]'.split("{"),'Rule{interval-open{Paren_Interval{[t] "not including"; [n] children/*[1]/children/*[1]; [t] "or"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"'.split("{"),'Rule{interval-closed-open{Paren_Interval{[t] "including"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [t] "but not including"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"'.split("{"),'Rule{interval-open-closed{Paren_Interval{[t] "not including"; [n] children/*[1]/children/*[1]; [p] (pause:"short"); [t] "but including"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"'.split("{"),'Rule{interval-closed{Paren_Interval{[t] "including"; [n] children/*[1]/children/*[1]; [t] "and"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()="]"'.split("{"),'Rule{interval-open-inf-r{Paren_Interval{[t] "not including"; [n] children/*[1]/children/*[1]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-inf-l{Paren_Interval{[t] "not including"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()=")"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule;interval-open-inf-lr;Paren_Interval;;self::fenced;contains(@grammar, "interval");content/*[1]/text()="(";content/*[2]/text()=")";children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E");children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split(";"),'Rule{interval-closed-open-inf{Paren_Interval{[t] "including"; [n] children/*[1]/children/*[1]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="["{content/*[2]/text()=")"{children/*[1]/children/*[3]/text()="\u221E" or (name(children/*[1]/children/*[3])="prefixop" and children/*[1]/children/*[3]/children/*[1]/text()="\u221E")'.split("{"),'Rule{interval-open-closed-inf{Paren_Interval{[t] "including"; [n] children/*[1]/children/*[3]{self::fenced{contains(@grammar, "interval"){content/*[1]/text()="("{content/*[2]/text()="]"{children/*[1]/children/*[1]/text()="\u221E" or (name(children/*[1]/children/*[1])="prefixop" and children/*[1]/children/*[1]/children/*[1]/text()="\u221E")'.split("{"),'Rule,paren-nested-embellished-funcs,Functions_None,[p] (pause:"short"); [n] content/*[1]; [p] (pause:"short"); [n] children/*[1]; [p] (pause:"short"); [n] content/*[2]; [p] (pause:"short"),self::fenced,@role="leftright",name(../..)="appl",name(children/*[1]) = "appl",preceding-sibling::*/descendant-or-self::*[@role="subsup"] or children/*[1]/descendant-or-self::*[@role="subsup"]'.split(","),'Rule;set-empty;default;[t] "the empty set";self::fenced;@role="set empty"'.split(";"),'Rule,set-extended,default,[t] "the set of all"; [n] children/*[1]/children/*[1]; [t] "such that"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule,set-collection,default,[t] "the set"; [n] children/*[1],self::fenced,@role="set collection"'.split(","),["Aliases","set-collection","self::fenced",'@role="set singleton"'],'Rule,set-extended,Sets_woAll,[t] "the set of"; [n] children/*[1]/children/*[1]; [t] "such that"; [n] children/*[1]/children/*[3],self::fenced,@role="set extended"'.split(","),'Rule;set-collection;Sets_SilentBracket;[n] children/*[1];self::fenced;@role="set collection"'.split(";"),["Rule","subscript","default",'[p] (pause:short); [n] children/*[1]; [t] "sub"; [n] children/*[2]; [p] (pause:short)',"self::subscript"],'Rule,subscript-base,default,[n] children/*[1]; [t] "base"; [n] children/*[2],self::subscript,CQFisLogarithm'.split(","),'Rule{subscript-index{default{[n] children/*[1]; [t] "sub"; [n] children/*[2]{self::subscript{contains(@grammar, "simpleDet")'.split("{"),["Rule","fraction","default",'[p] (pause:short); [t] "the fraction with numerator"; [n] children/*[1]; [p] (pause:short); [t] "and denominator"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule,fraction,Functions_None,[p] (pause:short); [t] "the fraction with numerator"; [n] children/*[1]; [p] (pause:short); [t] "and denominator"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="appl" or name(children/*[2])="appl"'.split(","),'Rule{simple-fraction{default{[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short){self::fraction{contains(children/*[1]/@annotation, "clearspeak:simple") or contains(children/*[1]/@annotation, "clearspeak:unit"){contains(children/*[2]/@annotation, "clearspeak:simple") or contains(children/*[2]/@annotation, "clearspeak:unit")'.split("{"),'Rule,simple-vulgar-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short),self::fraction,@role="vulgar"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="text",name(children/*[2])="text"'.split(","),'Rule,simple-text-fraction,default,[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short),self::fraction,name(children/*[1])="infixop",children/*[1][@role="unit"],name(children/*[2])="text"'.split(","),'Rule;vulgar-fraction;default;[t] CSFvulgarFraction;self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["Rule","fraction","Fraction_Over",'[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_OverEndFrac",'[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short); [t] "end fraction"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_FracOver",'[p] (pause:short); [t] "the fraction"; [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_Per",'[p] (pause:short); [n] children/*[1]; [t] "per"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_GeneralEndFrac",'[p] (pause:short); [t] "the fraction with numerator"; [n] children/*[1]; [p] (pause:short); [t] "and denominator"; [n] children/*[2]; [p] (pause:short); [t] "end fraction"; [p] (pause:short)',"self::fraction"],["Rule","fraction","Fraction_General",'[p] (pause:short); [t] "the fraction with numerator"; [n] children/*[1]; [p] (pause:short); [t] "and denominator"; [n] children/*[2]; [p] (pause:short)',"self::fraction"],'Rule;simple-vulgar-fraction;Fraction_Ordinal;[t] CSFvulgarFraction;self::fraction;@role="vulgar"'.split(";"),'Rule{fraction{Fraction_EndFrac{[p] (pause:short); [n] . (grammar:endfrac); [t] "end fraction"; [p] (pause:short){self::fraction{not(contains(@grammar, "endfrac")){not(contains(children/*[1]/@annotation, "clearspeak:unit")){not(contains(children/*[2]/@annotation, "clearspeak:unit"))'.split("{"),'Rule{vulgar-fraction{Fraction_EndFrac{[p] (pause:short); [n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short){self::fraction{name(children/*[1])="fraction"{name(children/*[2])="fraction"{contains(children/*[1]/@annotation, "clearspeak:simple"){contains(children/*[2]/@annotation, "clearspeak:simple")'.split("{"),'Rule;simple-vulgar-fraction;Fraction_EndFrac;[t] CSFvulgarFraction;self::fraction;@role="vulgar";contains(@annotation, "clearspeak:simple");self::*'.split(";"),["Rule","sqrt","default",'[t] "the square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short)',"self::sqrt"],'Rule,sqrt-nested,default,[p] (pause: "short"); [t] "the square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,negative-sqrt,default,[t] "the negative square root of"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt"'.split(","),'Rule,negative-sqrt,default,[p] (pause: "short"); [t] "the negative square root of"; [n] children/*[1]/children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::prefixop,@role="negative",name(children/*[1])="sqrt",not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRoot,[t] "the positive square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRoot,[p] (pause: "short"); [t] "the positive square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-plus-minus,Roots_PosNegSqRootEnd,[t] "the positive square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule,sqrt-nested-plus-minus,Roots_PosNegSqRootEnd,[p] (pause: "short"); [t] "the positive square root of"; [n] children/*[1] (grammar:EndRoot=false); [p] (pause:short),self::sqrt,not(preceding-sibling::*),ancestor::sqrt|ancestor::root,parent::stree or not(parent::*/parent::infixop[@role="addition"]) or (parent::*/parent::*[1]/text()!="\xB1" and parent::*/parent::*/text()!="\u2213")'.split(","),'Rule{sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::sqrt{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{negative-sqrt-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::prefixop{@role="negative"{name(children/*[1])="sqrt"{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,cube,default,[t] "the cube root of"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"]'.split(","),'Rule,cube-nested,default,[p] (pause:short); [t] "the cube root of"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,children/*[1][text()="3"],not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),["Rule","root","default",'[t] "the"; [n] children/*[1] (grammar:ordinal); [t] "root of"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short)',"self::root"],'Rule,root-nested,default,[p] (pause:short); [t] "the"; [n] children/*[1] (grammar:ordinal); [t] "root of"; [n] children/*[2] (grammar:EndRoot=false); [p] (pause:short),self::root,not(preceding-sibling::*),ancestor::sqrt|ancestor::root'.split(","),'Rule{root-endroot{Roots_RootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule{root-endroot{Roots_PosNegSqRootEnd{[n] . (grammar:EndRoot); [t] "end root"; [p] (pause:short){self::root{not(contains(@grammar, "EndRoot"))'.split("{"),'Rule,negative,default,[t] "negative"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),'Rule,positive,default,[t] "positive"; [n] children/*[1],self::prefixop,@role="positive"'.split(","),'Rule,angle-measure,default,[t] "the measure of"; [n] content/*[1]; [n] children/*[2] (grammar:angle),self::infixop,content/*[1]/text()="\u2220",children/*[1][text()="m"]'.split(","),["Rule","prefix","default","[m] content/* (grammar:prefix); [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/* (grammar:postfix)","self::postfixop"],'Rule{set-prefix-operators{default{[t] "the"; [n] self::* (grammar:!prefix); [t] "of"{self::*{contains(@grammar,"prefix"){descendant-or-self::*/text()="\u2229" or descendant-or-self::*/text()="\u222A"{self::*{self::*{self::*'.split("{"),["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule,binary-operation,ImpliedTimes_MoreImpliedTimes,[m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator);,self::infixop,@role="implicit",name(children/*[1])="appl"'.split(","),'Rule,binary-operation-pause,default,[m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[last()])="appl"'.split(","),'Rule,binary-operation-pause,default,[p] (pause:short); [m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:short),self::infixop,@role="implicit",name(children/*[1])="appl",name(children/*[last()])="appl"'.split(","),'Rule;implicit-times;default;[p] (pause:short);self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times default  self::operator @role="multiplication" text()="\u2062" CQFsimpleArguments'.split(" "),'Rule;implicit-times;default;[n] text();self::operator;@role="multiplication";text()="\u2062";CQFfencedArguments'.split(";"),'Rule;implicit-times;ImpliedTimes_MoreImpliedTimes;[n] text();self::operator;@role="multiplication";text()="\u2062"'.split(";"),'Rule implicit-times ImpliedTimes_None  self::operator @role="multiplication" text()="\u2062"'.split(" "),'Rule{binary-operation-simple{default{[m] children/* (rate:"0.5"); [p] (pause:short){self::infixop{@role="implicit"{contains(@annotation, "clearspeak:simple"){not(contains(@grammar, "inFrac"))'.split("{"),'Rule;simple-in-fraction;default;[n] . (rate:"0.5",grammar:inFrac);self::*;contains(@annotation, "clearspeak:simple");not(contains(@grammar, "inFrac"));name(.)!="identifier";name(.)!="function";name(.)!="number";name(parent::*/parent::*)="fraction";not(preceding-sibling::*)'.split(";"),'Rule;operators-after-power;Exponent_AfterPower;[m] children/* (rate:"0.5");self::infixop;@role="implicit";contains(@grammar, "afterPower")'.split(";"),["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],'Rule;natural-numbers;default;[t] "the natural numbers";self::identifier;text()="\u2115" or (text()="N" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;integers;default;[t] "the integers";self::identifier;text()="\u2124" or (text()="Z" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;rational-numbers;default;[t] "the rational numbers";self::identifier;text()="\u211A" or (text()="Q" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;real-numbers;default;[t] "the real numbers";self::identifier;text()="\u211D" or (text()="R" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule;complex-numbers;default;[t] "the complex numbers";self::identifier;text()="\u2102" or (text()="C" and @font="double-struck");self::*;self::*;self::*'.split(";"),'Rule,natural-numbers-super,default,[t] "n" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,integers-super,default,[t] "z" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,rational-numbers-super,default,[t] "q" (join: "-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,real-numbers-super,default,[t] "r" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u211D" or (children/*[1]/text()="R" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule,complex-numbers-super,default,[t] "c" (join:"-"); [n] children/*[2] (grammar:numbers2alpha),self::superscript,children/*[1]/text()="\u2102" or (children/*[1]/text()="C" and @font="double-struck"),self::*,self::*,self::*'.split(","),'Rule;natural-numbers-with-zero;default;[t] "the natural numbers with zero";self::subscript;children/*[1]/text()="\u2115" or (children/*[1]/text()="N" and @font="double-struck");children/*[2]/text()="0"'.split(";"),'Rule;positive-integers;default;[t] "the positive integers";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*'.split(";"),'Rule;positive-integers;default;[t] "the negative integers";self::superscript;children/*[1]/text()="\u2124" or (children/*[1]/text()="Z" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*'.split(";"),'Rule;positive-rational-numbers;default;[t] "the positive rational numbers";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="+";self::*;self::*;self::*'.split(";"),'Rule;negative-rational-numbers;default;[t] "the negative rational numbers";self::superscript;children/*[1]/text()="\u211A" or (children/*[1]/text()="Q" and @font="double-struck");children/*[2]/text()="-";self::*;self::*;self::*'.split(";"),'Rule,fences-neutral,default,[p] (pause:short); [t] "the absolute value of"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_AbsEnd,[p] (pause:short); [t] "the absolute value of"; [n] children/*[1]; [p] (pause: short); [t] "end absolute value"; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Cardinality,[p] (pause:short); [t] "the cardinality of"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),'Rule,fences-neutral,AbsoluteValue_Determinant,[p] (pause:short); [t] "the determinant of"; [n] children/*[1]; [p] (pause: short),self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["Rule","matrix","default",'[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "matrix"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:"); [p] (pause:long)',"self::matrix"],'Rule{matrix-simple{default{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "matrix"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:",grammar:simpleDet); [p] (pause:long){self::matrix{count(children/*)<4{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule,matrix-trivial,default,[t] "the 1 by 1 matrix with entry"; [n] children/*[1]; [p] (pause:long),self::vector,@role="squarematrix"'.split(","),'Rule{determinant{default{[t] "the determinant of the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "matrix"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="determinant"{count(children/*)<4{CQFcellsSimple'.split("{"),'Rule{determinant-simple{default{[t] "the determinant of the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "matrix"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:"); [p] (pause:long){self::matrix{@role="determinant"'.split("{"),["Rule","matrix-vector","default",'[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "column matrix"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","matrix-vector","default","Matrix_SpeakColNum"],'Rule{matrix-vector-simple{default{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "column matrix"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple{@role!="squarematrix"'.split("{"),["Rule","matrix-vector-simple","Matrix_SilentColNum",'[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "column matrix"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long)',"self::vector"],'Rule{matrix-row-vector{default{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "row matrix"; [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"Column-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","matrix-row-vector","default","Matrix_SpeakColNum"],'Rule{matrix-row-vector-simple{default{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "row matrix"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),'Rule{matrix-row-vector-simple{Matrix_SilentColNum{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "row matrix"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),'Rule;matrix-row-simple;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row-simple","Matrix_SilentColNum",'[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short")',"self::row"],'Rule;line-simple;default;[n] children/*[1];self::line;contains(@grammar, "simpleDet")'.split(";"),["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFnodeCounter,context:"Column-,- ",sepFunc:CTXFpauseSeparator,separator:"medium"); [p] (pause:long)',"self::row"],["SpecializedRule","matrix-row","default","Matrix_SpeakColNum"],["Rule","matrix-cell","default","[n] children/*[1]","self::cell"],'Rule{matrix-end-matrix{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "end matrix"{self::matrix{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-vector{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "end matrix"{self::vector{not(contains(@grammar, "EndMatrix"))'.split("{"),'Rule{matrix-end-determinant{Matrix_EndMatrix{[n] . (grammar:EndMatrix); [t] "end determinant"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix"))'.split("{"),["Rule","vector","Matrix_Vector",'[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "column vector"; [p] (pause:long); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:",grammar:simpleDet); [p] (pause:long)',"self::vector"],["SpecializedRule","vector","Matrix_Vector","Matrix_EndVector"],'Rule{vector-simple{Matrix_Vector{[t] "the"; [t] count(children/*);  [t] "by"; [t] count(children/*[1]/children/*); [t] "column vector"; [p] (pause:long); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::vector{count(children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector{Matrix_Vector{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "row vector"; [p] (pause:long); [m] children/*[1]/children/* (ctxtFunc:CTXFnodeCounter,context:"Column-:",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"'.split("{"),["SpecializedRule","row-vector","Matrix_Vector","Matrix_EndVector"],'Rule{row-vector-simple{Matrix_Vector{[t] "the"; [t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "row vector"; [p] (pause:long); [m] children/*[1]/children/* (sepFunc:CTXFpauseSeparator,separator:"short",grammar:simpleDet); [p] (pause:long){self::matrix{@role="rowvector"{count(children/*[1]/children/*)<4{CQFcellsSimple'.split("{"),["SpecializedRule","row-vector-simple","Matrix_Vector","Matrix_EndVector"],'Rule{vector-end-matrix{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "end matrix"{self::matrix{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "end vector"{self::vector{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-vector{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "end vector"{self::matrix{@role="rowvector"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule{vector-end-determinant{Matrix_EndVector{[n] . (grammar:EndMatrix); [t] "end determinant"{self::matrix{@role="determinant"{not(contains(@grammar, "EndMatrix")){self::*'.split("{"),'Rule,binomial,Matrix_Combinatoric,[n] children/*[1]/children/*[1]; [t] "choose"; [n] children/*[2]/children/*[1]; ,self::vector,@role="binomial"'.split(","),'Rule{lines-summary{default{[p] (pause:short); [t] count(children/*); [t] "lines";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary")){self::*'.split("{"),'Rule;lines-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::multiline;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Aliases","lines-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],'Rule{cases-summary{default{[p] (pause:short); [t] count(children/*); [t] "cases";  [n] . (grammar:layoutSummary){self::cases{not(contains(@grammar, "layoutSummary"))'.split("{"),'Rule;cases-summary;MultiLineOverview_None;[n] . (grammar:layoutSummary);self::cases;not(contains(@grammar, "layoutSummary"));self::*'.split(";"),["Rule","lines","default",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Line-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines","self::multiline"],["Rule","line","default","[n] children/*[1]","self::line"],'Rule;row-medium;default;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"medium");self::row;@role="table"'.split(";"),["Aliases","row-medium","self::row",'@role="cases"'],'Rule;row-long;MultiLinePausesBetweenColumns_Long;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"long");self::row;@role="table"'.split(";"),["Aliases","row-long","self::row",'@role="cases"'],'Rule;row-short;MultiLinePausesBetweenColumns_Short;[m] children/* (sepFunc:CTXFpauseSeparator,separator:"short");self::row;@role="table"'.split(";"),["Aliases","row-short","self::row",'@role="cases"'],'Rule;blank-cell;default;[t] "blank";self::cell;count(children/*)=0'.split(";"),'Rule;blank-empty;default;[t] "blank";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),["Rule","cases","default",'[p] (pause:short);  [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Case-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::cases"],'Rule{lines-cases-summary{MultiLineLabel_Case{[p] (pause:short); [t] count(children/*); [t] "cases";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-cases-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-cases","MultiLineLabel_Case",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Case-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-cases","self::multiline"],'Rule{lines-equations-summary{MultiLineLabel_Equation{[p] (pause:short); [t] count(children/*); [t] "equations";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-equations-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-equations","MultiLineLabel_Equation",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Equation-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-equations","self::multiline"],'Rule{lines-steps-summary{MultiLineLabel_Step{[p] (pause:short); [t] count(children/*); [t] "steps";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-steps-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-steps","MultiLineLabel_Step",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Step-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-steps","self::multiline"],'Rule{lines-rows-summary{MultiLineLabel_Row{[p] (pause:short); [t] count(children/*); [t] "rows";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-rows-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-rows","MultiLineLabel_Row",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Row-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-rows","self::multiline"],'Rule{lines-constraints-summary{MultiLineLabel_Constraint{[p] (pause:short); [t] count(children/*); [t] "constraints";  [n] . (grammar:layoutSummary){self::multiline{not(contains(@grammar, "layoutSummary"))'.split("{"),["Aliases","lines-constraints-summary","self::table",'not(contains(@grammar, "layoutSummary"))'],["Rule","lines-constraints","MultiLineLabel_Constraint",'[p] (pause:short); [m] children/* (ctxtFunc:CTXFnodeCounter,context:"Constraint-:",sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long)',"self::table"],["Aliases","lines-constraints","self::multiline"],'Rule{lines-none{MultiLineLabel_None{[p] (pause:short); [m] children/* (sepFunc:CTXFpauseSeparator,separator:"long"); [p] (pause:long){self::table{contains(@grammar, "layoutSummary")'.split("{"),["Aliases","lines-none","self::multiline",'contains(@grammar, "layoutSummary")'],["Aliases","lines-none","self::cases",'contains(@grammar, "layoutSummary")'],["Rule","bigop","default",'[t] "the"; [n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:short)',"self::bigop"],["Rule","limboth","default",'[n] children/*[1]; [t] "from"; [n] children/*[2];[t] "to"; [n] children/*[3];',"self::limboth"],["Rule","limlower","default",'[n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short)',"self::limlower"],["Rule","limupper","default",'[n] children/*[1]; [t] "under"; [n] children/*[2]; [p] (pause:short)',"self::limupper"],["Rule","integral","default",'[t] "the"; [n] children/*[1]; [t] "of"; [n] children/*[2]; [p] (pause:short)',"self::integral"],["Rule","overscript","default",'[n] children/*[1]; [t] "under"; [n] children/*[2]; [p] (pause:short)',"self::overscore"],'Rule,overscript,default,[n] children/*[1]; [n] children/*[2];,self::overscore,children/*[2][@role="overaccent"]'.split(","),'Rule,overscript-limits,default,[n] children/*[1]; [t] "to"; [n] children/*[2],self::overscore,children/*[2][@role!="overaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role!="underaccent"]'.split(","),["Rule","underscript","default",'[n] children/*[1]; [t] "over"; [n] children/*[2]; [p] (pause:short)',"self::underscore"],'Rule,underscript-limits,default,[n] children/*[1]; [t] "from"; [n] children/*[2],self::underscore,@role="underover",children/*[2][@role!="underaccent"]'.split(","),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "and"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "number"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),'Rule,decimal-period,default,[t] "the repeating decimal"; [n] children/*[1] (grammar:spaceout); [t] "point followed by repeating digits";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period,default,[t] "the repeating decimal"; [n] children/*[1] (grammar:spaceout); [t] "followed by repeating digits";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,decimal-period-singular,default,[t] "the repeating decimal"; [n] children/*[1] (grammar:spaceout); [t] "point followed by repeating digit";  [n] children/*[3]/children/*[1] (grammar:spaceout),self::punctuated,@role="sequence",count(./content/*)=1,./content/*[1][@role="fullstop"],name(children/*[1])="number",children/*[1][@role="integer"],name(children/*[3])="overscore",children/*[3][@role="integer"],children/*[3]/children/*[2][@role="overaccent"],children/*[3]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[3]/children/*[1]/text())=1'.split(","),'Rule,decimal-period-singular,default,[t] "the repeating decimal"; [n] children/*[1] (grammar:spaceout); [t] "followed by repeating digit";  [n] children/*[2]/children/*[1] (grammar:spaceout);,self::infixop,@role="implicit",count(./children/*)=2,name(children/*[1])="number",children/*[1][@role="float"],name(children/*[2])="overscore",children/*[2][@role="integer"],children/*[2]/children/*[2][@role="overaccent"],children/*[2]/children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],string-length(./children/*[2]/children/*[1]/text())=1'.split(","),'Rule;number-with-spaces;default;[m] CQFspaceoutNumber (grammar:!spaceout:number);self::number;contains(@grammar, "spaceout")'.split(";"),'Rule;decimal-point;default;[t] "point";self::punctuation;@role="fullstop";contains(@grammar,"number")'.split(";"),'Rule,line-segment,default,[t] "the line segment"; [n] children/*[1]/children/*[1]; [n] children/*[1]/children/*[2]; [p] (pause:short),self::overscore,@role="implicit",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"],name(children/*[1])="infixop",count(./children/*[1]/children/*)=2'.split(","),'Rule,conjugate,Bar_Conjugate,[t] "the complex conjugate of"; [n] children/*[1],self::overscore,children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule;defined-by;default;[t] "is defined to be" (pause:short);self::overscore;@role="equality";@embellished="relation";name(children/*[2])="text";children/*[2][text()]="def"'.split(";"),'Rule,adorned-sign,default,[n] children/*[1] ; [t] "sign with"; [n] children/*[2]; [t] "over it",self::overscore,@embellished,name(children/*[1])="operator" or name(children/*[1])="relation"'.split(","),'Rule;factorial;default;[t] "factorial";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),["Rule","tensor-base","default","[n] children/*[2]; [n] children/*[3]; [n] children/*[1]; [n] children/*[4]; [n] children/*[5]","self::tensor"],'Rule{left-super{default{[t] "left super"; [n] text(){self::*[@role="leftsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-super{default{[t] "left super"; [m] children/*{self::punctuated{@role="leftsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "left sub"; [n] text(){self::*[@role="leftsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{left-sub{default{[t] "left sub"; [m] children/*{self::punctuated{@role="leftsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "right super"; [n] text(){self::*[@role="rightsuper"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-super{default{[t] "right super"; [m] children/*{self::punctuated{@role="rightsuper"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "right sub"; [n] text(){self::*[@role="rightsub"]{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule{right-sub{default{[t] "right sub"; [m] children/*{self::punctuated{@role="rightsub"{not(contains(@grammar,"combinatorics"))'.split("{"),'Rule;empty-index;default;[p] (pause:medium);self::empty;@role="rightsub" or @role="rightsuper" or @role="leftsub" or @role="leftsuper"'.split(";"),'Rule,combinatorics,default,[n] children/*[2] (grammar:combinatorics); [n] children/*[1]; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P" or text()="C"]'.split(","),'Rule,choose,CombinationPermutation_ChoosePermute,[n] children/*[2] (grammar:combinatorics); [t] "choose"; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="C"]'.split(","),'Rule,permute,CombinationPermutation_ChoosePermute,[n] children/*[2] (grammar:combinatorics); [t] "permute"; [n] children/*[4] (grammar:combinatorics),self::tensor,name(children/*[3])="empty",name(children/*[5])="empty",children/*[1][text()="P"]'.split(","),'Rule;unit-singular;default;[t] text() (grammar:annotation="unit":translate);self::identifier;@role="unit"'.split(";"),'Rule;unit-plural;default;[t] text() (grammar:annotation="unit":translate:plural);self::identifier;@role="unit";not(contains(@grammar, "singularUnit"))'.split(";"),'Rule,unit-square,default,[t] "square"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[t] "cubic"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,unit-reciprocal,default,[t] "reciprocal"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,unit-reciprocal,default,[t] "per"; [n] children/*[1] (grammar:singularUnit),self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-combine-singular,default,[n] children/*[1]; [n] children/*[2] (grammar:singularUnit); [m] children/*[position()>2],self::infixop,@role="unit",name(children/*[1])="number",children/*[1][text()=1]'.split(","),'Rule,unit-divide,default,[n] children/*[1]; [t] "per"; [n] children/*[2] (grammar:singularUnit),self::fraction,@role="unit"'.split(","),'Rule{currency{default{[m] children/*[position()>1]; [n] children/*[1];{self::infixop{contains(@annotation, "clearspeak:unit"){children/*[1][@role="unit"]{CQFfirstCurrency'.split("{"),'Rule;currency;Currency_Position;[m] children/*;self::infixop;contains(@annotation, "clearspeak:unit")'.split(";"),["SpecializedRule","currency","Currency_Position","Currency_Prefix"],'Rule{currency{Currency_Prefix{[n] children/*[last()]; [m] children/*[position()<last()]; {self::infixop{contains(@annotation, "clearspeak:unit"){children/*[last()][@role="unit"]{CQFlastCurrency'.split("{")],initialize:[sre.ClearspeakUtil.addAnnotators]},sre.Grammar.getInstance().setPreprocessor("numbers2alpha",sre.ClearspeakUtil.numbersToAlpha),sre.EmacspeakRules={domain:"emacspeak",functions:[["CTXF","CTXFnodeCounter",sre.StoreUtil.nodeCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CQF","CQFvulgarFractionSmall",sre.MathspeakUtil.isSmallVulgarFraction],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction]],rules:[["Rule","stree","default","[n] ./*[1]","self::stree"],["Rule","multrel","default",'[t] "multirelation"; [m] children/* (sepFunc:CTXFcontentIterator)',"self::multirel"],'Rule{variable-equality{default{[t] "equation sequence"; [m] children/* (context:"part",ctxtFunc:CTXFnodeCounter,sepFunc:CTXFcontentIterator){self::relseq[@role="equality"]{count(./children/*)>2{./children/punctuation[@role="ellipsis"]'.split("{"),'Rule{multi-equality{default{[t] "equation sequence"; [m] children/* (context:"part",ctxtFunc:CTXFnodeCounter,sepFunc:CTXFcontentIterator){self::relseq[@role="equality"]{count(./children/*)>2'.split("{"),'Rule,equality,default,[t] "equation"; [t] "left hand side"; [n] children/*[1];[p] (pause:200); [n] content/*[1] (pause:200);[t] "right hand side"; [n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2'.split(","),'Rule,simple-equality,default,[n] children/*[1]; [p] (pause:200); [n] content/*[1] (pause:200);[n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2,./children/identifier or ./children/number'.split(","),'Rule,simple-equality2,default,[n] children/*[1]; [p] (pause:200); [n] content/*[1] (pause:200);[n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2,./children/function or ./children/appl'.split(","),["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit";children/*[1][@role="latinletter"] or children/*[1][@role="greekletter"] or children/*[1][@role="otherletter"] or name(children/*[1])="number";children/*[2][@role="latinletter"] or children/*[2][@role="greekletter"] or children/*[2][@role="otherletter"] or name(children/*[2])="number"'.split(";"),["Rule","binary-operation","default","[p] (pause:100); [m] children/* (sepFunc:CTXFcontentIterator); [p] (pause:100);","self::infixop"],'Rule,variable-addition,default,[t] "sum with variable number of summands";[p] (pause:400); [m] children/* (sepFunc:CTXFcontentIterator),self::infixop[@role="addition"],count(children/*)>2,children/punctuation[@role="ellipsis"]'.split(","),["Rule","prefix","default",'[t] "prefix"; [n] text(); [t] "of" (pause 150);[n] children/*[1]',"self::prefixop"],'Rule,negative,default,[t] "negative"; [n] children/*[1],self::prefixop,self::prefixop[@role="negative"]'.split(","),["Rule","postfix","default",'[n] children/*[1]; [t] "postfix"; [n] text() (pause 300)',"self::postfixop"],["Rule","identifier","default","[n] text()","self::identifier"],["Rule","number","default","[n] text()","self::number"],'Rule{font{default{[t] @font; [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font; [n] CQFhideFont; [t] CSFshowFont{self::identifier{string-length(text())=1{@font{@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font; [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),'Rule,simple-fraction,default,[p] (pause:100); [n] children/*[1] (rate:0.35); [t] "over";  [n] children/*[2] (rate:0.35); [p] (pause:100),self::fraction,name(children/*[1])="number" or name(children/*[1])="identifier",name(children/*[2])="number" or name(children/*[2])="identifier"'.split(","),'Rule;vulgar-fraction;default;[t] CSFvulgarFraction;self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["Rule","fraction","default",'[p] (pause:250); [n] children/*[1] (rate:0.35); [p] (pause:250); [t] "divided by"; [p] (pause:250);  [n] children/*[2] (rate:0.35); [p] (pause:250)',"self::fraction"],["Rule","superscript","default",'[n] children/*[1]; [t] "super"; [n] children/*[2] (pitch:0.35);[p] (pause:300)',"self::superscript"],["Rule","subscript","default",'[n] children/*[1]; [t] "sub"; [n] children/*[2] (pitch:-0.35);[p] (pause:300)',"self::subscript"],'Rule,ellipsis,default,[p] (pause:200); [t] "ellipsis"; [p] (pause:300),self::punctuation,self::punctuation[@role="ellipsis"]'.split(","),'Rule;fence-single;default;[n] text();self::punctuation;self::punctuation[@role="openfence"]'.split(";"),["Alias","fence-single","self::punctuation",'self::punctuation[@role="closefence"]'],["Alias","fence-single","self::punctuation",'self::punctuation[@role="vbar"]'],["Alias","fence-single","self::punctuation",'self::punctuation[@role="application"]'],["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule,fences-open-close,default,[p] (pause:200); [n] children/*[1] (rate:0.35); [p] (pause:200),self::fenced,@role="leftright"'.split(","),'Rule,fences-open-close-in-appl,default,[p] (pause:200); [n] children/*[1]; [p] (pause:200);,self::fenced[@role="leftright"],./parent::children/parent::appl'.split(","),'Rule,fences-neutral,default,[p] (pause:100); [t] "absolute value of"; [n] children/*[1];[p] (pause:350);,self::fenced,self::fenced[@role="neutral"]'.split(","),["Rule","omit-fences","default","[p] (pause:500); [n] children/*[1]; [p] (pause:200);","self::fenced"],["Rule","matrix","default",'[t] "matrix"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:100)',"self::matrix"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFnodeCounter,context:"column",pause:100)','self::row[@role="matrix"]'],["Rule","matrix-cell","default","[n] children/*[1]",'self::cell[@role="matrix"]'],["Rule","vector","default",'[t] "vector"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"element",pause:100)',"self::vector"],["Rule","cases","default",'[t] "case statement"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"case",pause:100)',"self::cases"],["Rule","cases-row","default","[m] children/*",'self::row[@role="cases"]'],["Rule","cases-cell","default","[n] children/*[1]",'self::cell[@role="cases"]'],["Rule","row","default",'[m] ./* (ctxtFunc:CTXFnodeCounter,context:"column",pause:100)',"self::row"],'Rule{cases-end{default{[t] "case statement"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"case",pause:100);[t] "end cases"{self::cases{following-sibling::*'.split("{"),["Rule","multiline","default",'[t] "multiline equation";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"line",pause:100)',"self::multiline"],["Rule","line","default","[m] children/*","self::line"],["Rule","table","default",'[t] "multiline equation";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:200)',"self::table"],["Rule","table-row","default","[m] children/* (pause:100)",'self::row[@role="table"]'],["Alias","cases-cell",'self::cell[@role="table"]'],'Rule,end-punct,default,[m] children/*; [p] (pause:300),self::punctuated,@role="endpunct"'.split(","),'Rule,start-punct,default,[n] content/*[1]; [p] (pause:200); [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1] (rate:0.2); [n] children/*[3] (rate:0.2),self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/* (pause:100)","self::punctuated"],["Rule","function","default","[n] text()","self::function"],["Rule","appl","default","[n] children/*[1]; [n] content/*[1]; [n] children/*[2]","self::appl"],'Rule,sum-only,default,[n] children/*[1]; [t] "from"; [n] children/*[2]; [t] "to";[n] children/*[3],self::limboth,@role="sum" or @role="integral"'.split(","),["Rule","limboth","default",'[n] children/*[1]; [p] (pause 100); [t] "over"; [n] children/*[2];[t] "under"; [n] children/*[3]; [p] (pause 250);',"self::limboth"],["Rule","limlower","default",'[n] children/*[1]; [t] "over"; [n] children/*[2];',"self::limlower"],["Rule","limupper","default",'[n] children/*[1]; [t] "under"; [n] children/*[2];',"self::limupper"],["Rule","largeop","default","[n] text()","self::largeop"],["Rule","bigop","default",'[n] children/*[1]; [p] (pause 100); [t] "over"; [n] children/*[2];[p] (pause 250);',"self::bigop"],["Rule","integral","default","[n] children/*[1]; [p] (pause 100); [n] children/*[2];[p] (pause 200); [n] children/*[3] (rate:0.35);","self::integral"],["Rule","sqrt","default",'[t] "Square root of"; [n] children/*[1] (rate:0.35); [p] (pause:400)',"self::sqrt"],'Rule,square,default,[n] children/*[1]; [t] "squared" (pitch:0.35); [p] (pause:200),self::superscript,children/*[2][text()=2],name(./children/*[1])!="text"'.split(","),'Rule,cube,default,[n] children/*[1]; [t] "cubed" (pitch:0.35); [p] (pause:200),self::superscript,children/*[2][text()=3],name(./children/*[1])!="text"'.split(","),["Rule","root","default",'[t] "root of order"; [n] children/*[1];[t] "over"; [n] children/*[1] (rate:0.35); [p] (pause:400)',"self::root"],"Rule,text-no-mult,default,[n] children/*[1]; [p] (pause:200); [n] children/*[2],self::infixop,children/text".split(","),["Rule","text","default","[n] text(); [p] (pause:200)","self::text"],'Rule;unit;default;[t] text() (annotation:unit, preprocess);self::identifier;@role="unit"'.split(";"),'Rule,unit-square,default,[t] "square"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[t] "cubic"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,reciprocal,default,[t] "reciprocal"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,reciprocal,default,[t] "per"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-divide,default,[n] children/*[1] (pitch:0.3); [t] "per"; [n] children/*[2] (pitch:-0.3),self::fraction,@role="unit"'.split(",")]},sre.MathspeakFrenchUtil={},sre.MathspeakFrenchUtil.smallRoot=function(t){if(!t.childNodes||t.childNodes.length===0||!t.childNodes[0].childNodes)return[];var r=t.childNodes[0].childNodes[0].textContent;return/^\d+$/.test(r)?(r=parseInt(r,10),1<r&&3>=r?[t]:[]):[]},sre.MathspeakFrenchUtil.baselineVerbose=function(t){return sre.MathspeakUtil.baselineVerbose(t).replace(/\-$/,"")},sre.MathspeakFrenchUtil.baselineBrief=function(t){return sre.MathspeakUtil.baselineBrief(t).replace(/\-$/,"")},sre.MathspeakFrenchUtil.leftSuperscriptVerbose=function(t){return sre.MathspeakUtil.superscriptVerbose(t).replace(/^exposant/,"exposant gauche")},sre.MathspeakFrenchUtil.leftSubscriptVerbose=function(t){return sre.MathspeakUtil.subscriptVerbose(t).replace(/^indice/,"indice gauche")},sre.MathspeakFrenchUtil.leftSuperscriptBrief=function(t){return sre.MathspeakUtil.superscriptBrief(t).replace(/^sup/,"sup gauche")},sre.MathspeakFrenchUtil.leftSubscriptBrief=function(t){return sre.MathspeakUtil.subscriptBrief(t).replace(/^sub/,"sub gauche")},sre.MathspeakFrench={locale:"fr",domain:"mathspeak",functions:[["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFspaceoutIdentifier",sre.MathspeakUtil.spaceoutIdentifier],["CSF","CSFspaceoutText",sre.MathspeakUtil.spaceoutText],["CSF","CSFopenFracVerbose",sre.MathspeakUtil.openingFractionVerbose],["CSF","CSFcloseFracVerbose",sre.MathspeakUtil.closingFractionVerbose],["CSF","CSFoverFracVerbose",sre.MathspeakUtil.overFractionVerbose],["CSF","CSFopenFracBrief",sre.MathspeakUtil.openingFractionBrief],["CSF","CSFcloseFracBrief",sre.MathspeakUtil.closingFractionBrief],["CSF","CSFopenFracSbrief",sre.MathspeakUtil.openingFractionSbrief],["CSF","CSFcloseFracSbrief",sre.MathspeakUtil.closingFractionSbrief],["CSF","CSFoverFracSbrief",sre.MathspeakUtil.overFractionSbrief],["CSF","CSFvulgarFrFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.MathspeakUtil.isSmallVulgarFraction],["CSF","CSFopenRadicalVerbose",sre.MathspeakUtil.openingRadicalVerbose],["CSF","CSFcloseRadicalVerbose",sre.MathspeakUtil.closingRadicalVerbose],["CSF","CSFindexRadicalVerbose",sre.MathspeakUtil.indexRadicalVerbose],["CSF","CSFopenRadicalBrief",sre.MathspeakUtil.openingRadicalBrief],["CSF","CSFcloseRadicalBrief",sre.MathspeakUtil.closingRadicalBrief],["CSF","CSFindexRadicalBrief",sre.MathspeakUtil.indexRadicalBrief],["CSF","CSFopenRadicalSbrief",sre.MathspeakUtil.openingRadicalSbrief],["CSF","CSFindexRadicalSbrief",sre.MathspeakUtil.indexRadicalSbrief],["CQF","CQFisSmallRoot",sre.MathspeakFrenchUtil.smallRoot],["CSF","CSFsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFbaselineVerbose",sre.MathspeakFrenchUtil.baselineVerbose],["CSF","CSFbaselineBrief",sre.MathspeakFrenchUtil.baselineBrief],["CSF","CSFleftsuperscriptVerbose",sre.MathspeakFrenchUtil.leftSuperscriptVerbose],["CSF","CSFleftsubscriptVerbose",sre.MathspeakFrenchUtil.leftSubscriptVerbose],["CSF","CSFrightsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFrightsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFleftsuperscriptBrief",sre.MathspeakFrenchUtil.leftSuperscriptBrief],["CSF","CSFleftsubscriptBrief",sre.MathspeakFrenchUtil.leftSubscriptBrief],["CSF","CSFrightsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFrightsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFunderscript",sre.MathspeakUtil.nestedUnderscore],["CSF","CSFoverscript",sre.MathspeakUtil.nestedOverscore],["CTXF","CTXFordinalCounter",sre.NumbersUtil.ordinalCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CQF","CQFdetIsSimple",sre.MathspeakUtil.determinantIsSimple],["CSF","CSFRemoveParens",sre.MathspeakUtil.removeParens],["CQF","CQFresetNesting",sre.MathspeakUtil.resetNestingDepth],["CQF","CQFisLogarithm",sre.ClearspeakUtil.isLogarithmWithBase]],rules:['Rule;collapsed;default;[n] . (engine:modality=summary,grammar:collapsed);self::*;@alternative;not(contains(@grammar, "collapsed"));self::*;self::*;self::*;self::*;self::*'.split(";"),["SpecializedRule","collapsed","default","brief"],["SpecializedRule","collapsed","brief","sbrief"],"Rule;stree;default;[n] ./*[1];self::stree;CQFresetNesting".split(";"),["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::*;@role="protected"'.split(";"),["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule;blank-empty;default;[t] "vide";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),'Rule{font{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont);{self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "et"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "nombre"; [m] CQFspaceoutNumber{self::number{"" != translate(text(), "0123456789.,", ""){text() != translate(text(), "0123456789.,", "")'.split("{"),'Rule{number-as-upper-word{default{[t] "MotMajuscule"; [t] CSFspaceoutText{self::number{string-length(text())>1{text()=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9", "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9"){""=translate(text(), "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9","")'.split("{"),'Rule{number-baseline{default{[t] "position de base"; [n] . (grammar:baseline){self::number{not(contains(@grammar, "ignoreFont")){preceding-sibling::identifier{not(contains(@grammar, "baseline")){preceding-sibling::*[1][@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline","default","brief",'[t] "base"; [n] . (grammar:baseline)'],["SpecializedRule","number-baseline","brief","sbrief"],'Rule{number-baseline-font{default{[t] "position de base"; [n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"{preceding-sibling::identifier{preceding-sibling::*[@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline-font","default","brief",'[t] "base"; [n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont)'],["SpecializedRule","number-baseline-font","brief","sbrief"],'Rule;identifier;default;[m] CQFspaceoutIdentifier;self::identifier;string-length(text())>1;@role!="unit";@role!="protected";not(@font) or @font="normal" or contains(@grammar, "ignoreFont");text()!=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", "")'.split(";"),["Rule","identifier","default","[n] text()","self::identifier"],'Rule,negative,default,[t] "n\xE9gatif"; [n] children/*[1],self::prefixop,@role="negative",children/identifier'.split(","),["Aliases","negative","self::prefixop",'@role="negative"',"children/number"],["Aliases","negative","self::prefixop",'@role="negative"','children/fraction[@role="vulgar"]'],'Rule,negative,default,[t] "n\xE9gatif"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),["Rule","prefix","default","[m] content/*; [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/*","self::postfixop"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit"'.split(";"),["Aliases","implicit","self::infixop",'@role="leftsuper" or @role="leftsub" or @role="rightsuper" or @role="rightsub"'],'Rule,subtraction,default,[m] children/* (separator:"moins");,self::infixop,@role="subtraction"'.split(","),["Rule","function-unknown","default","[n] children/*[1]; [n] children/*[2]","self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,children/*[1][@role="prefix function"]'.split(","),'Rule,fences-open-close,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="leftright"'.split(","),'Rule,fences-neutral,default,[t] "d\xE9but valeur absolue"; [n] children/*[1]; [t] "fin valeur absolue",self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["SpecializedRule","fences-neutral","default","sbrief",'[t] "valeur absolue"; [n] children/*[1]; [t] "fin valeur absolue"'],'Rule,fences-neutral,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="neutral"'.split(","),'Rule,fences-set,default,[t] "d\xE9but ensemble"; [n] children/*[1]; [t] "fin ensemble",self::fenced,@role="set empty" or @role="set extended" or @role="set singleton" or @role="set collection",not(name(../..)="appl")'.split(","),["SpecializedRule","fences-set","default","sbrief",'[t] "ensemble"; [n] children/*[1]; [t] "fin ensemble"'],["Rule","text","default","[n] text()","self::text"],'Rule;factorial;default;[t] "factorielle";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),'Rule;minus;default;[t] "moins";self::operator;text()="-"'.split(";"),'Rule;single-prime;default;[t] "prime";self::punctuated;@role="prime";count(children/*)=1'.split(";"),'Rule;double-prime;default;[t] "double prime";self::punctuated;@role="prime";count(children/*)=2'.split(";"),'Rule;triple-prime;default;[t] "triple prime";self::punctuated;@role="prime";count(children/*)=3'.split(";"),'Rule;quadruple-prime;default;[t] "quadruple prime";self::punctuated;@role="prime";count(children/*)=4'.split(";"),'Rule,counted-prime,default,[t] count(children/*); [t] "prime",self::punctuated,@role="prime"'.split(","),["Rule","fraction","default","[t] CSFopenFracVerbose; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracVerbose","self::fraction"],["Rule","fraction","brief","[t] CSFopenFracBrief; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracBrief","self::fraction"],["Rule","fraction","sbrief","[t] CSFopenFracSbrief; [n] children/*[1]; [t] CSFoverFracSbrief; [n] children/*[2]; [t] CSFcloseFracSbrief","self::fraction"],'Rule;vulgar-fraction;default;[t] CSFvulgarFrFraction;self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["SpecializedRule","vulgar-fraction","default","brief"],["SpecializedRule","vulgar-fraction","default","sbrief"],'Rule,continued-fraction-outer,default,[t] "fraction continue"; [n] children/*[1];[t] "sur"; [n] children/*[2],self::fraction,not(ancestor::fraction),children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-outer","default","brief",'[t] "frac continue"; [n] children/*[1];[t] "sur"; [n] children/*[2]'],["SpecializedRule","continued-fraction-outer","brief","sbrief"],'Rule,continued-fraction-inner,default,[t] "d\xE9but fraction"; [n] children/*[1];[t] "sur"; [n] children/*[2],self::fraction,ancestor::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-inner","default","brief",'[t] "d\xE9but frac"; [n] children/*[1];[t] "sur"; [n] children/*[2]'],["SpecializedRule","continued-fraction-inner","brief","sbrief",'[t] "frac"; [n] children/*[1];[t] "sur"; [n] children/*[2]'],["Rule","sqrt","default","[t] CSFopenRadicalVerbose; [n] children/*[1]; [t] CSFcloseRadicalVerbose","self::sqrt"],["Rule","sqrt","brief","[t] CSFopenRadicalBrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],["Rule","sqrt","sbrief","[t] CSFopenRadicalSbrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],"Rule,root-small,default,[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose,self::root,CQFisSmallRoot".split(","),"Rule,root-small,brief,[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,CQFisSmallRoot".split(","),"Rule,root-small,sbrief,[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,CQFisSmallRoot".split(","),["Rule","root","default","[t] CSFindexRadicalVerbose; [n] children/*[1];[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose","self::root"],["Rule","root","brief","[t] CSFindexRadicalBrief; [n] children/*[1];[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],["Rule","root","sbrief","[t] CSFindexRadicalSbrief; [n] children/*[1];[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],'Rule,limboth,default,[n] children/*[1]; [t] "d\xE9but"; [t] CSFunderscript; [n] children/*[2];[t] "d\xE9but"; [t] CSFoverscript; [n] children/*[3],self::limboth,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limlower,default,[n] children/*[1]; [t] "d\xE9but"; [t] CSFunderscript; [n] children/*[2];,self::limlower,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limupper,default,[n] children/*[1]; [t] "d\xE9but"; [t] CSFoverscript; [n] children/*[2];,self::limupper,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Aliases;limlower;self::underscore;@role="limit function";name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limlower;self::underscore;children/*[2][@role!="underaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limupper;self::overscore;children/*[2][@role!="overaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),["Rule","limboth-end","default",'[n] children/*[1]; [t] "d\xE9but"; [t] CSFunderscript; [n] children/*[2];[t] "d\xE9but"; [t] CSFoverscript; [n] children/*[3]; [t] "fin scripts"',"self::limboth"],["Rule","limlower-end","default",'[n] children/*[1]; [t] "d\xE9but"; [t] CSFunderscript; [n] children/*[2]; [t] "fin scripts"',"self::limlower"],["Rule","limupper-end","default",'[n] children/*[1]; [t] "d\xE9but"; [t] CSFoverscript; [n] children/*[2]; [t] "fin scripts"',"self::limupper"],["Aliases","limlower-end","self::underscore",'@role="limit function"'],["Aliases","limlower-end","self::underscore"],["Aliases","limupper-end","self::overscore"],["Rule","integral","default","[n] children/*[1]; [n] children/*[2]; [n] children/*[3];","self::integral"],'Rule,integral,default,[n] children/*[1]; [t] "indice inf\xE9rieur"; [n] children/*[2];[t] "indice sup\xE9rieur"; [n] children/*[3]; [t] "position de base";,self::limboth,@role="integral"'.split(","),["SpecializedRule","integral","default","brief",'[n] children/*[1]; [t] "inf"; [n] children/*[2];[t] "sup"; [n] children/*[3]; [t] "position de base";'],["SpecializedRule","integral","brief","sbrief"],["Rule","bigop","default","[n] children/*[1]; [n] children/*[2];","self::bigop"],["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule,equality,default,[n] children/*[1]; [n] content/*[1]; [n] children/*[2],self::relseq,@role="equality",count(./children/*)=2'.split(","),'Rule;multi-equality;default;[m] children/* (sepFunc:CTXFcontentIterator);self::relseq;@role="equality";count(./children/*)>2'.split(";"),["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],["Rule","subscript","default","[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]","self::subscript"],["Rule","subscript","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]","self::subscript"],["SpecializedRule","subscript","brief","sbrief"],'Rule,subscript-base,default,[n] children/*[1]; [t] "base"; [n] children/*[2],self::subscript,CQFisLogarithm,self::*,self::*,self::*'.split(","),["SpecializedRule","subscript-base","default","brief"],["SpecializedRule","subscript-base","default","sbrief"],'Rule,subscript-simple,brief,[n] children/*[1]; [n] children/*[2],self::subscript,name(./children/*[1])="identifier",name(./children/*[2])="number",./children/*[2][@role!="mixed"],./children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","subscript-simple","brief","sbrief"],'Rule,subscript-baseline,default,[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]; [t] CSFbaselineVerbose,self::subscript,following-sibling::*,not(name(following-sibling::subscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="subscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and @role!="subsup",not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","subscript-baseline","default","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","subscript-baseline","brief","sbrief"],'Aliases;subscript-baseline;self::subscript;not(following-sibling::*);ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::punctuated|ancestor::fraction;not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel",sre.MathspeakUtil.generateBaselineConstraint()],["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","@embellished"],'Rule,subscript-empty-sup,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="superscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","subscript-empty-sup","default","brief"],["SpecializedRule","subscript-empty-sup","brief","sbrief"],["Aliases","subscript-empty-sup","self::subscript",'name(children/*[2])="superscript"','name(children/*[2]/children/*[1])="empty"'],["Rule","superscript","default","[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2]","self::superscript"],["SpecializedRule","superscript","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2]"],["SpecializedRule","superscript","brief","sbrief"],'Rule,superscript-baseline,default,[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2];[t] CSFbaselineVerbose,self::superscript,following-sibling::*,not(name(following-sibling::superscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="superscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","superscript-baseline","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2];[t] CSFbaselineBrief"],["SpecializedRule","superscript-baseline","brief","sbrief"],'Aliases;superscript-baseline;self::superscript;not(following-sibling::*);ancestor::punctuated;ancestor::*/following-sibling::* and not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::fraction|ancestor::fenced|ancestor::root|ancestor::sqrt"],["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel","not(@embellished)",sre.MathspeakUtil.generateBaselineConstraint()],'Aliases superscript-baseline self::superscript not(following-sibling::*) @embellished not(children/*[2][@role="prime"])'.split(" "),'Rule,superscript-empty-sub,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="subscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","superscript-empty-sub","default","brief"],["SpecializedRule","superscript-empty-sub","brief","sbrief"],["Aliases","superscript-empty-sub","self::superscript",'name(children/*[2])="subscript"','name(children/*[2]/children/*[1])="empty"'],'Rule,square,default,[n] children/*[1]; [t] "au carr\xE9",self::superscript,children/*[2],children/*[2][text()=2],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","square","default","brief"],["SpecializedRule","square","default","sbrief"],'Aliases;square;self::superscript;children/*[2];children/*[2][text()=2];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,cube,default,[n] children/*[1]; [t] "cubique",self::superscript,children/*[2],children/*[2][text()=3],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","cube","default","brief"],["SpecializedRule","cube","default","sbrief"],'Aliases;cube;self::superscript;children/*[2];children/*[2][text()=3];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"]'.split(","),["SpecializedRule","prime","default","brief"],["SpecializedRule","prime","default","sbrief"],'Rule,prime-subscript,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",not(following-sibling::*)'.split(","),["SpecializedRule","prime-subscript","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]"],["SpecializedRule","prime-subscript","brief","sbrief"],'Rule,prime-subscript-baseline,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2]; [t] CSFbaselineVerbose,self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",following-sibling::*'.split(","),["SpecializedRule","prime-subscript-baseline","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","prime-subscript-baseline","brief","sbrief"],'Aliases prime-subscript-baseline self::superscript children/*[2][@role="prime"] name(children/*[1])="subscript" not(following-sibling::*) @embellished'.split(" "),'Rule,prime-subscript-simple,brief,[n] children/*[1]/children/*[1]; [n] children/*[2];[n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",name(children/*[1]/children/*[1])="identifier",name(children/*[1]/children/*[2])="number",children/*[1]/children/*[2][@role!="mixed"],children/*[1]/children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","prime-subscript-simple","brief","sbrief"],'Rule,overscore,default,[t] "suscrire"; [n] children/*[1]; [t] "avec"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"]'.split(","),'Rule,double-overscore,default,[t] "sus-suscrire"; [n] children/*[1]; [t] "avec"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"],name(children/*[1])="overscore",children/*[1]/children/*[2][@role="overaccent"]'.split(","),'Rule,underscore,default,[t] "souscrire"; [n] children/*[1]; [t] "avec"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"]'.split(","),'Rule,double-underscore,default,[t] "sous-souscrire"; [n] children/*[1]; [t] "avec"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role="underaccent"]'.split(","),'Rule,matrix-fence,default,[n] children/*[1];,self::fenced,count(children/*)=1,name(children/*[1])="matrix"'.split(","),["Rule","matrix","default",'[t] "d\xE9but matrice"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin matrice"',"self::matrix"],["Rule","matrix","sbrief",'[t] "matrice"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin matrice"',"self::matrix"],["Aliases","matrix","self::vector"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"colonne");[p] (pause: 200)',"self::row"],'Rule{row-with-label{default{[t] "avec \xE9tiquette"; [n] content/*[1]; [t] "fin \xE9tiquette"(pause: 200); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"colonne"){self::row{content'.split("{"),'Rule{row-with-label{brief{[t] "\xE9tiquette"; [n] content/*[1]; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"colonne"){self::row{content'.split("{"),["SpecializedRule","row-with-label","brief","sbrief"],'Rule{row-with-text-label{sbrief{[t] "\xE9tiquette"; [t] CSFRemoveParens;[m] children/* (ctxtFunc:CTXFordinalCounter,context:"colonne"){self::row{content{name(content/cell/children/*[1])="text"'.split("{"),'Rule;empty-row;default;[t] "vide";self::row;count(children/*)=0'.split(";"),["Rule","matrix-cell","default","[n] children/*[1]; [p] (pause: 300)","self::cell"],'Rule,empty-cell,default,[t] "vide"; [p] (pause: 300),self::cell,count(children/*)=0'.split(","),'Rule{determinant{default{[t] "d\xE9but d\xE9terminant"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [t] ""; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin d\xE9terminant"{self::matrix{@role="determinant"'.split("{"),["SpecializedRule","determinant","default","sbrief",'[t] "d\xE9terminant"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin d\xE9terminant"'],'Rule{determinant-simple{default{[t] "d\xE9but d\xE9terminant"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e",grammar:simpleDet); [t] "fin d\xE9terminant"{self::matrix{@role="determinant"{CQFdetIsSimple'.split("{"),["SpecializedRule","determinant-simple","default","sbrief",'[t] "d\xE9terminant"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e",grammar:simpleDet); [t] "fin d\xE9terminant"'],'Rule{row-simple{default{[m] children/*;{self::row{@role="determinant"{contains(@grammar, "simpleDet")'.split("{"),["Rule","layout","default",'[t] "d\xE9but tableau"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin tableau"',"self::table"],["Rule","layout","sbrief",'[t] "tableau"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin tableau"',"self::table"],'Rule,binomial,default,[t] "d\xE9but binomiale"; [n] children/*[2]/children/*[1]; [t] "parmi"; [n] children/*[1]/children/*[1];  [t] "fin binomiale",self::vector,@role="binomial"'.split(","),'Rule,binomial,sbrief,[t] "binomiale"; [n] children/*[1]/children/*[1]; [t] "parmi"; [n] children/*[2]/children/*[1];  [t] "fin binomiale",self::vector,@role="binomial"'.split(","),["Rule","cases","default",'[t] "d\xE9but tableau"; [n] content/*[1]; [t] "\xE9largie";[m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin tableau"',"self::cases"],["Rule","cases","sbrief",'[t] "tableau"; [n] content/*[1]; [t] "\xE9largie"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"rang\xE9e "); [t] "fin tableau"',"self::cases"],["Aliases","layout","self::multiline"],["Rule","line","default","[m] children/*","self::line"],'Rule,line-with-label,default,[t] "avec etiquette"; [n] content/*[1]; [t] "fin etiquette" (pause: 200); [m] children/*,self::line,content'.split(","),["SpecializedRule","line-with-label","default","brief",'[t] "etiquette"; [n] content/*[1] (pause: 200); [m] children/*'],["SpecializedRule","line-with-label","brief","sbrief"],'Rule,line-with-text-label,sbrief,[t] "etiquette"; [t] CSFRemoveParens; [m] children/*,self::line,content,name(content/cell/children/*[1])="text"'.split(","),'Rule;empty-line;default;[t] "vide";self::line;count(children/*)=0;not(content)'.split(";"),["SpecializedRule","empty-line","default","brief"],["SpecializedRule","empty-line","brief","sbrief"],'Rule,empty-line-with-label,default,[t] "avec etiquette"; [n] content/*[1]; [t] "fin etiquette" (pause: 200); [t] "vide",self::line,count(children/*)=0,content'.split(","),["SpecializedRule","empty-line-with-label","default","brief",'[t] "etiquette"; [n] content/*[1] (pause: 200); [t] "vide"'],["SpecializedRule","empty-line-with-label","brief","sbrief"],["Rule","enclose","default",'[t] "d\xE9but enfermer en"; [t] @role (grammar:localEnclose); [n] children/*[1]; [t] "fin enfermer"',"self::enclose"],'Rule,overbar,default,[t] "d\xE9but trait suscrit"; [n] children/*[1]; [t] "fin trait suscrit",self::enclose,@role="top"'.split(","),'Rule,underbar,default,[t] "d\xE9but trait souscrit"; [n] children/*[1]; [t] "fin trait souscrit",self::enclose,@role="bottom"'.split(","),'Rule,leftbar,default,[t] "barre verticale"; [n] children/*[1],self::enclose,@role="left"'.split(","),'Rule,rightbar,default,[n] children/*[1]; [t] "barre verticale",self::enclose,@role="right"'.split(","),'Rule,crossout,default,[t] "d\xE9but biff\xE9"; [n] children/*[1]; [t] "fin biff\xE9",self::enclose,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),'Rule,cancel,default,[t] "d\xE9but biff\xE9"; [n] children/*[1]/children/*[1]; [t] "avec"; [n] children/*[2]; [t] "fin biff\xE9",self::overscore,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),["SpecializedRule","cancel","default","brief"],["SpecializedRule","cancel","default","sbrief"],["Aliases","cancel","self::underscore",'@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'],'Rule,cancel-reverse,default,[t] "d\xE9but biff\xE9"; [n] children/*[2]/children/*[1]; [t] "avec"; [n] children/*[1]; [t] "fin biff\xE9",self::overscore,name(children/*[2])="enclose",children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'.split(","),["SpecializedRule","cancel-reverse","default","brief"],["SpecializedRule","cancel-reverse","default","sbrief"],["Aliases","cancel-reverse","self::underscore",'name(children/*[2])="enclose"','children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'],'Rule;end-punct;default;[m] children/*;self::punctuated;@role="endpunct"'.split(";"),'Rule,start-punct,default,[n] content/*[1]; [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1]; [n] children/*[3],self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],'Rule;unit;default;[t] text() (grammar:annotation="unit":translate);self::identifier;@role="unit"'.split(";"),'Rule,unit-square,default,[n] children/*[1]; [t] "carr\xE9",self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[n] children/*[1]; [t] "cubique",self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,reciprocal,default,[t] "r\xE9ciproque"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,reciprocal,default,[t] "par"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-divide,default,[n] children/*[1]; [t] "par"; [n] children/*[2],self::fraction,@role="unit"'.split(",")],initialize:[sre.MathspeakUtil.generateTensorRules]},sre.MathspeakGerman={locale:"de",domain:"mathspeak",functions:[["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFspaceoutIdentifier",sre.MathspeakUtil.spaceoutIdentifier],["CSF","CSFspaceoutText",sre.MathspeakUtil.spaceoutText],["CSF","CSFopenFracVerbose",sre.MathspeakUtil.openingFractionVerbose],["CSF","CSFcloseFracVerbose",sre.MathspeakUtil.closingFractionVerbose],["CSF","CSFoverFracVerbose",sre.MathspeakUtil.overFractionVerbose],["CSF","CSFopenFracBrief",sre.MathspeakUtil.openingFractionBrief],["CSF","CSFcloseFracBrief",sre.MathspeakUtil.closingFractionBrief],["CSF","CSFopenFracSbrief",sre.MathspeakUtil.openingFractionSbrief],["CSF","CSFcloseFracSbrief",sre.MathspeakUtil.closingFractionSbrief],["CSF","CSFoverFracSbrief",sre.MathspeakUtil.overFractionSbrief],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.MathspeakUtil.isSmallVulgarFraction],["CSF","CSFopenRadicalVerbose",sre.MathspeakUtil.openingRadicalVerbose],["CSF","CSFcloseRadicalVerbose",sre.MathspeakUtil.closingRadicalVerbose],["CSF","CSFindexRadicalVerbose",sre.MathspeakUtil.indexRadicalVerbose],["CSF","CSFopenRadicalBrief",sre.MathspeakUtil.openingRadicalBrief],["CSF","CSFcloseRadicalBrief",sre.MathspeakUtil.closingRadicalBrief],["CSF","CSFindexRadicalBrief",sre.MathspeakUtil.indexRadicalBrief],["CSF","CSFopenRadicalSbrief",sre.MathspeakUtil.openingRadicalSbrief],["CSF","CSFindexRadicalSbrief",sre.MathspeakUtil.indexRadicalSbrief],["CSF","CSFsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFbaselineVerbose",sre.MathspeakUtil.baselineVerbose],["CSF","CSFbaselineBrief",sre.MathspeakUtil.baselineBrief],["CSF","CSFleftsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFleftsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFrightsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFrightsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFleftsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFleftsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFrightsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFrightsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFunderscript",sre.MathspeakUtil.nestedUnderscore],["CSF","CSFoverscript",sre.MathspeakUtil.nestedOverscore],["CTXF","CTXFordinalCounter",sre.NumbersUtil.ordinalCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CQF","CQFdetIsSimple",sre.MathspeakUtil.determinantIsSimple],["CSF","CSFRemoveParens",sre.MathspeakUtil.removeParens],["CQF","CQFresetNesting",sre.MathspeakUtil.resetNestingDepth]],rules:['Rule{collapsed{default{[n] . (engine:modality=summary,grammar:collapsed); [t] "kollabiert"{self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["SpecializedRule","collapsed","default","brief"],["SpecializedRule","collapsed","brief","sbrief"],"Rule;stree;default;[n] ./*[1];self::stree;CQFresetNesting".split(";"),["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule;blank-empty;default;[t] "leer";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),'Rule{font{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::*{name(self::*)!="number"{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-number{default{[t] @font (grammar:localFontNumber); [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1 or string-length(text())=2{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1 or string-length(text())=2;@font;not(contains(@grammar, "ignoreFont"));@font="italic";self::*'.split(";"),'Rule{font-double-struck{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFont){self::*{name(self::*)!="number"{string-length(text())=1 or string-length(text())=2{@font{not(contains(@grammar, "ignoreFont")){@font="double-struck"'.split("{"),'Rule{font-number-double-struck{default{[n] . (grammar:ignoreFont=@font); [t] @font (grammar:localFontNumber){self::number{string-length(text())=1 or string-length(text())=2{@font{not(contains(@grammar, "ignoreFont")){@font="double-struck"'.split("{"),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "Zahl"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),'Rule{number-as-upper-word{default{[t] "Wort gro\xDF"; [t] CSFspaceoutText{self::number{string-length(text())>1{text()=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9", "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9"){""=translate(text(), "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9","")'.split("{"),["SpecializedRule","number-as-upper-word","default","brief"],["SpecializedRule","number-as-upper-word","default","sbrief"],'Rule{number-baseline{default{[t] "Grundlinie"; [n] . (grammar:baseline){self::number{not(contains(@grammar, "ignoreFont")){preceding-sibling::identifier{not(contains(@grammar, "baseline")){preceding-sibling::*[1][@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline","default","brief",'[t] "Grund"; [n] . (grammar:baseline)'],["SpecializedRule","number-baseline","brief","sbrief"],'Rule{number-baseline-font{default{[t] "Grundlinie"; [t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"{preceding-sibling::identifier{preceding-sibling::*[@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline-font","default","brief",'[t] "Grund"; [t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font)'],["SpecializedRule","number-baseline-font","brief","sbrief"],'Rule;identifier;default;[m] CQFspaceoutIdentifier;self::identifier;string-length(text())>1;@role!="unit";not(@font) or @font="normal" or contains(@grammar, "ignoreFont");text()!=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", "")'.split(";"),["Rule","identifier","default","[n] text()","self::identifier"],'Rule,negative,default,[t] "minus"; [n] children/*[1],self::prefixop,@role="negative",children/identifier'.split(","),["Aliases","negative","self::prefixop",'@role="negative"',"children/number"],["Aliases","negative","self::prefixop",'@role="negative"','children/fraction[@role="vulgar"]'],'Rule,negative,default,[t] "minus"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),["Rule","prefix","default","[m] content/*; [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/*","self::postfixop"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit"'.split(";"),["Aliases","implicit","self::infixop",'@role="leftsuper" or @role="leftsub" or @role="rightsuper" or @role="rightsub"'],'Rule,subtraction,default,[m] children/* (separator:"minus");,self::infixop,@role="subtraction"'.split(","),["Rule","function-unknown","default","[n] children/*[1]; [n] children/*[2]","self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,children/*[1][@role="prefix function"]'.split(","),'Rule,fences-open-close,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="leftright"'.split(","),'Rule,fences-neutral,default,[t] "Anfang Betrag"; [n] children/*[1]; [t] "Ende Betrag",self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["SpecializedRule","fences-neutral","default","sbrief",'[t] "Betrag"; [n] children/*[1]; [t] "Ende Betrag"'],'Rule,fences-neutral,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="neutral"'.split(","),'Rule,fences-set,default,[t] "Anfang Menge"; [n] children/*[1]; [t] "Ende Menge",self::fenced,@role="set empty" or @role="set extended" or @role="set singleton" or @role="set collection",not(name(../..)="appl")'.split(","),["SpecializedRule","fences-set","default","sbrief",'[t] "Menge"; [n] children/*[1]; [t] "Ende Menge"'],["Rule","text","default","[n] text()","self::text"],'Rule;factorial;default;[t] "Fakult\xE4t";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),'Rule;minus;default;[t] "minus";self::operator;text()="-"'.split(";"),'Rule;single-prime;default;[t] "Strich";self::punctuated;@role="prime";count(children/*)=1'.split(";"),'Rule;double-prime;default;[t] "zwei Strich";self::punctuated;@role="prime";count(children/*)=2'.split(";"),'Rule;triple-prime;default;[t] "drei Strich";self::punctuated;@role="prime";count(children/*)=3'.split(";"),'Rule;quadruple-prime;default;[t] "vier Strich";self::punctuated;@role="prime";count(children/*)=4'.split(";"),'Rule,counted-prime,default,[t] count(children/*); [t] "Strich",self::punctuated,@role="prime"'.split(","),["Rule","fraction","default","[t] CSFopenFracVerbose; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracVerbose","self::fraction"],["Rule","fraction","brief","[t] CSFopenFracBrief; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracBrief","self::fraction"],["Rule","fraction","sbrief","[t] CSFopenFracSbrief; [n] children/*[1]; [t] CSFoverFracSbrief; [n] children/*[2]; [t] CSFcloseFracSbrief","self::fraction"],'Rule;vulgar-fraction;default;[t] CSFvulgarFraction (grammar:correctOne);self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["SpecializedRule","vulgar-fraction","default","brief"],["SpecializedRule","vulgar-fraction","default","sbrief"],'Rule,continued-fraction-outer,default,[t] "Kettenbruch"; [n] children/*[1];[t] "durch"; [n] children/*[2],self::fraction,not(ancestor::fraction),children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),'Rule,continued-fraction-inner,default,[t] "Anfang Bruch"; [n] children/*[1];[t] "durch"; [n] children/*[2],self::fraction,ancestor::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-inner","default","sbrief",'[t] "Bruch"; [n] children/*[1];[t] "durch"; [n] children/*[2]'],["Rule","sqrt","default","[t] CSFopenRadicalVerbose; [n] children/*[1]; [t] CSFcloseRadicalVerbose","self::sqrt"],["Rule","sqrt","brief","[t] CSFopenRadicalBrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],["Rule","sqrt","sbrief","[t] CSFopenRadicalSbrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],"Rule,root-small,default,[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose,self::root,children/*[1][text()=3 or text()=2]".split(","),"Rule,root-small,brief,[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,children/*[1][text()=3 or text()=2]".split(","),"Rule,root-small,sbrief,[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,children/*[1][text()=3 or text()=2]".split(","),["Rule","root","default","[t] CSFindexRadicalVerbose; [n] children/*[1];[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose","self::root"],["Rule","root","brief","[t] CSFindexRadicalBrief; [n] children/*[1];[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],["Rule","root","sbrief","[t] CSFindexRadicalSbrief; [n] children/*[1];[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],'Rule,limboth,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3],self::limboth,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limlower,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];,self::limlower,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limupper,default,[n] children/*[1]; [t] CSFoverscript; [n] children/*[2];,self::limupper,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Aliases;limlower;self::underscore;@role="limit function";name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limlower;self::underscore;children/*[2][@role!="underaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limupper;self::overscore;children/*[2][@role!="overaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),["Rule","limboth-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3]; [t] "Ende \xDCberschrift"',"self::limboth"],["Rule","limlower-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2]; [t] "Ende Unterschrift"',"self::limlower"],["Rule","limupper-end","default",'[n] children/*[1]; [t] CSFoverscript; [n] children/*[2]; [t] "Ende \xDCberschrift"',"self::limupper"],["Aliases","limlower-end","self::underscore",'@role="limit function"'],["Aliases","limlower-end","self::underscore"],["Aliases","limupper-end","self::overscore"],["Rule","integral","default","[n] children/*[1]; [n] children/*[2]; [n] children/*[3];","self::integral"],'Rule,integral,default,[n] children/*[1]; [t] "Index"; [n] children/*[2];[t] "Hoch"; [n] children/*[3]; [t] "Grundlinie";,self::limboth,@role="integral"'.split(","),["SpecializedRule","integral","default","brief",'[n] children/*[1]; [t] "Index"; [n] children/*[2];[t] "Hoch"; [n] children/*[3]; [t] "Base";'],["SpecializedRule","integral","brief","sbrief"],["Rule","bigop","default","[n] children/*[1]; [n] children/*[2];","self::bigop"],["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule,equality,default,[n] children/*[1]; [n] content/*[1]; [n] children/*[2],self::relseq,@role="equality",count(./children/*)=2'.split(","),'Rule;multi-equality;default;[m] children/* (sepFunc:CTXFcontentIterator);self::relseq;@role="equality";count(./children/*)>2'.split(";"),["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],["Rule","subscript","default","[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]","self::subscript"],["Rule","subscript","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]","self::subscript"],["SpecializedRule","subscript","brief","sbrief"],'Rule,subscript-simple,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(./children/*[1])="identifier",name(./children/*[2])="number",./children/*[2][@role!="mixed"],./children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","subscript-simple","default","brief"],["SpecializedRule","subscript-simple","default","sbrief"],'Rule,subscript-baseline,default,[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]; [t] CSFbaselineVerbose,self::subscript,following-sibling::*,not(name(following-sibling::subscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="subscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and @role!="subsup",not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","subscript-baseline","default","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","subscript-baseline","brief","sbrief"],'Aliases;subscript-baseline;self::subscript;not(following-sibling::*);ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::punctuated|ancestor::fraction;not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel",sre.MathspeakUtil.generateBaselineConstraint()],["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","@embellished"],'Rule,subscript-empty-sup,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="superscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","subscript-empty-sup","default","brief"],["SpecializedRule","subscript-empty-sup","brief","sbrief"],["Aliases","subscript-empty-sup","self::subscript",'name(children/*[2])="superscript"','name(children/*[2]/children/*[1])="empty"'],["Rule","superscript","default","[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2]","self::superscript"],["SpecializedRule","superscript","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2]"],["SpecializedRule","superscript","brief","sbrief"],'Rule,superscript-baseline,default,[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2];[t] CSFbaselineVerbose,self::superscript,following-sibling::*,not(name(following-sibling::superscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="superscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","superscript-baseline","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2];[t] CSFbaselineBrief"],["SpecializedRule","superscript-baseline","brief","sbrief"],'Aliases;superscript-baseline;self::superscript;not(following-sibling::*);ancestor::punctuated;ancestor::*/following-sibling::* and not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::fraction|ancestor::fenced|ancestor::root|ancestor::sqrt"],["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel","not(@embellished)",sre.MathspeakUtil.generateBaselineConstraint()],'Aliases superscript-baseline self::superscript not(following-sibling::*) @embellished not(children/*[2][@role="prime"])'.split(" "),'Rule,superscript-empty-sub,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="subscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","superscript-empty-sub","default","brief"],["SpecializedRule","superscript-empty-sub","brief","sbrief"],["Aliases","superscript-empty-sub","self::superscript",'name(children/*[2])="subscript"','name(children/*[2]/children/*[1])="empty"'],'Rule,square,default,[n] children/*[1]; [t] "Quadrat",self::superscript,children/*[2],children/*[2][text()=2],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","square","default","brief"],["SpecializedRule","square","default","sbrief"],'Aliases;square;self::superscript;children/*[2];children/*[2][text()=2];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,cube,default,[n] children/*[1]; [t] "Kubik",self::superscript,children/*[2],children/*[2][text()=3],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","cube","default","brief"],["SpecializedRule","cube","default","sbrief"],'Aliases;cube;self::superscript;children/*[2];children/*[2][text()=3];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"]'.split(","),["SpecializedRule","prime","default","brief"],["SpecializedRule","prime","default","sbrief"],'Rule,prime-subscript,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",not(following-sibling::*)'.split(","),["SpecializedRule","prime-subscript","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]"],["SpecializedRule","prime-subscript","brief","sbrief"],'Rule,prime-subscript-baseline,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2]; [t] CSFbaselineVerbose,self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",following-sibling::*'.split(","),["SpecializedRule","prime-subscript-baseline","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","prime-subscript-baseline","brief","sbrief"],'Aliases prime-subscript-baseline self::superscript children/*[2][@role="prime"] name(children/*[1])="subscript" not(following-sibling::*) @embellished'.split(" "),'Rule,prime-subscript-simple,default,[n] children/*[1]/children/*[1]; [n] children/*[2];[n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",name(children/*[1]/children/*[1])="identifier",name(children/*[1]/children/*[2])="number",children/*[1]/children/*[2][@role!="mixed"],children/*[1]/children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","prime-subscript-simple","default","brief"],["SpecializedRule","prime-subscript-simple","default","sbrief"],'Rule,overscore,default,[t] "modifiziert oben"; [n] children/*[1]; [t] "mit"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","overscore","default","brief",'[t] "mod oben"; [n] children/*[1]; [t] "mit"; [n] children/*[2]'],["SpecializedRule","overscore","brief","sbrief"],'Rule,double-overscore,default,[t] "modifiziert oben oben"; [n] children/*[1]; [t] "mit"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"],name(children/*[1])="overscore",children/*[1]/children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","double-overscore","default","brief",'[t] "mod oben oben"; [n] children/*[1]; [t] "mit"; [n] children/*[2]'],["SpecializedRule","double-overscore","brief","sbrief"],'Rule,underscore,default,[t] "modifiziert unten"; [n] children/*[1]; [t] "mit"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","underscore","default","brief",'[t] "mod unten"; [n] children/*[1]; [t] "mit"; [n] children/*[2]'],["SpecializedRule","underscore","brief","sbrief"],'Rule,double-underscore,default,[t] "modifiziert unten unten"; [n] children/*[1]; [t] "mit"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","double-underscore","default","brief",'[t] "mod unten unten"; [n] children/*[1]; [t] "mit"; [n] children/*[2]'],["SpecializedRule","double-underscore","brief","sbrief"],'Rule,overbar,default,[n] children/*[1]; [t] "\xDCberstrich",self::overscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,underbar,default,[n] children/*[1]; [t] "Unterstrich",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),'Rule,overtilde,default,[n] children/*[1]; [t] "Tilde oben",self::overscore,children/*[2][@role="overaccent"],@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),'Rule,undertilde,default,[n] children/*[1]; [t] "Tilde unten",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),'Rule,matrix-fence,default,[n] children/*[1];,self::fenced,count(children/*)=1,name(children/*[1])="matrix"'.split(","),["Rule","matrix","default",'[t] "Anfang"; [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Matrize"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Matrize"',"self::matrix"],["Rule","matrix","sbrief",'[t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Matrize"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Matrize"',"self::matrix"],["Aliases","matrix","self::vector"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Spalte");[p] (pause: 200)',"self::row"],'Rule{row-with-label{default{[t] "mit Bezeichner"; [n] content/*[1]; [t] "Ende Bezeichner"(pause: 200); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Spalte"){self::row{content'.split("{"),'Rule{row-with-label{brief{[t] "Bezeichner"; [n] content/*[1]; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Spalte"){self::row{content'.split("{"),["SpecializedRule","row-with-label","brief","sbrief"],'Rule{row-with-text-label{sbrief{[t] "Bezeichner"; [t] CSFRemoveParens;[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Spalte"){self::row{content{name(content/cell/children/*[1])="text"'.split("{"),'Rule;empty-row;default;[t] "Blank";self::row;count(children/*)=0'.split(";"),["Rule","matrix-cell","default","[n] children/*[1]; [p] (pause: 300)","self::cell"],'Rule,empty-cell,default,[t] "leer"; [p] (pause: 300),self::cell,count(children/*)=0'.split(","),'Rule{determinant{default{[t] "Anfang"; [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Determinante"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Determinante"{self::matrix{@role="determinant"'.split("{"),["SpecializedRule","determinant","default","sbrief",'[t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Determinante"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Determinante"'],'Rule{determinant-simple{default{[t] "Anfang"; [t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Determinante"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile",grammar:simpleDet); [t] "Ende Determinante"{self::matrix{@role="determinant"{CQFdetIsSimple'.split("{"),["SpecializedRule","determinant-simple","default","sbrief",'[t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Determinante"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile",grammar:simpleDet); [t] "Ende Determinante"'],'Rule{row-simple{default{[m] children/*;{self::row{@role="determinant"{contains(@grammar, "simpleDet")'.split("{"),["Rule","layout","default",'[t] "Anfang Anordnung"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Anordnung"',"self::table"],["Rule","layout","sbrief",'[t] "Anordnung"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Anordnung"',"self::table"],'Rule,binomial,default,[t] "Anfang Binomialkoeffizient"; [n] children/*[2]/children/*[1]; [t] "aus";  [n] children/*[1]/children/*[1]; [t] "Ende Binomialkoeffizient",self::vector,@role="binomial"'.split(","),'Rule,binomial,brief,[t] "Anfang Binomial"; [n] children/*[2]/children/*[1]; [t] "aus";  [n] children/*[1]/children/*[1]; [t] "Ende Binomial",self::vector,@role="binomial"'.split(","),'Rule,binomial,sbrief,[t] "Binomial"; [n] children/*[2]/children/*[1]; [t] "aus";  [n] children/*[1]/children/*[1]; [t] "Ende Binomial",self::vector,@role="binomial"'.split(","),["Rule","cases","default",'[t] "Anfang Fallunterscheidung"; [t] "gro\xDFe"; [n] content/*[1];[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende Fallunterscheidung"',"self::cases"],["Rule","cases","brief",'[t] "Anfang F\xE4lle"; [t] "gro\xDFe"; [n] content/*[1];[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende F\xE4lle"',"self::cases"],["Rule","cases","sbrief",'[t] "F\xE4lle"; [t] "gro\xDFe"; [n] content/*[1];[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Zeile "); [t] "Ende F\xE4lle"',"self::cases"],["Aliases","layout","self::multiline"],["Rule","line","default","[m] children/*","self::line"],'Rule,line-with-label,default,[t] "mit Bezeichner"; [n] content/*[1]; [t] "Ende Bezeichner" (pause: 200); [m] children/*,self::line,content'.split(","),["SpecializedRule","line-with-label","default","brief",'[t] "Bezeichner"; [n] content/*[1] (pause: 200); [m] children/*'],["SpecializedRule","line-with-label","brief","sbrief"],'Rule,line-with-text-label,sbrief,[t] "Bezeichner"; [t] CSFRemoveParens; [m] children/*,self::line,content,name(content/cell/children/*[1])="text"'.split(","),'Rule;empty-line;default;[t] "leer";self::line;count(children/*)=0;not(content)'.split(";"),["SpecializedRule","empty-line","default","brief"],["SpecializedRule","empty-line","brief","sbrief"],'Rule,empty-line-with-label,default,[t] "mit Bezeichner"; [n] content/*[1]; [t] "Ende Bezeichner"(pause: 200); [t] "leer",self::line,count(children/*)=0,content'.split(","),["SpecializedRule","empty-line-with-label","default","brief",'[t] "Bezeichner"; [n] content/*[1] (pause: 200); [t] "leer"'],["SpecializedRule","empty-line-with-label","brief","sbrief"],["Rule","enclose","default",'[t] "Anfang Umschlie\xDFung"; [t] @role (grammar:localEnclose); [n] children/*[1]; [t] "Ende Umschlie\xDFung"',"self::enclose"],["Aliases","overbar","self::enclose",'@role="top"'],["Aliases","underbar","self::enclose",'@role="bottom"'],'Rule,leftbar,default,[t] "senkrechter Strich"; [n] children/*[1],self::enclose,@role="left"'.split(","),'Rule,rightbar,default,[n] children/*[1]; [t] "senkrechter Strich",self::enclose,@role="right"'.split(","),'Rule,crossout,default,[t] "durchgestrichen"; [n] children/*[1]; [t] "Ende duchgestrichen",self::enclose,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),'Rule,cancel,default,[t] "durchgestrichen"; [n] children/*[1]/children/*[1]; [t] "mit"; [n] children/*[2]; [t] "Ende duchgestrichen",self::overscore,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),["SpecializedRule","cancel","default","brief"],["SpecializedRule","cancel","default","sbrief"],["Aliases","cancel","self::underscore",'@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'],'Rule,cancel-reverse,default,[t] "durchgestrichen"; [n] children/*[2]/children/*[1]; [t] "mit"; [n] children/*[1]; [t] "Ende duchgestrichen",self::overscore,name(children/*[2])="enclose",children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'.split(","),["SpecializedRule","cancel-reverse","default","brief"],["SpecializedRule","cancel-reverse","default","sbrief"],["Aliases","cancel-reverse","self::underscore",'name(children/*[2])="enclose"','children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'],'Rule;end-punct;default;[m] children/*;self::punctuated;@role="endpunct"'.split(";"),'Rule,start-punct,default,[n] content/*[1]; [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1]; [n] children/*[3],self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],'Rule;unit;default;[t] text() (grammar:annotation="unit":translate:plural);self::identifier;@role="unit"'.split(";"),'Rule,unit-square,default,[t] "Quadrat"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[t] "Kubik"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,reciprocal,default,[n] children/*[1]; [t] "invers",self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,reciprocal,default,[t] "pro"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-divide,default,[n] children/*[1]; [t] "pro"; [n] children/*[2],self::fraction,@role="unit"'.split(","),["Rule","inference","default",'[t] "Schlussregel"; [m] content/*; [t] "mit Folgerung"; [n] children/*[1]; [t] "aus"; [t] count(children/*[2]/children/*); [t] "Pr\xE4missen"',"self::inference"],'Rule,inference,default,[t] "Schlussregel"; ; [m] content/*; [t] "mit Folgerung"; [n] children/*[1]; [t] "aus"; [t] count(children/*[2]/children/*); [t] "Pr\xE4misse",self::inference,count(children/*[2]/children/*)<2'.split(","),["Rule","premise","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Pr\xE4misse ");',"self::premises"],["Rule","conclusion","default","[n] children/*[1]","self::conclusion"],["Rule","label","default",'[t] "Regel"; [n] children/*[1]',"self::rulelabel"],'Rule,axiom,default,[t] "Axiom"; [m] children/*[1];,self::inference,@role="axiom"'.split(","),'Rule,axiom,default,[t] "leeres Axiom";,self::empty,@role="axiom"'.split(",")],initialize:[sre.MathspeakUtil.generateTensorRules]},sre.MathspeakRules={domain:"mathspeak",functions:[["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFspaceoutIdentifier",sre.MathspeakUtil.spaceoutIdentifier],["CSF","CSFspaceoutText",sre.MathspeakUtil.spaceoutText],["CSF","CSFopenFracVerbose",sre.MathspeakUtil.openingFractionVerbose],["CSF","CSFcloseFracVerbose",sre.MathspeakUtil.closingFractionVerbose],["CSF","CSFoverFracVerbose",sre.MathspeakUtil.overFractionVerbose],["CSF","CSFopenFracBrief",sre.MathspeakUtil.openingFractionBrief],["CSF","CSFcloseFracBrief",sre.MathspeakUtil.closingFractionBrief],["CSF","CSFopenFracSbrief",sre.MathspeakUtil.openingFractionSbrief],["CSF","CSFcloseFracSbrief",sre.MathspeakUtil.closingFractionSbrief],["CSF","CSFoverFracSbrief",sre.MathspeakUtil.overFractionSbrief],["CSF","CSFvulgarFraction",sre.NumbersUtil.vulgarFraction],["CQF","CQFvulgarFractionSmall",sre.MathspeakUtil.isSmallVulgarFraction],["CSF","CSFopenRadicalVerbose",sre.MathspeakUtil.openingRadicalVerbose],["CSF","CSFcloseRadicalVerbose",sre.MathspeakUtil.closingRadicalVerbose],["CSF","CSFindexRadicalVerbose",sre.MathspeakUtil.indexRadicalVerbose],["CSF","CSFopenRadicalBrief",sre.MathspeakUtil.openingRadicalBrief],["CSF","CSFcloseRadicalBrief",sre.MathspeakUtil.closingRadicalBrief],["CSF","CSFindexRadicalBrief",sre.MathspeakUtil.indexRadicalBrief],["CSF","CSFopenRadicalSbrief",sre.MathspeakUtil.openingRadicalSbrief],["CSF","CSFindexRadicalSbrief",sre.MathspeakUtil.indexRadicalSbrief],["CSF","CSFsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFbaselineVerbose",sre.MathspeakUtil.baselineVerbose],["CSF","CSFbaselineBrief",sre.MathspeakUtil.baselineBrief],["CSF","CSFleftsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFleftsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFrightsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFrightsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFleftsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFleftsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFrightsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFrightsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFunderscript",sre.MathspeakUtil.nestedUnderscore],["CSF","CSFoverscript",sre.MathspeakUtil.nestedOverscore],["CTXF","CTXFordinalCounter",sre.NumbersUtil.ordinalCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CQF","CQFdetIsSimple",sre.MathspeakUtil.determinantIsSimple],["CSF","CSFRemoveParens",sre.MathspeakUtil.removeParens],["CQF","CQFresetNesting",sre.MathspeakUtil.resetNestingDepth]],rules:['Rule{collapsed{default{[t] "collapsed"; [n] . (engine:modality=summary,grammar:collapsed){self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["SpecializedRule","collapsed","default","brief"],["SpecializedRule","collapsed","brief","sbrief"],"Rule;stree;default;[n] ./*[1];self::stree;CQFresetNesting".split(";"),["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule;blank-empty;default;[t] "Blank";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),'Rule{font{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),'Rule{german-font{default{[t] "German"; [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font="fraktur"'.split("{"),'Rule{german-font{default{[t] "bold German"; [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font="bold-fraktur"'.split("{"),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "and"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "Number"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),["SpecializedRule","number-with-chars","default","brief",'[t] "Num"; [m] CQFspaceoutNumber (grammar:protected)'],["SpecializedRule","number-with-chars","brief","sbrief"],'Rule{number-as-upper-word{default{[t] "UpperWord"; [t] CSFspaceoutText{self::number{string-length(text())>1{text()=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9", "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9"){""=translate(text(), "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9","")'.split("{"),["SpecializedRule","number-as-upper-word","default","brief"],["SpecializedRule","number-as-upper-word","default","sbrief"],'Rule{number-baseline{default{[t] "Baseline"; [n] . (grammar:baseline){self::number{not(contains(@grammar, "ignoreFont")){preceding-sibling::identifier{not(contains(@grammar, "baseline")){preceding-sibling::*[1][@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline","default","brief",'[t] "Base"; [n] . (grammar:baseline)'],["SpecializedRule","number-baseline","brief","sbrief"],'Rule{number-baseline-font{default{[t] "Baseline"; [t] @font; [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"{preceding-sibling::identifier{preceding-sibling::*[@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline-font","default","brief",'[t] "Base"; [t] @font; [n] . (grammar:ignoreFont=@font)'],["SpecializedRule","number-baseline-font","brief","sbrief"],'Rule;identifier;default;[m] CQFspaceoutIdentifier;self::identifier;string-length(text())>1;@role!="unit";not(@font) or @font="normal" or contains(@grammar, "ignoreFont");text()!=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", "")'.split(";"),["Rule","identifier","default","[n] text()","self::identifier"],'Rule,negative,default,[t] "negative"; [n] children/*[1],self::prefixop,@role="negative",children/identifier'.split(","),["Aliases","negative","self::prefixop",'@role="negative"',"children/number"],["Aliases","negative","self::prefixop",'@role="negative"','children/fraction[@role="vulgar"]'],'Rule,negative,default,[t] "minus"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),["Rule","prefix","default","[m] content/*; [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/*","self::postfixop"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit"'.split(";"),["Aliases","implicit","self::infixop",'@role="leftsuper" or @role="leftsub" or @role="rightsuper" or @role="rightsub"'],'Rule,subtraction,default,[m] children/* (separator:"minus");,self::infixop,@role="subtraction"'.split(","),["Rule","function-unknown","default","[n] children/*[1]; [n] children/*[2]","self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,children/*[1][@role="prefix function"]'.split(","),'Rule,fences-open-close,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="leftright"'.split(","),'Rule,fences-neutral,default,[t] "StartAbsoluteValue"; [n] children/*[1]; [t] "EndAbsoluteValue",self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["SpecializedRule","fences-neutral","default","sbrief",'[t] "AbsoluteValue"; [n] children/*[1]; [t] "EndAbsoluteValue"'],'Rule,fences-neutral,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="neutral"'.split(","),'Rule,fences-set,default,[t] "StartSet"; [n] children/*[1]; [t] "EndSet",self::fenced,@role="set empty" or @role="set extended" or @role="set singleton" or @role="set collection",not(name(../..)="appl")'.split(","),["SpecializedRule","fences-set","default","sbrief",'[t] "Set"; [n] children/*[1]; [t] "EndSet"'],["Rule","text","default","[n] text()","self::text"],'Rule;factorial;default;[t] "factorial";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),'Rule;minus;default;[t] "minus";self::operator;text()="-"'.split(";"),'Rule;single-prime;default;[t] "prime";self::punctuated;@role="prime";count(children/*)=1'.split(";"),'Rule;double-prime;default;[t] "double prime";self::punctuated;@role="prime";count(children/*)=2'.split(";"),'Rule;triple-prime;default;[t] "triple prime";self::punctuated;@role="prime";count(children/*)=3'.split(";"),'Rule;quadruple-prime;default;[t] "quadruple prime";self::punctuated;@role="prime";count(children/*)=4'.split(";"),'Rule,counted-prime,default,[t] count(children/*); [t] "prime",self::punctuated,@role="prime"'.split(","),["Rule","fraction","default","[t] CSFopenFracVerbose; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracVerbose","self::fraction"],["Rule","fraction","brief","[t] CSFopenFracBrief; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracBrief","self::fraction"],["Rule","fraction","sbrief","[t] CSFopenFracSbrief; [n] children/*[1]; [t] CSFoverFracSbrief; [n] children/*[2]; [t] CSFcloseFracSbrief","self::fraction"],'Rule;vulgar-fraction;default;[t] CSFvulgarFraction;self::fraction;@role="vulgar";CQFvulgarFractionSmall'.split(";"),["SpecializedRule","vulgar-fraction","default","brief"],["SpecializedRule","vulgar-fraction","default","sbrief"],'Rule,continued-fraction-outer,default,[t] "ContinuedFraction"; [n] children/*[1];[t] "Over"; [n] children/*[2],self::fraction,not(ancestor::fraction),children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-outer","default","brief",'[t] "ContinuedFrac"; [n] children/*[1];[t] "Over"; [n] children/*[2]'],["SpecializedRule","continued-fraction-outer","brief","sbrief"],'Rule,continued-fraction-inner,default,[t] "StartFraction"; [n] children/*[1];[t] "Over"; [n] children/*[2],self::fraction,ancestor::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-inner","default","brief",'[t] "StartFrac"; [n] children/*[1];[t] "Over"; [n] children/*[2]'],["SpecializedRule","continued-fraction-inner","brief","sbrief",'[t] "Frac"; [n] children/*[1];[t] "Over"; [n] children/*[2]'],["Rule","sqrt","default","[t] CSFopenRadicalVerbose; [n] children/*[1]; [t] CSFcloseRadicalVerbose","self::sqrt"],["Rule","sqrt","brief","[t] CSFopenRadicalBrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],["Rule","sqrt","sbrief","[t] CSFopenRadicalSbrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],["Rule","root","default","[t] CSFindexRadicalVerbose; [n] children/*[1];[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose","self::root"],["Rule","root","brief","[t] CSFindexRadicalBrief; [n] children/*[1];[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],["Rule","root","sbrief","[t] CSFindexRadicalSbrief; [n] children/*[1];[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],'Rule,limboth,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3],self::limboth,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limlower,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];,self::limlower,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limupper,default,[n] children/*[1]; [t] CSFoverscript; [n] children/*[2];,self::limupper,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Aliases;limlower;self::underscore;@role="limit function";name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limlower;self::underscore;children/*[2][@role!="underaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limupper;self::overscore;children/*[2][@role!="overaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),["Rule","limboth-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3]; [t] "Endscripts"',"self::limboth"],["Rule","limlower-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2]; [t] "Endscripts"',"self::limlower"],["Rule","limupper-end","default",'[n] children/*[1]; [t] CSFoverscript; [n] children/*[2]; [t] "Endscripts"',"self::limupper"],["Aliases","limlower-end","self::underscore",'@role="limit function"'],["Aliases","limlower-end","self::underscore"],["Aliases","limupper-end","self::overscore"],["Rule","integral","default","[n] children/*[1]; [n] children/*[2]; [n] children/*[3];","self::integral"],'Rule,integral,default,[n] children/*[1]; [t] "Subscript"; [n] children/*[2];[t] "Superscript"; [n] children/*[3]; [t] "Baseline";,self::limboth,@role="integral"'.split(","),["SpecializedRule","integral","default","brief",'[n] children/*[1]; [t] "Sub"; [n] children/*[2];[t] "Sup"; [n] children/*[3]; [t] "Base";'],["SpecializedRule","integral","brief","sbrief"],["Rule","bigop","default","[n] children/*[1]; [n] children/*[2];","self::bigop"],["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule,equality,default,[n] children/*[1]; [n] content/*[1]; [n] children/*[2],self::relseq,@role="equality",count(./children/*)=2'.split(","),'Rule;multi-equality;default;[m] children/* (sepFunc:CTXFcontentIterator);self::relseq;@role="equality";count(./children/*)>2'.split(";"),["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],["Rule","subscript","default","[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]","self::subscript"],["Rule","subscript","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]","self::subscript"],["SpecializedRule","subscript","brief","sbrief"],'Rule,subscript-simple,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(./children/*[1])="identifier",name(./children/*[2])="number",./children/*[2][@role!="mixed"],./children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","subscript-simple","default","brief"],["SpecializedRule","subscript-simple","default","sbrief"],'Rule,subscript-baseline,default,[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]; [t] CSFbaselineVerbose,self::subscript,following-sibling::*,not(name(following-sibling::subscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="subscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and @role!="subsup",not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","subscript-baseline","default","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","subscript-baseline","brief","sbrief"],'Aliases;subscript-baseline;self::subscript;not(following-sibling::*);ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::punctuated|ancestor::fraction;not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel",sre.MathspeakUtil.generateBaselineConstraint()],["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","@embellished"],'Rule,subscript-empty-sup,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="superscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","subscript-empty-sup","default","brief"],["SpecializedRule","subscript-empty-sup","brief","sbrief"],["Aliases","subscript-empty-sup","self::subscript",'name(children/*[2])="superscript"','name(children/*[2]/children/*[1])="empty"'],["Rule","superscript","default","[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2]","self::superscript"],["SpecializedRule","superscript","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2]"],["SpecializedRule","superscript","brief","sbrief"],'Rule,superscript-baseline,default,[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2];[t] CSFbaselineVerbose,self::superscript,following-sibling::*,not(name(following-sibling::superscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="superscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","superscript-baseline","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2];[t] CSFbaselineBrief"],["SpecializedRule","superscript-baseline","brief","sbrief"],'Aliases;superscript-baseline;self::superscript;not(following-sibling::*);ancestor::punctuated;ancestor::*/following-sibling::* and not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::fraction|ancestor::fenced|ancestor::root|ancestor::sqrt"],["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel","not(@embellished)",sre.MathspeakUtil.generateBaselineConstraint()],'Aliases superscript-baseline self::superscript not(following-sibling::*) @embellished not(children/*[2][@role="prime"])'.split(" "),'Rule,superscript-empty-sub,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="subscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","superscript-empty-sub","default","brief"],["SpecializedRule","superscript-empty-sub","brief","sbrief"],["Aliases","superscript-empty-sub","self::superscript",'name(children/*[2])="subscript"','name(children/*[2]/children/*[1])="empty"'],'Rule,square,default,[n] children/*[1]; [t] "squared",self::superscript,children/*[2],children/*[2][text()=2],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","square","default","brief"],["SpecializedRule","square","default","sbrief"],'Aliases;square;self::superscript;children/*[2];children/*[2][text()=2];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,cube,default,[n] children/*[1]; [t] "cubed",self::superscript,children/*[2],children/*[2][text()=3],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","cube","default","brief"],["SpecializedRule","cube","default","sbrief"],'Aliases;cube;self::superscript;children/*[2];children/*[2][text()=3];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"]'.split(","),["SpecializedRule","prime","default","brief"],["SpecializedRule","prime","default","sbrief"],'Rule,prime-subscript,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",not(following-sibling::*)'.split(","),["SpecializedRule","prime-subscript","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]"],["SpecializedRule","prime-subscript","brief","sbrief"],'Rule,prime-subscript-baseline,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2]; [t] CSFbaselineVerbose,self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",following-sibling::*'.split(","),["SpecializedRule","prime-subscript-baseline","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]; [t] CSFbaselineBrief"],["SpecializedRule","prime-subscript-baseline","brief","sbrief"],'Aliases prime-subscript-baseline self::superscript children/*[2][@role="prime"] name(children/*[1])="subscript" not(following-sibling::*) @embellished'.split(" "),'Rule,prime-subscript-simple,default,[n] children/*[1]/children/*[1]; [n] children/*[2];[n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",name(children/*[1]/children/*[1])="identifier",name(children/*[1]/children/*[2])="number",children/*[1]/children/*[2][@role!="mixed"],children/*[1]/children/*[2][@role!="othernumber"]'.split(","),["SpecializedRule","prime-subscript-simple","default","brief"],["SpecializedRule","prime-subscript-simple","default","sbrief"],'Rule,overscore,default,[t] "ModifyingAbove"; [n] children/*[1]; [t] "With"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","overscore","default","brief",'[t] "ModAbove"; [n] children/*[1]; [t] "With"; [n] children/*[2]'],["SpecializedRule","overscore","brief","sbrief"],'Rule,double-overscore,default,[t] "ModifyingAbove Above"; [n] children/*[1]; [t] "With"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"],name(children/*[1])="overscore",children/*[1]/children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","double-overscore","default","brief",'[t] "ModAbove Above"; [n] children/*[1]; [t] "With"; [n] children/*[2]'],["SpecializedRule","double-overscore","brief","sbrief"],'Rule,underscore,default,[t] "ModifyingBelow"; [n] children/*[1]; [t] "With"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","underscore","default","brief",'[t] "ModBelow"; [n] children/*[1]; [t] "With"; [n] children/*[2]'],["SpecializedRule","underscore","brief","sbrief"],'Rule,double-underscore,default,[t] "ModifyingBelow Below"; [n] children/*[1]; [t] "With"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","double-underscore","default","brief",'[t] "ModBelow Below"; [n] children/*[1]; [t] "With"; [n] children/*[2]'],["SpecializedRule","double-underscore","brief","sbrief"],'Rule,overbar,default,[n] children/*[1]; [t] "overbar",self::overscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),["SpecializedRule","overbar","default","brief",'[n] children/*[1]; [t] "overBar"'],["SpecializedRule","overbar","brief","sbrief"],'Rule,underbar,default,[n] children/*[1]; [t] "underbar",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),["SpecializedRule","underbar","default","brief",'[n] children/*[1]; [t] "underBar"'],["SpecializedRule","underbar","brief","sbrief"],'Rule,overtilde,default,[n] children/*[1]; [t] "overTilde",self::overscore,children/*[2][@role="overaccent"],@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),["SpecializedRule","overtilde","default","brief",'[n] children/*[1]; [t] "overtilde"'],["SpecializedRule","overtilde","brief","sbrief"],'Rule,undertilde,default,[n] children/*[1]; [t] "underTilde",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),["SpecializedRule","undertilde","default","brief",'[n] children/*[1]; [t] "undertilde"'],["SpecializedRule","undertilde","brief","sbrief"],'Rule,matrix-fence,default,[n] children/*[1];,self::fenced,count(children/*)=1,name(children/*[1])="matrix"'.split(","),["Rule","matrix","default",'[t] "Start"; [t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Matrix"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndMatrix"',"self::matrix"],["Rule","matrix","sbrief",'[t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Matrix"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndMatrix"',"self::matrix"],["Aliases","matrix","self::vector"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Column");[p] (pause: 200)',"self::row"],'Rule{row-with-label{default{[t] "with Label"; [n] content/*[1]; [t] "EndLabel"(pause: 200); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Column"){self::row{content'.split("{"),'Rule{row-with-label{brief{[t] "Label"; [n] content/*[1]; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Column"){self::row{content'.split("{"),["SpecializedRule","row-with-label","brief","sbrief"],'Rule{row-with-text-label{sbrief{[t] "Label"; [t] CSFRemoveParens;[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Column"){self::row{content{name(content/cell/children/*[1])="text"'.split("{"),'Rule;empty-row;default;[t] "Blank";self::row;count(children/*)=0'.split(";"),["Rule","matrix-cell","default","[n] children/*[1]; [p] (pause: 300)","self::cell"],'Rule,empty-cell,default,[t] "Blank"; [p] (pause: 300),self::cell,count(children/*)=0'.split(","),'Rule{determinant{default{[t] "Start"; [t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Determinant"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndDeterminant"{self::matrix{@role="determinant"'.split("{"),["SpecializedRule","determinant","default","sbrief",'[t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Determinant"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndDeterminant"'],'Rule{determinant-simple{default{[t] "Start"; [t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Determinant"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row",grammar:simpleDet); [t] "EndDeterminant"{self::matrix{@role="determinant"{CQFdetIsSimple'.split("{"),["SpecializedRule","determinant-simple","default","sbrief",'[t] count(children/*);  [t] "By";[t] count(children/*[1]/children/*); [t] "Determinant"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row",grammar:simpleDet); [t] "EndDeterminant"'],'Rule{row-simple{default{[m] children/*;{self::row{@role="determinant"{contains(@grammar, "simpleDet")'.split("{"),["Rule","layout","default",'[t] "StartLayout"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndLayout"',"self::table"],["Rule","layout","sbrief",'[t] "Layout"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndLayout"',"self::table"],'Rule,binomial,default,[t] "StartBinomialOrMatrix"; [n] children/*[1]/children/*[1]; [t] "Choose"; [n] children/*[2]/children/*[1];  [t] "EndBinomialOrMatrix",self::vector,@role="binomial"'.split(","),'Rule,binomial,sbrief,[t] "BinomialOrMatrix"; [n] children/*[1]/children/*[1]; [t] "Choose"; [n] children/*[2]/children/*[1];  [t] "EndBinomialOrMatrix",self::vector,@role="binomial"'.split(","),["Rule","cases","default",'[t] "StartLayout"; [t] "Enlarged"; [n] content/*[1];[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndLayout"',"self::cases"],["Rule","cases","sbrief",'[t] "Layout"; [t] "Enlarged"; [n] content/*[1];[m] children/* (ctxtFunc:CTXFordinalCounter,context:"Row "); [t] "EndLayout"',"self::cases"],["Aliases","layout","self::multiline"],["Rule","line","default","[m] children/*","self::line"],'Rule,line-with-label,default,[t] "with Label"; [n] content/*[1]; [t] "EndLabel" (pause: 200); [m] children/*,self::line,content'.split(","),["SpecializedRule","line-with-label","default","brief",'[t] "Label"; [n] content/*[1] (pause: 200); [m] children/*'],["SpecializedRule","line-with-label","brief","sbrief"],'Rule,line-with-text-label,sbrief,[t] "Label"; [t] CSFRemoveParens; [m] children/*,self::line,content,name(content/cell/children/*[1])="text"'.split(","),'Rule;empty-line;default;[t] "Blank";self::line;count(children/*)=0;not(content)'.split(";"),["SpecializedRule","empty-line","default","brief"],["SpecializedRule","empty-line","brief","sbrief"],'Rule,empty-line-with-label,default,[t] "with Label"; [n] content/*[1]; [t] "EndLabel"(pause: 200); [t] "Blank",self::line,count(children/*)=0,content'.split(","),["SpecializedRule","empty-line-with-label","default","brief",'[t] "Label"; [n] content/*[1] (pause: 200); [t] "Blank"'],["SpecializedRule","empty-line-with-label","brief","sbrief"],["Rule","enclose","default",'[t] "StartEnclose"; [t] @role (grammar:localEnclose); [n] children/*[1]; [t] "EndEnclose"',"self::enclose"],["Aliases","overbar","self::enclose",'@role="top"'],["Aliases","underbar","self::enclose",'@role="bottom"'],'Rule,leftbar,default,[t] "vertical bar"; [n] children/*[1],self::enclose,@role="left"'.split(","),'Rule,rightbar,default,[n] children/*[1]; [t] "vertical bar",self::enclose,@role="right"'.split(","),'Rule,crossout,default,[t] "CrossOut"; [n] children/*[1]; [t] "EndCrossOut",self::enclose,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),'Rule,cancel,default,[t] "CrossOut"; [n] children/*[1]/children/*[1]; [t] "With"; [n] children/*[2]; [t] "EndCrossOut",self::overscore,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),["SpecializedRule","cancel","default","brief"],["SpecializedRule","cancel","default","sbrief"],["Aliases","cancel","self::underscore",'@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'],'Rule,cancel-reverse,default,[t] "CrossOut"; [n] children/*[2]/children/*[1]; [t] "With"; [n] children/*[1]; [t] "EndCrossOut",self::overscore,name(children/*[2])="enclose",children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'.split(","),["SpecializedRule","cancel-reverse","default","brief"],["SpecializedRule","cancel-reverse","default","sbrief"],["Aliases","cancel-reverse","self::underscore",'name(children/*[2])="enclose"','children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'],'Rule;end-punct;default;[m] children/*;self::punctuated;@role="endpunct"'.split(";"),'Rule,start-punct,default,[n] content/*[1]; [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1]; [n] children/*[3],self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],'Rule;unit;default;[t] text() (grammar:annotation="unit":translate:plural);self::identifier;@role="unit"'.split(";"),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-divide,default,[n] children/*[1]; [t] "per"; [n] children/*[2],self::fraction,@role="unit"'.split(","),["Rule","inference","default",'[t] "inference rule"; [m] content/*; [t] "with conclusion"; [n] children/*[1]; [t] "and"; [t] count(children/*[2]/children/*); [t] "premises"',"self::inference"],'Rule,inference,default,[t] "inference rule"; ; [m] content/*; [t] "with conclusion"; [n] children/*[1]; [t] "and"; [t] count(children/*[2]/children/*); [t] "premise",self::inference,count(children/*[2]/children/*)<2'.split(","),["Rule","premise","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"premise ");',"self::premises"],["Rule","conclusion","default","[n] children/*[1]","self::conclusion"],["Rule","label","default",'[t] "label"; [n] children/*[1]',"self::rulelabel"],'Rule,axiom,default,[t] "axiom"; [m] children/*[1];,self::inference,@role="axiom"'.split(","),'Rule,axiom,default,[t] "empty axiom";,self::empty,@role="axiom"'.split(",")],initialize:[sre.MathspeakUtil.generateTensorRules]},sre.MathspeakSpanishUtil={},sre.MathspeakSpanishUtil.ordinalCounter=function(t,r){var n=0;return function(){return sre.Messages.NUMBERS.numberToOrdinal(++n,!1)+" "+r}},sre.MathspeakSpanishUtil.smallRoot=function(t){if(!t.childNodes||t.childNodes.length===0||!t.childNodes[0].childNodes)return[];var r=t.childNodes[0].childNodes[0].textContent;return/^\d+$/.test(r)?(r=parseInt(r,10),1<r&&10>=r?[t]:[]):[]},sre.UnitUtil={},sre.UnitUtil.unitMultipliers=function(t,r){var n=0;return function(){var i=sre.AuditoryDescription.create({text:sre.UnitUtil.rightMostUnit(t[n])&&sre.UnitUtil.leftMostUnit(t[n+1])?sre.Messages.UNIT_TIMES:""},{});return n++,[i]}},sre.UnitUtil.SCRIPT_ELEMENTS=[sre.SemanticAttr.Type.SUPERSCRIPT,sre.SemanticAttr.Type.SUBSCRIPT,sre.SemanticAttr.Type.OVERSCORE,sre.SemanticAttr.Type.UNDERSCORE],sre.UnitUtil.rightMostUnit=function(t){for(;t;){if(t.getAttribute("role")==="unit")return!0;var r=t.tagName;t=sre.XpathUtil.evalXPath("children/*",t),t=sre.UnitUtil.SCRIPT_ELEMENTS.indexOf(r)!==-1?t[0]:t[t.length-1]}return!1},sre.UnitUtil.leftMostUnit=function(t){for(;t;){if(t.getAttribute("role")==="unit")return!0;t=sre.XpathUtil.evalXPath("children/*",t)[0]}return!1},sre.UnitUtil.oneLeft=function(t){for(;t;){if(t.tagName==="number"&&t.textContent==="1")return[t];if(t.tagName!=="infixop"||t.getAttribute("role")!=="multiplication"&&t.getAttribute("role")!=="implicit")break;t=sre.XpathUtil.evalXPath("children/*",t)[0]}return[]},sre.MathspeakSpanish={locale:"es",domain:"mathspeak",functions:[["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFspaceoutIdentifier",sre.MathspeakUtil.spaceoutIdentifier],["CSF","CSFspaceoutText",sre.MathspeakUtil.spaceoutText],["CSF","CSFopenFracVerbose",sre.MathspeakUtil.openingFractionVerbose],["CSF","CSFcloseFracVerbose",sre.MathspeakUtil.closingFractionVerbose],["CSF","CSFoverFracVerbose",sre.MathspeakUtil.overFractionVerbose],["CSF","CSFopenFracBrief",sre.MathspeakUtil.openingFractionBrief],["CSF","CSFcloseFracBrief",sre.MathspeakUtil.closingFractionBrief],["CSF","CSFopenFracSbrief",sre.MathspeakUtil.openingFractionSbrief],["CSF","CSFcloseFracSbrief",sre.MathspeakUtil.closingFractionSbrief],["CSF","CSFoverFracSbrief",sre.MathspeakUtil.overFractionSbrief],["CSF","CSFopenRadicalVerbose",sre.MathspeakUtil.openingRadicalVerbose],["CSF","CSFcloseRadicalVerbose",sre.MathspeakUtil.closingRadicalVerbose],["CSF","CSFindexRadicalVerbose",sre.MathspeakUtil.indexRadicalVerbose],["CSF","CSFopenRadicalBrief",sre.MathspeakUtil.openingRadicalBrief],["CSF","CSFcloseRadicalBrief",sre.MathspeakUtil.closingRadicalBrief],["CSF","CSFindexRadicalBrief",sre.MathspeakUtil.indexRadicalBrief],["CSF","CSFopenRadicalSbrief",sre.MathspeakUtil.openingRadicalSbrief],["CSF","CSFindexRadicalSbrief",sre.MathspeakUtil.indexRadicalSbrief],["CQF","CQFisSmallRoot",sre.MathspeakSpanishUtil.smallRoot],["CSF","CSFsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFbaselineVerbose",sre.MathspeakUtil.baselineVerbose],["CSF","CSFbaselineBrief",sre.MathspeakUtil.baselineBrief],["CSF","CSFleftsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFleftsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFrightsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFrightsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFleftsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFleftsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFrightsuperscriptBrief",sre.MathspeakUtil.superscriptBrief],["CSF","CSFrightsubscriptBrief",sre.MathspeakUtil.subscriptBrief],["CSF","CSFunderscript",sre.MathspeakUtil.nestedUnderscore],["CSF","CSFoverscript",sre.MathspeakUtil.nestedOverscore],["CTXF","CTXFordinalCounter",sre.MathspeakSpanishUtil.ordinalCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CTXF","CTXFunitMultipliers",sre.UnitUtil.unitMultipliers],["CQF","CQFdetIsSimple",sre.MathspeakUtil.determinantIsSimple],["CSF","CSFRemoveParens",sre.MathspeakUtil.removeParens],["CQF","CQFoneLeft",sre.UnitUtil.oneLeft],["CQF","CQFresetNesting",sre.MathspeakUtil.resetNestingDepth]],rules:['Rule{collapsed{default{[n] . (engine:modality=summary,grammar:collapsed); [t] "plegado";{self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["SpecializedRule","collapsed","default","brief"],["SpecializedRule","collapsed","brief","sbrief"],"Rule;stree;default;[n] ./*[1];self::stree;CQFresetNesting".split(";"),["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::number;contains(@grammar, "protected")'.split(";"),["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule;blank-empty;default;[t] "espacio";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),'Rule{font{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "m\xE1s"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "n\xFAmero"; [m] CQFspaceoutNumber (grammar:protected){self::number{@role="othernumber"{"" != translate(text(), "0123456789.,", ""){not(contains(@grammar, "protected"))'.split("{"),["SpecializedRule","number-with-chars","default","brief",'[t] "n\xFAm"; [m] CQFspaceoutNumber (grammar:protected)'],["SpecializedRule","number-with-chars","brief","sbrief"],'Rule{number-as-upper-word{default{[t] "may\xFAscula"; [t] CSFspaceoutText{self::number{string-length(text())>1{text()=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9", "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9"){""=translate(text(), "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9","")'.split("{"),["SpecializedRule","number-as-upper-word","default","brief"],["SpecializedRule","number-as-upper-word","default","sbrief"],'Rule{number-baseline{default{[t] "l\xEDnea base"; [n] . (grammar:baseline){self::number{not(contains(@grammar, "ignoreFont")){preceding-sibling::identifier{not(contains(@grammar, "baseline")){preceding-sibling::*[1][@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline","default","brief",'[t] "base"; [n] text()'],["SpecializedRule","number-baseline","brief","sbrief"],'Rule{number-baseline-font{default{[t] "l\xEDnea base"; [t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"{preceding-sibling::identifier{preceding-sibling::*[@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),["SpecializedRule","number-baseline-font","default","brief",'[t] "base"; [t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font)'],["SpecializedRule","number-baseline-font","brief","sbrief"],'Rule;identifier;default;[m] CQFspaceoutIdentifier;self::identifier;string-length(text())>1;@role!="unit";not(@font) or @font="normal" or contains(@grammar, "ignoreFont");text()!=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", "")'.split(";"),["Rule","identifier","default","[n] text()","self::identifier"],'Rule,negative,default,[t] "menos"; [n] children/*[1],self::prefixop,@role="negative",children/identifier'.split(","),["Aliases","negative","self::prefixop",'@role="negative"',"children/number"],["Aliases","negative","self::prefixop",'@role="negative"','children/fraction[@role="vulgar"]'],'Rule,negative,default,[t] "menos"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),["Rule","prefix","default","[m] content/*; [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [m] content/*","self::postfixop"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit"'.split(";"),["Aliases","implicit","self::infixop",'@role="leftsuper" or @role="leftsub" or @role="rightsuper" or @role="rightsub"'],'Rule,subtraction,default,[m] children/* (separator:"menos");,self::infixop,@role="subtraction"'.split(","),["Rule","function-unknown","default","[n] children/*[1]; [n] children/*[2]","self::appl"],'Rule,function-prefix,default,[n] children/*[1]; [n] children/*[2],self::appl,children/*[1][@role="prefix function"]'.split(","),'Rule,fences-open-close,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="leftright"'.split(","),'Rule,fences-neutral,default,[t] "empezar valor absoluto"; [n] children/*[1]; [t] "finalizar valor absoluto",self::fenced,@role="neutral",content/*[1][text()]="|" or content/*[1][text()]="\u2758" or content/*[1][text()]="\uFF5C"'.split(","),["SpecializedRule","fences-neutral","default","sbrief",'[t] "valor absoluto"; [n] children/*[1]; [t] "finalizar valor absoluto"'],'Rule,fences-neutral,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="neutral"'.split(","),'Rule,fences-set,default,[t] "empezar llave"; [n] children/*[1]; [t] "finalizar llave",self::fenced,@role="set empty" or @role="set extended" or @role="set singleton" or @role="set collection",not(name(../..)="appl")'.split(","),["SpecializedRule","fences-set","default","sbrief",'[t] "llave"; [n] children/*[1]; [t] "finalizar llave"'],["Rule","text","default","[n] text() (grammar:noTranslateText)","self::text"],'Rule;factorial;default;[t] "factorial";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),'Rule;minus;default;[t] "menos";self::operator;text()="-"'.split(";"),'Rule;single-prime;default;[t] "prima";self::punctuated;@role="prime";count(children/*)=1'.split(";"),'Rule;double-prime;default;[t] "doble prima";self::punctuated;@role="prime";count(children/*)=2'.split(";"),'Rule;triple-prime;default;[t] "triple prima";self::punctuated;@role="prime";count(children/*)=3'.split(";"),'Rule;quadruple-prime;default;[t] "cuadruplicar prima";self::punctuated;@role="prime";count(children/*)=4'.split(";"),'Rule,counted-prime,default,[t] count(children/*); [t] "prime",self::punctuated,@role="prime"'.split(","),["Rule","fraction","default","[t] CSFopenFracVerbose; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracVerbose","self::fraction"],["Rule","fraction","brief","[t] CSFopenFracBrief; [n] children/*[1]; [t] CSFoverFracVerbose; [n] children/*[2]; [t] CSFcloseFracBrief","self::fraction"],["Rule","fraction","sbrief","[t] CSFopenFracSbrief; [n] children/*[1]; [t] CSFoverFracSbrief; [n] children/*[2]; [t] CSFcloseFracSbrief","self::fraction"],'Rule,continued-fraction-outer,default,[t] "fracci\xF3n continua"; [n] children/*[1];[t] "entre"; [n] children/*[2],self::fraction,not(ancestor::fraction),children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-outer","default","brief",'[t] "frac continua"; [n] children/*[1];[t] "entre"; [n] children/*[2]'],["SpecializedRule","continued-fraction-outer","brief","sbrief"],'Rule,continued-fraction-inner,default,[t] "empezar fracci\xF3n"; [n] children/*[1];[t] "entre"; [n] children/*[2],self::fraction,ancestor::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis" and not(following-sibling::*)]'.split(","),["SpecializedRule","continued-fraction-inner","default","brief",'[t] "empezar frac"; [n] children/*[1];[t] "entre"; [n] children/*[2]'],["SpecializedRule","continued-fraction-inner","brief","sbrief",'[t] "frac"; [n] children/*[1];[t] "entre"; [n] children/*[2]'],["Rule","sqrt","default","[t] CSFopenRadicalVerbose; [n] children/*[1]; [t] CSFcloseRadicalVerbose","self::sqrt"],["Rule","sqrt","brief","[t] CSFopenRadicalBrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],["Rule","sqrt","sbrief","[t] CSFopenRadicalSbrief; [n] children/*[1]; [t] CSFcloseRadicalBrief","self::sqrt"],"Rule,root-small,default,[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose,self::root,CQFisSmallRoot".split(","),"Rule,root-small,brief,[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,CQFisSmallRoot".split(","),"Rule,root-small,sbrief,[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief,self::root,CQFisSmallRoot".split(","),["Rule","root","default","[t] CSFindexRadicalVerbose; [n] children/*[1];[t] CSFopenRadicalVerbose; [n] children/*[2]; [t] CSFcloseRadicalVerbose","self::root"],["Rule","root","brief","[t] CSFindexRadicalBrief; [n] children/*[1];[t] CSFopenRadicalBrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],["Rule","root","sbrief","[t] CSFindexRadicalSbrief; [n] children/*[1];[t] CSFopenRadicalSbrief; [n] children/*[2]; [t] CSFcloseRadicalBrief","self::root"],'Rule,limboth,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3],self::limboth,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limlower,default,[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];,self::limlower,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limupper,default,[n] children/*[1]; [t] CSFoverscript; [n] children/*[2];,self::limupper,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Aliases;limlower;self::underscore;@role="limit function";name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limlower;self::underscore;children/*[2][@role!="underaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limupper;self::overscore;children/*[2][@role!="overaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),["Rule","limboth-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3]; [t] "finalizar \xEDndices"',"self::limboth"],["Rule","limlower-end","default",'[n] children/*[1]; [t] CSFunderscript; [n] children/*[2]; [t] "finalizar \xEDndices"',"self::limlower"],["Rule","limupper-end","default",'[n] children/*[1]; [t] CSFoverscript; [n] children/*[2]; [t] "finalizar \xEDndices"',"self::limupper"],["Aliases","limlower-end","self::underscore",'@role="limit function"'],["Aliases","limlower-end","self::underscore"],["Aliases","limupper-end","self::overscore"],["Rule","integral","default","[n] children/*[1]; [n] children/*[2]; [n] children/*[3];","self::integral"],'Rule,integral,default,[n] children/*[1]; [t] "definida"; [t] "sub\xEDndice"; [n] children/*[2];[t] "super\xEDndice"; [n] children/*[3]; [t] "l\xEDnea base";,self::limboth,@role="integral"'.split(","),["SpecializedRule","integral","default","brief",'[n] children/*[1]; [t] "Sub"; [n] children/*[2];[t] "Sup"; [n] children/*[3]; [t] "Base";'],["SpecializedRule","integral","brief","sbrief"],["Rule","bigop","default","[n] children/*[1]; [n] children/*[2];","self::bigop"],["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule,equality,default,[n] children/*[1]; [n] content/*[1]; [n] children/*[2],self::relseq,@role="equality",count(./children/*)=2'.split(","),'Rule;multi-equality;default;[m] children/* (sepFunc:CTXFcontentIterator);self::relseq;@role="equality";count(./children/*)>2'.split(";"),["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],["Rule","subscript","default","[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]","self::subscript"],["Rule","subscript","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]","self::subscript"],["SpecializedRule","subscript","brief","sbrief"],'Rule,subscript-baseline,default,[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]; [t] CSFbaselineVerbose,self::subscript,following-sibling::*,not(name(following-sibling::subscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="subscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and @role!="subsup",not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","subscript-baseline","default","brief","[n] children/*[1]; [t] CSFsubscriptBrief; [n] children/*[2]; [t] CSFbaselineBriefS"],["SpecializedRule","subscript-baseline","brief","sbrief"],'Aliases;subscript-baseline;self::subscript;not(following-sibling::*);ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::punctuated|ancestor::fraction;not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel",sre.MathspeakUtil.generateBaselineConstraint()],["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","@embellished"],'Rule,subscript-empty-sup,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="superscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","subscript-empty-sup","default","brief"],["SpecializedRule","subscript-empty-sup","brief","sbrief"],["Aliases","subscript-empty-sup","self::subscript",'name(children/*[2])="superscript"','name(children/*[2]/children/*[1])="empty"'],["Rule","superscript","default","[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2]","self::superscript"],["SpecializedRule","superscript","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2]"],["SpecializedRule","superscript","brief","sbrief"],'Rule,superscript-baseline,default,[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2];[t] CSFbaselineVerbose,self::superscript,following-sibling::*,not(name(following-sibling::superscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="superscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),["SpecializedRule","superscript-baseline","default","brief","[n] children/*[1]; [t] CSFsuperscriptBrief; [n] children/*[2];[t] CSFbaselineBriefS"],["SpecializedRule","superscript-baseline","brief","sbrief"],'Aliases;superscript-baseline;self::superscript;not(following-sibling::*);ancestor::punctuated;ancestor::*/following-sibling::* and not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::fraction|ancestor::fenced|ancestor::root|ancestor::sqrt"],["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel","not(@embellished)",sre.MathspeakUtil.generateBaselineConstraint()],'Aliases superscript-baseline self::superscript not(following-sibling::*) @embellished not(children/*[2][@role="prime"])'.split(" "),'Rule,superscript-empty-sub,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="subscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["SpecializedRule","superscript-empty-sub","default","brief"],["SpecializedRule","superscript-empty-sub","brief","sbrief"],["Aliases","superscript-empty-sub","self::superscript",'name(children/*[2])="subscript"','name(children/*[2]/children/*[1])="empty"'],'Rule,square,default,[n] children/*[1]; [t] "al cuadrado",self::superscript,children/*[2],children/*[2][text()=2],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","square","default","brief"],["SpecializedRule","square","default","sbrief"],'Aliases;square;self::superscript;children/*[2];children/*[2][text()=2];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,cube,default,[n] children/*[1]; [t] "al cubo",self::superscript,children/*[2],children/*[2][text()=3],name(children/*[1])!="text" or not(name(children/*[1])="text" and (name(../../../punctuated[@role="text"]/..)="stree" or name(..)="stree")),name(children/*[1])!="subscript" or (name(children/*[1])="subscript" and name(children/*[1]/children/*[1])="identifier" and name(children/*[1]/children/*[2])="number" and children/*[1]/children/*[2][@role!="mixed"] and children/*[1]/children/*[2][@role!="othernumber"]),not(@embellished)'.split(","),["SpecializedRule","cube","default","brief"],["SpecializedRule","cube","default","sbrief"],'Aliases;cube;self::superscript;children/*[2];children/*[2][text()=3];@embellished;children/*[1][@role="prefix operator"]'.split(";"),'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"]'.split(","),["SpecializedRule","prime","default","brief"],["SpecializedRule","prime","default","sbrief"],'Rule,prime-subscript,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",not(following-sibling::*)'.split(","),["SpecializedRule","prime-subscript","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]"],["SpecializedRule","prime-subscript","brief","sbrief"],'Rule,prime-subscript-baseline,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2]; [t] CSFbaselineVerbose,self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",following-sibling::*'.split(","),["SpecializedRule","prime-subscript-baseline","default","brief","[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptBrief; [n] children/*[1]/children/*[2]; [t] CSFbaselineBriefS"],["SpecializedRule","prime-subscript-baseline","brief","sbrief"],'Aliases prime-subscript-baseline self::superscript children/*[2][@role="prime"] name(children/*[1])="subscript" not(following-sibling::*) @embellished'.split(" "),'Rule,overscore,default,[t] "modificando superior"; [n] children/*[1]; [t] "con"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","overscore","default","brief",'[t] "mod superior"; [n] children/*[1]; [t] "con"; [n] children/*[2]'],["SpecializedRule","overscore","brief","sbrief"],'Rule,double-overscore,default,[t] "modificando superior superior"; [n] children/*[1]; [t] "con"; [n] children/*[2],self::overscore,children/*[2][@role="overaccent"],name(children/*[1])="overscore",children/*[1]/children/*[2][@role="overaccent"]'.split(","),["SpecializedRule","double-overscore","default","brief",'[t] "mod superior superior"; [n] children/*[1]; [t] "con"; [n] children/*[2]'],["SpecializedRule","double-overscore","brief","sbrief"],'Rule,underscore,default,[t] "modificando inferior"; [n] children/*[1]; [t] "con"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","underscore","default","brief",'[t] "mod inferior"; [n] children/*[1]; [t] "con"; [n] children/*[2]'],["SpecializedRule","underscore","brief","sbrief"],'Rule,double-underscore,default,[t] "modificando inferior inferior"; [n] children/*[1]; [t] "con"; [n] children/*[2],self::underscore,children/*[2][@role="underaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role="underaccent"]'.split(","),["SpecializedRule","double-underscore","default","brief",'[t] "mod inferior inferior"; [n] children/*[1]; [t] "con"; [n] children/*[2]'],["SpecializedRule","double-underscore","brief","sbrief"],'Rule,overbar,default,[n] children/*[1]; [t] "barra",self::overscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="overaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),["SpecializedRule","overbar","default","brief",'[n] children/*[1]; [t] "barra"'],["SpecializedRule","overbar","brief","sbrief"],'Rule,underbar,default,[n] children/*[1]; [t] "subbarra",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="\xAF" or text()="\uFFE3" or text()="\uFF3F" or text()="_" or text()="\u203E"]'.split(","),["SpecializedRule","underbar","default","brief",'[n] children/*[1]; [t] "subbarra"'],["SpecializedRule","underbar","brief","sbrief"],'Rule,overtilde,default,[n] children/*[1]; [t] "tilde",self::overscore,children/*[2][@role="overaccent"],@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),["SpecializedRule","overtilde","default","brief",'[n] children/*[1]; [t] "tilde"'],["SpecializedRule","overtilde","brief","sbrief"],'Rule,undertilde,default,[n] children/*[1]; [t] "subtilde",self::underscore,@role="latinletter" or @role="greekletter" or @role="otherletter",children/*[2][@role="underaccent"],children/*[2][text()="~" or text()="\u02DC" or text()="\u223C" or text()="\uFF5E"]'.split(","),["SpecializedRule","undertilde","default","brief",'[n] children/*[1]; [t] "subtilde"'],["SpecializedRule","undertilde","brief","sbrief"],'Rule,matrix-fence,default,[n] children/*[1];,self::fenced,count(children/*)=1,name(children/*[1])="matrix"'.split(","),["Rule","matrix","default",'[t] "empezar matriz"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar matriz"',"self::matrix"],["Rule","matrix","sbrief",'[t] "matriz"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:" "); [t] "finalizar matriz"',"self::matrix"],["Aliases","matrix","self::vector"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFordinalCounter,context:"columna");[p] (pause: 200)',"self::row"],'Rule{row-with-label{default{[t] "con etiqueta"; [n] content/*[1]; [t] "finalizar etiqueta" (pause: 200); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"columna"){self::row{content'.split("{"),'Rule{row-with-label{brief{[t] "etiqueta"; [n] content/*[1]; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"columna"){self::row{content'.split("{"),["SpecializedRule","row-with-label","brief","sbrief"],'Rule{row-with-text-label{sbrief{[t] "etiqueta"; [t] CSFRemoveParens;[m] children/* (ctxtFunc:CTXFordinalCounter,context:"columna"){self::row{content{name(content/cell/children/*[1])="text"'.split("{"),'Rule;empty-row;default;[t] "espacio";self::row;count(children/*)=0'.split(";"),["Rule","matrix-cell","default","[n] children/*[1]; [p] (pause: 300)","self::cell"],'Rule,empty-cell,default,[t] "espacio"; [p] (pause: 300),self::cell,count(children/*)=0'.split(","),'Rule{determinant{default{[t] "empezar determinante"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar determinante"{self::matrix{@role="determinant"'.split("{"),["SpecializedRule","determinant","default","sbrief",'[t] "determinante"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar determinante"'],'Rule{determinant-simple{default{[t] "empezar determinante"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila",grammar:simpleDet); [t] "finalizar determinante"{self::matrix{@role="determinant"{CQFdetIsSimple'.split("{"),["SpecializedRule","determinant-simple","default","sbrief",'[t] "determinante"; [t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila",grammar:simpleDet); [t] "finalizar determinante"'],'Rule{row-simple{default{[m] children/*;{self::row{@role="determinant"{contains(@grammar, "simpleDet")'.split("{"),["Rule","layout","default",'[t] "empezar esquema"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar esquema"',"self::table"],["Rule","layout","sbrief",'[t] "esquema"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar esquema"',"self::table"],'Rule,binomial,default,[t] "empezar binomial"; [n] children/*[1]/children/*[1]; [t] "en"; [n] children/*[2]/children/*[1];  [t] "finalizar binomial",self::vector,@role="binomial"'.split(","),'Rule,binomial,sbrief,[t] "binomial"; [n] children/*[1]/children/*[1]; [t] "en"; [n] children/*[2]/children/*[1];  [t] "finalizar binomial",self::vector,@role="binomial"'.split(","),["Rule","cases","default",'[t] "empezar esquema"; [n] content/*[1]; [t] "alargada"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar esquema"',"self::cases"],["Rule","cases","sbrief",'[t] "esquema"; [n] content/*[1]; [t] "alargada"; [m] children/* (ctxtFunc:CTXFordinalCounter,context:"fila "); [t] "finalizar esquema"',"self::cases"],["Aliases","layout","self::multiline"],["Rule","line","default","[m] children/*","self::line"],'Rule,line-with-label,default,[t] "con etiqueta"; [n] content/*[1]; [t] "finalizar etiqueta" (pause: 200); [m] children/*,self::line,content'.split(","),["SpecializedRule","line-with-label","default","brief",'[t] "etiqueta"; [n] content/*[1] (pause: 200); [m] children/*'],["SpecializedRule","line-with-label","brief","sbrief"],'Rule,line-with-text-label,sbrief,[t] "etiqueta"; [t] CSFRemoveParens; [m] children/*,self::line,content,name(content/cell/children/*[1])="text"'.split(","),'Rule;empty-line;default;[t] "espacio";self::line;count(children/*)=0;not(content)'.split(";"),["SpecializedRule","empty-line","default","brief"],["SpecializedRule","empty-line","brief","sbrief"],'Rule,empty-line-with-label,default,[t] "con etiqueta"; [n] content/*[1]; [t] "finalizar etiqueta" (pause: 200); [t] "espacio",self::line,count(children/*)=0,content'.split(","),["SpecializedRule","empty-line-with-label","default","brief",'[t] "etiqueta"; [n] content/*[1] (pause: 200); [t] "espacio"'],["SpecializedRule","empty-line-with-label","brief","sbrief"],["Rule","enclose","default",'[t] "empezar rodear"; [t] @role (grammar:localEnclose); [n] children/*[1]; [t] "finalizar rodear"',"self::enclose"],["Aliases","overbar","self::enclose",'@role="top"'],["Aliases","underbar","self::enclose",'@role="bottom"'],'Rule,leftbar,default,[t] "barra vertical"; [n] children/*[1],self::enclose,@role="left"'.split(","),'Rule,rightbar,default,[n] children/*[1]; [t] "barra vertical",self::enclose,@role="right"'.split(","),'Rule,crossout,default,[t] "tachado"; [n] children/*[1]; [t] "finalizar tachado",self::enclose,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),'Rule,cancel,default,[t] "tachado"; [n] children/*[1]/children/*[1]; [t] "con"; [n] children/*[2]; [t] "finalizar tachado",self::overscore,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),["SpecializedRule","cancel","default","brief"],["SpecializedRule","cancel","default","sbrief"],["Aliases","cancel","self::underscore",'@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'],'Rule,cancel-reverse,default,[t] "tachado"; [n] children/*[2]/children/*[1]; [t] "con"; [n] children/*[1]; [t] "finalizar tachado",self::overscore,name(children/*[2])="enclose",children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'.split(","),["SpecializedRule","cancel-reverse","default","brief"],["SpecializedRule","cancel-reverse","default","sbrief"],["Aliases","cancel-reverse","self::underscore",'name(children/*[2])="enclose"','children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'],'Rule;end-punct;default;[m] children/*;self::punctuated;@role="endpunct"'.split(";"),'Rule,start-punct,default,[n] content/*[1]; [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1]; [n] children/*[3],self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],'Rule;unit-singular;default;[t] text() (grammar:annotation="unit":translate);self::identifier;@role="unit"'.split(";"),'Rule;unit-plural;default;[t] text() (grammar:annotation="unit":translate:plural);self::identifier;@role="unit";not(contains(@grammar, "singularUnit"))'.split(";"),'Rule,unit-square,default,[n] children/*[1]; [t] "cuadrado",self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[n] children/*[1]; [t] "c\xFAbico",self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,reciprocal,default,[t] "rec\xEDproco"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,reciprocal,default,[t] "por"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/* (sepFunc:CTXFunitMultipliers);self::infixop;@role="unit"'.split(";"),'Rule,unit-combine-mult,default,[m] children/* (sepFunc:CTXFunitMultipliers);,self::infixop,@role="multiplication" or @role="implicit",children/*[@role="unit"]'.split(","),'Rule{unit-combiner-singular{default{[n] children/*[1]; [t] "por"; [m] children/*[position()>1] (grammar:!singularUnit, sepFunc:CTXFunitMultipliers){self::infixop{@role="unit"{name(children/*[1])!="number"{contains(@grammar, "singularUnit"){count(children/*)>1'.split("{"),'Rule,unit-combine-singular-first,default,[n] children/*[1]; [n] children/*[2] (grammar:singularUnit); [t] "por"; [m] children/*[position()>2] (sepFunc:CTXFunitMultipliers),self::infixop,@role="unit",name(children/*[1])="number",children/*[1][text()=1]'.split(","),'Rule,unit-combine-singular-first,default,[n] children/*[1]; [n] children/*[2] (grammar:singularUnit); ,self::infixop,@role="unit",name(children/*[1])="number",children/*[1][text()=1],count(children/*)=2'.split(","),'Rule,unit-divide,default,[n] children/*[1]; [t] "por"; [n] children/*[2] (grammar:singularUnit),self::fraction,@role="unit"'.split(",")],initialize:[sre.MathspeakUtil.generateTensorRules]},sre.NemethUtil={},sre.NemethUtil.openingFraction=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),Array(t).join(sre.Messages.MS.FRACTION_REPEAT)+sre.Messages.MS.FRACTION_START},sre.NemethUtil.closingFraction=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),Array(t).join(sre.Messages.MS.FRACTION_REPEAT)+sre.Messages.MS.FRACTION_END},sre.NemethUtil.overFraction=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),Array(t).join(sre.Messages.MS.FRACTION_REPEAT)+sre.Messages.MS.FRACTION_OVER},sre.NemethUtil.overBevelledFraction=function(t){return t=sre.MathspeakUtil.fractionNestingDepth(t),Array(t).join(sre.Messages.MS.FRACTION_REPEAT)+"\u2838"+sre.Messages.MS.FRACTION_OVER},sre.NemethUtil.nestedRadical=function(t,r){return t=sre.NemethUtil.radicalNestingDepth(t),t===1?r:Array(t).join(sre.Messages.MS.NESTED)+r},sre.NemethUtil.radicalNestingDepth=function(t,r){return r=r||0,t.parentNode?sre.NemethUtil.radicalNestingDepth(t.parentNode,t.tagName==="root"||t.tagName==="sqrt"?r+1:r):r},sre.NemethUtil.openingRadical=function(t){return sre.NemethUtil.nestedRadical(t,sre.Messages.MS.STARTROOT)},sre.NemethUtil.closingRadical=function(t){return sre.NemethUtil.nestedRadical(t,sre.Messages.MS.ENDROOT)},sre.NemethUtil.indexRadical=function(t){return sre.NemethUtil.nestedRadical(t,sre.Messages.MS.ROOTINDEX)},sre.NemethUtil.enlargeFence=function(t){if(t.length===1)return"\u2820"+t;var r=t.split("");return r.every(function(n){return n==="\u2833"})?"\u2820"+r.join("\u2820"):t.slice(0,1)+"\u2820"+t.slice(1)},sre.Grammar.getInstance().setCorrection("enlargeFence",sre.NemethUtil.enlargeFence),sre.NemethUtil.NUMBER_PROPAGATORS_=[sre.SemanticAttr.Type.MULTIREL,sre.SemanticAttr.Type.RELSEQ,sre.SemanticAttr.Type.PUNCTUATED,sre.SemanticAttr.Type.APPL],sre.NemethUtil.checkParent_=function(t){if(t=t.parent,!t)return!1;var r=t.type;return sre.NemethUtil.NUMBER_PROPAGATORS_.indexOf(r)!==-1||r===sre.SemanticAttr.Type.PREFIXOP&&t.role===sre.SemanticAttr.Role.NEGATIVE},sre.NemethUtil.propagateNumber=function(t,r){return t.childNodes.length?(sre.NemethUtil.checkParent_(t)&&(r.number=!0),["",r]):(sre.NemethUtil.checkParent_(t)&&(r.number=!0),[r.number?"number":"",{number:!1}])},sre.NemethUtil.numberIndicator=function(){return new sre.SemanticVisitor("nemeth",sre.NemethUtil.propagateNumber,{number:!0})},sre.NemethUtil.addAnnotators=function(){sre.SemanticAnnotations.getInstance().register(sre.NemethUtil.numberIndicator())},sre.NemethUtil.componentString_={2:"CSFbaseline",1:"CSFsubscript",0:"CSFsuperscript"},sre.NemethUtil.childNumber_={4:2,3:3,2:1,1:4,0:5},sre.NemethUtil.generateTensorRuleStrings_=function(t){var r=[],n="";t=parseInt(t,2);for(var i=0;5>i;i++){var l="children/*["+sre.NemethUtil.childNumber_[i]+"]";t&1?n="[t] "+sre.NemethUtil.componentString_[i%3]+"Verbose; [n] "+l+";"+n:r.unshift("name("+l+')="empty"'),t>>=1}return r.push(n),r},sre.NemethUtil.generateTensorRules=function(t){var r=goog.bind(t.defineRule,t);t=goog.bind(t.defineRulesAlias,t);for(var n="11111 11110 11101 11100 10111 10110 10101 10100 01111 01110 01101 01100".split(" "),i=0,l;l=n[i];i++){var s="tensor"+l;l=sre.NemethUtil.generateTensorRuleStrings_(l);var o=l.pop(),u=[s,"default.default",o,"self::tensor"].concat(l);r.apply(null,u),o+="; [t]"+sre.NemethUtil.componentString_[2]+"Verbose",s+="-baseline",u=[s,"default.default",o,"self::tensor","following-sibling::*"].concat(l),r.apply(null,u),s=[s,"self::tensor","not(following-sibling::*)","ancestor::fraction|ancestor::punctuated|ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::relseq|ancestor::multirel|@embellished"].concat(l),t.apply(null,s)}},sre.NemethRules={locale:"nemeth",modality:"braille",domain:"default",functions:[["CQF","CQFspaceoutNumber",sre.MathspeakUtil.spaceoutNumber],["CQF","CQFspaceoutIdentifier",sre.MathspeakUtil.spaceoutIdentifier],["CSF","CSFspaceoutText",sre.MathspeakUtil.spaceoutText],["CSF","CSFopenFraction",sre.NemethUtil.openingFraction],["CSF","CSFcloseFraction",sre.NemethUtil.closingFraction],["CSF","CSFoverFraction",sre.NemethUtil.overFraction],["CSF","CSFoverBevFraction",sre.NemethUtil.overBevelledFraction],["CSF","CSFopenRadicalVerbose",sre.NemethUtil.openingRadical],["CSF","CSFcloseRadicalVerbose",sre.NemethUtil.closingRadical],["CSF","CSFindexRadicalVerbose",sre.NemethUtil.indexRadical],["CSF","CSFsuperscriptVerbose",sre.MathspeakUtil.superscriptVerbose],["CSF","CSFsubscriptVerbose",sre.MathspeakUtil.subscriptVerbose],["CSF","CSFbaselineVerbose",sre.MathspeakUtil.baselineVerbose],["CSF","CSFunderscript",sre.MathspeakUtil.nestedUnderscore],["CSF","CSFoverscript",sre.MathspeakUtil.nestedOverscore],["CTXF","CTXFordinalCounter",sre.NumbersUtil.ordinalCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator],["CQF","CQFdetIsSimple",sre.MathspeakUtil.determinantIsSimple],["CSF","CSFRemoveParens",sre.MathspeakUtil.removeParens],["CQF","CQFresetNesting",sre.MathspeakUtil.resetNestingDepth]],rules:["Rule;stree;default;[n] ./*[1];self::stree;CQFresetNesting".split(";"),["Rule","unknown","default","[n] text()","self::unknown"],'Rule;protected;default;[t] text();self::*;@role="protected"'.split(";"),["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule;blank-empty;default;[t] "\u2800";self::empty;count(../*)=1;name(../..)="cell" or name(../..)="line"'.split(";"),'Rule{font{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;@role!="greekletter";not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),'Rule{number-indicator{default{[t] "\u283C"; [n] text() (pause:10){self::number{contains(@annotation, "nemeth:number"){not(ancestor::sqrt){not(ancestor::root){not(ancestor::fraction)'.split("{"),["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "\u2838\u2839"; [n] children/*[2]/children/*[1]; [t] "\u280C"; [n] children/*[2]/children/*[2]; [t] "\u2838\u283C",self::number,@role="mixed"'.split(","),'Rule{number-with-chars{default{[t] "\u283C"; [m] CQFspaceoutNumber{self::number{"" != translate(text(), "0123456789.,", ""){text() != translate(text(), "0123456789.,", "")'.split("{"),'Rule{number-as-upper-word{default{[t] "UpperWord"; [t] CSFspaceoutText{self::number{string-length(text())>1{text()=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9", "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9"){""=translate(text(), "ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9","")'.split("{"),'Rule{number-baseline{default{[t] "\u2810"; [n] text(){self::number{not(contains(@grammar, "ignoreFont")){preceding-sibling::identifier{preceding-sibling::*[1][@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),'Rule{number-baseline-font{default{[t] "\u2810"; [t] @font; [n] . (grammar:ignoreFont=@font){self::number{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"{preceding-sibling::identifier{preceding-sibling::*[@role="latinletter" or @role="greekletter" or @role="otherletter"]{parent::*/parent::infixop[@role="implicit"]'.split("{"),'Rule;identifier;default;[n] text();self::identifier;@role="protected"'.split(";"),'Rule,negative,default,[t] "\u2824"; [n] children/*[1],self::prefixop,@role="negative"'.split(","),["Rule","prefix","default","[n] text(); [n] children/*[1]","self::prefixop"],["Rule","postfix","default","[n] children/*[1]; [n] text()","self::postfixop"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule;implicit;default;[m] children/*;self::infixop;@role="implicit"'.split(";"),["Aliases","implicit","self::infixop",'@role="leftsuper" or @role="leftsub" or @role="rightsuper" or @role="rightsub"'],["Rule","function-named","default",'[n] children/*[1]; [t] "\u2800"; [n] children/*[2]',"self::appl"],'Rule,function-prefix,default,[n] content/*[1]; [t] "\u2800"; [n] children/*[1],self::prefixop,content/*[1][@role="infix function"]'.split(","),'Rule,function-infix,default,[n] children/*[1]; [n] content/*[1]; [t] "\u2800"; [n] children/*[2],self::infixop,@role="infix function"'.split(","),'Rule,function-simple,default,[n] children/*[1]; [n] children/*[2],self::appl,children/*[1][@role="simple function"]'.split(","),["Rule","fences-open-close","default","[n] content/*[1]; [n] children/*[1]; [n] content/*[2]","self::fenced"],'Rule,fences-neutral,default,[n] content/*[1]; [n] children/*[1]; [n] content/*[2],self::fenced,@role="neutral"'.split(","),["Rule","text","default","[n] text()","self::text"],'Rule;factorial;default;[t] "\u282F";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),'Rule;single-prime;default;[t] "\u2804";self::punctuated;@role="prime";count(children/*)=1'.split(";"),'Rule;double-prime;default;[t] "\u2804\u2804";self::punctuated;@role="prime";count(children/*)=2'.split(";"),'Rule;triple-prime;default;[t] "\u2804\u2804\u2804";self::punctuated;@role="prime";count(children/*)=3'.split(";"),'Rule;quadruple-prime;default;[t] "\u2804\u2804\u2804\u2804";self::punctuated;@role="prime";count(children/*)=4'.split(";"),["Rule","fraction","default","[t] CSFopenFraction; [n] children/*[1]; [t] CSFoverFraction; [n] children/*[2]; [t] CSFcloseFraction","self::fraction"],'Rule{bevelled-fraction{default{[t] CSFopenFraction; [n] children/*[1]; [t] CSFoverBevFraction; [n] children/*[2]; [t] CSFcloseFraction{self::fraction{contains(@annotation, "general:bevelled")'.split("{"),["Rule","sqrt","default","[t] CSFopenRadicalVerbose; [n] children/*[1]; [t] CSFcloseRadicalVerbose","self::sqrt"],["Rule","root","default",'[t] CSFindexRadicalVerbose; [n] children/*[1];[t] "\u281C"; [n] children/*[2]; [t] CSFcloseRadicalVerbose',"self::root"],'Rule,limboth,default,[t] "\u2810"; [n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3],self::limboth,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limlower,default,[t] "\u2810"; [n] children/*[1]; [t] CSFunderscript; [n] children/*[2];,self::limlower,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Rule,limupper,default,[t] "\u2810"; [n] children/*[1]; [t] CSFoverscript; [n] children/*[2];,self::limupper,name(../..)="underscore" or name(../..)="overscore",following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(","),'Aliases;limlower;self::underscore;@role="limit function";name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limlower;self::underscore;children/*[2][@role!="underaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),'Aliases;limupper;self::overscore;children/*[2][@role!="overaccent"];name(../..)="underscore" or name(../..)="overscore";following-sibling::*[@role!="underaccent" and @role!="overaccent"]'.split(";"),["Rule","limboth-end","default",'[t] "\u2810"; [n] children/*[1]; [t] CSFunderscript; [n] children/*[2];[t] CSFoverscript; [n] children/*[3]; [t] "\u283B"',"self::limboth"],["Rule","limlower-end","default",'[t] "\u2810"; [n] children/*[1]; [t] CSFunderscript; [n] children/*[2]; [t] "\u283B"',"self::limlower"],["Rule","limupper-end","default",'[t] "\u2810"; [n] children/*[1]; [t] CSFoverscript; [n] children/*[2]; [t] "\u283B"',"self::limupper"],["Aliases","limlower-end","self::underscore",'@role="limit function"'],["Aliases","limlower-end","self::underscore"],["Aliases","limupper-end","self::overscore"],["Rule","integral","default","[n] children/*[1]; [n] children/*[2]; [n] children/*[3];","self::integral"],'Rule,integral,default,[n] children/*[1]; [t] "\u2830"; [n] children/*[2];[t] "\u2818"; [n] children/*[3]; [t] "\u2810",self::limboth,@role="integral"'.split(","),["Rule","bigop","default","[n] children/*[1]; [n] children/*[2];","self::bigop"],["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],'Rule,equality,default,[n] children/*[1]; [n] content/*[1]; [n] children/*[2],self::relseq,@role="equality",count(./children/*)=2'.split(","),'Rule;multi-equality;default;[m] children/* (sepFunc:CTXFcontentIterator);self::relseq;@role="equality";count(./children/*)>2'.split(";"),["Rule","multrel","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::multirel"],["Rule","subscript","default","[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]","self::subscript"],'Rule,subscript-simple,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(./children/*[1])="identifier",name(./children/*[2])="number",./children/*[2][@role!="mixed"],./children/*[2][@role!="othernumber"],self::*'.split(","),'Rule,subscript-baseline,default,[n] children/*[1]; [t] CSFsubscriptVerbose; [n] children/*[2]; [t] CSFbaselineVerbose,self::subscript,following-sibling::*,@role!="prefix function",not(name(following-sibling::subscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="subscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and @role!="subsup",not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),'Aliases;subscript-baseline;self::subscript;not(following-sibling::*);ancestor::fenced|ancestor::root|ancestor::sqrt|ancestor::punctuated|ancestor::fraction;not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel",sre.MathspeakUtil.generateBaselineConstraint()],["Aliases","subscript-baseline","self::subscript","not(following-sibling::*)","@embellished"],'Rule,subscript-empty-sup,default,[n] children/*[1]; [n] children/*[2],self::subscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="superscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["Aliases","subscript-empty-sup","self::subscript",'name(children/*[2])="superscript"','name(children/*[2]/children/*[1])="empty"'],["Rule","superscript","default","[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2]","self::superscript"],'Rule,superscript-baseline,default,[n] children/*[1]; [t] CSFsuperscriptVerbose; [n] children/*[2];[t] CSFbaselineVerbose,self::superscript,following-sibling::*,@role!="prefix function",not(name(following-sibling::superscript/children/*[1])="empty" or (name(following-sibling::infixop[@role="implicit"]/children/*[1])="superscript" and name(following-sibling::*/children/*[1]/children/*[1])="empty")) and not(following-sibling::*[@role="rightsuper" or @role="rightsub" or @role="leftsub" or @role="leftsub"])'.split(","),'Aliases;superscript-baseline;self::superscript;not(following-sibling::*);ancestor::punctuated;ancestor::*/following-sibling::* and not(ancestor::punctuated[@role="leftsuper" or @role="rightsub" or @role="rightsuper" or @role="rightsub"])'.split(";"),["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::fraction|ancestor::fenced|ancestor::root|ancestor::sqrt"],["Aliases","superscript-baseline","self::superscript","not(following-sibling::*)","ancestor::relseq|ancestor::multirel","not(@embellished)",sre.MathspeakUtil.generateBaselineConstraint()],'Aliases superscript-baseline self::superscript not(following-sibling::*) @embellished not(children/*[2][@role="prime"])'.split(" "),'Rule,superscript-empty-sub,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[2])="infixop",name(children/*[2][@role="implicit"]/children/*[1])="subscript",name(children/*[2]/children/*[1]/children/*[1])="empty"'.split(","),["Aliases","superscript-empty-sub","self::superscript",'name(children/*[2])="subscript"','name(children/*[2]/children/*[1])="empty"'],'Rule,prime,default,[n] children/*[1]; [n] children/*[2],self::superscript,children/*[2],children/*[2][@role="prime"]'.split(","),'Rule,prime-subscript,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",not(following-sibling::*)'.split(","),'Rule,prime-subscript-baseline,default,[n] children/*[1]/children/*[1]; [n] children/*[2]; [t] CSFsubscriptVerbose; [n] children/*[1]/children/*[2]; [t] CSFbaselineVerbose,self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",following-sibling::*'.split(","),'Aliases prime-subscript-baseline self::superscript children/*[2][@role="prime"] name(children/*[1])="subscript" not(following-sibling::*) @embellished'.split(" "),'Rule,prime-subscript-simple,default,[n] children/*[1]/children/*[1]; [n] children/*[2];[n] children/*[1]/children/*[2],self::superscript,children/*[2][@role="prime"],name(children/*[1])="subscript",name(children/*[1]/children/*[1])="identifier",name(children/*[1]/children/*[2])="number",children/*[1]/children/*[2][@role!="mixed"],children/*[1]/children/*[2][@role!="othernumber"]'.split(","),'Rule,overscore,default,[t] "\u2810"; [n] children/*[1]; [t] "\u2823"; [n] children/*[2]; [t] "\u283B",self::overscore,children/*[2][@role="overaccent"]'.split(","),'Rule{overscore{default{[n] children/*[1]; [t] "\u2823"; [n] children/*[2]{self::overscore{children/*[2][@role="overaccent"]{contains(@grammar, "modified")'.split("{"),'Rule,double-overscore,default,[t] "\u2810"; [n] children/*[1] (grammar:"modified"); [t] "\u2823"; [n] children/*[2]; [t] "\u283B",self::overscore,children/*[2][@role="overaccent"],name(children/*[1])="overscore",children/*[1]/children/*[2][@role="overaccent"]'.split(","),'Rule,underscore,default,[t] "\u2810"; [n] children/*[1]; [t] "\u2829"; [n] children/*[2]; [t] "\u283B",self::underscore,children/*[2][@role="underaccent"]'.split(","),'Rule{underscore{default{[n] children/*[1]; [t] "\u2829"; [n] children/*[2]{self::underscore{children/*[2][@role="underaccent"]{contains(@grammar, "modified")'.split("{"),'Rule,double-underscore,default,[t] "\u2810"; [n] children/*[1] (grammar:"modified"); [t] "\u2829"; [n] children/*[2]; [t] "\u283B",self::underscore,children/*[2][@role="underaccent"],name(children/*[1])="underscore",children/*[1]/children/*[2][@role="underaccent"]'.split(","),'Rule,matrix-fence,default,[n] children/*[1];,self::fenced,count(children/*)=1,name(children/*[1])="matrix"'.split(","),["Rule","matrix","default",'[m] children/* (separator:"\u2800", join:"");',"self::matrix"],["Aliases","matrix","self::vector"],["Rule","matrix-row","default",'[n] ../../content/*[1] (grammar:enlargeFence); [m] children/* (separator:"\u2800"); [n] ../../content/*[2] (grammar:enlargeFence); ',"self::row"],["Aliases","matrix-row","self::line",'@role="vector"'],["Aliases","matrix-row","self::line",'@role="binomial"'],'Rule{row-with-label{default{[t] "with Label"; [n] content/*[1]; [t] "EndLabel"(pause: 200); [m] children/* (ctxtFunc:CTXFordinalCounter,context:"Column"){self::row{content'.split("{"),'Rule;empty-row;default;[t] "\u2800" (pause:300);self::row;count(children/*)=0'.split(";"),["Rule","matrix-cell","default","[n] children/*[1]","self::cell"],'Rule;empty-cell;default;[t] "\u2800" (pause: 300);self::cell;count(children/*)=0'.split(";"),["Rule","layout","default",'[m] children/* (separator:"\u2800", join:"");',"self::table"],["Rule","cases","default",'[n] ../../content/*[1] (grammar:enlargeFence); [m] children/* (separator:"\u2800"); [t] "\u2810"',"self::cases"],["Aliases","layout","self::multiline"],["Rule","line","default","[m] children/*","self::line"],'Rule,line-with-label,default,[t] "with Label"; [n] content/*[1]; [t] "EndLabel" (pause: 200); [m] children/*,self::line,content'.split(","),'Rule;empty-line;default;[t] "\u2800";self::line;count(children/*)=0;not(content)'.split(";"),'Rule,empty-line-with-label,default,[t] "with Label"; [n] content/*[1]; [t] "EndLabel"(pause: 200); [t] "Blank",self::line,count(children/*)=0,content'.split(","),["Rule","enclose","default",'[t] "StartEnclose"; [t] @role (grammar:localEnclose); [n] children/*[1]; [t] "EndEnclose"',"self::enclose"],'Rule,overbar,default,[t] "\u2810"; [n] children/*[1]; [t] "\u2823\u2831\u283B",self::enclose,@role="top"'.split(","),'Rule,underbar,default,[t] "\u2810"; [n] children/*[1]; [t] "\u2829\u2831\u283B",self::enclose,@role="bottom"'.split(","),'Rule,leftbar,default,[t] "\u2833"; [n] children/*[1],self::enclose,@role="left"'.split(","),'Rule,rightbar,default,[n] children/*[1]; [t] "\u2833",self::enclose,@role="right"'.split(","),'Rule,crossout,default,[t] "\u282A"; [n] children/*[1]; [t] "\u283B",self::enclose,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),'Rule,cancel,default,[t] "\u282A"; [n] children/*[1]/children/*[1]; [t] "\u282A"; [n] children/*[2]; [t] "\u283B",self::overscore,@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'.split(","),["Aliases","cancel","self::underscore",'@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"'],'Rule,cancel-reverse,default,[t] "\u282A"; [n] children/*[2]/children/*[1]; [t] "\u282A"; [n] children/*[1]; [t] "\u283B",self::overscore,name(children/*[2])="enclose",children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'.split(","),["Aliases","cancel-reverse","self::underscore",'name(children/*[2])="enclose"','children/*[2][@role="updiagonalstrike" or @role="downdiagonalstrike" or @role="horizontalstrike"]'],'Rule;end-punct;default;[m] children/*;self::punctuated;@role="endpunct"'.split(";"),'Rule,start-punct,default,[n] content/*[1]; [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule{punctuation{default{[n] text(); [t] "\u2810"{self::punctuation{@role="fullstop"{contains(@annotation, "nemeth:number")'.split("{"),'Rule,integral-punct,default,[n] children/*[1]; [n] children/*[3],self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/*","self::punctuated"],'Rule,punctuation-comma,default,[n] text(); [t] "\u2800",self::punctuation,parent::*/parent::punctuated,following-sibling::*,@role!="fullstop"'.split(","),'Rule,punctuation-ellipses,default,[t] "\u2800"; [n] text(); [t] "\u2800",self::punctuation,parent::*/parent::punctuated,following-sibling::*,@role="ellipsis",name(preceding-sibling::*[1])!="punctuation"'.split(","),'Rule,punctuation-ellipses,default,[t] "\u2800"; [n] text();,self::punctuation,parent::*/parent::punctuated,@role="ellipsis",name(preceding-sibling::*[1])!="punctuation"'.split(","),'Rule,reference-sign,default,[n] children/*[1]; [n] children/*[2],self::superscript,name(children/*[1])="text" or (name(children/*[1])="punctuated" and children/*[1][@role="text"]),name(children/*[2])="operator" or name(children/*[2])="punctuation"'.split(","),'Rule,reference-number,default,[n] children/*[1]; [t] "\u2808\u283B"; [n] children/*[2]; [t] "\u2810",self::superscript,name(children/*[1])="text" or (name(children/*[1])="punctuated" and children/*[1][@role="text"]),name(children/*[2])="number",children/*[2][@role="integer"]'.split(",")],initialize:[sre.NemethUtil.generateTensorRules,sre.NemethUtil.addAnnotators]},sre.PrefixFrench={locale:"fr",modality:"prefix",domain:"default",functions:[["CSF","CSFordinalPosition",sre.NumbersUtil.ordinalPosition]],rules:['Rule,numerator,default,[t] "num\xE9rateur"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=0'.split(","),'Rule,denominator,default,[t] "d\xE9nominateur"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=1'.split(","),'Rule,base,default,[t] "base"; [p] (pause:200),self::*,name(../..)="superscript" or name(../..)="subscript" or name(../..)="overscore" or name(../..)="underscore" or name(../..)="tensor" or name(../..)="limlower" or name(../..)="limupper",count(preceding-sibling::*)=0'.split(","),'Rule,base-limit,default,[t] "base"; [p] (pause:200),self::*,name(../..)="limboth"'.split(","),'Rule,exponent,default,[t] "exposant"; [p] (pause:200),self::*,name(../..)="superscript",count(preceding-sibling::*)=1'.split(","),'Rule,subscript,default,[t] "indice"; [p] (pause:200),self::*,name(../..)="subscript",count(preceding-sibling::*)=1'.split(","),'Rule,overscript,default,[t] "indice suscrit"; [p] (pause:200),self::*,name(../..)="overscore" or name(../..)="limupper" or name(../..)="limboth",count(preceding-sibling::*)=1 or count(preceding-sibling::*)=2'.split(","),'Rule,underscript,default,[t] "indice souscrit"; [p] (pause:200),self::*,name(../..)="underscore" or name(../..)="limlower" or name(../..)="limboth",count(preceding-sibling::*)=1'.split(","),'Rule,radicand,default,[t] "radicande"; [p] (pause:200),self::*,name(../..)="sqrt"'.split(","),'Rule,radicand,default,[t] "radicande"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=1'.split(","),'Rule,index,default,[t] "indice"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=0'.split(","),'Rule,leftsub,default,[t] "indice inf\xE9rieur gauche"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsub"'.split(","),'Rule,leftsub,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "indice inf\xE9rieur gauche"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsub"'.split(","),'Rule,leftsuper,default,[t] "indice sup\xE9rieur gauche"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsuper"'.split(","),'Rule,leftsuper,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "indice sup\xE9rieur gauche"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsuper"'.split(","),'Rule,rightsub,default,[t] "indice inf\xE9rieur droite"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsub"'.split(","),'Rule,rightsub,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "indice inf\xE9rieur droite"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsub"'.split(","),'Rule,rightsuper,default,[t] "indice sup\xE9rieur droite"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsuper"'.split(","),'Rule,rightsuper,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "indice sup\xE9rieur droite"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsuper"'.split(","),`Rule,choice,default,[t] "nombre d'\xE9l\xE9ments choisis"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=1`.split(","),`Rule,select,default,[t] "nombre d'\xE9l\xE9ments disponibles"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=0`.split(","),["Rule","row","default",'[t] CSFordinalPosition (grammar:gender="female"); [t] "rang\xE9e"; [p] (pause:200)',"self::row"],["Aliases","row","self::line"],'Rule{cell{default{[n] ../..; [t] CSFordinalPosition (grammar:gender="female"); [t] "colonne"; [p] (pause:200){self::cell{contains(@grammar,"depth")'.split("{"),["Rule","cell","default",'[t] CSFordinalPosition (grammar:gender="female"); [t] "colonne"; [p] (pause:200)',"self::cell"]]},sre.PrefixGerman={modality:"prefix",locale:"de",domain:"default",functions:[["CSF","CSFordinalPosition",sre.NumbersUtil.ordinalPosition]],rules:['Rule,numerator,default,[t] "Z\xE4hler"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=0'.split(","),'Rule,denominator,default,[t] "Nenner"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=1'.split(","),'Rule,base,default,[t] "Basis"; [p] (pause:200),self::*,name(../..)="superscript" or name(../..)="subscript" or name(../..)="overscore" or name(../..)="underscore" or name(../..)="tensor",count(preceding-sibling::*)=0'.split(","),'Rule,exponent,default,[t] "Exponent"; [p] (pause:200),self::*,name(../..)="superscript",count(preceding-sibling::*)=1'.split(","),'Rule,subscript,default,[t] "Index"; [p] (pause:200),self::*,name(../..)="subscript",count(preceding-sibling::*)=1'.split(","),'Rule,overscript,default,[t] "Oberer Grenzwert"; [p] (pause:200),self::*,name(../..)="overscore",count(preceding-sibling::*)=1'.split(","),'Rule,underscript,default,[t] "Unterer Grenzwert"; [p] (pause:200),self::*,name(../..)="underscore",count(preceding-sibling::*)=1'.split(","),'Rule,radicand,default,[t] "Radikand"; [p] (pause:200),self::*,name(../..)="sqrt"'.split(","),'Rule,radicand,default,[t] "Radikand"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=1'.split(","),'Rule,index,default,[t] "Wurzelexponent"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=0'.split(","),'Rule,leftsub,default,[t] "linker unterer Index"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsub"'.split(","),'Rule,leftsub,default,[t] CSFordinalPosition; [t] "linker unterer Index"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsub"'.split(","),'Rule,leftsuper,default,[t] "linker oberer Index"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsuper"'.split(","),'Rule,leftsuper,default,[t] CSFordinalPosition; [t] "linker oberer Index"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsuper"'.split(","),'Rule,rightsub,default,[t] "rechter unterer Index"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsub"'.split(","),'Rule,rightsub,default,[t] CSFordinalPosition; [t] "rechter unterer Index"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsub"'.split(","),'Rule,rightsuper,default,[t] "rechter oberer Index"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsuper"'.split(","),'Rule,rightsuper,default,[t] CSFordinalPosition; [t] "rechter oberer Index"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsuper"'.split(","),'Rule,choice,default,[t] "Grundgesamtheit"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=0'.split(","),'Rule,select,default,[t] "Stichprobengr\xF6\xDFe"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=1'.split(","),["Rule","row","default",'[t] CSFordinalPosition; [t] "Zeile"; [p] (pause:200)',"self::row"],["Aliases","row","self::line"],'Rule{cell{default{[n] ../..; [t] CSFordinalPosition; [t] "Spalte"; [p] (pause:200){self::cell{contains(@grammar,"depth")'.split("{"),["Rule","cell","default",'[t] CSFordinalPosition; [t] "Spalte"; [p] (pause:200)',"self::cell"]]},sre.PrefixRules={modality:"prefix",domain:"default",functions:[["CSF","CSFordinalPosition",sre.NumbersUtil.ordinalPosition]],rules:['Rule,numerator,default,[t] "Numerator"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=0'.split(","),'Rule,denominator,default,[t] "Denominator"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=1'.split(","),'Rule,base,default,[t] "Base"; [p] (pause:200),self::*,name(../..)="superscript" or name(../..)="subscript" or name(../..)="overscore" or name(../..)="underscore" or name(../..)="tensor",count(preceding-sibling::*)=0'.split(","),'Rule,exponent,default,[t] "Exponent"; [p] (pause:200),self::*,name(../..)="superscript",count(preceding-sibling::*)=1'.split(","),'Rule,subscript,default,[t] "Subscript"; [p] (pause:200),self::*,name(../..)="subscript",count(preceding-sibling::*)=1'.split(","),'Rule,overscript,default,[t] "Overscript"; [p] (pause:200),self::*,name(../..)="overscore",count(preceding-sibling::*)=1'.split(","),'Rule,underscript,default,[t] "Underscript"; [p] (pause:200),self::*,name(../..)="underscore",count(preceding-sibling::*)=1'.split(","),'Rule,radicand,default,[t] "Radicand"; [p] (pause:200),self::*,name(../..)="sqrt"'.split(","),'Rule,radicand,default,[t] "Radicand"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=1'.split(","),'Rule,index,default,[t] "Index"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=0'.split(","),'Rule,leftsub,default,[t] "Left Subscript"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsub"'.split(","),'Rule,leftsub,default,[t] CSFordinalPosition; [t] "Left Subscript"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsub"'.split(","),'Rule,leftsuper,default,[t] "Left Superscript"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsuper"'.split(","),'Rule,leftsuper,default,[t] CSFordinalPosition; [t] "Left Superscript"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsuper"'.split(","),'Rule,rightsub,default,[t] "Right Subscript"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsub"'.split(","),'Rule,rightsub,default,[t] CSFordinalPosition; [t] "Right Subscript"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsub"'.split(","),'Rule,rightsuper,default,[t] "Right Superscript"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsuper"'.split(","),'Rule,rightsuper,default,[t] CSFordinalPosition; [t] "Right Superscript"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsuper"'.split(","),'Rule,choice,default,[t] "Choice Quantity"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=0'.split(","),'Rule,select,default,[t] "Selection Quantity"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=1'.split(","),["Rule","row","default",'[t] CSFordinalPosition; [t] "Row"; [p] (pause:200)',"self::row"],["Aliases","row","self::line"],'Rule{cell{default{[n] ../..; [t] CSFordinalPosition; [t] "Column"; [p] (pause:200){self::cell{contains(@grammar,"depth")'.split("{"),["Rule","cell","default",'[t] CSFordinalPosition; [t] "Column"; [p] (pause:200)',"self::cell"]]},sre.PrefixSpanish={locale:"es",modality:"prefix",domain:"default",functions:[["CSF","CSFordinalPosition",sre.NumbersUtil.ordinalPosition]],rules:['Rule,numerator,default,[t] "numerador"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=0'.split(","),'Rule,denominator,default,[t] "denominador"; [p] (pause:200),self::*,name(../..)="fraction",count(preceding-sibling::*)=1'.split(","),'Rule,base,default,[t] "base"; [p] (pause:200),self::*,name(../..)="superscript" or name(../..)="subscript" or name(../..)="overscore" or name(../..)="underscore" or name(../..)="tensor",count(preceding-sibling::*)=0'.split(","),'Rule,exponent,default,[t] "exponente"; [p] (pause:200),self::*,name(../..)="superscript",count(preceding-sibling::*)=1'.split(","),'Rule,subscript,default,[t] "sub\xEDndice"; [p] (pause:200),self::*,name(../..)="subscript",count(preceding-sibling::*)=1'.split(","),'Rule,overscript,default,[t] "sobre\xEDndice"; [p] (pause:200),self::*,name(../..)="overscore",count(preceding-sibling::*)=1'.split(","),'Rule,underscript,default,[t] "bajo\xEDndice"; [p] (pause:200),self::*,name(../..)="underscore",count(preceding-sibling::*)=1'.split(","),'Rule,radicand,default,[t] "radicand"; [p] (pause:200),self::*,name(../..)="sqrt"'.split(","),'Rule,radicand,default,[t] "radicand"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=1'.split(","),'Rule,index,default,[t] "\xEDndice"; [p] (pause:200),self::*,name(../..)="root",count(preceding-sibling::*)=0'.split(","),'Rule,leftsub,default,[t] "sub\xEDndice izquierdo"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsub"'.split(","),'Rule,leftsub,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "sub\xEDndice izquierdo"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsub"'.split(","),'Rule,leftsuper,default,[t] "super\xEDndice izquierdo"; [p] (pause:200),self::*,name(../..)="tensor",@role="leftsuper"'.split(","),'Rule,leftsuper,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "super\xEDndice izquierdo"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="leftsuper"'.split(","),'Rule,rightsub,default,[t] "sub\xEDndice derecho"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsub"'.split(","),'Rule,rightsub,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "sub\xEDndice derecho"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsub"'.split(","),'Rule,rightsuper,default,[t] "super\xEDndice derecho"; [p] (pause:200),self::*,name(../..)="tensor",@role="rightsuper"'.split(","),'Rule,rightsuper,default,[t] CSFordinalPosition (grammar:gender="male"); [t] "super\xEDndice derecho"; [p] (pause:200),self::*,name(../..)="punctuated",name(../../../..)="tensor",../../@role="rightsuper"'.split(","),'Rule,choice,default,[t] "cantidad de elecci\xF3n"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=0'.split(","),'Rule,select,default,[t] "cantidad de selecci\xF3n"; [p] (pause:200),self::line,@role="binomial",parent::*/parent::vector,count(preceding-sibling::*)=1'.split(","),["Rule","row","default",'[t] CSFordinalPosition (grammar:gender="female"); [t] "fila"; [p] (pause:200)',"self::row"],["Aliases","row","self::line"],'Rule{cell{default{[n] ../..; [t] CSFordinalPosition (grammar:gender="female"); [t] "columna"; [p] (pause:200){self::cell{contains(@grammar,"depth")'.split("{"),["Rule","cell","default",'[t] CSFordinalPosition (grammar:gender="female"); [t] "columna"; [p] (pause:200)',"self::cell"]]},sre.SemanticTreeRules={domain:"default",functions:[["CTXF","CTXFnodeCounter",sre.StoreUtil.nodeCounter],["CTXF","CTXFcontentIterator",sre.StoreUtil.contentIterator]],rules:['Rule{collapsed{default{[t] "collapsed"; [n] . (engine:modality=summary,grammar:collapsed){self::*{@alternative{not(contains(@grammar, "collapsed")){self::*{self::*{self::*{self::*{self::*'.split("{"),["Rule","stree","default","[n] ./*[1]","self::stree"],'Rule;factorial;default;[t] "factorial";self::punctuation;text()="!";name(preceding-sibling::*[1])!="text"'.split(";"),["Rule","multrel","default",'[t] "multirelation"; [m] children/* (sepFunc:CTXFcontentIterator)',"self::multirel"],'Rule{variable-equality{default{[t] "equation sequence"; [m] children/* (context:"part",ctxtFunc:CTXFnodeCounter,sepFunc:CTXFcontentIterator){self::relseq[@role="equality"]{count(./children/*)>2{./children/punctuation[@role="ellipsis"]'.split("{"),'Rule{multi-equality{default{[t] "equation sequence"; [m] children/* (context:"part",ctxtFunc:CTXFnodeCounter,sepFunc:CTXFcontentIterator){self::relseq[@role="equality"]{count(./children/*)>2'.split("{"),'Rule,equality,default,[n] children/*[1]; [p] (pause:200); [n] content/*[1] (pause:200);[n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2'.split(","),'Rule,simple-equality,default,[n] children/*[1]; [p] (pause:200); [n] content/*[1] (pause:200);[n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2,./children/identifier or ./children/number'.split(","),'Rule,simple-equality2,default,[n] children/*[1]; [p] (pause:200); [n] content/*[1] (pause:200);[n] children/*[2],self::relseq[@role="equality"],count(./children/*)=2,./children/function or ./children/appl'.split(","),["Rule","relseq","default","[m] children/* (sepFunc:CTXFcontentIterator)","self::relseq"],["Rule","binary-operation","default","[m] children/* (sepFunc:CTXFcontentIterator);","self::infixop"],'Rule,variable-addition,default,[t] "sum with variable number of summands";[p] (pause:400); [m] children/* (sepFunc:CTXFcontentIterator),self::infixop[@role="addition"],count(children/*)>2,children/punctuation[@role="ellipsis"]'.split(","),'Rule,multi-addition,default,[t] "sum with"; [t] count(./children/*); [t] "summands";[p] (pause:400); [m] children/* (sepFunc:CTXFcontentIterator),self::infixop[@role="addition"],count(./children/*)>2'.split(","),["Rule","prefix","default",'[t] "prefix"; [m] content/* (pause 150);[n] children/*[1]',"self::prefixop"],'Rule,negative,default,[t] "negative"; [n] children/*[1],self::prefixop,self::prefixop[@role="negative"]'.split(","),["Rule","postfix","default",'[n] children/*[1]; [t] "postfix"; [m] content/* (pause 300)',"self::postfixop"],["Rule","identifier","default","[n] text()","self::identifier"],["Rule","number","default","[n] text()","self::number"],'Rule,mixed-number,default,[n] children/*[1]; [t] "and"; [n] children/*[2]; ,self::number,@role="mixed"'.split(","),'Rule{font{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::*{@font{not(contains(@grammar, "ignoreFont")){@font!="normal"'.split("{"),'Rule{font-identifier-short{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{not(contains(@grammar, "ignoreFont")){@font="normal"{""=translate(text(), "abcdefghijklmnopqrstuvwxyz\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039A\u039B\u039C\u039D\u039E\u039F\u03A0\u03A1\u03A3\u03A3\u03A4\u03A5\u03A6\u03A7\u03A8\u03A9", ""){@role!="unit"'.split("{"),'Rule{font-identifier{default{[t] @font (grammar:localFont); [n] . (grammar:ignoreFont=@font){self::identifier{string-length(text())=1{@font{@font="normal"{not(contains(@grammar, "ignoreFont")){@role!="unit"'.split("{"),'Rule;omit-font;default;[n] . (grammar:ignoreFont=@font);self::identifier;string-length(text())=1;@font;not(contains(@grammar, "ignoreFont"));@font="italic"'.split(";"),["Rule","fraction","default",'[p] (pause:250); [n] children/*[1] (rate:0.35); [p] (pause:250); [t] "divided by"; [n] children/*[2] (rate:-0.35); [p] (pause:400)',"self::fraction"],["Rule","superscript","default",'[n] children/*[1]; [t] "super"; [n] children/*[2] (pitch:0.35);[p] (pause:300)',"self::superscript"],["Rule","subscript","default",'[n] children/*[1]; [t] "sub"; [n] children/*[2] (pitch:-0.35);[p] (pause:300)',"self::subscript"],'Rule,ellipsis,default,[p] (pause:200); [t] "ellipsis"; [p] (pause:300),self::punctuation,self::punctuation[@role="ellipsis"]'.split(","),'Rule;fence-single;default;[n] text();self::punctuation;self::punctuation[@role="openfence"]'.split(";"),["Aliases","fence-single","self::punctuation",'self::punctuation[@role="closefence"]'],["Aliases","fence-single","self::punctuation",'self::punctuation[@role="vbar"]'],["Aliases","fence-single","self::punctuation",'self::punctuation[@role="application"]'],["Rule","omit-empty","default","[p] (pause:100)","self::empty"],'Rule,fences-open-close,default,[p] (pause:100); [n] content/*[1]; [n] children/*[1]; [n] content/*[2]; [p] (pause:100),self::fenced,@role="leftright"'.split(","),'Rule,fences-open-close-in-appl,default,[p] (pause:200); [n] children/*[1]; [p] (pause:200);,self::fenced[@role="leftright"],./parent::children/parent::appl'.split(","),'Rule,fences-neutral,default,[p] (pause:100); [t] "absolute value of"; [n] children/*[1];[p] (pause:350);,self::fenced,self::fenced[@role="neutral"]'.split(","),["Rule","omit-fences","default","[p] (pause:500); [n] children/*[1]; [p] (pause:200);","self::fenced"],["Rule","matrix","default",'[t] "matrix"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:100)',"self::matrix"],["Rule","matrix-row","default",'[m] children/* (ctxtFunc:CTXFnodeCounter,context:"column",pause:100)','self::row[@role="matrix"]'],["Rule","matrix-cell","default","[n] children/*[1]",'self::cell[@role="matrix"]'],["Rule","vector","default",'[t] "vector"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"element",pause:100)',"self::vector"],["Rule","cases","default",'[t] "case statement"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"case",pause:100)',"self::cases"],["Rule","cases-row","default","[m] children/*",'self::row[@role="cases"]'],["Rule","cases-cell","default","[n] children/*[1]",'self::cell[@role="cases"]'],["Rule","row","default",'[m] ./* (ctxtFunc:CTXFnodeCounter,context:"column",pause:100)',"self::row"],'Rule{cases-end{default{[t] "case statement"; [m] children/* (ctxtFunc:CTXFnodeCounter,context:"case",pause:100);[t] "end cases"{self::cases{following-sibling::*'.split("{"),["Rule","multiline","default",'[t] "multiline equation";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"line",pause:100)',"self::multiline"],'Rule{multiline-ineq{default{[t] "multiline inequality";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:100){self::multiline{@role="inequality"'.split("{"),["Rule","line","default","[m] children/*","self::line"],["Rule","table","default",'[t] "multiline equation";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:200)',"self::table"],'Rule{table-ineq{default{[t] "multiline inequality";[m] children/* (ctxtFunc:CTXFnodeCounter,context:"row",pause:200){self::table{@role="inequality"'.split("{"),["Rule","table-row","default","[m] children/* (pause:100)",'self::row[@role="table"]'],["Aliases","cases-cell",'self::cell[@role="table"]'],'Rule;empty-cell;default;[t] "Blank";self::cell;count(children/*)=0'.split(";"),'Rule,end-punct,default,[m] children/*; [p] (pause:300),self::punctuated,@role="endpunct"'.split(","),'Rule,start-punct,default,[n] content/*[1]; [p] (pause:200); [m] children/*[position()>1],self::punctuated,@role="startpunct"'.split(","),'Rule,integral-punct,default,[n] children/*[1] (rate:0.2); [n] children/*[3] (rate:0.2),self::punctuated,@role="integral"'.split(","),["Rule","punctuated","default","[m] children/* (pause:100)","self::punctuated"],["Rule","function","default","[n] text()","self::function"],["Rule","appl","default","[n] children/*[1]; [n] content/*[1]; [n] children/*[2]","self::appl"],'Rule,sum-only,default,[n] children/*[1]; [t] "from"; [n] children/*[2]; [t] "to";[n] children/*[3],self::limboth,self::limboth[@role="sum"]'.split(","),["Rule","limboth","default",'[n] children/*[1]; [p] (pause 100); [t] "over"; [n] children/*[2];[t] "under"; [n] children/*[3]; [p] (pause 250);',"self::limboth"],["Rule","limlower","default",'[n] children/*[1]; [t] "over"; [n] children/*[2];',"self::limlower"],["Rule","limupper","default",'[n] children/*[1]; [t] "under"; [n] children/*[2];',"self::limupper"],["Rule","largeop","default","[n] text()","self::largeop"],["Rule","bigop","default",'[n] children/*[1]; [p] (pause 100); [t] "over"; [n] children/*[2];[p] (pause 250);',"self::bigop"],["Rule","integral","default","[n] children/*[1]; [p] (pause 100); [n] children/*[2];[p] (pause 200); [n] children/*[3] (rate:0.35);","self::integral"],["Rule","sqrt","default",'[t] "Square root of"; [n] children/*[1] (rate:0.35); [p] (pause:400)',"self::sqrt"],'Rule,square,default,[n] children/*[1]; [t] "squared" (pitch:0.35); [p] (pause:300),self::superscript,children/*[2][text()=2],name(./children/*[1])!="text"'.split(","),'Rule,cube,default,[n] children/*[1]; [t] "cubed" (pitch:0.35); [p] (pause:300),self::superscript,children/*[2][text()=3],name(./children/*[1])!="text"'.split(","),["Rule","root","default",'[t] "root of order"; [n] children/*[1];[t] "over"; [n] children/*[2] (rate:0.35); [p] (pause:400)',"self::root"],["Rule","text","default","[n] text(); [p] (pause:200)","self::text"],'Rule;unit;default;[t] text() (grammar:annotation="unit":translate:plural);self::identifier;@role="unit"'.split(";"),'Rule,unit-square,default,[t] "square"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=2],name(children/*[1])="identifier"'.split(","),'Rule,unit-cubic,default,[t] "cubic"; [n] children/*[1],self::superscript,@role="unit",children/*[2][text()=3],name(children/*[1])="identifier"'.split(","),'Rule,reciprocal,default,[t] "reciprocal"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],count(preceding-sibling::*)=0 or preceding-sibling::*[@role!="unit"]'.split(","),'Rule,reciprocal,default,[t] "per"; [n] children/*[1],self::superscript,@role="unit",name(children/*[1])="identifier",name(children/*[2])="prefixop",children/*[2][@role="negative"],children/*[2]/children/*[1][text()=1],preceding-sibling::*[@role="unit"]'.split(","),'Rule;unit-combine;default;[m] children/*;self::infixop;@role="unit"'.split(";"),'Rule,unit-divide,default,[n] children/*[1] (pitch:0.3); [t] "per"; [n] children/*[2] (pitch:-0.3),self::fraction,@role="unit"'.split(",")]},sre.SummaryFrench={locale:"fr",modality:"summary",rules:[["Rule","collapsed-masculine","default.masculine",'[t] "compress\xE9"','contains(@grammar, "collapsed")'],["Rule","collapsed-feminine","default.feminine",'[t] "compress\xE9e"','contains(@grammar, "collapsed")'],["Rule","no-collapsed","default.masculine",'[t] ""','not(contains(@grammar, "collapsed"))'],["Rule","no-collapsed","default.feminine",'[t] ""','not(contains(@grammar, "collapsed"))'],["Rule","stree","default.default","[n] ./*[1]","self::stree"],'Rule{abstr-identifier{default.default{[t] "identifiant long"; [n] . (engine:style=masculine){self::identifier{contains(@grammar, "collapsed")'.split("{"),["Rule","abstr-identifier","default.default",'[t] "identifiant"; [n] . (engine:style=masculine)',"self::identifier"],'Rule{abstr-number{default.default{[t] "nombre long"; [n] . (engine:style=masculine){self::number{contains(@grammar, "collapsed")'.split("{"),["Rule","abstr-number","default.default",'[t] "nombre"; [n] . (engine:style=masculine)',"self::number"],'Rule{abstr-mixed-number{default.default{[t] "nombre fractionnaire long"; [n] . (engine:style=masculine){self::number{@role="mixed"{contains(@grammar, "collapsed")'.split("{"),'Rule,abstr-mixed-number,default.default,[t] "nombre fractionnaire"; [n] . (engine:style=masculine),self::number,@role="mixed"'.split(","),["Rule","abstr-text","default.default",'[t] "texte"; [n] . (engine:style=masculine)',"self::text"],["Rule","abstr-function","default.default",'[t] "expression fonctionnelle"; [n] . (engine:style=feminine)',"self::function"],["Rule","abstr-function","mathspeak.brief",'[t] "fonction"; [n] . (engine:style=feminine)',"self::function"],["SpecializedRule","abstr-function","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-lim,default.default,[t] "fonction de limitation"; [n] . (engine:style=feminine),self::function,@role="limit function"'.split(","),'Rule,abstr-lim,mathspeak.brief,[t] "lim"; [n] . (engine:style=feminine),self::function,@role="limit function"'.split(","),["SpecializedRule","abstr-lim","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-fraction","default.default",'[t] "fraction"; [n] . (engine:style=feminine)',"self::fraction"],["Rule","abstr-fraction","mathspeak.brief",'[t] "frac"; [n] . (engine:style=feminine)',"self::fraction"],["SpecializedRule","abstr-fraction","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-continued-fraction,default.default,[t] "fraction continue"; [n] . (engine:style=feminine),self::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(","),'Rule,abstr-continued-fraction,mathspeak.brief,[t] "frac continue"; [n] . (engine:style=feminine),self::fraction,children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(","),["SpecializedRule","abstr-continued-fraction","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-sqrt","default.default",'[t] "racine carr\xE9e"; [n] . (engine:style=feminine)',"self::sqrt"],'Rule,abstr-sqrt-nested,default.default,[t] "racine carr\xE9e imbriqu\xE9e"; [n] . (engine:style=feminine),self::sqrt,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(","),`Rule{abstr-root{default.default{[t] "racine d'indice"; [n] children/*[1] (engine:modality="speech"); [t] "fin indice"; [n] . (engine:style=feminine);{self::root{contains(@grammar, "collapsed"){following-sibling::* or ancestor::*/following-sibling::*`.split("{"),["Rule","abstr-root","default.default",`[t] "racine d'indice"; [n] children/*[1] (engine:modality=speech); [n] . (engine:style=feminine)`,"self::root"],["Rule","abstr-root","mathspeak.brief",'[t] "racine"; [n] . (engine:style=feminine)',"self::root"],["SpecializedRule","abstr-root","mathspeak.brief","mathspeak.sbrief"],`Rule{abstr-root-nested{default.default{[t] "racine imbriqu\xE9e d'indice"; [n] children/*[1] (engine:modality=speech); [t] "fin indice"; [n] . (engine:style=feminine);{self::root{contains(@grammar, "collapsed"){children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root{following-sibling::* or ancestor::*/following-sibling::*`.split("{"),`Rule,abstr-root-nested,default.default,[t] "racine imbriqu\xE9e d'indice"; [n] children/*[1] (engine:modality=speech); [n] . (engine:style=feminine),self::root,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root`.split(","),'Rule,abstr-root-nested,mathspeak.brief,[t] "racine imbriqu\xE9e"; [n] . (engine:style=feminine),self::root,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(","),["SpecializedRule","abstr-root-nested","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-superscript","default.default",'[t] "puissance"; [n] . (engine:style=feminine)',"self::superscript"],["Rule","abstr-subscript","default.default",'[t] "indice"; [n] . (engine:style=masculine)',"self::subscript"],'Rule,abstr-subsup,default.default,[t] "puissance avec index"; [n] . (engine:style=feminine),self::superscript,name(children/*[1])="subscript"'.split(","),["Rule","abstr-infixop","default.default",'[t] @role (grammar:localRole); [t] "avec"; [t] count(./children/*); [t] "\xE9l\xE9ments"; [n] . (engine:style=masculine)',"self::infixop"],`Rule,abstr-infixop,default.default,[t] @role (grammar:localRole); [t] "avec un nombre d'\xE9l\xE9ments variable"; [n] . (engine:style=masculine),self::infixop,count(./children/*)>2,./children/punctuation[@role="ellipsis"]`.split(","),["Rule","abstr-infixop","mathspeak.brief","[t] @role (grammar:localRole); [n] . (engine:style=masculine)","self::infixop"],["SpecializedRule","abstr-infixop","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-addition,default.default,[t] "somme avec"; [t] count(./children/*); [t] "op\xE9randes"; [n] . (engine:style=feminine),self::infixop,@role="addition"'.split(","),'Rule,abstr-addition,mathspeak.brief,[t] "somme"; [n] . (engine:style=feminine),self::infixop,@role="addition"'.split(","),["SpecializedRule","abstr-addition","mathspeak.brief","mathspeak.sbrief"],`Rule,abstr-var-addition,default.default,[t] "somme avec un nombre variable d'op\xE9randes"; [n] . (engine:style=feminine),self::infixop,@role="addition",count(./children/*)>2,./children/punctuation[@role="ellipsis"]`.split(","),'Rule,abstr-multiplication,default.default,[t] "produit avec"; [t] count(./children/*); [t] "facteurs"; [n] . (engine:style=masculine);,self::infixop,@role="multiplication"'.split(","),'Rule,abstr-multiplication,mathspeak.brief,[t] "produit"; [n] . (engine:style=masculine),self::infixop,@role="multiplication"'.split(","),["SpecializedRule","abstr-multiplication","mathspeak.brief","mathspeak.sbrief"],["Aliases","abstr-multiplication","self::infixop",'@role="implicit"'],'Rule,abstr-var-multiplication,default.default,[t] "produit avec un nombre de facteurs variable"; [n] . (engine:style=masculine),self::infixop,@role="multiplication",count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),'Aliases abstr-var-multiplication self::infixop @role="implicit" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),["Rule","abstr-vector","default.default",'[t] "vecteur de dimension"; [t] count(./children/*); [n] . (engine:style=masculine)',"self::vector"],["Rule","abstr-vector","mathspeak.brief",'[t] "vecteur"; [n] . (engine:style=masculine)',"self::vector"],["SpecializedRule","abstr-vector","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-vector,default.default,[t] "vecteur colonne de dimension n"; [n] . (engine:style=masculine),self::vector,./children/*/children/punctuation[@role="ellipsis"]'.split(","),'Rule,abstr-binomial,default.default,[t] "binomial"; [n] . (engine:style=masculine),self::vector,@role="binomial"'.split(","),["SpecializedRule","abstr-binomial","default.default","mathspeak.brief"],["SpecializedRule","abstr-binomial","default.default","mathspeak.sbrief"],'Rule,abstr-determinant,default.default,[t] "d\xE9terminant de dimension"; [t] count(./children/*); [n] . (engine:style=masculine),self::matrix,@role="determinant"'.split(","),'Rule,abstr-determinant,mathspeak.brief,[t] "d\xE9terminant"; [n] . (engine:style=masculine),self::matrix,@role="determinant"'.split(","),["SpecializedRule","abstr-determinant","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-determinant,default.default,[t] "d\xE9terminant de dimension n"; [n] . (engine:style=masculine),self::matrix,@role="determinant",./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(","),'Rule,abstr-squarematrix,default.default,[t] "matrice carr\xE9e de dimension"; [t] count(./children/*); [n] . (engine:style=feminine),self::matrix,@role="squarematrix"'.split(","),'Rule,abstr-squarematrix,mathspeak.brief,[t] "matrice carr\xE9e"; [n] . (engine:style=feminine),self::matrix,@role="squarematrix"'.split(","),["SpecializedRule","abstr-squarematrix","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-rowvector,default.default,[t] "vecteur ligne de dimension"; [t] count(./children/row/children/*); [n] . (engine:style=masculine),self::matrix,@role="rowvector"'.split(","),'Rule,abstr-rowvector,mathspeak.brief,[t] "vecteur ligne"; [n] . (engine:style=masculine),self::matrix,@role="rowvector"'.split(","),["SpecializedRule","abstr-rowvector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "vecteur ligne de dimension n";self::matrix;@role="rowvector";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-matrix","default.default",'[t] "matrice"; [t] count(children/*);  [t] "par";[t] count(children/*[1]/children/*); [n] . (engine:style=feminine)',"self::matrix"],["Rule","abstr-matrix","mathspeak.brief",'[t] "matrice"; [n] . (engine:style=feminine)',"self::matrix"],["SpecializedRule","abstr-matrix","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-matrix,default.default,[t] "matrice de dimension n par m"; [n] . (engine:style=feminine),self::matrix,./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-cases","default.default",'[t] "d\xE9claration de cas";[t] "avec"; [t] count(children/*); [t] "cas"; [n] . (engine:style=feminine)',"self::cases"],["Rule","abstr-cases","mathspeak.brief",'[t] "d\xE9claration de cas"; [n] . (engine:style=feminine)',"self::cases"],["SpecializedRule","abstr-cases","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-cases,default.default,[t] "d\xE9claration de cas variable"; [n] . (engine:style=feminine),self::cases,./children/row/children/cell/children/punctuation[@role="ellipsis"]or ./children/line/children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-punctuated","default.default",'[t] "liste de longueur"; [t] count(children/*) - count(content/*); [t] "s\xE9par\xE9e par des"; [n] content/*[1] (join:""); [t] "s"; [n] . (engine:style=feminine)',"self::punctuated"],["Rule","abstr-punctuated","mathspeak.brief",'[t] "liste s\xE9par\xE9e par des"; [n] content/*[1] (join:""); [t] "s"; [n] . (engine:style=feminine)',"self::punctuated"],["SpecializedRule","abstr-punctuated","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-punctuated,default.default,[t] "liste de longueur variable s\xE9par\xE9e par des"; [n] content/*[1] (join:""); [t] "s"; [n] . (engine:style=feminine),self::punctuated,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-bigop","default.default","[n] content/*[1]; [n] . (engine:style=masculine)","self::bigop"],["Rule","abstr-integral","default.default",'[t] "int\xE9grale"; [n] . (engine:style=feminine)','@role="integral"'],"Rule,abstr-relation,default.default,[t] @role (grammar:localRole); [n] . (engine:style=masculine);,self::relseq,count(./children/*)=2".split(","),'Rule,abstr-relation-seq,default.default,[t] @role (grammar:localRole); [t] "s\xE9quence"; [t] "avec"; [t] count(./children/*); [t] "\xE9l\xE9ments"; [n] . (engine:style=feminine),self::relseq,count(./children/*)>2'.split(","),'Rule,abstr-relation-seq,mathspeak.brief,[t] @role (grammar:localRole); [t] "s\xE9quence"; [n] . (engine:style=feminine),self::relseq,count(./children/*)>2'.split(","),["SpecializedRule","abstr-relation-seq","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-relation,default.default,[t] @role (grammar:localRole); [t] "s\xE9quence"; [t] "avec un nombre de \xE9l\xE9ments variable"; [n] . (engine:style=feminine),self::relseq,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),'UniqueAlias abstr-relation default.default self::multirel @role!="unknown" count(./children/*)>2'.split(" "),'Aliases abstr-var-relation self::multirel @role!="unknown" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),'Rule,abstr-multirel,default.default,[t] "s\xE9quence de relation"; [t] "avec"; [t] count(./children/*); [t] "\xE9l\xE9ments"; [n] . (engine:style=feminine),self::multirel,count(./children/*)>2'.split(","),'Rule,abstr-multirel,mathspeak.brief,[t] "s\xE9quence de relation"; [n] . (engine:style=feminine),self::multirel,count(./children/*)>2'.split(","),["SpecializedRule","abstr-multirel","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-multirel,default.default,[t] "s\xE9quence de relation avec un nombre de \xE9l\xE9ments variable"; [n] . (engine:style=feminine),self::multirel,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-table","default.default",'[t] "table avec"; [t] count(children/*); [t] "lignes et";[t] count(children/*[1]/children/*); [t] "colonnes"; [n] . (engine:style=feminine);',"self::table"],["Rule","abstr-line","default.default",'[t] "dans"; [t] @role (grammar:localRole); [n] . (engine:style=masculine)',"self::line"],["Rule","abstr-row","default.default",'[t] "dans"; [t] @role (grammar:localRole);[t] count(preceding-sibling::..); [t] "avec";[t] count(children/*); [t] "colonnes"; [n] . (engine:style=feminine)',"self::row"],["Rule","abstr-cell","default.default",'[t] "dans"; [t] @role (grammar:localRole); [n] . (engine:style=feminine);',"self::cell"]]},sre.SummaryGerman={modality:"summary",locale:"de",rules:['Rule;abstr-identifier;default.default;[t] "langer Bezeichner";self::identifier;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-identifier","default.default",'[t] "Bezeichner"',"self::identifier"],'Rule;abstr-number;default.default;[t] "lange Zahl";self::number;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-number","default.default",'[t] "Zahl"',"self::number"],'Rule;abstr-mixed-number;default.default;[t] "langer gemischter Bruch";self::number;@role="mixed";contains(@grammar, "collapsed")'.split(";"),'Rule;abstr-mixed-number;default.default;[t] "gemischter Bruch";self::number;@role="mixed"'.split(";"),["Rule","abstr-text","default.default",'[t] "Text"',"self::text"],["Rule","abstr-function","default.default",'[t] "Funktionsausdruck"',"self::function"],["Rule","abstr-function","mathspeak.brief",'[t] "Funktion"',"self::function"],["SpecializedRule","abstr-function","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-lim;default.default;[t] "Grenzwertfunktion";self::function;@role="limit function"'.split(";"),'Rule;abstr-lim;mathspeak.brief;[t] "Grenzwert";self::function;@role="limit function"'.split(";"),["SpecializedRule","abstr-lim","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-fraction","default.default",'[t] "Bruch"',"self::fraction"],'Rule;abstr-continued-fraction;default.default;[t] "Kettenbruch";self::fraction;children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(";"),["Rule","abstr-sqrt","default.default",'[t] "Quadratwurzel"',"self::sqrt"],'Rule;abstr-sqrt-nested;default.default;[t] "verschachtelte Quadratwurzel";self::sqrt;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),'Rule{abstr-root{default.default{[t] "Wurzel mit Exponent"; [n] children/*[1] (engine:modality=speech); [t] "Exponentende"{self::root{contains(@grammar, "collapsed"){following-sibling::* or ancestor::*/following-sibling::*'.split("{"),["Rule","abstr-root","default.default",'[t] "Wurzel mit Exponent"; [n] children/*[1] (engine:modality=speech)',"self::root"],["Rule","abstr-root","mathspeak.brief",'[t] "Wurzel"',"self::root"],["SpecializedRule","abstr-root","mathspeak.brief","mathspeak.sbrief"],'Rule{abstr-root-nested{default.default{[t] "verschachtelte Wurzel mit Wurzelexponent"; [n] children/*[1] (engine:modality="speech"); [t] "Ende Wurzelexponent"{self::root{contains(@grammar, "collapsed"){children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root{following-sibling::* or ancestor::*/following-sibling::*'.split("{"),'Rule,abstr-root-nested,default.default,[t] "verschachtelte Wurzel mit Exponent"; [n] children/*[1] (engine:modality="speech"),self::root,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(","),'Rule;abstr-root-nested;mathspeak.brief;[t] "verschachtelte Wurzel";self::root;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),["SpecializedRule","abstr-root-nested","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-superscript","default.default",'[t] "Potenz"',"self::superscript"],["Rule","abstr-subscript","default.default",'[t] "Index"',"self::subscript"],'Rule;abstr-subsup;default.default;[t] "Potenz mit Index";self::superscript;name(children/*[1])="subscript"'.split(";"),["Rule","abstr-infixop","default.default",'[t] @role (grammar:localRole); [t] "mit"; [t] count(./children/*); [t] "Elementen"',"self::infixop"],'Rule,abstr-infixop,default.default,[t] @role (grammar:localRole); [t] "mit ver\xE4nderlicher Anzahl an Elementen",self::infixop,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-infixop","mathspeak.brief","[t] @role (grammar:localRole)","self::infixop"],["SpecializedRule","abstr-infixop","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-addition,default.default,[t] "Summe mit"; [t] count(./children/*); [t] "Summanden",self::infixop,@role="addition"'.split(","),'Rule;abstr-addition;mathspeak.brief;[t] "Summe";self::infixop;@role="addition"'.split(";"),["SpecializedRule","abstr-addition","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-addition;default.default;[t] "Summe mit ver\xE4nderlicher Anzahl an Summanden";self::infixop;@role="addition";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-multiplication,default.default,[t] "Produkt mit"; [t] count(./children/*); [t] "Faktoren",self::infixop,@role="multiplication"'.split(","),'Rule;abstr-multiplication;mathspeak.brief;[t] "Produkt";self::infixop;@role="multiplication"'.split(";"),["SpecializedRule","abstr-multiplication","mathspeak.brief","mathspeak.sbrief"],["Aliases","abstr-multiplication","self::infixop",'@role="implicit"'],'Rule;abstr-var-multiplication;default.default;[t] "Produkt mit ver\xE4nderlicher Anzahl an Faktoren";self::infixop;@role="multiplication";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Aliases abstr-var-multiplication self::infixop @role="implicit" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),["Rule","abstr-vector","default.default",'[t] count(./children/*) ; [t] "dimensionaler Vektor"',"self::vector"],["Rule","abstr-vector","mathspeak.brief",'[t] "Vektor"',"self::vector"],["SpecializedRule","abstr-vector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-vector;default.default;[t] "n dimensionaler Vektor";self::vector;./children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule;abstr-binomial;default.default;[t] "Binomialkoeffizient";self::vector;@role="binomial"'.split(";"),["SpecializedRule","abstr-binomial","default.default","mathspeak.brief"],["SpecializedRule","abstr-binomial","default.default","mathspeak.sbrief"],'Rule,abstr-determinant,default.default,[t] count(./children/*); [t] "dimensionale Determinante",self::matrix,@role="determinant"'.split(","),'Rule;abstr-determinant;mathspeak.brief;[t] "Determinante";self::matrix;@role="determinant"'.split(";"),["SpecializedRule","abstr-determinant","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-determinant;default.default;[t] "n dimensionale Determinante";self::matrix;@role="determinant";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-squarematrix,default.default,[t] count(./children/*); [t] "dimensionale quadratische Matrize",self::matrix,@role="squarematrix"'.split(","),'Rule;abstr-squarematrix;mathspeak.brief;[t] "quadratische Matrize";self::matrix;@role="squarematrix"'.split(";"),["SpecializedRule","abstr-squarematrix","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-rowvector,default.default,[t] count(./children/row/children/*); [t] "dimensionaler Zeilenvektor",self::matrix,@role="rowvector"'.split(","),'Rule;abstr-rowvector;mathspeak.brief;[t] "Zeilenvektor";self::matrix;@role="rowvector"'.split(";"),["SpecializedRule","abstr-rowvector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "n dimensionaler Zeilenvektor";self::matrix;@role="rowvector";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-matrix","default.default",'[t] count(children/*);  [t] "mal";[t] count(children/*[1]/children/*); [t] "Matrize"',"self::matrix"],["Rule","abstr-matrix","mathspeak.brief",'[t] "Matrize"',"self::matrix"],["SpecializedRule","abstr-matrix","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "n mal m dimensionale Matrize";self::matrix;./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-cases","default.default",'[t] "Fallunterscheidung";[t] "mit"; [t] count(children/*); [t] "F\xE4llen"',"self::cases"],["Rule","abstr-cases","mathspeak.brief",'[t] "Fallunterscheidung"',"self::cases"],["SpecializedRule","abstr-cases","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-cases;default.default;[t] "Fallunterscheidung mit ver\xE4nderlicher Anzahl an F\xE4llen";self::cases;./children/row/children/cell/children/punctuation[@role="ellipsis"]or ./children/line/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-punctuated","default.default",'[t] "mit"; [n] content/*[1]; [t] "getrennte Liste der L\xE4nge"; [t] count(children/*) - count(content/*)',"self::punctuated"],["Rule","abstr-punctuated","mathspeak.brief",'[t] "mit"; [n] content/*[1]; [t] "getrennte Liste";',"self::punctuated"],["SpecializedRule","abstr-punctuated","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-punctuated,default.default,[t] "mit"; [n] content/*[1]; [t] "getrennte Liste";[t] "ver\xE4nderlicher L\xE4nge",self::punctuated,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-bigop","default.default","[n] content/*[1]","self::bigop"],["Rule","abstr-integral","default.default",'[t] "Integral"','@role="integral"'],"Rule,abstr-relation,default.default,[t] @role (grammar:localRole);,self::relseq,count(./children/*)=2".split(","),'Rule{abstr-relation-seq{default.default{[t] @role (grammar:localRole, join:""); [t] "ssequenz"; [t] "mit"; [t] count(./children/*); [t] "Elementen"{self::relseq{count(./children/*)>2'.split("{"),'Rule{abstr-relation-seq{mathspeak.brief{[t] @role (grammar:localRole, join:""); [t] "ssequenz"{self::relseq{count(./children/*)>2'.split("{"),["SpecializedRule","abstr-relation-seq","mathspeak.brief","mathspeak.sbrief"],'Rule{abstr-var-relation{default.default{[t] @role (grammar:localRole, join:""); [t] "ssequenz";[t] "mit ver\xE4nderlicher Anzahl an Elementen"{self::relseq{count(./children/*)>2{./children/punctuation[@role="ellipsis"]'.split("{"),'UniqueAlias abstr-relation default.default self::multirel @role!="unknown" count(./children/*)>2'.split(" "),'Aliases abstr-var-relation self::multirel @role!="unknown" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),'Rule,abstr-multirel,default.default,[t] "Relationsequenz"; [t] "mit"; [t] count(./children/*); [t] "Elementen",self::multirel,count(./children/*)>2'.split(","),'Rule;abstr-multirel;mathspeak.brief;[t] "Relationsequenz";self::multirel;count(./children/*)>2'.split(";"),["SpecializedRule","abstr-multirel","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-multirel;default.default;[t] "Relationsequenz mit ver\xE4nderlicher Anzahl an Elementen";self::multirel;count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-table","default.default",'[t] "Tabelle mit"; [t] count(children/*); [t] "Zeilen und";[t] count(children/*[1]/children/*); [t] "Spalten"',"self::table"],["Rule","abstr-line","default.default",'[t] "in"; [t] @role (grammar:localRole);',"self::line"],["Rule","abstr-row","default.default",'[t] "in"; [t] @role (grammar:localRole);[t] count(preceding-sibling::..); [t] "mit";[t] count(children/*); [t] "Spalten"',"self::row"],["Rule","abstr-cell","default.default",'[t] "in"; [t] @role (grammar:localRole);',"self::cell"]]},sre.SummaryRules={modality:"summary",rules:['Rule;abstr-identifier;default.default;[t] "long identifier";self::identifier;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-identifier","default.default",'[t] "identifier"',"self::identifier"],'Rule;abstr-number;default.default;[t] "long number";self::number;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-number","default.default",'[t] "number"',"self::number"],'Rule;abstr-mixed-number;default.default;[t] "long mixed number";self::number;@role="mixed";contains(@grammar, "collapsed")'.split(";"),'Rule;abstr-mixed-number;default.default;[t] "mixed number";self::number;@role="mixed"'.split(";"),["Rule","abstr-text","default.default",'[t] "text"',"self::text"],["Rule","abstr-function","default.default",'[t] "functional expression"',"self::function"],["Rule","abstr-function","mathspeak.brief",'[t] "function"',"self::function"],["SpecializedRule","abstr-function","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-lim;default.default;[t] "limit function";self::function;@role="limit function"'.split(";"),'Rule;abstr-lim;mathspeak.brief;[t] "lim";self::function;@role="limit function"'.split(";"),["SpecializedRule","abstr-lim","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-fraction","default.default",'[t] "fraction"',"self::fraction"],["Rule","abstr-fraction","mathspeak.brief",'[t] "frac"',"self::fraction"],["SpecializedRule","abstr-fraction","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-continued-fraction;default.default;[t] "continued fraction";self::fraction;children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(";"),'Rule;abstr-continued-fraction;mathspeak.brief;[t] "continued frac";self::fraction;children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(";"),["SpecializedRule","abstr-continued-fraction","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-sqrt","default.default",'[t] "square root"',"self::sqrt"],'Rule;abstr-sqrt-nested;default.default;[t] "nested square root";self::sqrt;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),'Rule{abstr-root{default.default{[t] "root of index"; [n] children/*[1] (engine:modality="speech"); [t] "endindex"{self::root{contains(@grammar, "collapsed"){following-sibling::* or ancestor::*/following-sibling::*'.split("{"),["Rule","abstr-root","default.default",'[t] "root of index"; [n] children/*[1] (engine:modality=speech)',"self::root"],["Rule","abstr-root","mathspeak.brief",'[t] "root"',"self::root"],["SpecializedRule","abstr-root","mathspeak.brief","mathspeak.sbrief"],'Rule{abstr-root-nested{default.default{[t] "nested root of index"; [n] children/*[1] (engine:modality="speech"); [t] "endindex"{self::root{contains(@grammar, "collapsed"){children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root{following-sibling::* or ancestor::*/following-sibling::*'.split("{"),'Rule,abstr-root-nested,default.default,[t] "nested root of index"; [n] children/*[1] (engine:modality="speech"),self::root,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(","),'Rule;abstr-root-nested;mathspeak.brief;[t] "nested root";self::root;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),["SpecializedRule","abstr-root-nested","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-superscript","default.default",'[t] "power"',"self::superscript"],["Rule","abstr-subscript","default.default",'[t] "subscript"',"self::subscript"],'Rule;abstr-subsup;default.default;[t] "power with subscript";self::superscript;name(children/*[1])="subscript"'.split(";"),["Rule","abstr-infixop","default.default",'[t] @role (grammar:localRole); [t] "with"; [t] count(./children/*); [t] "elements"',"self::infixop"],'Rule,abstr-infixop,default.default,[t] @role (grammar:localRole); [t] "with variable number of elements",self::infixop,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-infixop","mathspeak.brief","[t] @role (grammar:localRole)","self::infixop"],["SpecializedRule","abstr-infixop","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-addition,default.default,[t] "sum with"; [t] count(./children/*); [t] "summands",self::infixop,@role="addition"'.split(","),'Rule;abstr-addition;mathspeak.brief;[t] "sum";self::infixop;@role="addition"'.split(";"),["SpecializedRule","abstr-addition","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-addition;default.default;[t] "sum with variable number of summands";self::infixop;@role="addition";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-multiplication,default.default,[t] "product with"; [t] count(./children/*); [t] "factors",self::infixop,@role="multiplication"'.split(","),'Rule;abstr-multiplication;mathspeak.brief;[t] "product";self::infixop;@role="multiplication"'.split(";"),["SpecializedRule","abstr-multiplication","mathspeak.brief","mathspeak.sbrief"],["Aliases","abstr-multiplication","self::infixop",'@role="implicit"'],'Rule;abstr-var-multiplication;default.default;[t] "product with variable number of factors";self::infixop;@role="multiplication";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Aliases abstr-var-multiplication self::infixop @role="implicit" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),["Rule","abstr-vector","default.default",'[t] count(./children/*) ; [t] "dimensional vector"',"self::vector"],["Rule","abstr-vector","mathspeak.brief",'[t] "vector"',"self::vector"],["SpecializedRule","abstr-vector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-vector;default.default;[t] "n dimensional vector";self::vector;./children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule;abstr-binomial;default.default;[t] "binomial";self::vector;@role="binomial"'.split(";"),["SpecializedRule","abstr-binomial","default.default","mathspeak.brief"],["SpecializedRule","abstr-binomial","default.default","mathspeak.sbrief"],'Rule,abstr-determinant,default.default,[t] count(./children/*); [t] "dimensional determinant",self::matrix,@role="determinant"'.split(","),'Rule;abstr-determinant;mathspeak.brief;[t] "determinant";self::matrix;@role="determinant"'.split(";"),["SpecializedRule","abstr-determinant","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-determinant;default.default;[t] "n dimensional determinant";self::matrix;@role="determinant";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-squarematrix,default.default,[t] count(./children/*); [t] "dimensional square matrix",self::matrix,@role="squarematrix"'.split(","),'Rule;abstr-squarematrix;mathspeak.brief;[t] "square matrix";self::matrix;@role="squarematrix"'.split(";"),["SpecializedRule","abstr-squarematrix","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-rowvector,default.default,[t] count(./children/row/children/*); [t] "dimensional row vector",self::matrix,@role="rowvector"'.split(","),'Rule;abstr-rowvector;mathspeak.brief;[t] "row vector";self::matrix;@role="rowvector"'.split(";"),["SpecializedRule","abstr-rowvector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "n dimensional row vector";self::matrix;@role="rowvector";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-matrix","default.default",'[t] count(children/*);  [t] "by";[t] count(children/*[1]/children/*); [t] "matrix"',"self::matrix"],["Rule","abstr-matrix","mathspeak.brief",'[t] "matrix"',"self::matrix"],["SpecializedRule","abstr-matrix","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "n by m dimensional matrix";self::matrix;./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-cases","default.default",'[t] "case statement";[t] "with"; [t] count(children/*); [t] "cases"',"self::cases"],["Rule","abstr-cases","mathspeak.brief",'[t] "case statement"',"self::cases"],["SpecializedRule","abstr-cases","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-cases;default.default;[t] "case statement with variable number of cases";self::cases;./children/row/children/cell/children/punctuation[@role="ellipsis"]or ./children/line/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-punctuated","default.default",'[n] content/*[1]; [t] "separated list"; [t] "of length"; [t] count(children/*) - count(content/*)',"self::punctuated"],["Rule","abstr-punctuated","mathspeak.brief",'[n] content/*[1]; [t] "separated list"',"self::punctuated"],["SpecializedRule","abstr-punctuated","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-punctuated,default.default,[n] content/*[1]; [t] "separated list";[t] "of variable length",self::punctuated,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-bigop","default.default","[n] content/*[1]","self::bigop"],["Rule","abstr-integral","default.default",'[t] "integral"','@role="integral"'],"Rule,abstr-relation,default.default,[t] @role (grammar:localRole);,self::relseq,count(./children/*)=2".split(","),'Rule,abstr-relation-seq,default.default,[t] @role (grammar:localRole); [t] "sequence"; [t] "with"; [t] count(./children/*); [t] "elements",self::relseq,count(./children/*)>2'.split(","),'Rule,abstr-relation-seq,mathspeak.brief,[t] @role (grammar:localRole); [t] "sequence",self::relseq,count(./children/*)>2'.split(","),["SpecializedRule","abstr-relation-seq","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-relation,default.default,[t] @role (grammar:localRole); [t] "sequence"; [t] "with variable number of elements",self::relseq,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),'UniqueAlias abstr-relation default.default self::multirel @role!="unknown" count(./children/*)>2'.split(" "),'Aliases abstr-var-relation self::multirel @role!="unknown" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),'Rule,abstr-multirel,default.default,[t] "relation sequence"; [t] "with"; [t] count(./children/*); [t] "elements",self::multirel,count(./children/*)>2'.split(","),'Rule;abstr-multirel;mathspeak.brief;[t] "relation sequence";self::multirel;count(./children/*)>2'.split(";"),["SpecializedRule","abstr-multirel","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-multirel;default.default;[t] "relation sequence with variable number of elements";self::multirel;count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-table","default.default",'[t] "table with"; [t] count(children/*); [t] "rows and";[t] count(children/*[1]/children/*); [t] "columns"',"self::table"],["Rule","abstr-line","default.default",'[t] "in"; [t] @role (grammar:localRole);',"self::line"],["Rule","abstr-row","default.default",'[t] "in"; [t] @role (grammar:localRole);[t] count(preceding-sibling::..); [t] "with";[t] count(children/*); [t] "columns"',"self::row"],["Rule","abstr-cell","default.default",'[t] "in"; [t] @role (grammar:localRole);',"self::cell"]]},sre.SummarySpanish={locale:"es",modality:"summary",rules:[["Rule","stree","default.default","[n] ./*[1]","self::stree"],'Rule;abstr-identifier;default.default;[t] "identificador largo";self::identifier;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-identifier","default.default",'[t] "identificador"',"self::identifier"],'Rule;abstr-number;default.default;[t] "n\xFAmero largo";self::number;contains(@grammar, "collapsed")'.split(";"),["Rule","abstr-number","default.default",'[t] "n\xFAmero"',"self::number"],'Rule;abstr-mixed-number;default.default;[t] "n\xFAmero largo mixto";self::number;@role="mixed";contains(@grammar, "collapsed")'.split(";"),'Rule;abstr-mixed-number;default.default;[t] "n\xFAmero mixto";self::number;@role="mixed"'.split(";"),["Rule","abstr-text","default.default",'[t] "texto"',"self::text"],["Rule","abstr-function","default.default",'[t] "expresi\xF3n funcional"',"self::function"],["Rule","abstr-function","mathspeak.brief",'[t] "funci\xF3n"',"self::function"],["SpecializedRule","abstr-function","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-lim;default.default;[t] "funci\xF3n de l\xEDmite";self::function;@role="limit function"'.split(";"),'Rule;abstr-lim;mathspeak.brief;[t] "l\xEDmite";self::function;@role="limit function"'.split(";"),["SpecializedRule","abstr-lim","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-fraction","default.default",'[t] "fracci\xF3n"',"self::fraction"],["Rule","abstr-fraction","mathspeak.brief",'[t] "frac"',"self::fraction"],["SpecializedRule","abstr-fraction","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-continued-fraction;default.default;[t] "fracci\xF3n continua";self::fraction;children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(";"),'Rule;abstr-continued-fraction;mathspeak.brief;[t] "frac continua";self::fraction;children/*[2]/descendant-or-self::*[@role="ellipsis"]'.split(";"),["SpecializedRule","abstr-continued-fraction","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-sqrt","default.default",'[t] "ra\xEDz cuadrada"',"self::sqrt"],'Rule;abstr-sqrt-nested;default.default;[t] "ra\xEDz cuadrada anidada";self::sqrt;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),'Rule{abstr-root{default.default{[t] "ra\xEDz del \xEDndice"; [n] children/*[1] (engine:modality="speech"); [t] "finalizar de \xEDndice"{self::root{contains(@grammar, "collapsed"){following-sibling::* or ancestor::*/following-sibling::*'.split("{"),["Rule","abstr-root","default.default",'[t] "ra\xEDz del \xEDndice"; [n] children/*[1] (engine:modality=speech)',"self::root"],["Rule","abstr-root","mathspeak.brief",'[t] "ra\xEDz"',"self::root"],["SpecializedRule","abstr-root","mathspeak.brief","mathspeak.sbrief"],'Rule{abstr-root-nested{default.default{[t] "ra\xEDz anidada del \xEDndice"; [n] children/*[1] (engine:modality="speech"); [t] "finalizar de \xEDndice"{self::root{contains(@grammar, "collapsed"){children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root{following-sibling::* or ancestor::*/following-sibling::*'.split("{"),'Rule,abstr-root-nested,default.default,[t] "ra\xEDz anidada del \xEDndice"; [n] children/*[1] (engine:modality="speech"),self::root,children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(","),'Rule;abstr-root-nested;mathspeak.brief;[t] "ra\xEDz anidada";self::root;children/*/descendant-or-self::sqrt or children/*/descendant-or-self::root'.split(";"),["SpecializedRule","abstr-root-nested","mathspeak.brief","mathspeak.sbrief"],["Rule","abstr-superscript","default.default",'[t] "potencia"',"self::superscript"],["Rule","abstr-subscript","default.default",'[t] "sub\xEDndice"',"self::subscript"],'Rule;abstr-subsup;default.default;[t] "potencia con sub\xEDndice";self::superscript;name(children/*[1])="subscript"'.split(";"),["Rule","abstr-infixop","default.default",'[t] @role (grammar:localRole); [t] "con"; [t] count(./children/*); [t] "elementos"',"self::infixop"],'Rule,abstr-infixop,default.default,[t] @role (grammar:localRole); [t] "con una cantidad variable de elementos",self::infixop,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-infixop","mathspeak.brief","[t] @role (grammar:localRole)","self::infixop"],["SpecializedRule","abstr-infixop","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-addition,default.default,[t] "suma con"; [t] count(./children/*); [t] "sumandos",self::infixop,@role="addition"'.split(","),'Rule;abstr-addition;mathspeak.brief;[t] "suma";self::infixop;@role="addition"'.split(";"),["SpecializedRule","abstr-addition","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-addition;default.default;[t] "suma con n\xFAmero variable de sumandos";self::infixop;@role="addition";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-multiplication,default.default,[t] "producto con"; [t] count(./children/*); [t] "factores",self::infixop,@role="multiplication"'.split(","),'Rule;abstr-multiplication;mathspeak.brief;[t] "producto";self::infixop;@role="multiplication"'.split(";"),["SpecializedRule","abstr-multiplication","mathspeak.brief","mathspeak.sbrief"],["Aliases","abstr-multiplication","self::infixop",'@role="implicit"'],'Rule;abstr-var-multiplication;default.default;[t] "producto con una cantidad variable de factores";self::infixop;@role="multiplication";count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),'Aliases abstr-var-multiplication self::infixop @role="implicit" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),["Rule","abstr-vector","default.default",'[t] "vector de dimensi\xF3n"; [t] count(./children/*)',"self::vector"],["Rule","abstr-vector","mathspeak.brief",'[t] "vector"',"self::vector"],["SpecializedRule","abstr-vector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-vector;default.default;[t] "vector de dimensi\xF3n n";self::vector;./children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule;abstr-binomial;default.default;[t] "binomio";self::vector;@role="binomial"'.split(";"),["SpecializedRule","abstr-binomial","default.default","mathspeak.brief"],["SpecializedRule","abstr-binomial","default.default","mathspeak.sbrief"],'Rule,abstr-determinant,default.default,[t] "determinante de dimensi\xF3n"; [t] count(./children/*),self::matrix,@role="determinant"'.split(","),'Rule;abstr-determinant;mathspeak.brief;[t] "determinante";self::matrix;@role="determinant"'.split(";"),["SpecializedRule","abstr-determinant","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-determinant;default.default;[t] "determinante de dimensi\xF3n n";self::matrix;@role="determinant";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),'Rule,abstr-squarematrix,default.default,[t] "matriz cuadrada de dimensi\xF3n"; [t] count(./children/*),self::matrix,@role="squarematrix"'.split(","),'Rule;abstr-squarematrix;mathspeak.brief;[t] "matriz cuadrada";self::matrix;@role="squarematrix"'.split(";"),["SpecializedRule","abstr-squarematrix","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-rowvector,default.default,[t] "vector fila de dimensi\xF3n"; [t] count(./children/row/children/*),self::matrix,@role="rowvector"'.split(","),'Rule;abstr-rowvector;mathspeak.brief;[t] "vector fila";self::matrix;@role="rowvector"'.split(";"),["SpecializedRule","abstr-rowvector","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "vector fila de dimensi\xF3n n";self::matrix;@role="rowvector";./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-matrix","default.default",'[t] count(children/*);  [t] "por";[t] count(children/*[1]/children/*); [t] "matriz"',"self::matrix"],["Rule","abstr-matrix","mathspeak.brief",'[t] "matriz"',"self::matrix"],["SpecializedRule","abstr-matrix","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-matrix;default.default;[t] "matriz de dimensi\xF3n n por m";self::matrix;./children/*/children/*/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-cases","default.default",'[t] "declaraci\xF3n de caso";[t] "con"; [t] count(children/*); [t] "casos"',"self::cases"],["Rule","abstr-cases","mathspeak.brief",'[t] "declaraci\xF3n de caso"',"self::cases"],["SpecializedRule","abstr-cases","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-cases;default.default;[t] "declaraci\xF3n de caso con n\xFAmero variable de casos";self::cases;./children/row/children/cell/children/punctuation[@role="ellipsis"]or ./children/line/children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-punctuated","default.default",'[t] "lista separada por"; [n] content/*[1]; [t] "de longitud"; [t] count(children/*) - count(content/*)',"self::punctuated"],["Rule","abstr-punctuated","mathspeak.brief",'[t] "lista separada por"; [n] content/*[1]',"self::punctuated"],["SpecializedRule","abstr-punctuated","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-punctuated,default.default,[t] "lista separada por"; [n] content/*[1],[t] "de longitud variable",self::punctuated,./children/punctuation[@role="ellipsis"]'.split(","),["Rule","abstr-bigop","default.default","[n] content/*[1]","self::bigop"],["Rule","abstr-integral","default.default",'[t] "integral"','@role="integral"'],"Rule,abstr-relation,default.default,[t] @role (grammar:localRole);,self::relseq,count(./children/*)=2".split(","),'Rule,abstr-relation-seq,default.default,[t] "secuencia de"; [t] @role (grammar:localRole); [t] "con"; [t] count(./children/*); [t] "elementos",self::relseq,count(./children/*)>2'.split(","),'Rule,abstr-relation-seq,mathspeak.brief,[t] "secuencia de"; [t] @role (grammar:localRole),self::relseq,count(./children/*)>2'.split(","),["SpecializedRule","abstr-relation-seq","mathspeak.brief","mathspeak.sbrief"],'Rule,abstr-var-relation,default.default,[t] "secuencia de"; [t] @role (grammar:localRole); [t] "con una cantidad variable de elementos",self::relseq,count(./children/*)>2,./children/punctuation[@role="ellipsis"]'.split(","),'UniqueAlias abstr-relation default.default self::multirel @role!="unknown" count(./children/*)>2'.split(" "),'Aliases abstr-var-relation self::multirel @role!="unknown" count(./children/*)>2 ./children/punctuation[@role="ellipsis"]'.split(" "),'Rule,abstr-multirel,default.default,[t] "secuencia de relaci\xF3n"; [t] "con"; [t] count(./children/*); [t] "elementos",self::multirel,count(./children/*)>2'.split(","),'Rule;abstr-multirel;mathspeak.brief;[t] "secuencia de relaci\xF3n";self::multirel;count(./children/*)>2'.split(";"),["SpecializedRule","abstr-multirel","mathspeak.brief","mathspeak.sbrief"],'Rule;abstr-var-multirel;default.default;[t] "secuencia de relaci\xF3n con n\xFAmero variable de elementos";self::multirel;count(./children/*)>2;./children/punctuation[@role="ellipsis"]'.split(";"),["Rule","abstr-table","default.default",'[t] "mesa con"; [t] count(children/*); [t] "filas y";[t] count(children/*[1]/children/*); [t] "columnas"',"self::table"],["Rule","abstr-line","default.default",'[t] "en"; [t] @role (grammar:localRole);',"self::line"],["Rule","abstr-row","default.default",'[t] "en"; [t] @role (grammar:localRole);[t] count(preceding-sibling::..); [t] "con";[t] count(children/*); [t] "columnas"',"self::row"],["Rule","abstr-cell","default.default",'[t] "en"; [t] @role (grammar:localRole);',"self::cell"]]},sre.SpeechRuleStores={},sre.SpeechRuleStores.RULE_SETS_={SemanticTreeRules:sre.SemanticTreeRules,MathspeakFrench:sre.MathspeakFrench,MathspeakGerman:sre.MathspeakGerman,MathspeakRules:sre.MathspeakRules,MathspeakSpanish:sre.MathspeakSpanish,NemethRules:sre.NemethRules,ClearspeakFrench:sre.ClearspeakFrench,ClearspeakGerman:sre.ClearspeakGerman,ClearspeakRules:sre.ClearspeakRules,EmacspeakRules:sre.EmacspeakRules,SummaryFrench:sre.SummaryFrench,SummaryGerman:sre.SummaryGerman,SummaryRules:sre.SummaryRules,SummarySpanish:sre.SummarySpanish,PrefixFrench:sre.PrefixFrench,PrefixGerman:sre.PrefixGerman,PrefixRules:sre.PrefixRules,PrefixSpanish:sre.PrefixSpanish},sre.SpeechRuleStores.availableSets=function(){return Object.keys(sre.SpeechRuleStores.RULE_SETS_)},sre.SpeechRuleStores.getConstructor=function(t){return(t=sre.SpeechRuleStores.RULE_SETS_[t])?t:null},sre.SpeechRuleEngine=function(){this.activeStore_=null,this.cache_={},this.ready_=!0,this.combinedStores_={},this.evaluators_={},this.ruleSets_={},sre.Engine.registerTest(goog.bind(function(t){return this.ready_},this))},goog.addSingletonGetter(sre.SpeechRuleEngine),sre.SpeechRuleEngine.prototype.parameterize=function(t){for(var r={},n=0,i=t.length;n<i;n++){var l=t[n];if(this.ruleSets_[l])r[l]=this.ruleSets_[l];else{var s=sre.SpeechRuleStores.getConstructor(l);if(s&&s.getInstance)r[l]=s.getInstance(),this.ruleSets_[l]=s.getInstance();else if(s){var o=this.storeFactory_(s.modality);o.parse(s),this.ruleSets_[l]=o,r[l]=o}}}this.parameterize_(r)},sre.SpeechRuleEngine.prototype.storeFactory_=function(t){return new({braille:sre.BrailleStore,speech:sre.MathStore}[t]||sre.MathStore)},sre.SpeechRuleEngine.prototype.parameterize_=function(t){try{this.activeStore_=this.combineStores_(t)}catch(r){if(r.name=="StoreError")console.error("Store Error:",r.message);else throw r}this.updateEngine()},sre.SpeechRuleEngine.prototype.clearCache=function(){this.cache_={}},sre.SpeechRuleEngine.prototype.forCache=function(t){for(var r in this.cache_)t(r,this.cache_[r])},sre.SpeechRuleEngine.prototype.getCacheForNode_=function(t){return!t||!t.getAttribute?null:(t=t.getAttribute("id"),t==="undefined"||t===""?null:this.getCache(t))},sre.SpeechRuleEngine.prototype.getCache=function(t){return(t=this.cache_[t])?this.cloneCache(t):t},sre.SpeechRuleEngine.prototype.cloneCache=function(t){return t.map(function(r){return r.clone()})},sre.SpeechRuleEngine.prototype.pushCache_=function(t,r){sre.Engine.getInstance().cache&&t.getAttribute&&(t=t.getAttribute("id"))&&(this.cache_[t]=this.cloneCache(r))},sre.SpeechRuleEngine.prototype.evaluateNode=function(t){var r=new Date().getTime();t=this.evaluateNode_(t);var n=new Date().getTime();return sre.Debugger.getInstance().output("Time:",n-r),t},sre.SpeechRuleEngine.prototype.evaluateNode_=function(t){return t?(this.updateConstraint_(),this.evaluateTree_(t)):[]},sre.SpeechRuleEngine.prototype.evaluateTree_=function(t){var r=sre.Engine.getInstance();if(sre.Debugger.getInstance().output(r.mode!==sre.Engine.Mode.HTTP?t.toString():t),r.cache){var n=this.getCacheForNode_(t);if(n)return t.attributes&&this.addPersonality_(n,{},!1,t),n}sre.Grammar.getInstance().setAttribute(t);var i=this.activeStore_.lookupRule(t,r.dynamicCstr);if(!i)return r.strict?[]:(n=this.getEvaluator(r.locale,r.modality)(t),t.attributes&&this.addPersonality_(n,{},!1,t),this.pushCache_(t,n),n);sre.Debugger.getInstance().generateOutput(goog.bind(function(){return["Apply Rule:",i.name,i.dynamicCstr.toString(),r.mode!==sre.Engine.Mode.HTTP?t.toString():t]},this));var l=i.context||this.activeStore_.context,s=i.action.components;n=[];for(var o=0,u;u=s[o];o++){var p=[],m=u.content||"",h=u.attributes||{},S=!1;u.grammar&&this.processGrammar(l,t,u.grammar);var R=null,E=null;if(h.engine){R=sre.Engine.getInstance().dynamicCstr.getComponents();var y=sre.Grammar.parseInput(h.engine);E=this.cache_,this.clearCache(),sre.Engine.getInstance().setDynamicCstr(y)}switch(u.type){case sre.SpeechRule.Type.NODE:(m=l.applyQuery(t,m))&&(p=this.evaluateTree_(m));break;case sre.SpeechRule.Type.MULTI:S=!0,m=l.applySelector(t,m),0<m.length&&(p=this.evaluateNodeList_(l,m,h.sepFunc,l.constructString(t,h.separator),h.ctxtFunc,l.constructString(t,h.context)));break;case sre.SpeechRule.Type.TEXT:(m=l.constructString(t,m))&&(p=[sre.AuditoryDescription.create({text:m},{adjust:!0})]);break;default:p=[sre.AuditoryDescription.create({text:m})]}p[0]&&!S&&(h.context&&(p[0].context=l.constructString(t,h.context)+(p[0].context||"")),h.annotation&&(p[0].annotation=h.annotation)),u.grammar&&sre.Grammar.getInstance().popState(),n=n.concat(this.addPersonality_(p,h,S,t)),R&&(this.cache_=E,sre.Engine.getInstance().setDynamicCstr(R))}return this.pushCache_(t,n),n},sre.SpeechRuleEngine.prototype.evaluateNodeList_=function(t,r,n,i,l,s){if(r==[])return[];var o=i||"",u=s||"";for(i=(i=t.contextFunctions.lookup(l))?i(r,u):function(){return u},t=(t=t.contextFunctions.lookup(n))?t(r,o):function(){return sre.AuditoryDescription.create({text:o},{translate:!0})},n=[],l=0;s=r[l];l++)s=this.evaluateTree_(s),0<s.length&&(s[0].context=i()+(s[0].context||""),n=n.concat(s),l<r.length-1&&(s=t(),n=n.concat(s)));return n},sre.SpeechRuleEngine.prototype.addPersonality_=function(t,r,n,i){var l={},s;for(s in sre.Engine.personalityProps){var o=r[sre.Engine.personalityProps[s]];if(typeof o!="undefined"){var u=parseFloat(o);l[sre.Engine.personalityProps[s]]=isNaN(u)?o.charAt(0)=='"'?o.slice(1,-1):o:u}}for(r=0;s=t[r];r++)this.addRelativePersonality_(s,l),this.addExternalAttributes_(s,i);return n&&t.length&&delete t[t.length-1].personality[sre.Engine.personalityProps.JOIN],t},sre.SpeechRuleEngine.prototype.addExternalAttributes_=function(t,r){if(r.hasAttributes()){r=r.attributes;for(var n=r.length-1;0<=n;n--){var i=r[n].name;!t.attributes[i]&&i.match(/^ext/)&&(t.attributes[i]=r[n].value)}}},sre.SpeechRuleEngine.prototype.addRelativePersonality_=function(t,r){if(!t.personality)return t.personality=r,t;var n=t.personality,i;for(i in r)n[i]=n[i]&&typeof n[i]=="number"&&typeof r[i]=="number"?n[i]+r[i]:r[i];return t},sre.SpeechRuleEngine.prototype.toString=function(){return this.activeStore_.findAllRules(function(t){return!0}).map(function(t){return t.toString()}).join(`
`)},sre.SpeechRuleEngine.debugSpeechRule=function(t,r){var n=sre.SpeechRuleEngine.getInstance().activeStore_;n&&n.debugSpeechRule(t,r)},sre.SpeechRuleEngine.debugNamedSpeechRule=function(t,r){var n=sre.SpeechRuleEngine.getInstance().activeStore_;if(n)for(var i=n.findAllRules(function(o){return o.name==t}),l=0,s;s=i[l];l++)sre.Debugger.getInstance().output("Rule",t,"DynamicCstr:",s.dynamicCstr.toString(),"number",l),n.debugSpeechRule(s,r)},sre.SpeechRuleEngine.prototype.runInSetting=function(t,r){var n=sre.Engine.getInstance(),i={},l=null,s;for(s in t)s==="rules"?(l=this.activeStore_,n.ruleSets=t[s],this.parameterize(n.ruleSets)):(i[s]=n[s],n[s]=t[s]);n.setDynamicCstr(),t=r();for(s in i)n[s]=i[s];return l&&(this.activeStore_=l),n.setDynamicCstr(),t},sre.SpeechRuleEngine.prototype.combineStores_=function(t){var r=this.cachedStore_(t);if(r)return r;r=new sre.MathStore;for(var n in t){var i=t[n];i.initialize(),i.getSpeechRules().forEach(function(l){r.trie.addRule(l)}),this.addEvaluator(i)}return r.setSpeechRules(r.trie.collectRules()),this.combinedStores_[this.combinedStoreName_(Object.keys(t))]=r},sre.SpeechRuleEngine.prototype.combinedStoreName_=function(t){return t.sort().join("-")},sre.SpeechRuleEngine.prototype.cachedStore_=function(t){var r=Object.keys(t);return r.some(function(n){return!t[n].initialized})?null:this.combinedStores_[this.combinedStoreName_(r)]},sre.SpeechRuleEngine.prototype.updateEngine=function(){this.ready_=!0;var t=sre.MathMap.getInstance();sre.Engine.isReady()?sre.Engine.getInstance().evaluator=goog.bind(t.store.lookupString,t.store):(this.ready_=!1,setTimeout(goog.bind(this.updateEngine,this),250))},sre.SpeechRuleEngine.prototype.processGrammar=function(t,r,n){var i={},l;for(l in n){var s=n[l];i[l]=typeof s=="string"?t.constructString(r,s):s}sre.Grammar.getInstance().pushState(i)},sre.SpeechRuleEngine.prototype.updateConstraint_=function(){var t=sre.Engine.getInstance().dynamicCstr,r=sre.Engine.getInstance().strict,n=this.activeStore_.trie,i={},l=t.getValue(sre.DynamicCstr.Axis.LOCALE),s=t.getValue(sre.DynamicCstr.Axis.MODALITY),o=t.getValue(sre.DynamicCstr.Axis.DOMAIN);for(n.hasSubtrie([l,s,o])||(l=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.LOCALE],n.hasSubtrie([l,s,o])||(s=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY],n.hasSubtrie([l,s,o])||(o=sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN]))),i[sre.DynamicCstr.Axis.LOCALE]=[l],i[sre.DynamicCstr.Axis.MODALITY]=[s!=="summary"?s:sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.MODALITY]],i[sre.DynamicCstr.Axis.DOMAIN]=[s!=="speech"?sre.DynamicCstr.DEFAULT_VALUES[sre.DynamicCstr.Axis.DOMAIN]:o],n=t.getOrder(),l=0;s=n[l];l++)if(!i[s]){o=t.getValue(s);var u=this.makeSet_(o,t.preference),p=sre.DynamicCstr.DEFAULT_VALUES[s];r||o===p||u.push(p),i[s]=u}t.updateProperties(i)},sre.SpeechRuleEngine.prototype.makeSet_=function(t,r){return r&&Object.keys(r).length?t.split(":"):[t]},sre.SpeechRuleEngine.prototype.addEvaluator=function(t){var r=goog.bind(t.evaluateDefault,t),n=this.evaluators_[t.locale];n?n[t.modality]=r:(n={},n[t.modality]=r,this.evaluators_[t.locale]=n)},sre.SpeechRuleEngine.prototype.getEvaluator=function(t,r){return(r=(t=this.evaluators_[t])?t[r]:null)?r:goog.bind(this.activeStore_.evaluateDefault,this.activeStore_)},sre.SpeechRuleEngine.prototype.enumerate=function(t){return this.activeStore_.trie.enumerate(t)},sre.SpeechGeneratorUtil={},sre.SpeechGeneratorUtil.computeSpeech=function(t){var r=sre.SpeechRuleEngine.getInstance();return r.clearCache(),r.evaluateNode(t)},sre.SpeechGeneratorUtil.recomputeSpeech=function(t){return t=sre.SemanticTree.fromNode(t),sre.SpeechRuleEngine.getInstance().evaluateNode(t.xml())},sre.SpeechGeneratorUtil.computeSpeechWithoutCache=function(t){var r=sre.Engine.getInstance().cache;return sre.Engine.getInstance().cache=!1,t=sre.SpeechRuleEngine.getInstance().evaluateNode(t),sre.Engine.getInstance().cache=r,t},sre.SpeechGeneratorUtil.retrieveSpeech=function(t){var r=null;return sre.Engine.getInstance().cache&&(r=sre.SpeechRuleEngine.getInstance().getCache(t.id.toString())),r||(r=sre.SpeechGeneratorUtil.recomputeSpeech(t)),sre.AuralRendering.getInstance().markup(r)},sre.SpeechGeneratorUtil.addSpeech=function(t,r,n){r=sre.SpeechGeneratorUtil.retrieveSpeech(r),t.setAttribute(n||sre.EnrichMathml.Attribute.SPEECH,r)},sre.SpeechGeneratorUtil.addPrefix=function(t,r){(r=sre.SpeechGeneratorUtil.retrievePrefix(r))&&t.setAttribute(sre.EnrichMathml.Attribute.PREFIX,r)},sre.SpeechGeneratorUtil.retrievePrefix=function(t){return t=sre.SpeechGeneratorUtil.computePrefix_(t),sre.AuralRendering.getInstance().markup(t)},sre.SpeechGeneratorUtil.computePrefix_=function(t){var r=sre.SemanticTree.fromRoot(t),n=sre.XpathUtil.evalXPath('.//*[@id="'+t.id+'"]',r.xml())[0];return n?sre.SpeechRuleEngine.getInstance().runInSetting({modality:"prefix",domain:"default",style:"default",strict:!0,cache:!1,speech:!0},function(){return sre.SpeechRuleEngine.getInstance().evaluateNode(n)}):[]},sre.SpeechGeneratorUtil.connectMactions=function(t,r,n){r=sre.DomUtil.querySelectorAll(r,"maction");for(var i=0,l;l=r[i];i++){var s=l.getAttribute("id");if(s=sre.DomUtil.querySelectorAllByAttrValue(t,"id",s)[0]){var o=l.childNodes[1];l=o.getAttribute(sre.EnrichMathml.Attribute.ID);var u=sre.WalkerUtil.getBySemanticId(t,l);u&&u.getAttribute(sre.EnrichMathml.Attribute.TYPE)!=="dummy"||(u=s.childNodes[0],u.getAttribute("sre-highlighter-added")||((s=o.getAttribute(sre.EnrichMathml.Attribute.PARENT))&&u.setAttribute(sre.EnrichMathml.Attribute.PARENT,s),u.setAttribute(sre.EnrichMathml.Attribute.TYPE,"dummy"),u.setAttribute(sre.EnrichMathml.Attribute.ID,l),sre.DomUtil.querySelectorAllByAttrValue(n,"id",l)[0].setAttribute("alternative",l)))}}},sre.SpeechGeneratorUtil.connectAllMactions=function(t,r){t=sre.DomUtil.querySelectorAll(t,"maction");for(var n=0,i;i=t[n];n++)i=i.childNodes[1].getAttribute(sre.EnrichMathml.Attribute.ID),sre.DomUtil.querySelectorAllByAttrValue(r,"id",i)[0].setAttribute("alternative",i)},sre.SpeechGeneratorUtil.retrieveSummary=function(t){return t=sre.SpeechGeneratorUtil.computeSummary_(t),sre.AuralRendering.getInstance().markup(t)},sre.SpeechGeneratorUtil.computeSummary_=function(t){return t?sre.SpeechRuleEngine.getInstance().runInSetting({modality:"summary",strict:!1,cache:!1,speech:!0},function(){return sre.SpeechRuleEngine.getInstance().evaluateNode(t)}):[]},sre.AbstractSpeechGenerator=function(){this.rebuilt_=null,this.options_={},this.modality=sre.EnrichMathml.addPrefix("speech")},sre.AbstractSpeechGenerator.prototype.getRebuilt=function(){return this.rebuilt_},sre.AbstractSpeechGenerator.prototype.setRebuilt=function(t){this.rebuilt_=t},sre.AbstractSpeechGenerator.prototype.setOptions=function(t){this.options_=t||{},this.modality=sre.EnrichMathml.addPrefix(this.options_.modality||"speech")},sre.AbstractSpeechGenerator.prototype.getOptions=function(){return this.options_},sre.AbstractSpeechGenerator.prototype.getSpeech=goog.abstractMethod,sre.AbstractSpeechGenerator.prototype.start=function(){},sre.AbstractSpeechGenerator.prototype.end=function(){},sre.AbstractSpeechGenerator.prototype.generateSpeech=function(t,r){return this.rebuilt_||(this.rebuilt_=new sre.RebuildStree(r)),sre.System.getInstance().setupEngine(this.options_),t=sre.SpeechGeneratorUtil.computeSpeech(this.getRebuilt().xml),sre.AuralRendering.getInstance().markup(t)},sre.AdhocSpeechGenerator=function(){sre.AbstractSpeechGenerator.call(this)},goog.inherits(sre.AdhocSpeechGenerator,sre.AbstractSpeechGenerator),sre.AdhocSpeechGenerator.prototype.getSpeech=function(t,r){return r=this.generateSpeech(t,r),t.setAttribute(this.modality,r),r},sre.ColorGenerator=function(){sre.AbstractSpeechGenerator.call(this),this.modality=sre.EnrichMathml.addPrefix("foreground"),this.contrast=new sre.ContrastPicker},goog.inherits(sre.ColorGenerator,sre.AbstractSpeechGenerator),sre.ColorGenerator.prototype.getSpeech=function(t,r){return sre.WalkerUtil.getAttribute(t,this.modality)},sre.ColorGenerator.prototype.generateSpeech=function(t,r){return this.getRebuilt()||this.setRebuilt(new sre.RebuildStree(t)),this.colorLeaves_(t),sre.WalkerUtil.getAttribute(t,this.modality)},sre.ColorGenerator.prototype.colorLeaves_=function(t){var r=this,n=[];sre.ColorGenerator.visitStree_(this.getRebuilt().streeRoot,n,{});var i={};n=$jscomp.makeIterator(n);for(var l=n.next();!l.done;i={$jscomp$loop$prop$color$5:i.$jscomp$loop$prop$color$5},l=n.next()){l=l.value,i.$jscomp$loop$prop$color$5=this.contrast.generate();var s=!1;(s=Array.isArray(l)?l.map(function(o){return function(u){return r.colorLeave_(t,u,o.$jscomp$loop$prop$color$5)}}(i)).reduce(function(o,u){return o||u},!1):this.colorLeave_(t,l,i.$jscomp$loop$prop$color$5))&&this.contrast.increment()}},sre.ColorGenerator.prototype.colorLeave_=function(t,r,n){return(t=sre.WalkerUtil.getBySemanticId(t,r))?(t.setAttribute(this.modality,n),!0):!1},sre.ColorGenerator.visitStree_=function(t,r,n){if(t.childNodes.length){if(t.contentNodes.length&&(t.type==="punctuated"&&t.contentNodes.forEach(function(u){return n[u.id]=!0}),t.role!=="implicit"&&r.push(t.contentNodes.map(function(u){return u.id}))),t.childNodes.length)if(t.role==="implicit"){var i=[],l=[];t=$jscomp.makeIterator(t.childNodes);for(var s=t.next();!s.done;s=t.next()){var o=[];sre.ColorGenerator.visitStree_(s.value,o,n),2>=o.length&&i.push(o.shift()),l=l.concat(o)}r.push(i),l.forEach(function(u){return r.push(u)})}else t.childNodes.forEach(function(u){return sre.ColorGenerator.visitStree_(u,r,n)})}else n[t.id]||r.push(t.id)},sre.DirectSpeechGenerator=function(){sre.AbstractSpeechGenerator.call(this)},goog.inherits(sre.DirectSpeechGenerator,sre.AbstractSpeechGenerator),sre.DirectSpeechGenerator.prototype.getSpeech=function(t,r){return sre.WalkerUtil.getAttribute(t,this.modality)},sre.DummySpeechGenerator=function(){sre.AbstractSpeechGenerator.call(this)},goog.inherits(sre.DummySpeechGenerator,sre.AbstractSpeechGenerator),sre.DummySpeechGenerator.prototype.getSpeech=function(t,r){return""},sre.TreeSpeechGenerator=function(){sre.AbstractSpeechGenerator.call(this)},goog.inherits(sre.TreeSpeechGenerator,sre.AbstractSpeechGenerator),sre.TreeSpeechGenerator.prototype.getSpeech=function(t,r){var n=this.generateSpeech(t,r);t.setAttribute(this.modality,n);var i=this.getRebuilt().nodeDict,l;for(l in i){var s=i[l],o=sre.WalkerUtil.getBySemanticId(r,l),u=sre.WalkerUtil.getBySemanticId(t,l);o&&u&&(sre.SpeechGeneratorUtil.addSpeech(u,s,this.modality),this.modality===sre.EnrichMathml.Attribute.SPEECH&&sre.SpeechGeneratorUtil.addPrefix(u,s))}return n},sre.NodeSpeechGenerator=function(){sre.TreeSpeechGenerator.call(this)},goog.inherits(sre.NodeSpeechGenerator,sre.TreeSpeechGenerator),sre.NodeSpeechGenerator.prototype.getSpeech=function(t,r){var n=sre.WalkerUtil.getAttribute(t,this.modality);return n||sre.NodeSpeechGenerator.superClass_.getSpeech.call(this,t,r)},sre.SummarySpeechGenerator=function(){sre.AbstractSpeechGenerator.call(this)},goog.inherits(sre.SummarySpeechGenerator,sre.AbstractSpeechGenerator),sre.SummarySpeechGenerator.prototype.getSpeech=function(t,r){return sre.SpeechGeneratorUtil.connectAllMactions(r,this.getRebuilt().xml),this.generateSpeech(t,r)},sre.SpeechGeneratorFactory={},sre.SpeechGeneratorFactory.generator=function(t){return new(sre.SpeechGeneratorFactory.generatorMapping_[t]||sre.SpeechGeneratorFactory.generatorMapping_.Direct)},sre.SpeechGeneratorFactory.generatorMapping_={Adhoc:sre.AdhocSpeechGenerator,Color:sre.ColorGenerator,Direct:sre.DirectSpeechGenerator,Dummy:sre.DummySpeechGenerator,Node:sre.NodeSpeechGenerator,Summary:sre.SummarySpeechGenerator,Tree:sre.TreeSpeechGenerator},sre.EventUtil={},sre.EventUtil.KeyCode={ENTER:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,TAB:9,LESS:188,GREATER:190,DASH:189,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90},sre.EventUtil.Move=function(){var t={},r;for(r in sre.EventUtil.KeyCode)t[sre.EventUtil.KeyCode[r]]=r;return t}(),sre.EventUtil.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel"},sre.EventUtil.Event=function(t,r,n){this.src=t,this.type=r,this.callback=n},sre.EventUtil.Event.prototype.add=function(){this.src.addEventListener(this.type,this.callback)},sre.EventUtil.Event.prototype.remove=function(){this.src.removeEventListener(this.type,this.callback)},sre.Focus=function(t,r){this.semanticNodes_=t,this.semanticPrimary_=r,this.domNodes_=[],this.domPrimary_=null,this.allNodes_=[]},sre.Focus.prototype.getSemanticPrimary=function(){return this.semanticPrimary_},sre.Focus.prototype.getSemanticNodes=function(){return this.semanticNodes_},sre.Focus.prototype.getNodes=function(){return this.allNodes_},sre.Focus.prototype.getDomNodes=function(){return this.domNodes_},sre.Focus.prototype.getDomPrimary=function(){return this.domPrimary_},sre.Focus.prototype.toString=function(){return"Primary:"+this.domPrimary_+" Nodes:"+this.domNodes_},sre.Focus.prototype.clone=function(){var t=new sre.Focus(this.semanticNodes_,this.semanticPrimary_);return t.domNodes_=this.domNodes_,t.domPrimary_=this.domPrimary_,t.allNodes_=this.allNodes_,t},sre.Focus.factory=function(t,r,n,i){var l=function(u){return sre.WalkerUtil.getBySemanticId(i,u)},s=n.nodeDict;n=l(t),l=r.map(l);var o=r.map(function(u){return s[u]});return t=new sre.Focus(o,s[t]),t.domNodes_=l,t.domPrimary_=n,t.allNodes_=sre.Focus.generateAllVisibleNodes_(r,l,s,i),t},sre.Focus.generateAllVisibleNodes_=function(t,r,n,i){for(var l=function(h){return sre.WalkerUtil.getBySemanticId(i,h)},s=[],o=0,u=t.length;o<u;o++)if(r[o])s.push(r[o]);else{var p=n[t[o]];if(p){p=p.childNodes.map(function(h){return h.id.toString()});var m=p.map(l);s=s.concat(sre.Focus.generateAllVisibleNodes_(p,m,n,i))}}return s},sre.Levels=function(){this.level_=[]},sre.Levels.prototype.push=function(t){this.level_.push(t)},sre.Levels.prototype.pop=function(){return this.level_.pop()},sre.Levels.prototype.peek=function(){return this.level_[this.level_.length-1]||null},sre.Levels.prototype.indexOf=function(t){var r=this.peek();return r?r.indexOf(t):null},sre.Levels.prototype.find=function(t){var r=this.peek();if(!r)return null;for(var n=0,i=r.length;n<i;n++)if(t(r[n]))return r[n];return null},sre.Levels.prototype.get=function(t){var r=this.peek();return!r||0>t||t>=r.length?null:r[t]},sre.Levels.prototype.depth=function(){return this.level_.length},sre.Levels.prototype.clone=function(){var t=new sre.Levels;return t.level_=this.level_.slice(0),t},sre.Levels.prototype.toString=function(){for(var t="",r=0,n;n=this.level_[r];r++)t+=`
`+n.map(function(i){return i.toString()});return t},sre.Walker=function(){},sre.Walker.prototype.isActive=function(){},sre.Walker.prototype.activate=function(){},sre.Walker.prototype.deactivate=function(){},sre.Walker.prototype.speech=function(){},sre.Walker.prototype.getXml=function(){},sre.Walker.prototype.getRebuilt=function(){},sre.Walker.prototype.getFocus=function(t){},sre.Walker.prototype.setFocus=function(t){},sre.Walker.prototype.getDepth=function(){},sre.Walker.prototype.move=function(t){},sre.Walker.prototype.update=function(t){},sre.Walker.move={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",REPEAT:"repeat",DEPTH:"depth",ENTER:"enter",EXPAND:"expand",HOME:"home",SUMMARY:"summary",DETAIL:"detail",ROW:"row",CELL:"cell"},sre.Walker.STATE_={},sre.Walker.resetState=function(t){delete sre.Walker.STATE_[t]},sre.Walker.setState=function(t,r){sre.Walker.STATE_[t]=r},sre.Walker.getState=function(t){return sre.Walker.STATE_[t]},sre.AbstractWalker=function(t,r,n,i){this.node=t,this.node.id?this.id=this.node.id:this.node.hasAttribute(sre.AbstractWalker.SRE_ID_ATTR)?this.id=this.node.getAttribute(sre.AbstractWalker.SRE_ID_ATTR):(this.node.setAttribute(sre.AbstractWalker.SRE_ID_ATTR,sre.AbstractWalker.ID_COUNTER),this.id=sre.AbstractWalker.ID_COUNTER++),this.generator=r,this.highlighter=n,this.rootNode=sre.WalkerUtil.getSemanticRoot(t),this.rootId=this.rootNode.getAttribute(sre.EnrichMathml.Attribute.ID),this.xmlString_=i,this.focus_=this.rebuilt_=this.xml_=null,this.keyMapping={},this.keyMapping[sre.EventUtil.KeyCode.UP]=goog.bind(this.up,this),this.keyMapping[sre.EventUtil.KeyCode.DOWN]=goog.bind(this.down,this),this.keyMapping[sre.EventUtil.KeyCode.RIGHT]=goog.bind(this.right,this),this.keyMapping[sre.EventUtil.KeyCode.LEFT]=goog.bind(this.left,this),this.keyMapping[sre.EventUtil.KeyCode.TAB]=goog.bind(this.repeat,this),this.keyMapping[sre.EventUtil.KeyCode.DASH]=goog.bind(this.expand,this),this.keyMapping[sre.EventUtil.KeyCode.SPACE]=goog.bind(this.depth,this),this.keyMapping[sre.EventUtil.KeyCode.HOME]=goog.bind(this.home,this),this.keyMapping[sre.EventUtil.KeyCode.X]=goog.bind(this.summary,this),this.keyMapping[sre.EventUtil.KeyCode.Z]=goog.bind(this.detail,this),this.keyMapping[sre.EventUtil.KeyCode.V]=goog.bind(this.virtualize,this),this.keyMapping[sre.EventUtil.KeyCode.P]=goog.bind(this.previous,this),this.keyMapping[sre.EventUtil.KeyCode.U]=goog.bind(this.undo,this),this.keyMapping[sre.EventUtil.KeyCode.LESS]=goog.bind(this.previousRules,this),this.keyMapping[sre.EventUtil.KeyCode.GREATER]=goog.bind(this.nextRules,this),this.active_=!1,this.moved=sre.Walker.move.ENTER,this.cursors=[]},sre.AbstractWalker.prototype.getXml=function(){return this.xml_||(this.xml_=sre.DomUtil.parseInput(this.xmlString_)),this.xml_},sre.AbstractWalker.prototype.getRebuilt=function(){return this.rebuilt_||(this.rebuilt_=this.rebuildStree()),this.rebuilt_},sre.AbstractWalker.ID_COUNTER=0,sre.AbstractWalker.SRE_ID_ATTR="sre-explorer-id",sre.AbstractWalker.prototype.isActive=function(){return this.active_},sre.AbstractWalker.prototype.toggleActive_=function(){this.active_=!this.active_},sre.AbstractWalker.prototype.activate=function(){this.isActive()||(this.generator.start(),this.toggleActive_())},sre.AbstractWalker.prototype.deactivate=function(){this.isActive()&&(sre.Walker.setState(this.id,this.primaryId()),this.generator.end(),this.toggleActive_())},sre.AbstractWalker.prototype.getFocus=function(t){return this.focus_||(this.focus_=sre.Focus.factory(this.rootId,[this.rootId],this.getRebuilt(),this.node)),t&&this.updateFocus(),this.focus_},sre.AbstractWalker.prototype.setFocus=function(t){this.focus_=t},sre.AbstractWalker.prototype.getDepth=function(){return this.levels.depth()-1},sre.AbstractWalker.prototype.isSpeech=function(){return this.generator.modality===sre.EnrichMathml.Attribute.SPEECH},sre.AbstractWalker.prototype.speech=function(){var t=this.getFocus().getDomNodes();if(!t.length)return"";var r=this.specialMove();if(r!==null)return r;switch(this.moved){case sre.Walker.move.DEPTH:return this.depth_();case sre.Walker.move.SUMMARY:return this.summary_();case sre.Walker.move.DETAIL:return this.detail_();default:r=[];for(var n=this.getFocus().getSemanticNodes(),i=0,l=t.length;i<l;i++){var s=t[i],o=n[i];r.push(s?this.generator.getSpeech(s,this.getXml()):sre.SpeechGeneratorUtil.retrieveSpeech(o))}return this.mergePrefix_(r)}},sre.AbstractWalker.prototype.mergePrefix_=function(t,r){r=r||[];var n=this.isSpeech()?this.prefix_():"",i=sre.AuralRendering.getInstance();return n&&t.unshift(n),i.finalize(i.merge(r.concat(t)))},sre.AbstractWalker.prototype.prefix_=function(){var t=this.getFocus().getDomNodes(),r=this.getFocus().getSemanticNodes();return t[0]?sre.WalkerUtil.getAttribute(t[0],sre.EnrichMathml.Attribute.PREFIX):sre.SpeechGeneratorUtil.retrievePrefix(r[0])},sre.AbstractWalker.prototype.move=function(t){return t=this.keyMapping[t],t?(t=t(),!t||t===this.getFocus()?!1:(this.setFocus(t),this.moved===sre.Walker.move.HOME&&(this.levels=this.initLevels()),!0)):null},sre.AbstractWalker.prototype.up=function(){return this.moved=sre.Walker.move.UP,this.getFocus()},sre.AbstractWalker.prototype.down=function(){return this.moved=sre.Walker.move.DOWN,this.getFocus()},sre.AbstractWalker.prototype.left=function(){return this.moved=sre.Walker.move.LEFT,this.getFocus()},sre.AbstractWalker.prototype.right=function(){return this.moved=sre.Walker.move.RIGHT,this.getFocus()},sre.AbstractWalker.prototype.repeat=function(){return this.moved=sre.Walker.move.REPEAT,this.getFocus().clone()},sre.AbstractWalker.prototype.depth=function(){return this.moved=this.isSpeech()?sre.Walker.move.DEPTH:sre.Walker.move.REPEAT,this.getFocus().clone()},sre.AbstractWalker.prototype.depth_=function(){var t=sre.Grammar.getInstance().getParameter("depth");sre.Grammar.getInstance().setParameter("depth",!0);var r=this.getFocus().getDomPrimary();r=this.expandable(r)&&[sre.Messages.NAVIGATE.EXPANDABLE]||this.collapsible(r)&&[sre.Messages.NAVIGATE.COLLAPSIBLE]||[];var n=[sre.AuralRendering.getInstance().markup([new sre.AuditoryDescription({text:sre.Messages.NAVIGATE.LEVEL+" "+this.getDepth(),personality:{}})])],i=this.getFocus().getSemanticNodes();i=sre.SpeechGeneratorUtil.retrievePrefix(i[0]);var l=sre.AuralRendering.getInstance();return i&&n.push(i),sre.Grammar.getInstance().setParameter("depth",t),l.finalize(l.merge(n.concat(r)))},sre.AbstractWalker.prototype.home=function(){return this.moved=sre.Walker.move.HOME,sre.Focus.factory(this.rootId,[this.rootId],this.getRebuilt(),this.node)},sre.AbstractWalker.prototype.getBySemanticId=function(t){return sre.WalkerUtil.getBySemanticId(this.node,t)},sre.AbstractWalker.prototype.primaryId=function(){return this.getFocus().getSemanticPrimary().id.toString()},sre.AbstractWalker.prototype.expand=function(){var t=this.getFocus().getDomPrimary();return t=this.actionable_(t),t?(this.moved=sre.Walker.move.EXPAND,t.dispatchEvent(new Event("click")),this.getFocus().clone()):this.getFocus()},sre.AbstractWalker.prototype.actionable_=function(t){return t&&t.parentNode&&this.highlighter.isMactionNode(t.parentNode)?t.parentNode:null},sre.AbstractWalker.prototype.expandable=function(t){return!!this.actionable_(t)&&t.childNodes.length===0},sre.AbstractWalker.prototype.collapsible=function(t){return!!this.actionable_(t)&&0<t.childNodes.length},sre.AbstractWalker.prototype.restoreState=function(){if(this.highlighter){var t=sre.Walker.getState(this.id);if(t){var r=this.getRebuilt().nodeDict[t];for(t=[];r;)t.push(r.id),r=r.parent;for(t.pop();0<t.length&&(this.down(),r=t.pop(),r=this.findFocusOnLevel(r),!!r);)this.setFocus(r);this.moved=sre.Walker.move.ENTER}}},sre.AbstractWalker.prototype.updateFocus=function(){this.setFocus(sre.Focus.factory(this.getFocus().getSemanticPrimary().id.toString(),this.getFocus().getSemanticNodes().map(function(t){return t.id}),this.getRebuilt(),this.node))},sre.AbstractWalker.prototype.findFocusOnLevel=goog.abstractMethod,sre.AbstractWalker.prototype.initLevels=goog.abstractMethod,sre.AbstractWalker.prototype.rebuildStree=function(){var t=new sre.RebuildStree(this.getXml());return this.rootId=t.stree.root.id.toString(),this.generator.setRebuilt(t),this.focus_=sre.Focus.factory(this.rootId,[this.rootId],t,this.node),this.levels=this.initLevels(),sre.SpeechGeneratorUtil.connectMactions(this.node,this.getXml(),t.xml),t},sre.AbstractWalker.prototype.previousLevel=function(){var t=this.getFocus().getDomPrimary();return t?sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.PARENT):this.getFocus().getSemanticPrimary().parent.id.toString()},sre.AbstractWalker.prototype.nextLevel=function(){var t=this.getFocus().getDomPrimary();if(t){var r=sre.WalkerUtil.splitAttribute(sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.CHILDREN)),n=sre.WalkerUtil.splitAttribute(sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.CONTENT)),i=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.TYPE);return t=sre.WalkerUtil.getAttribute(t,sre.EnrichMathml.Attribute.ROLE),this.combineContentChildren(i,t,n,r)}return n=function(l){return l.id.toString()},i=this.getRebuilt().nodeDict[this.primaryId()],r=i.childNodes.map(n),n=i.contentNodes.map(n),r.length===0?[]:this.combineContentChildren(i.type,i.role,n,r)},sre.AbstractWalker.prototype.combineContentChildren=goog.abstractMethod,sre.AbstractWalker.prototype.singletonFocus=function(t){return this.focusFromId(t,[t])},sre.AbstractWalker.prototype.focusFromId=function(t,r){return sre.Focus.factory(t,r,this.getRebuilt(),this.node)},sre.AbstractWalker.prototype.summary=function(){return this.moved=this.isSpeech()?sre.Walker.move.SUMMARY:sre.Walker.move.REPEAT,this.getFocus().clone()},sre.AbstractWalker.prototype.summary_=function(){var t=this.getFocus().getSemanticPrimary().id.toString();return t=this.getRebuilt().xml.getAttribute("id")===t?this.getRebuilt().xml:sre.DomUtil.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",t)[0],t=sre.SpeechGeneratorUtil.retrieveSummary(t),this.mergePrefix_([t])},sre.AbstractWalker.prototype.detail=function(){return this.moved=this.isSpeech()?sre.Walker.move.DETAIL:sre.Walker.move.REPEAT,this.getFocus().clone()},sre.AbstractWalker.prototype.detail_=function(){var t=this.getFocus().getSemanticPrimary().id.toString();t=this.getRebuilt().xml.getAttribute("id")===t?this.getRebuilt().xml:sre.DomUtil.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",t)[0];var r=t.getAttribute("alternative");t.removeAttribute("alternative");var n=sre.SpeechGeneratorUtil.computeSpeechWithoutCache(t);return n=sre.AuralRendering.getInstance().markup(n),n=this.mergePrefix_([n]),t.setAttribute("alternative",r),n},sre.AbstractWalker.prototype.specialMove=function(){return null},sre.AbstractWalker.prototype.virtualize=function(t){return this.cursors.push({focus:this.getFocus(),levels:this.levels,undo:t||!this.cursors.length}),this.levels=this.levels.clone(),this.getFocus().clone()},sre.AbstractWalker.prototype.previous=function(){var t=this.cursors.pop();return t?(this.levels=t.levels,t.focus):this.getFocus()},sre.AbstractWalker.prototype.undo=function(){do var t=this.cursors.pop();while(t&&!t.undo);return t?(this.levels=t.levels,t.focus):this.getFocus()},sre.AbstractWalker.prototype.update=function(t){this.generator.setOptions(t),sre.System.getInstance().setupEngine(t),sre.SpeechGeneratorFactory.generator("Tree").getSpeech(this.node,this.getXml())},sre.AbstractWalker.prototype.nextRules=function(){var t=this.generator.getOptions();return t.modality!=="speech"?this.getFocus():(sre.Engine.DOMAIN_TO_STYLES[t.domain]=t.style,t.domain=t.domain==="mathspeak"?"clearspeak":"mathspeak",t.style=sre.Engine.DOMAIN_TO_STYLES[t.domain],this.update(t),this.moved=sre.Walker.move.REPEAT,this.getFocus().clone())},sre.AbstractWalker.prototype.nextStyle=function(t,r){if(t==="mathspeak"){t=["default","brief","sbrief"];var n=t.indexOf(r);return n===-1?r:n>=t.length-1?t[0]:t[n+1]}if(t==="clearspeak"){var i=sre.ClearspeakPreferences.getLocalePreferences().en;return i?(t=sre.ClearspeakPreferences.relevantPreferences(this.getFocus().getSemanticPrimary()),n=sre.ClearspeakPreferences.findPreference(r,t),i=i[t].map(function(l){return l.split("_")[1]}),n=i.indexOf(n),n===-1?r:sre.ClearspeakPreferences.addPreference(r,t,n>=i.length-1?i[0]:i[n+1])):"default"}return r},sre.AbstractWalker.prototype.previousRules=function(){var t=this.generator.getOptions();return t.modality!=="speech"?this.getFocus():(t.style=this.nextStyle(t.domain,t.style),this.update(t),this.moved=sre.Walker.move.REPEAT,this.getFocus().clone())},sre.DummyWalker=function(t,r,n,i){sre.AbstractWalker.call(this,t,r,n,i)},goog.inherits(sre.DummyWalker,sre.AbstractWalker),sre.DummyWalker.prototype.up=function(){},sre.DummyWalker.prototype.down=function(){},sre.DummyWalker.prototype.left=function(){},sre.DummyWalker.prototype.right=function(){},sre.DummyWalker.prototype.repeat=function(){},sre.DummyWalker.prototype.depth=function(){},sre.DummyWalker.prototype.home=function(){},sre.DummyWalker.prototype.getDepth=function(){return 0},sre.DummyWalker.prototype.initLevels=function(){},sre.SemanticWalker=function(t,r,n,i){sre.AbstractWalker.call(this,t,r,n,i),this.levels=null,this.restoreState()},goog.inherits(sre.SemanticWalker,sre.AbstractWalker),sre.SemanticWalker.prototype.initLevels=function(){var t=new sre.Levels;return t.push([this.getFocus()]),t},sre.SemanticWalker.prototype.up=function(){sre.SemanticWalker.superClass_.up.call(this);var t=this.previousLevel();return t?(this.levels.pop(),this.levels.find(function(r){return r.getSemanticNodes().some(function(n){return n.id.toString()===t})})):null},sre.SemanticWalker.prototype.down=function(){sre.SemanticWalker.superClass_.down.call(this);var t=this.nextLevel();return t.length===0?null:(this.levels.push(t),t[0])},sre.SemanticWalker.prototype.combineContentChildren=function(t,r,n,i){switch(t){case sre.SemanticAttr.Type.RELSEQ:case sre.SemanticAttr.Type.INFIXOP:case sre.SemanticAttr.Type.MULTIREL:return this.makePairList(i,n);case sre.SemanticAttr.Type.PREFIXOP:return[this.focusFromId(i[0],n.concat(i))];case sre.SemanticAttr.Type.POSTFIXOP:return[this.focusFromId(i[0],i.concat(n))];case sre.SemanticAttr.Type.MATRIX:case sre.SemanticAttr.Type.VECTOR:case sre.SemanticAttr.Type.FENCED:return[this.focusFromId(i[0],[n[0],i[0],n[1]])];case sre.SemanticAttr.Type.CASES:return[this.focusFromId(i[0],[n[0],i[0]])];case sre.SemanticAttr.Type.PUNCTUATED:return r===sre.SemanticAttr.Role.TEXT?i.map(goog.bind(this.singletonFocus,this)):i.length===n.length?n.map(goog.bind(this.singletonFocus,this)):this.combinePunctuations(i,n,[],[]);case sre.SemanticAttr.Type.APPL:return[this.focusFromId(i[0],[i[0],n[0]]),this.singletonFocus(i[1])];case sre.SemanticAttr.Type.ROOT:return[this.singletonFocus(i[1]),this.singletonFocus(i[0])];default:return i.map(goog.bind(this.singletonFocus,this))}},sre.SemanticWalker.prototype.combinePunctuations=function(t,r,n,i){if(t.length===0)return i;var l=t.shift(),s=r.shift();return l===s?(n.push(s),this.combinePunctuations(t,r,n,i)):(r.unshift(s),n.push(l),t.length===r.length?(i.push(this.focusFromId(l,n.concat(r))),i):(i.push(this.focusFromId(l,n)),this.combinePunctuations(t,r,[],i)))},sre.SemanticWalker.prototype.makePairList=function(t,r){if(t.length===0)return[];if(t.length===1)return[this.singletonFocus(t[0])];for(var n=[this.singletonFocus(t.shift())],i=0,l=t.length;i<l;i++)n.push(this.focusFromId(t[i],[r[i],t[i]]));return n},sre.SemanticWalker.prototype.left=function(){sre.SemanticWalker.superClass_.left.call(this);var t=this.levels.indexOf(this.getFocus());return t===null?null:(t=this.levels.get(t-1))?t:null},sre.SemanticWalker.prototype.right=function(){sre.SemanticWalker.superClass_.right.call(this);var t=this.levels.indexOf(this.getFocus());return t===null?null:(t=this.levels.get(t+1))?t:null},sre.SemanticWalker.prototype.findFocusOnLevel=function(t){return this.levels.find(function(r){return r.getSemanticPrimary().id===t})},sre.SyntaxWalker=function(t,r,n,i){sre.AbstractWalker.call(this,t,r,n,i),this.levels=null,this.restoreState()},goog.inherits(sre.SyntaxWalker,sre.AbstractWalker),sre.SyntaxWalker.prototype.initLevels=function(){var t=new sre.Levels;return t.push([this.primaryId()]),t},sre.SyntaxWalker.prototype.up=function(){sre.SyntaxWalker.superClass_.up.call(this);var t=this.previousLevel();return t?(this.levels.pop(),this.singletonFocus(t)):null},sre.SyntaxWalker.prototype.down=function(){sre.SyntaxWalker.superClass_.down.call(this);var t=this.nextLevel();if(t.length===0)return null;var r=this.singletonFocus(t[0]);return r&&this.levels.push(t),r},sre.SyntaxWalker.prototype.combineContentChildren=function(t,r,n,i){switch(t){case sre.SemanticAttr.Type.RELSEQ:case sre.SemanticAttr.Type.INFIXOP:case sre.SemanticAttr.Type.MULTIREL:return sre.BaseUtil.interleaveLists(i,n);case sre.SemanticAttr.Type.PREFIXOP:return n.concat(i);case sre.SemanticAttr.Type.POSTFIXOP:return i.concat(n);case sre.SemanticAttr.Type.MATRIX:case sre.SemanticAttr.Type.VECTOR:case sre.SemanticAttr.Type.FENCED:return i.unshift(n[0]),i.push(n[1]),i;case sre.SemanticAttr.Type.CASES:return i.unshift(n[0]),i;case sre.SemanticAttr.Type.PUNCTUATED:return r===sre.SemanticAttr.Role.TEXT?sre.BaseUtil.interleaveLists(i,n):i;case sre.SemanticAttr.Type.APPL:return[i[0],n[0],i[1]];case sre.SemanticAttr.Type.ROOT:return[i[1],i[0]];default:return i}},sre.SyntaxWalker.prototype.left=function(){sre.SyntaxWalker.superClass_.left.call(this);var t=this.levels.indexOf(this.primaryId());return t===null?null:(t=this.levels.get(t-1))?this.singletonFocus(t):null},sre.SyntaxWalker.prototype.right=function(){sre.SyntaxWalker.superClass_.right.call(this);var t=this.levels.indexOf(this.primaryId());return t===null?null:(t=this.levels.get(t+1))?this.singletonFocus(t):null},sre.SyntaxWalker.prototype.findFocusOnLevel=function(t){return this.singletonFocus(t.toString())},sre.TableWalker=function(t,r,n,i){sre.SyntaxWalker.call(this,t,r,n,i),this.modifier=!1,this.keyMapping[sre.EventUtil.KeyCode[0]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[1]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[2]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[3]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[4]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[5]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[6]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[7]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[8]]=goog.bind(this.jumpCell,this),this.keyMapping[sre.EventUtil.KeyCode[9]]=goog.bind(this.jumpCell,this),this.key_=null,this.row_=0,this.firstJump=this.currentTable_=null},goog.inherits(sre.TableWalker,sre.SyntaxWalker),sre.TableWalker.prototype.move=function(t){return this.key_=t,t=sre.TableWalker.superClass_.move.call(this,t),this.modifier=!1,t},sre.TableWalker.prototype.up=function(){return this.moved=sre.Walker.move.UP,this.eligibleCell_()?this.verticalMove_(!1):sre.TableWalker.superClass_.up.call(this)},sre.TableWalker.prototype.down=function(){return this.moved=sre.Walker.move.DOWN,this.eligibleCell_()?this.verticalMove_(!0):sre.TableWalker.superClass_.down.call(this)},sre.TableWalker.ELIGIBLE_CELL_ROLES=[sre.SemanticAttr.Role.DETERMINANT,sre.SemanticAttr.Role.ROWVECTOR,sre.SemanticAttr.Role.BINOMIAL,sre.SemanticAttr.Role.SQUAREMATRIX,sre.SemanticAttr.Role.MULTILINE,sre.SemanticAttr.Role.MATRIX,sre.SemanticAttr.Role.VECTOR,sre.SemanticAttr.Role.CASES,sre.SemanticAttr.Role.TABLE],sre.TableWalker.ELIGIBLE_TABLE_TYPES=[sre.SemanticAttr.Type.MULTILINE,sre.SemanticAttr.Type.MATRIX,sre.SemanticAttr.Type.VECTOR,sre.SemanticAttr.Type.CASES,sre.SemanticAttr.Type.TABLE],sre.TableWalker.prototype.eligibleCell_=function(){var t=this.getFocus().getSemanticPrimary();return this.modifier&&t.type===sre.SemanticAttr.Type.CELL&&sre.TableWalker.ELIGIBLE_CELL_ROLES.indexOf(t.role)!==-1},sre.TableWalker.prototype.verticalMove_=function(t){var r=this.previousLevel();if(!r)return null;var n=this.getFocus(),i=this.levels.indexOf(this.primaryId()),l=this.levels.pop();return r=this.levels.indexOf(r),t=this.levels.get(t?r+1:r-1),t?(this.setFocus(this.singletonFocus(t)),t=this.nextLevel(),t[i]?(this.levels.push(t),this.singletonFocus(t[i])):(this.setFocus(n),this.levels.push(l),null)):(this.levels.push(l),null)},sre.TableWalker.prototype.jumpCell=function(){if(!this.isInTable_()||this.key_===null)return this.getFocus();if(this.moved===sre.Walker.move.ROW){this.moved=sre.Walker.move.CELL;var t=this.key_-sre.EventUtil.KeyCode[0];return this.isLegalJump_(this.row_,t)?this.jumpCell_(this.row_,t):this.getFocus()}return t=this.key_-sre.EventUtil.KeyCode[0],t>this.currentTable_.childNodes.length?this.getFocus():(this.row_=t,this.moved=sre.Walker.move.ROW,this.getFocus().clone())},sre.TableWalker.prototype.jumpCell_=function(t,r){this.firstJump?this.virtualize(!1):(this.firstJump=this.getFocus(),this.virtualize(!0));var n=this.currentTable_.id.toString();do var i=this.levels.pop();while(i.indexOf(n)===-1);return this.levels.push(i),this.setFocus(this.singletonFocus(n)),this.levels.push(this.nextLevel()),t=this.currentTable_.childNodes[t-1],this.setFocus(this.singletonFocus(t.id.toString())),this.levels.push(this.nextLevel()),this.singletonFocus(t.childNodes[r-1].id.toString())},sre.TableWalker.prototype.isLegalJump_=function(t,r){var n=sre.DomUtil.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",this.currentTable_.id.toString())[0];return!n||n.hasAttribute("alternative")||(t=this.currentTable_.childNodes[t-1],!t)?!1:(n=sre.DomUtil.querySelectorAllByAttrValue(n,"id",t.id.toString())[0],!n||n.hasAttribute("alternative")?!1:!(!t||!t.childNodes[r-1]))},sre.TableWalker.prototype.isInTable_=function(){for(var t=this.getFocus().getSemanticPrimary();t;){if(sre.TableWalker.ELIGIBLE_TABLE_TYPES.indexOf(t.type)!==-1)return this.currentTable_=t,!0;t=t.parent}return!1},sre.TableWalker.prototype.undo=function(){var t=sre.TableWalker.superClass_.undo.call(this);return t===this.firstJump&&(this.firstJump=null),t},sre.WalkerFactory={},sre.WalkerFactory.walker=function(t,r,n,i,l){return new(sre.WalkerFactory.walkerMapping_[t.toLowerCase()]||sre.WalkerFactory.walkerMapping_.dummy)(r,n,i,l)},sre.WalkerFactory.walkerMapping_={dummy:sre.DummyWalker,semantic:sre.SemanticWalker,syntax:sre.SyntaxWalker,table:sre.TableWalker},sre.ProcessorFactory={},sre.ProcessorFactory.PROCESSORS_={},sre.ProcessorFactory.get_=function(t){var r=sre.ProcessorFactory.PROCESSORS_[t.toLowerCase()];if(!r)throw new sre.Engine.Error("Unknown processor "+t);return r},sre.ProcessorFactory.process=function(t,r){return sre.ProcessorFactory.get_(t).processor(r)},sre.ProcessorFactory.print=function(t,r){return t=sre.ProcessorFactory.get_(t),sre.Engine.getInstance().pprint?t.pprint(r):t.print(r)},sre.ProcessorFactory.output=function(t,r){return t=sre.ProcessorFactory.get_(t),r=t.processor(r),sre.Engine.getInstance().pprint?t.pprint(r):t.print(r)},sre.ProcessorFactory.keypress=function(t,r){return t=sre.ProcessorFactory.get_(t),r=t.key?t.key(r):r,r=t.processor(r),sre.Engine.getInstance().pprint?t.pprint(r):t.print(r)},sre.Processor=function(t,r){this.name=t,this.processor=r.processor,this.print=r.print||sre.Processor.stringify_,this.pprint=r.pprint||this.print,sre.ProcessorFactory.PROCESSORS_[this.name]=this},sre.KeyProcessor=function(t,r){sre.Processor.call(this,t,r),this.key=r.key||sre.KeyProcessor.getKey_},goog.inherits(sre.KeyProcessor,sre.Processor),sre.KeyProcessor.getKey_=function(t){return typeof t=="string"?sre.EventUtil.KeyCode[t.toUpperCase()]:t},sre.Processor.LocalState_={walker:null,speechGenerator:null,highlighter:null},sre.Processor.stringify_=function(t){return t&&t.toString()},new sre.Processor("semantic",{processor:function(t){return t=sre.DomUtil.parseInput(t),sre.Semantic.xmlTree(t)},pprint:function(t){return sre.DomUtil.formatXml(t.toString())}}),new sre.Processor("speech",{processor:function(t){t=sre.DomUtil.parseInput(t),t=sre.Semantic.xmlTree(t),t=sre.SpeechGeneratorUtil.computeSpeech(t);var r=sre.AuralRendering.getInstance();return r.finalize(r.markup(t))},pprint:function(t){return t=t.toString(),sre.AuralRendering.ofType(sre.XmlRenderer)?sre.DomUtil.formatXml(t):t}}),new sre.Processor("json",{processor:function(t){return t=sre.DomUtil.parseInput(t,sre.Engine.Error),sre.Semantic.getTree(t).toJson()},print:function(t){return JSON.stringify(t)},pprint:function(t){return JSON.stringify(t,null,2)}}),new sre.Processor("description",{processor:function(t){return t=sre.DomUtil.parseInput(t),t=sre.Semantic.xmlTree(t),sre.SpeechGeneratorUtil.computeSpeech(t)},print:function(t){return JSON.stringify(t)},pprint:function(t){return JSON.stringify(t,null,2)}}),new sre.Processor("enriched",{processor:function(t){t=sre.Enrich.semanticMathmlSync(t);var r=sre.WalkerUtil.getSemanticRoot(t);switch(sre.Engine.getInstance().speech){case sre.Engine.Speech.SHALLOW:var n=sre.SpeechGeneratorFactory.generator("Adhoc");n.getSpeech(r,t);break;case sre.Engine.Speech.DEEP:n=sre.SpeechGeneratorFactory.generator("Tree"),n.getSpeech(r,t)}return t},pprint:function(t){return sre.DomUtil.formatXml(t.toString())}}),new sre.Processor("walker",{processor:function(t){var r=sre.SpeechGeneratorFactory.generator("Node");sre.Processor.LocalState_.speechGenerator=r,sre.Processor.LocalState_.highlighter=sre.HighlighterFactory.highlighter({color:"black"},{color:"white"},{renderer:"NativeMML"}),t=sre.ProcessorFactory.process("enriched",t);var n=sre.ProcessorFactory.print("enriched",t);return sre.Processor.LocalState_.walker=sre.WalkerFactory.walker(sre.Engine.getInstance().walker,t,r,sre.Processor.LocalState_.highlighter,n),sre.Processor.LocalState_.walker},print:function(t){return sre.Processor.LocalState_.walker.speech()}}),new sre.KeyProcessor("move",{processor:function(t){return sre.Processor.LocalState_.walker?sre.Processor.LocalState_.walker.move(t)===!1?sre.AuralRendering.getInstance().error(t):sre.Processor.LocalState_.walker.speech():null}}),sre.System=function(){this.version=sre.Variables.VERSION},goog.addSingletonGetter(sre.System),sre.System.prototype.setupEngine=function(t){var r=sre.Engine.getInstance(),n=function(i){r[i]=t[i]||r[i]};n("mode"),sre.System.prototype.configBlocks_(t),sre.Engine.BINARY_FEATURES.forEach(function(i){typeof t[i]!="undefined"&&(r[i]=!!t[i])}),sre.Engine.STRING_FEATURES.forEach(n),t.json&&(sre.SystemExternal.jsonPath=sre.BaseUtil.makePath(t.json)),t.xpath&&(sre.SystemExternal.WGXpath=t.xpath),r.setupBrowsers(),r.ruleSets=t.rules?t.rules:sre.SpeechRuleStores.availableSets(),sre.SpeechRuleEngine.getInstance().parameterize(r.ruleSets),r.setDynamicCstr(),sre.L10n.setLocale()},sre.System.prototype.configBlocks_=function(t){if(!sre.Engine.getInstance().config&&sre.Engine.getInstance().mode===sre.Engine.Mode.HTTP){sre.Engine.getInstance().config=!0;for(var r=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]'),n=0,i=r.length;n<i;n++)try{var l=r[n].innerHTML,s=JSON.parse(l),o;for(o in s)t[o]=s[o]}catch(u){sre.Debugger.getInstance().output("Illegal configuration ",l)}}},sre.System.setAsync=function(){sre.Engine.isReady()||setTimeout(sre.System.setAsync,500),sre.System.getInstance().setupEngine({mode:sre.Engine.Mode.ASYNC})},sre.System.prototype.engineSetup=function(){var t=["mode"].concat(sre.Engine.STRING_FEATURES,sre.Engine.BINARY_FEATURES),r=sre.Engine.getInstance(),n={};return t.forEach(function(i){n[i]=r[i]}),n.json=sre.SystemExternal.jsonPath,n.xpath=sre.SystemExternal.WGXpath,n.rules=r.ruleSets.slice(),n},sre.System.prototype.engineReady=function(){return sre.Engine.isReady()},sre.System.prototype.toSpeech=function(t){return sre.System.getInstance().processString("speech",t)},sre.System.prototype.toSemantic=function(t){return sre.System.getInstance().processString("semantic",t)},sre.System.prototype.toJson=function(t){return sre.System.getInstance().processString("json",t)},sre.System.prototype.toDescription=function(t){return sre.System.getInstance().processString("description",t)},sre.System.prototype.toEnriched=function(t){return sre.System.getInstance().processString("enriched",t)},sre.System.prototype.processString=function(t,r){return sre.ProcessorFactory.process(t,r)},sre.System.prototype.fileToSpeech=function(t,r){sre.System.getInstance().processFile("speech",t,r)},sre.System.prototype.fileToSemantic=function(t,r){sre.System.getInstance().processFile("semantic",t,r)},sre.System.prototype.fileToJson=function(t,r){sre.System.getInstance().processFile("json",t,r)},sre.System.prototype.fileToDescription=function(t,r){sre.System.getInstance().processFile("description",t,r)},sre.System.prototype.fileToEnriched=function(t,r){sre.System.getInstance().processFile("enriched",t,r)},sre.System.prototype.processFile=function(t,r,n){sre.Engine.isReady()?sre.Engine.getInstance().mode===sre.Engine.Mode.SYNC?this.processFileSync_(t,r,n):this.processFileAsync_(t,r,n):setTimeout(goog.bind(function(){this.processFile(t,r,n)},this),100)},sre.System.prototype.inputFileSync_=function(t){try{var r=sre.SystemExternal.fs.readFileSync(t,{encoding:"utf8"})}catch(n){throw new sre.Engine.Error("Can not open file: "+t)}return r},sre.System.prototype.processFileSync_=function(t,r,n){if(r=sre.System.getInstance().inputFileSync_(r),t=sre.ProcessorFactory.output(t,r),n)try{sre.SystemExternal.fs.writeFileSync(n,t)}catch(i){throw new sre.Engine.Error("Can not write to file: "+n)}else console.info(t)},sre.System.prototype.inputFileAsync_=function(t,r){sre.SystemExternal.fs.readFile(t,{encoding:"utf8"},goog.bind(function(n,i){if(n)throw new sre.Engine.Error("Can not open file: "+t);r(i)},this))},sre.System.prototype.processFileAsync_=function(t,r,n){sre.System.getInstance().inputFileAsync_(r,goog.bind(function(i){i=sre.ProcessorFactory.output(t,i),n?sre.SystemExternal.fs.writeFile(n,i,function(l){if(l)throw new sre.Engine.Error("Can not write to file: "+n)}):console.info(i)},this))},sre.System.prototype.walk=function(t){return sre.ProcessorFactory.output("walker",t)},sre.System.prototype.move=function(t){return sre.ProcessorFactory.keypress("move",t)},sre.Mathjax={},function(){var t=sre.System.getInstance(),r=MathJax.Callback.Signal("Sre");MathJax.Extension.Sre={version:t.version,signal:r,ConfigSre:function(){sre.Engine.isReady()?MathJax.Callback.Queue(MathJax.Hub.Register.StartupHook("mml Jax Ready",{}),["Post",MathJax.Hub.Startup.signal,"Sre Ready"]):setTimeout(MathJax.Extension.Sre.ConfigSre,500)}},sre.System.getInstance().setupEngine({mode:sre.Engine.Mode.HTTP,json:MathJax.Ajax.config.path.SRE+"/mathmaps",xpath:MathJax.Ajax.config.path.SRE+"/wgxpath.install.js",semantics:!0}),MathJax.Extension.Sre.ConfigSre()}();
