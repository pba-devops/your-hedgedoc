(function(u,h){var c="2.7.9",l=MathJax.Hub.CombineConfig("Safe",{allow:{URLs:"safe",classes:"safe",cssIDs:"safe",styles:"safe",fontsize:"all",require:"safe"},sizeMin:.7,sizeMax:1.44,lengthMax:3,safeProtocols:{http:!0,https:!0,file:!0,javascript:!1},safeStyles:{color:!0,backgroundColor:!0,border:!0,cursor:!0,margin:!0,padding:!0,textShadow:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontWeight:!0,opacity:!0,outline:!0},safeRequire:{action:!0,amscd:!0,amsmath:!0,amssymbols:!0,autobold:!1,"autoload-all":!1,bbox:!0,begingroup:!0,boldsymbol:!0,cancel:!0,color:!0,enclose:!0,extpfeil:!0,HTML:!0,mathchoice:!0,mhchem:!0,newcommand:!0,noErrors:!1,noUndefined:!1,unicode:!0,verb:!0},styleParts:{border:!0,padding:!0,margin:!0,outline:!0},styleLengths:{borderTop:"borderTopWidth",borderRight:"borderRightWidth",borderBottom:"borderBottomWidth",borderLeft:"borderLeftWidth",paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,outlineTop:!0,outlineRight:!0,outlineBottom:!0,outlineLeft:!0,fontSize:[.7,1.44]}}),s=l.allow;s.fontsize!=="all"&&(l.safeStyles.fontSize=!1);var a=MathJax.Extension.Safe={version:c,config:l,div1:document.createElement("div"),div2:document.createElement("div"),filter:{href:"filterURL",src:"filterURL",altimg:"filterURL",class:"filterClass",style:"filterStyles",id:"filterID",fontsize:"filterFontSize",mathsize:"filterFontSize",scriptminsize:"filterFontSize",scriptsizemultiplier:"filterSizeMultiplier",scriptlevel:"filterScriptLevel"},filterURL:function(t){var e=(t.match(/^\s*([a-z]+):/i)||[null,""])[1].toLowerCase();return(s.URLs==="none"||s.URLs!=="all"&&!l.safeProtocols[e])&&(t=null),t},filterClass:function(t){return(s.classes==="none"||s.classes!=="all"&&!t.match(/^MJX-[-a-zA-Z0-9_.]+$/))&&(t=null),t},filterID:function(t){return(s.cssIDs==="none"||s.cssIDs!=="all"&&!t.match(/^MJX-[-a-zA-Z0-9_.]+$/))&&(t=null),t},filterStyles:function(t){if(s.styles==="all")return t;if(s.styles==="none")return null;try{var e=this.div1.style,r=this.div2.style,i;e.cssText=t,r.cssText="";for(var n in l.safeStyles)if(l.safeStyles.hasOwnProperty(n))if(l.styleParts[n])for(var o=0;o<4;o++){var f=n+["Top","Right","Bottom","Left"][o];i=this.filterStyle(f,e),i&&(r[f]=i)}else i=this.filterStyle(n,e),i&&(r[n]=i);t=r.cssText}catch(g){t=null}return t},filterStyle:function(t,e){var r=e[t];if(typeof r!="string"||r===""||r.match(/^\s*expression/)||r.match(/javascript:/))return null;var i=t.replace(/Top|Right|Left|Bottom/,"");return!l.safeStyles[t]&&!l.safeStyles[i]?null:l.styleLengths[t]?this.filterStyleLength(t,r,e)?r:null:r},filterStyleLength:function(t,e,r){if(typeof l.styleLengths[t]=="string"&&(e=r[l.styleLengths[t]]),e=this.length2em(e),e==null)return!1;var i=[-l.lengthMax,l.lengthMax];return MathJax.Object.isArray(l.styleLengths[t])&&(i=l.styleLengths[t]),e>=i[0]&&e<=i[1]},unit2em:{em:1,ex:.5,ch:.5,rem:1,px:1/16,mm:96/25.4/16,cm:96/2.54/16,in:96/16,pt:96/72/16,pc:96/6/16},length2em:function(t){var e=t.match(/(.+)(em|ex|ch|rem|px|mm|cm|in|pt|pc)/);return e?parseFloat(e[1])*this.unit2em[e[2]]:null},filterSize:function(t){return s.fontsize==="none"?null:(s.fontsize!=="all"&&(t=Math.min(Math.max(t,l.sizeMin),l.sizeMax)),t)},filterFontSize:function(t){return s.fontsize==="all"?t:null},filterSizeMultiplier:function(t){return s.fontsize==="none"?t=null:s.fontsize!=="all"&&(t=Math.min(1,Math.max(.6,t)).toString()),t},filterScriptLevel:function(t){return s.fontsize==="none"?t=null:s.fontsize!=="all"&&(t=Math.max(0,t).toString()),t},filterRequire:function(t){return(s.require==="none"||s.require!=="all"&&!l.safeRequire[t.toLowerCase()])&&(t=null),t}};u.Register.StartupHook("TeX HTML Ready",function(){var t=MathJax.InputJax.TeX;t.Parse.Augment({HREF_attribute:function(e){var r=a.filterURL(this.GetArgument(e)),i=this.GetArgumentMML(e);r&&i.With({href:r}),this.Push(i)},CLASS_attribute:function(e){var r=a.filterClass(this.GetArgument(e)),i=this.GetArgumentMML(e);r&&(i.class!=null&&(r=i.class+" "+r),i.With({class:r})),this.Push(i)},STYLE_attribute:function(e){var r=a.filterStyles(this.GetArgument(e)),i=this.GetArgumentMML(e);r&&(i.style!=null&&(r.charAt(r.length-1)!==";"&&(r+=";"),r=i.style+" "+r),i.With({style:r})),this.Push(i)},ID_attribute:function(e){var r=a.filterID(this.GetArgument(e)),i=this.GetArgumentMML(e);r&&i.With({id:r}),this.Push(i)}})}),u.Register.StartupHook("TeX Jax Ready",function(){var t=MathJax.InputJax.TeX,e=t.Parse,r=a.filter;e.Augment({Require:function(i){var n=this.GetArgument(i).replace(/.*\//,"").replace(/[^a-z0-9_.-]/ig,"");n=a.filterRequire(n),n&&this.Extension(null,n)},MmlFilterAttribute:function(i,n){return r[i]&&(n=a[r[i]](n)),n},SetSize:function(i,n){n=a.filterSize(n),n&&(this.stack.env.size=n,this.Push(t.Stack.Item.style().With({styles:{mathsize:n+"em"}})))}})}),u.Register.StartupHook("TeX bbox Ready",function(){var t=MathJax.InputJax.TeX;t.Parse.Augment({BBoxStyle:function(e){return a.filterStyles(e)},BBoxPadding:function(e){var r=a.filterStyles("padding: "+e);return r?e:0}})}),u.Register.StartupHook("MathML Jax Ready",function(){var t=MathJax.InputJax.MathML.Parse,e=a.filter;t.Augment({filterAttribute:function(r,i){return e[r]&&(i=a[e[r]](i)),i}})}),u.Startup.signal.Post("Safe Extension Ready"),h.loadComplete("[MathJax]/extensions/Safe.js")})(MathJax.Hub,MathJax.Ajax);
