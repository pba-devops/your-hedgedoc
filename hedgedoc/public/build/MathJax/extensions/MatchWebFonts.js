(function(u,p){var T="2.7.9",l=MathJax.Hub.CombineConfig("MatchWebFonts",{matchFor:{"HTML-CSS":!0,NativeMML:!0,SVG:!0},fontCheckDelay:500,fontCheckTimeout:15e3});MathJax.Extension.MatchWebFonts={version:T,config:l},u.Register.StartupHook("HTML-CSS Jax Ready",function(){var c=MathJax.OutputJax["HTML-CSS"],S=c.postTranslate;c.Augment({postTranslate:function(h,n){return!n&&l.matchFor["HTML-CSS"]&&this.config.matchFontHeight&&p.timer.start(p,["checkFonts",this,h.jax[this.id]],l.fontCheckDelay,l.fontCheckTimeout),S.apply(this,arguments)},checkFonts:function(h,n){if(!h.time(function(){})){var s=[],e,o,t=!1;for(e=0,o=n.length;e<o;e++)script=n[e],script.parentNode&&script.MathJax.elementJax&&script.parentNode.insertBefore(this.EmExSpan.cloneNode(!0),script);for(e=0,o=n.length;e<o;e++)if(script=n[e],!!script.parentNode){t=!0;var a=script.MathJax.elementJax;if(a){var r=script.previousSibling,i=r.firstChild.offsetHeight/60,M=r.lastChild.lastChild.offsetHeight/60;if((i===0||i==="NaN")&&(i=this.defaultEx,M=this.defaultEm),i!==a.HTMLCSS.ex||M!==a.HTMLCSS.em){var f=i/this.TeX.x_height/M;f=Math.floor(Math.max(this.config.minScaleAdjust/100,f)*this.config.scale),f/100!==a.scale&&(s.push(script),n[e]={})}}}for(n=n.concat(s),e=0,o=n.length;e<o;e++)script=n[e],script&&script.parentNode&&script.MathJax.elementJax&&script.parentNode.removeChild(script.previousSibling);s.length&&u.Queue(["Rerender",u,[s],{}]),t&&setTimeout(h,h.delay)}}})}),u.Register.StartupHook("SVG Jax Ready",function(){var c=MathJax.OutputJax.SVG,S=c.postTranslate;c.Augment({postTranslate:function(h,n){return!n&&l.matchFor.SVG&&p.timer.start(p,["checkFonts",this,h.jax[this.id]],l.fontCheckDelay,l.fontCheckTimeout),S.apply(this,arguments)},checkFonts:function(h,n){if(!h.time(function(){})){var s=[],e,o,t=!1;for(e=0,o=n.length;e<o;e++)script=n[e],script.parentNode&&script.MathJax.elementJax&&script.parentNode.insertBefore(this.ExSpan.cloneNode(!0),script);for(e=0,o=n.length;e<o;e++)if(script=n[e],!!script.parentNode){t=!0;var a=script.MathJax.elementJax;if(a){var r=script.previousSibling,i=r.firstChild.offsetHeight/60;(i===0||i==="NaN")&&(i=this.defaultEx),i!==a.SVG.ex&&(s.push(script),n[e]={})}}for(n=n.concat(s),e=0,o=n.length;e<o;e++)script=n[e],script.parentNode&&script.MathJax.elementJax&&script.parentNode.removeChild(script.previousSibling);s.length&&u.Queue(["Rerender",u,[s],{}]),t&&setTimeout(h,h.delay)}}})}),u.Register.StartupHook("NativeMML Jax Ready",function(){var c=MathJax.OutputJax.NativeMML,S=c.postTranslate;c.Augment({postTranslate:function(h){!u.Browser.isMSIE&&l.matchFor.NativeMML&&p.timer.start(p,["checkFonts",this,h.jax[this.id]],l.fontCheckDelay,l.fontCheckTimeout),S.apply(this,arguments)},checkFonts:function(h,n){if(!h.time(function(){})){var s=[],e=[],o=[],t,a,r;for(t=0,a=n.length;t<a;t++)r=n[t],r.parentNode&&r.MathJax.elementJax&&r.parentNode.insertBefore(this.EmExSpan.cloneNode(!0),r);for(t=0,a=n.length;t<a;t++)if(r=n[t],!!r.parentNode){var i=r.MathJax.elementJax;if(i){var M=document.getElementById(i.inputID+"-Frame"),f=M.getElementsByTagName("math")[0];if(f){i=i.NativeMML;var J=r.previousSibling,g=J.firstChild.offsetWidth/60,v=J.lastChild.offsetWidth/60;(g===0||g==="NaN")&&(g=this.defaultEx,v=this.defaultMEx);var N=g!==i.ex;if(N||v!=i.mex){var m=this.config.matchFontHeight&&v>1?g/v:1;m=Math.floor(Math.max(this.config.minScaleAdjust/100,m)*this.config.scale),m/100!==i.scale&&o.push([M.style,m]),i.scale=m/100,i.fontScale=m+"%",i.ex=g,i.mex=v}if("scrollWidth"in i&&(N||i.scrollWidth!==f.firstChild.scrollWidth)&&(i.scrollWidth=f.firstChild.scrollWidth,s.push([f.parentNode.style,i.scrollWidth/i.ex/i.scale])),f.MathJaxMtds)for(var d=0,x=f.MathJaxMtds.length;d<x;d++)f.MathJaxMtds[d].parentNode&&(N||f.MathJaxMtds[d].firstChild.scrollWidth!==i.mtds[d])&&(i.mtds[d]=f.MathJaxMtds[d].firstChild.scrollWidth,e.push([f.MathJaxMtds[d],i.mtds[d]/i.ex]))}}}for(t=0,a=n.length;t<a;t++)r=n[t],r.parentNode&&r.MathJax.elementJax&&r.parentNode.removeChild(r.previousSibling);for(t=0,a=o.length;t<a;t++)o[t][0].fontSize=o[t][1]+"%";for(t=0,a=s.length;t<a;t++)s[t][0].width=s[t][1].toFixed(3)+"ex";for(t=0,a=e.length;t<a;t++){var C=e[t][0].getAttribute("style");C=C.replace(/(($|;)\s*min-width:).*?ex/,"$1 "+e[t][1].toFixed(3)+"ex"),e[t][0].setAttribute("style",C)}setTimeout(h,h.delay)}}})}),u.Startup.signal.Post("MatchWebFonts Extension Ready"),p.loadComplete("[MathJax]/extensions/MatchWebFonts.js")})(MathJax.Hub,MathJax.Ajax);
