(function(h,f,v,E,J){var M="2.7.9",x=h.CombineConfig("MathZoom",{styles:{"#MathJax_Zoom":{position:"absolute","background-color":"#F0F0F0",overflow:"auto",display:"block","z-index":301,padding:".5em",border:"1px solid black",margin:0,"font-weight":"normal","font-style":"normal","text-align":"left","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap",float:"none","-webkit-box-sizing":"content-box","-moz-box-sizing":"content-box","box-sizing":"content-box","box-shadow":"5px 5px 15px #AAAAAA","-webkit-box-shadow":"5px 5px 15px #AAAAAA","-moz-box-shadow":"5px 5px 15px #AAAAAA","-khtml-box-shadow":"5px 5px 15px #AAAAAA",filter:"progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')"},"#MathJax_ZoomOverlay":{position:"absolute",left:0,top:0,"z-index":300,display:"inline-block",width:"100%",height:"100%",border:0,padding:0,margin:0,"background-color":"white",opacity:0,filter:"alpha(opacity=0)"},"#MathJax_ZoomFrame":{position:"relative",display:"inline-block",height:0,width:0},"#MathJax_ZoomEventTrap":{position:"absolute",left:0,top:0,"z-index":302,display:"inline-block",border:0,padding:0,margin:0,"background-color":"white",opacity:0,filter:"alpha(opacity=0)"}}}),c,g,w;MathJax.Hub.Register.StartupHook("MathEvents Ready",function(){w=MathJax.Extension.MathEvents.Event,c=MathJax.Extension.MathEvents.Event.False,g=MathJax.Extension.MathEvents.Hover});var i=MathJax.Extension.MathZoom={version:M,settings:h.config.menuSettings,scrollSize:18,HandleEvent:function(e,t,s){return i.settings.CTRL&&!e.ctrlKey||i.settings.ALT&&!e.altKey||i.settings.CMD&&!e.metaKey||i.settings.Shift&&!e.shiftKey||!i[t]?!0:i[t](e,s)},Click:function(e,t){if(this.settings.zoom==="Click")return this.Zoom(e,t)},DblClick:function(e,t){if(this.settings.zoom==="Double-Click"||this.settings.zoom==="DoubleClick")return this.Zoom(e,t)},Hover:function(e,t){return this.settings.zoom==="Hover"?(this.Zoom(e,t),!0):!1},Zoom:function(e,t){this.Remove(),g.ClearHoverTimer(),w.ClearSelection();var s=MathJax.OutputJax[t.jaxID],o=s.getJaxFromMath(t);o.hover&&g.UnHover(o);var a=this.findContainer(t),r=Math.floor(.85*a.clientWidth),l=Math.max(document.body.clientHeight,document.documentElement.clientHeight);this.getOverflow(a)!=="visible"&&(l=Math.min(a.clientHeight,l)),l=Math.floor(.85*l);var d=f.Element("span",{id:"MathJax_ZoomFrame"},[["span",{id:"MathJax_ZoomOverlay",onmousedown:this.Remove}],["span",{id:"MathJax_Zoom",onclick:this.Remove,style:{visibility:"hidden",fontSize:this.settings.zscale}},[["span",{style:{display:"inline-block","white-space":"nowrap"}}]]]]),n=d.lastChild,y=n.firstChild,b=d.firstChild;t.parentNode.insertBefore(d,t),t.parentNode.insertBefore(t,d),y.addEventListener&&y.addEventListener("mousedown",this.Remove,!0);var u=n.offsetWidth||n.clientWidth;if(r-=u,l-=u,n.style.maxWidth=r+"px",n.style.maxHeight=l+"px",this.msieTrapEventBug){var p=f.Element("span",{id:"MathJax_ZoomEventTrap",onmousedown:this.Remove});d.insertBefore(p,n)}if(this.msieZIndexBug){var z=f.addElement(document.body,"img",{src:"about:blank",id:"MathJax_ZoomTracker",width:0,height:0,style:{width:0,height:0,position:"relative"}});d.style.position="relative",d.style.zIndex=x.styles["#MathJax_ZoomOverlay"]["z-index"],d=z}var m=s.Zoom(o,y,t,r,l);return this.msiePositionBug&&(this.msieSizeBug&&(n.style.height=m.zH+"px",n.style.width=m.zW+"px"),n.offsetHeight>l&&(n.style.height=l+"px",n.style.width=m.zW+this.scrollSize+"px"),n.offsetWidth>r&&(n.style.width=r+"px",n.style.height=m.zH+this.scrollSize+"px")),this.operaPositionBug&&(n.style.width=Math.min(r,m.zW)+"px"),n.offsetWidth>u&&n.offsetWidth-u<r&&n.offsetHeight-u<l&&(n.style.overflow="visible"),this.Position(n,m),this.msieTrapEventBug&&(p.style.height=n.clientHeight+"px",p.style.width=n.clientWidth+"px",p.style.left=parseFloat(n.style.left)+n.clientLeft+"px",p.style.top=parseFloat(n.style.top)+n.clientTop+"px"),n.style.visibility="",this.settings.zoom==="Hover"&&(b.onmouseover=this.Remove),window.addEventListener?addEventListener("resize",this.Resize,!1):window.attachEvent?attachEvent("onresize",this.Resize):(this.onresize=window.onresize,window.onresize=this.Resize),h.signal.Post(["math zoomed",o]),c(e)},Position:function(e,t){e.style.display="none";var s=this.Resize(),o=s.x,a=s.y,r=t.mW;e.style.display="";var l=-r-Math.floor((e.offsetWidth-r)/2),d=t.Y;e.style.left=Math.max(l,10-o)+"px",e.style.top=Math.max(d,10-a)+"px",i.msiePositionBug||i.SetWH()},Resize:function(e){i.onresize&&i.onresize(e);var t=document.getElementById("MathJax_ZoomFrame"),s=document.getElementById("MathJax_ZoomOverlay"),o=i.getXY(t),a=i.findContainer(t);if(i.getOverflow(a)!=="visible"){s.scroll_parent=a;var r=i.getXY(a);o.x-=r.x,o.y-=r.y,r=i.getBorder(a),o.x-=r.x,o.y-=r.y}return s.style.left=-o.x+"px",s.style.top=-o.y+"px",i.msiePositionBug?setTimeout(i.SetWH,0):i.SetWH(),o},SetWH:function(){var e=document.getElementById("MathJax_ZoomOverlay");if(e){e.style.display="none";var t=e.scroll_parent||document.documentElement||document.body;e.style.width=t.scrollWidth+"px",e.style.height=Math.max(t.clientHeight,t.scrollHeight)+"px",e.style.display=""}},findContainer:function(e){for(e=e.parentNode;e.parentNode&&e!==document.body&&i.getOverflow(e)==="visible";)e=e.parentNode;return e},getOverflow:window.getComputedStyle?function(e){return getComputedStyle(e).overflow}:function(e){return(e.currentStyle||{overflow:"visible"}).overflow},getBorder:function(e){var t={thin:1,medium:2,thick:3},s=window.getComputedStyle?getComputedStyle(e):e.currentStyle||{borderLeftWidth:0,borderTopWidth:0},o=s.borderLeftWidth,a=s.borderTopWidth;return t[o]?o=t[o]:o=parseInt(o),t[a]?a=t[a]:a=parseInt(a),{x:o,y:a}},getXY:function(e){var t=0,s=0,o;for(o=e;o.offsetParent;)t+=o.offsetLeft,o=o.offsetParent;for(i.operaPositionBug&&(e.style.border="1px solid"),o=e;o.offsetParent;)s+=o.offsetTop,o=o.offsetParent;return i.operaPositionBug&&(e.style.border=""),{x:t,y:s}},Remove:function(e){var t=document.getElementById("MathJax_ZoomFrame");if(t){var s=MathJax.OutputJax[t.previousSibling.jaxID],o=s.getJaxFromMath(t.previousSibling);if(h.signal.Post(["math unzoomed",o]),t.parentNode.removeChild(t),t=document.getElementById("MathJax_ZoomTracker"),t&&t.parentNode.removeChild(t),i.operaRefreshBug){var a=f.addElement(document.body,"div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"white",opacity:0},id:"MathJax_OperaDiv"});document.body.removeChild(a)}window.removeEventListener?removeEventListener("resize",i.Resize,!1):window.detachEvent?detachEvent("onresize",i.Resize):(window.onresize=i.onresize,delete i.onresize)}return c(e)}};h.Browser.Select({MSIE:function(e){var t=document.documentMode||0,s=t>=9;i.msiePositionBug=!s,i.msieSizeBug=e.versionAtLeast("7.0")&&(!document.documentMode||t===7||t===8),i.msieZIndexBug=t<=7,i.msieInlineBlockAlignBug=t<=7,i.msieTrapEventBug=!window.addEventListener,document.compatMode==="BackCompat"&&(i.scrollSize=52),s&&delete x.styles["#MathJax_Zoom"].filter},Opera:function(e){i.operaPositionBug=!0,i.operaRefreshBug=!0}}),i.topImg=i.msieInlineBlockAlignBug?f.Element("img",{style:{width:0,height:0,position:"relative"},src:"about:blank"}):f.Element("span",{style:{width:0,height:0,display:"inline-block"}}),(i.operaPositionBug||i.msieTopBug)&&(i.topImg.style.border="1px solid"),MathJax.Callback.Queue(["StartupHook",MathJax.Hub.Register,"Begin Styles",{}],["Styles",v,x.styles],["Post",h.Startup.signal,"MathZoom Ready"],["loadComplete",v,"[MathJax]/extensions/MathZoom.js"])})(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.OutputJax["HTML-CSS"],MathJax.OutputJax.NativeMML);
