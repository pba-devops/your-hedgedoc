MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var T="2.7.9",X=MathJax.ElementJax.mml,u=MathJax.OutputJax.SVG;X.mmultiscripts.Augment({toSVG:function(V,v){this.SVGgetStyles();var s=this.SVG(),p=this.SVGgetScale(s);this.SVGhandleSpace(s);var a=this.data[this.base]?this.SVGdataStretched(this.base,V,v):u.BBOX.G().Clean(),n=u.TeX.x_height*p,l=u.TeX.scriptspace*p*.75,t=this.SVGgetScripts(l),h=t[0],i=t[1],d=t[2],f=t[3],g=(this.data[1]||this).SVGgetScale(),x=u.TeX.sup_drop*g,J=u.TeX.sub_drop*g,r=a.h-x,e=a.d+J,S=0,o;a.ic&&(S=a.ic),this.data[this.base]&&(this.data[this.base].type==="mi"||this.data[this.base].type==="mo")&&u.isChar(this.data[this.base].data.join(""))&&a.scale===1&&!a.stretched&&!this.data[this.base].Get("largeop")&&(r=e=0);var m=this.getValues("subscriptshift","superscriptshift"),y=this.SVGgetMu(s);m.subscriptshift=m.subscriptshift===""?0:u.length2em(m.subscriptshift,y),m.superscriptshift=m.superscriptshift===""?0:u.length2em(m.superscriptshift,y);var c=0;if(d?c=d.w+S:f&&(c=f.w-S),s.Add(a,Math.max(0,c),0),!i&&!f)e=Math.max(e,u.TeX.sub1*p,m.subscriptshift),h&&(e=Math.max(e,h.h-4/5*n)),d&&(e=Math.max(e,d.h-4/5*n)),h&&s.Add(h,c+a.w+l-S,-e),d&&s.Add(d,0,-e);else if(!h&&!d){var b=this.getValues("displaystyle","texprimestyle");o=u.TeX[b.displaystyle?"sup1":b.texprimestyle?"sup3":"sup2"],r=Math.max(r,o*p,m.superscriptshift),i&&(r=Math.max(r,i.d+1/4*n)),f&&(r=Math.max(r,f.d+1/4*n)),i&&s.Add(i,c+a.w+l,r),f&&s.Add(f,0,r)}else{e=Math.max(e,u.TeX.sub2*p);var A=u.TeX.rule_thickness*p,G=(h||d).h,w=(i||f).d;d&&(G=Math.max(G,d.h)),f&&(w=Math.max(w,f.d)),r-w-(G-e)<3*A&&(e=3*A-r+w+G,x=4/5*n-(r-w),x>0&&(r+=x,e-=x)),r=Math.max(r,m.superscriptshift),e=Math.max(e,m.subscriptshift),i&&s.Add(i,c+a.w+l,r),f&&s.Add(f,c+S-f.w,r),h&&s.Add(h,c+a.w+l-S,-e),d&&s.Add(d,c-d.w,-e)}s.Clean(),this.SVGhandleColor(s),this.SVGsaveData(s);var M=this.SVGdata;return M.dx=c,M.s=l,M.u=r,M.v=e,M.delta=S,s},SVGgetScripts:function(V){for(var v,s,p=[],a=1,n=this.data.length,l=0,t=0;t<4;t+=2){for(;a<n&&(this.data[a]||{}).type!=="mprescripts";){for(var h=[null,null,null,null],i=t;i<t+2;i++)this.data[a]&&this.data[a].type!=="none"&&this.data[a].type!=="mprescripts"&&(p[i]||(p[i]=u.BBOX.G()),h[i]=this.data[a].toSVG()),(this.data[a]||{}).type!=="mprescripts"&&a++;var d=t===2;d&&(l+=Math.max((h[t]||{w:0}).w,(h[t+1]||{w:0}).w)),h[t]&&p[t].Add(h[t].With({x:l-(d?h[t].w:0)})),h[t+1]&&p[t+1].Add(h[t+1].With({x:l-(d?h[t+1].w:0)})),s=p[t]||{w:0},v=p[t+1]||{w:0},s.w=v.w=l=Math.max(s.w,v.w)}a++,l=0}for(i=0;i<4;i++)p[i]&&(p[i].w+=V,p[i].Clean());return p}}),MathJax.Hub.Startup.signal.Post("SVG mmultiscripts Ready"),MathJax.Ajax.loadComplete(u.autoloadDir+"/mmultiscripts.js")});
