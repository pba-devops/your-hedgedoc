MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var p="2.7.9",g=MathJax.ElementJax.mml,l=MathJax.OutputJax.SVG,m=l.BBOX,u=MathJax.Localization,G="http://www.w3.org/1999/xlink";m.MGLYPH=m.Subclass({type:"image",removeable:!1,Init:function(o,h,i,e,n,t,a){a==null&&(a={});var r=o.width*1e3/l.em,s=o.height*1e3/l.em,S=r,f=s,d=0;h!==""&&(r=l.length2em(h,n,S)*t,s=S?r/S*f:0),i!==""&&(s=l.length2em(i,n,f)*t,h===""&&(r=f?s/f*S:0)),e!==""&&e.match(/\d/)&&(d=l.length2em(e,n)*t,a.y=-d),a.height=Math.floor(s),a.width=Math.floor(r),a.transform="translate(0,"+s+") matrix(1 0 0 -1 0 0)",a.preserveAspectRatio="none",this.SUPER(arguments).Init.call(this,a),this.element.setAttributeNS(G,"href",o.SRC),this.w=this.r=r,this.h=this.H=s+d,this.d=this.D=-d,this.l=0}}),g.mglyph.Augment({toSVG:function(o,h){this.SVGgetStyles();var i=this.SVG(),e,n;this.SVGhandleSpace(i);var t=this.getValues("src","width","height","valign","alt");if(t.src===""){if(t=this.getValues("index","fontfamily"),t.index){h||(h=this.SVGgetScale());var a={};t.fontfamily&&(a["font-family"]=t.fontfamily),i.Add(m.TEXT(h,String.fromCharCode(t.index),a))}}else if(this.img||(this.img=g.mglyph.GLYPH[t.src]),this.img||(this.img=g.mglyph.GLYPH[t.src]={img:new Image,status:"pending"},e=this.img.img,e.onload=MathJax.Callback(["SVGimgLoaded",this]),e.onerror=MathJax.Callback(["SVGimgError",this]),e.src=e.SRC=t.src,MathJax.Hub.RestartAfter(e.onload)),this.img.status!=="OK")n=g.Error(u._(["MathML","BadMglyph"],"Bad mglyph: %1",t.src),{mathsize:"75%"}),this.Append(n),i=n.toSVG(),this.data.pop();else{var r=this.SVGgetMu(i),s=this.SVGgetScale();i.Add(m.MGLYPH(this.img.img,t.width,t.height,t.valign,r,s,{"aria-label":t.alt}))}return i.Clean(),this.SVGhandleColor(i),this.SVGsaveData(i),i},SVGimgLoaded:function(o,h){typeof o=="string"&&(h=o),this.img.status=h||"OK"},SVGimgError:function(){this.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("SVG mglyph Ready"),MathJax.Ajax.loadComplete(l.autoloadDir+"/mglyph.js")});
