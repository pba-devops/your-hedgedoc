(function(k,E,R,h){var d,V=MathJax.Object.isArray,N,F,I,X=1,S=.1,J=.025,O=.025,G={".mjx-chtml":{display:"inline-block","line-height":0,"text-indent":0,"text-align":"left","text-transform":"none","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal","white-space":"nowrap",float:"none",direction:"ltr","max-width":"none","max-height":"none","min-width":0,"min-height":0,border:0,margin:0,padding:"1px 0"},".MJXc-display":{display:"block","text-align":"center",margin:"1em 0",padding:0},".mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex]":{display:"inline-table"},".mjx-full-width":{"text-align":"center",display:"table-cell!important",width:"10000em"},".mjx-math":{display:"inline-block","border-collapse":"separate","border-spacing":0},".mjx-math *":{display:"inline-block","-webkit-box-sizing":"content-box!important","-moz-box-sizing":"content-box!important","box-sizing":"content-box!important","text-align":"left"},".mjx-numerator":{display:"block","text-align":"center"},".mjx-denominator":{display:"block","text-align":"center"},".MJXc-stacked":{height:0,position:"relative"},".MJXc-stacked > *":{position:"absolute"},".MJXc-bevelled > *":{display:"inline-block"},".mjx-stack":{display:"inline-block"},".mjx-op":{display:"block"},".mjx-under":{display:"table-cell"},".mjx-over":{display:"block"},".mjx-over > *":{"padding-left":"0px!important","padding-right":"0px!important"},".mjx-under > *":{"padding-left":"0px!important","padding-right":"0px!important"},".mjx-stack > .mjx-sup":{display:"block"},".mjx-stack > .mjx-sub":{display:"block"},".mjx-prestack > .mjx-presup":{display:"block"},".mjx-prestack > .mjx-presub":{display:"block"},".mjx-delim-h > .mjx-char":{display:"inline-block"},".mjx-surd":{"vertical-align":"top"},".mjx-surd + .mjx-box":{display:"inline-flex"},".mjx-mphantom *":{visibility:"hidden"},".mjx-merror":{"background-color":"#FFFF88",color:"#CC0000",border:"1px solid #CC0000",padding:"2px 3px","font-style":"normal","font-size":"90%"},".mjx-annotation-xml":{"line-height":"normal"},".mjx-menclose > svg":{fill:"none",stroke:"currentColor",overflow:"visible"},".mjx-mtr":{display:"table-row"},".mjx-mlabeledtr":{display:"table-row"},".mjx-mtd":{display:"table-cell","text-align":"center"},".mjx-label":{display:"table-row"},".mjx-box":{display:"inline-block"},".mjx-block":{display:"block"},".mjx-span":{display:"inline"},".mjx-char":{display:"block","white-space":"pre"},".mjx-itable":{display:"inline-table",width:"auto"},".mjx-row":{display:"table-row"},".mjx-cell":{display:"table-cell"},".mjx-table":{display:"table",width:"100%"},".mjx-line":{display:"block",height:0},".mjx-strut":{width:0,"padding-top":X+"em"},".mjx-vsize":{width:0},".MJXc-space1":{"margin-left":".167em"},".MJXc-space2":{"margin-left":".222em"},".MJXc-space3":{"margin-left":".278em"},".mjx-chartest":{display:"block",visibility:"hidden",position:"absolute",top:0,"line-height":"normal","font-size":"500%"},".mjx-chartest .mjx-char":{display:"inline"},".mjx-chartest .mjx-box":{"padding-top":"1000px"},".MJXc-processing":{visibility:"hidden",position:"fixed",width:0,height:0,overflow:"hidden"},".MJXc-processed":{display:"none"},".mjx-test":{"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px"},".mjx-test.mjx-test-display":{display:"table!important"},".mjx-test.mjx-test-inline":{display:"inline!important","margin-right":"-1px"},".mjx-test.mjx-test-default":{display:"block!important",clear:"both"},".mjx-ex-box":{display:"inline-block!important",position:"absolute",overflow:"hidden","min-height":0,"max-height":"none",padding:0,border:0,margin:0,width:"1px",height:"60ex"},".mjx-test-inline .mjx-left-box":{display:"inline-block",width:0,float:"left"},".mjx-test-inline .mjx-right-box":{display:"inline-block",width:0,float:"right"},".mjx-test-display .mjx-right-box":{display:"table-cell!important",width:"10000em!important","min-width":0,"max-width":"none",padding:0,border:0,margin:0},"#MathJax_CHTML_Tooltip":{"background-color":"InfoBackground",color:"InfoText",border:"1px solid black","box-shadow":"2px 2px 5px #AAAAAA","-webkit-box-shadow":"2px 2px 5px #AAAAAA","-moz-box-shadow":"2px 2px 5px #AAAAAA","-khtml-box-shadow":"2px 2px 5px #AAAAAA",padding:"3px 4px","z-index":401,position:"absolute",left:0,top:0,width:"auto",height:"auto",display:"none"}},L=1e6,b=5,D={},z=MathJax.Hub.config;h.Augment({settings:E.config.menuSettings,config:{styles:G},Config:function(){this.require||(this.require=[]),this.SUPER(arguments).Config.call(this);var t=this.settings;t.scale&&(this.config.scale=t.scale),this.require.push(this.fontDir+"/TeX/fontdata.js"),this.require.push(MathJax.OutputJax.extensionDir+"/MathEvents.js"),D=this.config.linebreaks},Startup:function(){N=MathJax.Extension.MathEvents.Event,F=MathJax.Extension.MathEvents.Touch,I=MathJax.Extension.MathEvents.Hover,this.ContextMenu=N.ContextMenu,this.Mousedown=N.AltContextMenu,this.Mouseover=I.Mouseover,this.Mouseout=I.Mouseout,this.Mousemove=I.Mousemove;var t=h.addElement(document.body,"mjx-block",{style:{display:"block",width:"5in"}});return this.pxPerInch=t.offsetWidth/5,t.parentNode.removeChild(t),this.TestSpan=h.Element("mjx-test",{style:{left:"1em"}},[["mjx-left-box"],["mjx-ex-box"],["mjx-right-box"]]),k.Styles(this.config.styles,["InitializeCHTML",this])},InitializeCHTML:function(){if(this.getDefaultExEm(),!this.defaultEm){var t=MathJax.Callback();return k.timer.start(k,function(i){if(i.time(t)){E.signal.Post(["CommonHTML Jax - no default em size"]);return}h.getDefaultExEm(),h.defaultEm?t():setTimeout(i,i.delay)},this.defaultEmDelay,this.defaultEmTimeout),t}},defaultEmDelay:100,defaultEmTimeout:1e3,getDefaultExEm:function(){var t=document.body.appendChild(this.TestSpan.cloneNode(!0));t.className+=" mjx-test-inline mjx-test-default",this.defaultEm=this.getFontSize(t),this.defaultEx=t.childNodes[1].offsetHeight/60,this.defaultWidth=Math.max(0,t.lastChild.offsetLeft-t.firstChild.offsetLeft-2),document.body.removeChild(t)},getFontSize:window.getComputedStyle?function(t){var i=window.getComputedStyle(t);return parseFloat(i.fontSize)}:function(t){return t.style.pixelLeft},getMaxWidth:window.getComputedStyle?function(t){var i=window.getComputedStyle(t);return i.maxWidth!=="none"?parseFloat(i.maxWidth):0}:function(t){var i=t.currentStyle.maxWidth;if(i!=="none"){if(i.match(/\d*px/))return parseFloat(i);var e=t.style.left;return t.style.left=i,i=t.style.pixelLeft,t.style.left=e,i}return 0},loadFont:function(t){E.RestartAfter(k.Require(this.fontDir+"/"+t))},fontLoaded:function(t){t.match(/-|fontdata/)||(t+="-Regular"),t.match(/\.js$/)||(t+=".js"),MathJax.Callback.Queue(["Post",E.Startup.signal,"CommonHTML - font data loaded for "+t],["loadComplete",k,this.fontDir+"/"+t])},Element:function(t,i,e){return t.substr(0,4)==="mjx-"&&(i||(i={}),i.isMathJax==null&&(i.isMathJax=!0),i.className?i.className=t+" "+i.className:i.className=t,t="span"),this.HTMLElement(t,i,e)},addElement:function(t,i,e,s){return t.appendChild(this.Element(i,e,s))},HTMLElement:R.Element,ucMatch:R.ucMatch,setScript:R.setScript,getNode:function(t,i){for(var e=RegExp("\\b"+i+"\\b"),s=[];t;){for(var a=0,r=t.childNodes.length;a<r;a++){var l=t.childNodes[a];if(l){if(e.test(l.className))return l;l.id===""&&s.push(l)}}t=s.shift()}return null},preTranslate:function(t){var i=t.jax[this.id],e,s=i.length,a,r,l,n,m,f,u,o,c=1e5,p=!1,g=0,y=D.automatic,C=D.width;for(y&&(p=!!C.match(/^\s*(\d+(\.\d*)?%\s*)?container\s*$/),p?C=C.replace(/\s*container\s*/,""):c=this.defaultWidth,C===""&&(C="100%")),e=0;e<s;e++)if(a=i[e],!!a.parentNode&&(r=a.previousSibling,r&&r.className&&String(r.className).substr(0,9)==="mjx-chtml"&&r.parentNode.removeChild(r),a.MathJax.preview&&(a.MathJax.preview.style.display="none"),m=a.MathJax.elementJax,!!m)){if(m.CHTML={display:m.root.Get("display")==="block",preview:(m.CHTML||{}).preview},l=h.Element("mjx-chtml",{id:m.inputID+"-Frame",className:"MathJax_CHTML",isMathJax:!0,jaxID:this.id,oncontextmenu:N.Menu,onmousedown:N.Mousedown,onmouseover:N.Mouseover,onmouseout:N.Mouseout,onmousemove:N.Mousemove,onclick:N.Click,ondblclick:N.DblClick,onkeydown:N.Keydown,tabIndex:E.getTabOrder(m)}),m.CHTML.display){var v=h.Element("mjx-chtml",{className:"MJXc-display",isMathJax:!1});v.appendChild(l),l=v}E.Browser.noContextMenu&&(l.ontouchstart=F.start,l.ontouchend=F.end),l.className+=" MJXc-processing",a.parentNode.insertBefore(l,a),n=this.TestSpan.cloneNode(!0),n.className+=" mjx-test-"+(m.CHTML.display?"display":"inline"),a.parentNode.insertBefore(n,a)}for(e=0;e<s;e++)a=i[e],a.parentNode&&(n=a.previousSibling,m=a.MathJax.elementJax,m&&(u=h.getFontSize(n),f=n.childNodes[1].offsetHeight/60,g=Math.max(0,m.CHTML.display?n.lastChild.offsetWidth-1:n.lastChild.offsetLeft-n.firstChild.offsetLeft-2),(f===0||f==="NaN")&&(f=this.defaultEx,g=this.defaultWidth),g===0&&!m.CHTML.display&&(g=this.defaultWidth),p&&(c=g),o=this.config.matchFontHeight?f/this.TEX.x_height/u:1,o=Math.floor(Math.max(this.config.minScaleAdjust/100,o)*this.config.scale),m.CHTML.scale=o/100,m.CHTML.fontSize=o+"%",m.CHTML.outerEm=u,m.CHTML.em=this.em=u*o/100,m.CHTML.ex=f,m.CHTML.cwidth=g/this.em,m.CHTML.lineWidth=y?this.length2em(C,c/this.em,1):c));for(e=0;e<s;e++)a=i[e],a.parentNode&&(m=a.MathJax.elementJax,m&&(a.parentNode.removeChild(a.previousSibling),a.MathJax.preview&&(a.MathJax.preview.style.display="")));t.CHTMLeqn=t.CHTMLlast=0,t.CHTMLi=-1,t.CHTMLchunk=this.config.EqnChunk,t.CHTMLdelay=!1},Translate:function(t,i){if(t.parentNode){i.CHTMLdelay&&(i.CHTMLdelay=!1,E.RestartAfter(MathJax.Callback.Delay(this.config.EqnChunkDelay)));var e=t.MathJax.elementJax,s=e.root,a=document.getElementById(e.inputID+"-Frame");if(a){this.getMetrics(e),this.scale!==1&&(a.style.fontSize=e.CHTML.fontSize),this.initCHTML(s,a),this.savePreview(t),this.CHTMLnode=a;try{s.setTeXclass(),s.toCommonHTML(a)}catch(r){for(;a.firstChild;)a.removeChild(a.firstChild);throw delete this.CHTMLnode,this.restorePreview(t),r}delete this.CHTMLnode,this.restorePreview(t),e.CHTML.display&&(a=a.parentNode),a.className=a.className.replace(/ [^ ]+$/,""),a.className+=" MJXc-processed",t.MathJax.preview&&(e.CHTML.preview=t.MathJax.preview,delete t.MathJax.preview),i.CHTMLeqn+=i.i-i.CHTMLi,i.CHTMLi=i.i,i.CHTMLeqn>=i.CHTMLlast+i.CHTMLchunk&&(this.postTranslate(i),i.CHTMLchunk=Math.floor(i.CHTMLchunk*this.config.EqnChunkFactor),i.CHTMLdelay=!0)}}},initCHTML:function(t,i){},savePreview:function(t){var i=t.MathJax.preview;i&&i.parentNode&&(t.MathJax.tmpPreview=document.createElement("span"),i.parentNode.replaceChild(t.MathJax.tmpPreview,i))},restorePreview:function(t){var i=t.MathJax.tmpPreview;i&&(i.parentNode.replaceChild(t.MathJax.preview,i),delete t.MathJax.tmpPreview)},getMetrics:function(t){var i=t.CHTML;this.jax=t,this.em=i.em,this.outerEm=i.outerEm,this.scale=i.scale,this.cwidth=i.cwidth,this.linebreakWidth=i.lineWidth},postTranslate:function(t){for(var i=t.jax[this.id],e=t.CHTMLlast,s=t.CHTMLeqn;e<s;e++){var a=i[e];if(a&&a.MathJax.elementJax){a.previousSibling.className=a.previousSibling.className.replace(/ [^ ]+$/,"");var r=a.MathJax.elementJax.CHTML;r.preview&&(r.preview.innerHTML="",a.MathJax.preview=r.preview,delete r.preview)}}t.CHTMLlast=t.CHTMLeqn},getJaxFromMath:function(t){t.parentNode.className.match(/MJXc-display/)&&(t=t.parentNode);do t=t.nextSibling;while(t&&t.nodeName.toLowerCase()!=="script");return E.getJaxFor(t)},getHoverSpan:function(t,i){return t.root.CHTMLnodeElement()},getHoverBBox:function(t,i,e){var s=t.root.CHTML,a=t.CHTML.outerEm,r={w:s.w*a,h:s.h*a,d:s.d*a};return s.width&&(r.width=s.width),r},Zoom:function(t,i,e,s,a){this.getMetrics(t);var r=h.addElement(i,"mjx-chtml",{style:{"font-size":Math.floor(h.scale*100)+"%"},isMathJax:!1});h.CHTMLnode=r,this.idPostfix="-zoom",t.root.toCommonHTML(r),this.idPostfix="";var l=r.style,n=t.root.CHTML;n.t>n.h&&(l.marginTop=h.Em(n.t-n.h)),n.b>n.d&&(l.marginBottom=h.Em(n.b-n.d)),n.l<0&&(l.paddingLeft=h.Em(-n.l)),n.r>n.w&&(l.marginRight=h.Em(n.r-n.w)),l.position="absolute";var m=r.offsetWidth,f=r.offsetHeight,u=e.firstChild.offsetHeight,o=e.firstChild.offsetWidth;return r.style.position="",{Y:-N.getBBox(i).h,mW:o,mH:u,zW:m,zH:f}},Remove:function(t){var i=document.getElementById(t.inputID+"-Frame");i&&t.CHTML.display&&(i=i.parentNode),i&&i.parentNode.removeChild(i),delete t.CHTML},ID:0,idPostfix:"",GetID:function(){return this.ID++,this.ID},MATHSPACE:{veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,infinity:L},SPACECLASS:{thinmathspace:"MJXc-space1",mediummathspace:"MJXc-space2",thickmathspace:"MJXc-space3"},pxPerInch:96,em:16,maxStretchyParts:1e3,FONTDEF:{},TEXDEF:{x_height:.442,quad:1,num1:.676508,num2:.393732,num3:.44373,denom1:.685951,denom2:.344841,sup1:.412892,sup2:.362892,sup3:.288888,sub1:.15,sub2:.247217,sup_drop:.386108,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111111,big_op_spacing2:.166666,big_op_spacing3:.2,big_op_spacing4:.45,big_op_spacing5:.1,surd_height:.075,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,min_rule_thickness:1.25},isChar:function(t){if(t.length===1)return!0;if(t.length!==2)return!1;var i=t.charCodeAt(0);return i>=55296&&i<56319},unicodeChar:function(t){return t<65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296)+String.fromCharCode((t&1023)+56320))},getUnicode:function(t){var i=t.text.charCodeAt(t.i);return t.i++,i>=55296&&i<56319&&(i=(i-55296<<10)+(t.text.charCodeAt(t.i)-56320)+65536,t.i++),i},getCharList:function(t,i){var e,s,a=t.cache,r=i;if(a[i])return a[i];if(i>65535&&this.FONTDATA.RemapPlane1){var l=this.FONTDATA.RemapPlane1(i,t);i=l.n,t=l.variant}var n=this.FONTDATA.RANGES,m=this.FONTDATA.VARIANT;if(i>=n[0].low&&i<=n[n.length-1].high){for(e=0,s=n.length;e<s;e++)if(!(n[e].name==="alpha"&&t.noLowerCase)){var f=t["offset"+n[e].offset];if(f&&i>=n[e].low&&i<=n[e].high){n[e].remap&&n[e].remap[i]?i=f+n[e].remap[i]:(i=i-n[e].low+f,n[e].add&&(i+=n[e].add)),t["variant"+n[e].offset]&&(t=m[t["variant"+n[e].offset]]);break}}}return a[r]=this.remapChar(t,i,0),a[r]},remapChar:function(t,i,e){var s=[],a=this.FONTDATA.VARIANT;if(t.remap&&t.remap[i]?(i=t.remap[i],t.remap.variant&&(t=a[t.remap.variant])):this.FONTDATA.REMAP[i]&&!t.noRemap&&(i=this.FONTDATA.REMAP[i]),V(i)&&(i[2]&&(e=b),t=a[i[1]],i=i[0]),typeof i=="string")for(var r={text:i,i:0,length:i.length};r.i<r.length;){i=this.getUnicode(r);var l=this.getCharList(t,i);l&&s.push.apply(s,l)}else t.cache[i]?s=t.cache[i]:t.cache[i]=s=this.lookupChar(t,i,e);return s},lookupChar:function(t,i,e){for(var s=t;t;){for(var a=0,r=t.fonts.length;a<r;a++){var l=this.FONTDATA.FONTS[t.fonts[a]];typeof l=="string"&&this.loadFont(l);var n=l[i];if(n)return this.fixChar(n,i),n[5].space?[{type:"space",w:n[2],font:l}]:[{type:"char",font:l,n:i}];l.Extra&&this.findBlock(l,i)}if(t=this.FONTDATA.VARIANT[t.chain],t&&t.remap&&t.remap[i]&&e++<b)return this.remapChar(t,i,e)}return[this.unknownChar(s,i)]},fixChar:function(t,i){return t.length===5&&(t[5]={}),t.c==null&&(t[0]/=1e3,t[1]/=1e3,t[2]/=1e3,t[3]/=1e3,t[4]/=1e3,t.c=this.unicodeChar(i)),t},findBlock:function(t,i){for(var e=t.Extra,s=t.file,a,r=0,l=e.length;r<l;r++)if(typeof e[r]=="number"){if(i===e[r]){a=s;break}}else{if(i<e[r][0])return;if(i<=e[r][1]){a=s;break}}a&&(delete t.Extra,this.loadFont(s))},unknownChar:function(t,i){E.signal.Post(["CommonHTML Jax - unknown char",i,t]);var e="";t.bold&&(e+="B"),t.italic&&(e+="I");var s=this.FONTDATA.UNKNOWN[e||"R"];return s[i]||this.getUnknownChar(s,i),{type:"unknown",n:i,font:s}},getUnknownChar:function(t,i){var e=this.unicodeChar(i),s=this.getHDW(e,t.className);t[i]=[.8,.2,s.w,0,s.w,{a:Math.max(0,(s.h-s.d)/2),h:s.h,d:s.d}],t[i].c=e},styledText:function(t,i){E.signal.Post(["CommonHTML Jax - styled text",i,t]);var e=t.style,s="_"+(e["font-family"]||t.className||"");e["font-weight"]&&(s+="_"+e["font-weight"]),e["font-style"]&&(s+="_"+e["font-style"]),this.STYLEDTEXT||(this.STYLEDTEXT={}),this.STYLEDTEXT[s]||(this.STYLEDTEXT[s]={className:t.className||""});var a=this.STYLEDTEXT[s];if(!a["_"+i]){var r=this.getHDW(i,t.className||"",e);a["_"+i]=[.8,.2,r.w,0,r.w,{a:Math.max(0,(r.h-r.d)/2),h:r.h,d:r.d}],a["_"+i].c=i}return{type:"unknown",n:"_"+i,font:a,style:e,rscale:t.rscale}},getHDW:function(t,i,e){var s=h.addElement(h.CHTMLnode,"mjx-chartest",{className:i},[["mjx-char",{style:e},[t]]]),a=h.addElement(h.CHTMLnode,"mjx-chartest",{className:i},[["mjx-char",{style:e},[t,["mjx-box"]]]]);s.firstChild.style.fontSize=a.firstChild.style.fontSize="";var r=5*h.em,l=s.offsetHeight,n=a.offsetHeight,m=s.offsetWidth;if(h.CHTMLnode.removeChild(s),h.CHTMLnode.removeChild(a),n===0){r=5*h.defaultEm;var f=document.body.appendChild(document.createElement("div"));f.appendChild(s),f.appendChild(a),l=s.offsetHeight,n=a.offsetHeight,m=s.offsetWidth,document.body.removeChild(f)}var u=(n-1e3)/r,o=m/r,c=l/r-u;return{h:c,d:u,w:o}},addCharList:function(t,i,e){for(var s={text:"",className:null,a:0},a=0,r=i.length;a<r;a++){var l=i[a];this.charList[l.type]&&this.charList[l.type](l,t,e,s,r)}s.text!==""&&(t.childNodes.length?this.charList.flushText(t,s):(R.addText(t,s.text),t.className?t.className+=" "+s.className:t.className=s.className)),e.b=s.flushed?0:e.a},charList:{char:function(t,i,e,s,a){var r=t.font,l=(r.remapCombining||{})[t.n];r.className===s.className?l=null:(s.className||l&&s.text!=="")&&this.flushText(i,s),s.a||(s.a=r.centerline/1e3),s.a>(e.a||0)&&(e.a=s.a),s.className=r.className;var n=r[t.n];if(l){var m=r;V(l)&&(m=h.FONTDATA.FONTS[l[1]],l=l[0],typeof m=="string"&&h.loadFont(m)),m[t.n]&&h.fixChar(m[t.n],t.n),n=h.fixChar(m[l],l),s.className=m.className}if(s.text+=n.c,e.h<n[0]+J&&(e.t=e.h=n[0]+J),e.d<n[1]+O&&(e.b=e.d=n[1]+O),e.l>e.w+n[3]&&(e.l=e.w+n[3]),e.r<e.w+n[4]&&(e.r=e.w+n[4]),e.w+=n[2]*(t.rscale||1),a==1&&r.skew&&r.skew[t.n]&&(e.skew=r.skew[t.n]),n[5]&&n[5].rfix&&(this.flushText(i,s).style.marginRight=h.Em(n[5].rfix/1e3)),l){var f=this.flushText(i,s),u=(m[t.n]||r[t.n])[4]-(n[4]-n[2]);f.style.marginLeft=h.Em(-n[2]-u),u<0&&(f.style.marginRight=h.Em(-u))}},space:function(t,i,e,s){t.w&&(s.text===""&&(s.className=t.font.className),this.flushText(i,s).style.marginRight=h.Em(t.w),e.w+=t.w)},unknown:function(t,i,e,s){this.char(t,i,e,s,0);var a=t.font[t.n];a[5].a&&(s.a=a[5].a,(e.a==null||s.a>e.a)&&(e.a=s.a)),i=this.flushText(i,s,t.style),a[2]<3&&(i.style.width=h.Em(a[2]))},flushText:function(t,i,e){return t=h.addElement(t,"mjx-charbox",{className:i.className,style:e},[i.text]),i.a&&(t.style.paddingBottom=h.Em(i.a)),i.text="",i.className=null,i.a=0,i.flushed=!0,t}},handleText:function(t,i,e,s){t.childNodes.length===0&&(h.addElement(t,"mjx-char"),s=h.BBOX.empty(s)),typeof e=="string"&&(e=this.FONTDATA.VARIANT[e]),e||(e=this.FONTDATA.VARIANT[d.VARIANT.NORMAL]);var a={text:i,i:0,length:i.length},r=[];if(e.style&&a.length)r.push(this.styledText(e,i));else for(;a.i<a.length;){var l=this.getUnicode(a);r.push.apply(r,this.getCharList(e,l))}return r.length&&this.addCharList(t.firstChild,r,s),s.clean(),s.d<0&&(s.D=s.d,s.d=0),s.h-s.a&&(t.firstChild.style[s.h-s.a<0?"marginTop":"paddingTop"]=this.EmRounded(s.h-s.a)),s.d>-s.b&&(t.firstChild.style.paddingBottom=this.EmRounded(s.d+s.b)),s},createDelimiter:function(t,i,e,s,a){if(!i){var r=this.BBOX.zero();return r.w=r.r=this.TEX.nulldelimiterspace,h.addElement(t,"mjx-box",{style:{width:r.w}}),r}e instanceof Array||(e=[e,e]);var l=e[1];e=e[0];for(var n={alias:i};n.alias;)i=n.alias,n=this.FONTDATA.DELIMITERS[i],n||(n={HW:[0,this.FONTDATA.VARIANT[d.VARIANT.NORMAL]]});n.load&&E.RestartAfter(k.Require(this.fontDir+"/TeX/fontdata-"+n.load+".js"));for(var m=0,f=n.HW.length;m<f;m++)if(n.HW[m][0]>=e-.01||m==f-1&&!n.stretch)return n.HW[m][3]&&(i=n.HW[m][3]),r=this.createChar(t,[i,n.HW[m][1]],n.HW[m][2]||1,a),r.offset=.6*r.w,s&&(r.scale=s.scale,s.rscale=s.rscale),r;return n.stretch?this["extendDelimiter"+n.dir](t,l,n.stretch,s,a):r},extendDelimiterV:function(t,i,e,s,a){t=h.addElement(t,"mjx-delim-v");var r=h.Element("span"),l,n,m,f,u,o,c,p,g=1,y;u=this.createChar(r,e.top||e.ext,1,a),l=r.removeChild(r.firstChild),o=this.createChar(r,e.bot||e.ext,1,a),n=r.removeChild(r.firstChild),c=p=h.BBOX.zero();var C=u.h+u.d+o.h+o.d-S;if(t.appendChild(l),e.mid&&(c=this.createChar(r,e.mid,1,a),m=r.removeChild(r.firstChild),C+=c.h+c.d,g=2),e.min&&i<C*e.min&&(i=C*e.min),i>C){p=this.createChar(r,e.ext,1,a),f=r.removeChild(r.firstChild);var v=p.h+p.d,M=v-S,w=Math.min(Math.ceil((i-C)/(g*M)),this.maxStretchyParts);e.fullExtenders?i=w*g*M+C:M=(i-C)/(g*w),y=p.d+p.a-v/2,f.style.margin=f.style.padding="",f.style.lineHeight=h.Em(M),f.style.marginBottom=h.Em(y-S/2/g),f.style.marginTop=h.Em(-y-S/2/g);for(var A=f.textContent,x=`
`+A;--w>0;)A+=x;f.textContent=A,t.appendChild(f),e.mid&&(t.appendChild(m),t.appendChild(f.cloneNode(!0)))}else y=(i-C-S)/g,l.style.marginBottom=h.Em(y+parseFloat(l.style.marginBottom||"0")),e.mid&&t.appendChild(m),n.style.marginTop=h.Em(y+parseFloat(n.style.marginTop||"0"));t.appendChild(n);var T=h.BBOX({w:Math.max(u.w,p.w,o.w,c.w),l:Math.min(u.l,p.l,o.l,c.l),r:Math.max(u.r,p.r,o.r,c.r),h:i-o.d,d:o.d,t:i-o.d,b:o.d});return T.offset=.5*T.w,s&&(T.scale=s.scale,T.rscale=s.rscale),T},extendDelimiterH:function(t,i,e,s,a){t=h.addElement(t,"mjx-delim-h");var r=h.Element("span"),l,n,m,f,u,o,c,p,g,y=1;o=this.createChar(r,e.left||e.rep,1,a),l=r.removeChild(r.firstChild),c=this.createChar(r,e.right||e.rep,1,a),n=r.removeChild(r.firstChild),g=this.createChar(r,e.rep,1,a),f=r.removeChild(r.firstChild),l.style.marginLeft=h.Em(-o.l),n.style.marginRight=h.Em(c.r-c.w),t.appendChild(l);var C=h.BBOX.zero();C.h=Math.max(o.h,c.h,g.h),C.d=Math.max(o.D||o.d,c.D||c.d,g.D||g.d);var v=o.r-o.l+(c.r-c.l)-S;if(e.mid&&(p=this.createChar(r,e.mid,1,a),m=r.removeChild(r.firstChild),m.style.marginleft=h.Em(-p.l),m.style.marginRight=h.Em(p.r-p.w),v+=p.r-p.l+S,y=2,p.h>C.h&&(C.h=p.h),p.d>C.d&&(C.d=p.d)),e.min&&i<v*e.min&&(i=v*e.min),C.w=C.r=i,i>v){var M=g.r-g.l,w=M-S,A=Math.min(Math.ceil((i-v)/(y*w)),this.maxStretchyParts);e.fullExtenders?i=A*y*w+v:w=(i-v)/(y*A);var x=(M-w+S/y)/2;f.style.marginLeft=h.Em(-g.l-x),f.style.marginRight=h.Em(g.r-g.w+x),f.style.letterSpacing=h.Em(-(g.w-w)),l.style.marginRight=h.Em(o.r-o.w),n.style.marginleft=h.Em(-c.l);for(var T=f.textContent,H=T;--A>0;)T+=H;f.textContent=T,t.appendChild(f),e.mid&&(t.appendChild(m),u=t.appendChild(f.cloneNode(!0)))}else x=(i-v-S/y)/2,l.style.marginRight=h.Em(o.r-o.w+x),e.mid&&t.appendChild(m),n.style.marginLeft=h.Em(-c.l+x);return t.appendChild(n),this.adjustHeights([l,f,m,u,n],[o,g,p,g,c],C),s&&(C.scale=s.scale,C.rscale=s.rscale),C},adjustHeights:function(t,i,e){var s=e.h,a=e.d;e.d<0&&(a=-e.d,e.D=e.d,e.d=0);for(var r=0,l=t.length;r<l;r++)t[r]&&(t[r].style.paddingTop=h.Em(s-i[r].a),t[r].style.paddingBottom=h.Em(a+i[r].a),t[r].style.marginTop=t[r].style.marginBottom=0)},createChar:function(t,i,e,s){var a="",r={fonts:[i[1]],noRemap:!0,cache:{}};if(s&&s===d.VARIANT.BOLD&&this.FONTDATA.FONTS[i[1]+"-Bold"]&&(r.fonts=[i[1]+"-Bold",i[1]]),typeof i[1]!="string"&&(r=i[1]),i[0]instanceof Array)for(var l=0,n=i[0].length;l<n;l++)a+=String.fromCharCode(i[0][l]);else a=String.fromCharCode(i[0]);i[4]&&(e*=i[4]);var m=this.handleText(t,a,r),f=t.firstChild.style;return e!==1&&(f.fontSize=this.Percent(e)),i[2]&&(f.paddingLeft=this.Em(i[2]),m.w+=i[2],m.r+=i[2]),i[3]&&(f.verticalAlign=this.Em(i[3]),m.h+=i[3],m.h<0&&(m.h=0)),i[5]&&(f.marginTop=this.Em(i[5]),m.h+=i[5],m.t+=i[5]),i[6]&&(f.marginBottom=this.Em(i[6]),m.d+=i[6],m.b+=i[6]),m},length2em:function(t,i,e){if(typeof t!="string"&&(t=t.toString()),t==="")return"";if(t===d.SIZE.NORMAL)return 1;if(t===d.SIZE.BIG)return 2;if(t===d.SIZE.SMALL)return .71;if(this.MATHSPACE[t])return this.MATHSPACE[t];var s=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/),a=parseFloat(s[1]||"1"),r=s[2];return i==null&&(i=1),e||(e=1),e=1/this.em/e,r==="em"?a:r==="ex"?a*this.TEX.x_height:r==="%"?a/100*i:r==="px"?a*e:r==="pt"?a/10:r==="pc"?a*1.2:(e*=this.pxPerInch,r==="in"?a*e:r==="cm"?a*e/2.54:r==="mm"?a*e/25.4:r==="mu"?a/18:a*i)},thickness2em:function(t,i){var e=h.TEX.rule_thickness/(i||1);return t===d.LINETHICKNESS.MEDIUM?e:t===d.LINETHICKNESS.THIN?.67*e:t===d.LINETHICKNESS.THICK?1.67*e:this.length2em(t,e,i)},Em:function(t){return Math.abs(t)<.001?"0":t.toFixed(3).replace(/\.?0+$/,"")+"em"},EmRounded:function(t){return t=(Math.round(t*h.em)+.05)/h.em,Math.abs(t)<6e-4?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em"},unEm:function(t){return parseFloat(t)},Px:function(t,i){return t*=this.em,i&&t<i&&(t=i),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"},Percent:function(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"},Transform:function(t,i,e){var s=t.style;s.transform=s.WebkitTransform=s.MozTransform=s["-ms-transform"]=i,e&&(s.transformOrigin=s.WebkitTransformOrigin=s.MozTransformOrigin=s["-ms-transform-origin"]=e)},arrayEntry:function(t,i){return t[Math.max(0,Math.min(i,t.length-1))]},removeStyles:["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"]}),h.BBOX=MathJax.Object.Subclass({Init:function(t){for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])},clean:function(){this.h===-L&&(this.h=0),this.d===-L&&(this.d=0),this.l===L&&(this.l=0),this.r===-L&&(this.r=0),this.t===-L&&(this.t=0),this.b===-L&&(this.b=0),this.D&&this.d>0&&delete this.D},rescale:function(t){this.w*=t,this.h*=t,this.d*=t,this.l*=t,this.r*=t,this.t*=t,this.b*=t,this.L&&(this.L*=t),this.R&&(this.R*=t),this.D&&(this.D*=t)},combine:function(t,i,e){t.X=i,t.Y=e;var s=t.rscale;i+s*t.r>this.r&&(this.r=i+s*t.r),i+s*t.l<this.l&&(this.l=i+s*t.l),i+s*(t.w+(t.L||0)+(t.R||0))>this.w&&(this.w=i+s*(t.w+(t.L||0)+(t.R||0))),e+s*t.h>this.h&&(this.h=e+s*t.h),t.D&&(this.D==null||s*t.D-e>this.D)&&s*t.D>this.d?this.D=s*t.D-e:t.D==null&&this.D&&delete this.D,s*t.d-e>this.d&&(this.d=s*t.d-e),e+s*t.t>this.t&&(this.t=e+s*t.t),s*t.b-e>this.b&&(this.b=s*t.b-e)},append:function(t){var i=t.rscale,e=this.w;e+i*t.r>this.r&&(this.r=e+i*t.r),e+i*t.l<this.l&&(this.l=e+i*t.l),this.w+=i*(t.w+(t.L||0)+(t.R||0)),i*t.h>this.h&&(this.h=i*t.h),t.D&&(this.D==null||i*t.D>this.D)&&i*t.D>this.d?this.D=i*t.D:t.D==null&&this.D&&delete this.D,i*t.d>this.d&&(this.d=i*t.d),i*t.t>this.t&&(this.t=i*t.t),i*t.b>this.b&&(this.b=i*t.b)},updateFrom:function(t){this.h=t.h,this.d=t.d,this.w=t.w,this.r=t.r,this.l=t.l,this.t=t.t,this.b=t.b,t.pwidth&&(this.pwidth=t.pwidth),t.D?this.D=t.D:delete this.D},adjust:function(t,i,e,s){this[i]+=h.length2em(t,1,this.scale),s==null?this[i]>this[e]&&(this[e]=this[i]):this[e]<s&&(this[e]=s)}},{zero:function(){return h.BBOX({h:0,d:0,w:0,l:0,r:0,t:0,b:0,scale:1,rscale:1})},empty:function(t){return t||(t=h.BBOX.zero()),t.h=t.d=t.r=t.t=t.b=-L,t.w=0,t.l=L,delete t.pwidth,t},styleAdjust:[["borderTopWidth","h","t"],["borderRightWidth","w","r"],["borderBottomWidth","d","b"],["borderLeftWidth","w","l",0],["paddingTop","h","t"],["paddingRight","w","r"],["paddingBottom","d","b"],["paddingLeft","w","l",0]]}),MathJax.Hub.Register.StartupHook("mml Jax Ready",function(){d=MathJax.ElementJax.mml,d.mbase.Augment({toCommonHTML:function(t,i){return this.CHTMLdefaultNode(t,i)},CHTMLmultiline:function(){d.mbase.CHTMLautoloadFile("multiline")},CHTMLdefaultNode:function(t,i){i||(i={}),t=this.CHTMLcreateNode(t),this.CHTML=h.BBOX.empty(),this.CHTMLhandleStyle(t),this.isToken&&this.CHTMLgetVariant(),this.CHTMLhandleScale(t);for(var e=Math.max(i.minChildren||0,this.data.length),s=0;s<e;s++)this.CHTMLaddChild(t,s,i);return i.noBBox||this.CHTML.clean(),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLaddChild:function(t,i,e){var s=this.data[i],a,r=e.childNodes;if(r instanceof Array&&(r=r[i]||"span"),s){if(r&&(t=h.addElement(t,r)),a=s.toCommonHTML(t,e.childOptions),r&&s.CHTML.rscale!==1&&(t.style.fontSize=t.firstChild.style.fontSize,t.firstChild.style.fontSize=""),!e.noBBox){var l=this.CHTML,n=s.CHTML;l.append(n),this.data.length===1?(n.ic&&(l.ic=n.ic),n.skew&&(l.skew=n.skew)):(delete l.ic,delete l.skew),n.pwidth&&(l.pwidth=n.pwidth)}}else e.forceChild&&(a=h.addElement(t,r||"mjx-box"));return a},CHTMLchildNode:function(t,i){return t=t.childNodes[i],t.nodeName.toLowerCase()==="a"&&(t=t.firstChild),t},CHTMLcoreNode:function(t){return this.inferRow&&this.data[0]?this.data[0].CHTMLcoreNode(t.firstChild):this.CHTMLchildNode(t,this.CoreIndex())},CHTMLstretchChildV:function(t,i,e){var s=this.data[t];if(s){var a=this.CHTML,r=s.CHTML;if(r.stretch||r.stretch==null&&s.CHTMLcanStretch("Vertical",i,e)){var l=r.w;r=s.CHTMLstretchV(i,e),a.w+=r.w-l,a.w>a.r&&(a.r=a.w),r.h>a.h&&(a.h=r.h),r.d>a.d&&(a.d=r.d),r.t>a.t&&(a.t=r.t),r.b>a.b&&(a.b=r.b)}}},CHTMLstretchChildH:function(t,i,e){var s=this.data[t];if(s){var a=this.CHTML,r=s.CHTML;if(r.stretch||r.stretch==null&&s.CHTMLcanStretch("Horizontal",i)){var l=r.w;r=s.CHTMLstretchH(this.CHTMLchildNode(e,t),i),a.w+=r.w-l,a.w>a.r&&(a.r=a.w),r.h>a.h&&(a.h=r.h),r.d>a.d&&(a.d=r.d),r.t>a.t&&(a.t=r.t),r.b>a.b&&(a.b=r.b)}}},CHTMLupdateFrom:function(t){this.CHTML.updateFrom(t),this.inferRow&&this.data[0].CHTML.updateFrom(t)},CHTMLcanStretch:function(t,i,e){var s=!1;if(this.isEmbellished()){var a=this.Core();a&&a!==this&&(s=a.CHTMLcanStretch(t,i,e))}return this.CHTML.stretch=s,s},CHTMLstretchV:function(t,i){return this.CHTMLupdateFrom(this.Core().CHTMLstretchV(t,i)),this.CHTML},CHTMLstretchH:function(t,i){return this.CHTMLupdateFrom(this.CHTMLstretchCoreH(t,i)),this.CHTML},CHTMLstretchCoreH:function(t,i){return this.Core().CHTMLstretchH(this.CHTMLcoreNode(t),i)},CHTMLcreateNode:function(t){this.CHTML||(this.CHTML={}),this.CHTML=h.BBOX.zero(),this.href&&(t=h.addElement(t,"a",{href:this.href,isMathJax:!0})),this.CHTMLnodeID||(this.CHTMLnodeID=h.GetID());var i=(this.id||"MJXc-Node-"+this.CHTMLnodeID)+h.idPostfix;return this.CHTMLhandleAttributes(h.addElement(t,"mjx-"+this.type,{id:i}))},CHTMLnodeElement:function(){return this.CHTMLnodeID?document.getElementById((this.id||"MJXc-Node-"+this.CHTMLnodeID)+h.idPostfix):null},CHTMLlength2em:function(t,i){return h.length2em(t,i,this.CHTML.scale)},CHTMLhandleAttributes:function(t){if(this.class&&(t.className?t.className+=" "+this.class:t.className=this.class),this.attrNames)for(var i=this.attrNames,e=d.nocopyAttributes,s=E.config.ignoreMMLattributes,a=this.type==="mstyle"?d.math.prototype.defaults:this.defaults,r=0,l=i.length;r<l;r++){var n=i[r];(s[n]==!1||!e[n]&&!s[n]&&a[n]==null&&typeof t[n]=="undefined")&&t.setAttribute(n,this.attr[n])}return t},CHTMLhandleScale:function(t){var i=1,e=this.parent,s=e?e.CHTML.scale:1,a=this.getValues("scriptlevel","fontsize");a.mathsize=this.Get("mathsize",null,!this.isToken),a.scriptlevel!==0&&(a.scriptlevel>2&&(a.scriptlevel=2),i=Math.pow(this.Get("scriptsizemultiplier"),a.scriptlevel),a.scriptminsize=h.length2em(this.Get("scriptminsize"),.8,1),i<a.scriptminsize&&(i=a.scriptminsize)),this.removedStyles&&this.removedStyles.fontSize&&!a.fontsize&&(a.fontsize=this.removedStyles.fontSize),a.fontsize&&!this.mathsize&&(a.mathsize=a.fontsize),a.mathsize!==1&&(i*=h.length2em(a.mathsize,1,1));var r=this.CHTMLvariant;return r&&r.style&&r.style["font-family"]&&(i*=h.config.scale/100/h.scale),this.CHTML.scale=i,s=this.CHTML.rscale=i/s,Math.abs(s-1)<.001&&(s=1),t&&s!==1&&(t.style.fontSize=h.Percent(s)),i},CHTMLhandleStyle:function(t){if(this.style){var i=t.style;i.cssText=this.style,this.removedStyles={};for(var e=0,s=h.removeStyles.length;e<s;e++){var a=h.removeStyles[e];i[a]&&(this.removedStyles[a]=i[a],i[a]="")}}},CHTMLhandleBBox:function(t){var i=this.CHTML,e=t.style;if(this.data.length===1&&(this.data[0].CHTML||{}).pwidth?(i.pwidth=this.data[0].CHTML.pwidth,i.mwidth=this.data[0].CHTML.mwidth,e.width="100%"):i.pwidth?(i.mwidth=h.Em(i.w),e.width="100%"):i.w<0&&(e.width="0px",e.marginRight=h.Em(i.w)),!!this.style)for(var s=0,a=h.BBOX.styleAdjust.length;s<a;s++){var r=h.BBOX.styleAdjust[s];r&&e[r[0]]&&i.adjust(e[r[0]],r[1],r[2],r[3])}},CHTMLhandleColor:function(t){this.mathcolor?t.style.color=this.mathcolor:this.color&&(t.style.color=this.color),this.mathbackground?t.style.backgroundColor=this.mathbackground:this.background&&(t.style.backgroundColor=this.background)},CHTMLhandleSpace:function(t){if(!this.useMMLspacing){var i=this.texSpacing();i!==""&&(this.CHTML.L=this.CHTMLlength2em(i),t.className+=" "+h.SPACECLASS[i])}},CHTMLhandleText:function(t,i,e){t.firstChild&&!this.CHTML&&(this.CHTML=h.BBOX.empty()),this.CHTML=h.handleText(t,i,e,this.CHTML)},CHTMLgetVariant:function(){var t=this.getValues("mathvariant","fontfamily","fontweight","fontstyle"),i;t.hasVariant=this.Get("mathvariant",!0),this.removedStyles&&(i=this.removedStyles,i.fontFamily&&(t.family=i.fontFamily),i.fontWeight&&(t.weight=i.fontWeight),i.fontStyle&&(t.style=i.fontStyle)),t.hasVariant||(t.fontfamily&&(t.family=t.fontfamily),t.fontweight&&(t.weight=t.fontweight),t.fontstyle&&(t.style=t.fontstyle)),t.weight&&t.weight.match(/^\d+$/)&&(t.weight=parseInt(t.weight)>600?"bold":"normal");var e=t.mathvariant;if(this.variantForm&&(e="-TeX-variant"),t.family&&!t.hasVariant){!t.weight&&t.mathvariant.match(/bold/)&&(t.weight="bold"),!t.style&&t.mathvariant.match(/italic/)&&(t.style="italic"),this.CHTMLvariant={fonts:[],noRemap:!0,cache:{},style:{"font-family":t.family,"font-weight":t.weight||"normal","font-style":t.style||"normal"}};return}t.weight==="bold"?e={normal:d.VARIANT.BOLD,italic:d.VARIANT.BOLDITALIC,fraktur:d.VARIANT.BOLDFRAKTUR,script:d.VARIANT.BOLDSCRIPT,"sans-serif":d.VARIANT.BOLDSANSSERIF,"sans-serif-italic":d.VARIANT.SANSSERIFBOLDITALIC}[e]||e:t.weight==="normal"&&(e={bold:d.VARIANT.normal,"bold-italic":d.VARIANT.ITALIC,"bold-fraktur":d.VARIANT.FRAKTUR,"bold-script":d.VARIANT.SCRIPT,"bold-sans-serif":d.VARIANT.SANSSERIF,"sans-serif-bold-italic":d.VARIANT.SANSSERIFITALIC}[e]||e),t.style==="italic"?e={normal:d.VARIANT.ITALIC,bold:d.VARIANT.BOLDITALIC,"sans-serif":d.VARIANT.SANSSERIFITALIC,"bold-sans-serif":d.VARIANT.SANSSERIFBOLDITALIC}[e]||e:t.style==="normal"&&(e={italic:d.VARIANT.NORMAL,"bold-italic":d.VARIANT.BOLD,"sans-serif-italic":d.VARIANT.SANSSERIF,"sans-serif-bold-italic":d.VARIANT.BOLDSANSSERIF}[e]||e),this.CHTMLvariant=h.FONTDATA.VARIANT[e]||h.FONTDATA.VARIANT[d.VARIANT.NORMAL]},CHTMLbboxFor:function(t){return this.data[t]&&this.data[t].CHTML?this.data[t].CHTML:h.BBOX.zero()},CHTMLdrawBBox:function(t,i){i||(i=this.CHTML);var e=h.Element("mjx-box",{style:{opacity:.25,"margin-left":h.Em(-(i.w+(i.R||0)))}},[["mjx-box",{style:{height:h.Em(i.h),width:h.Em(i.w),"background-color":"red"}}],["mjx-box",{style:{height:h.Em(i.d),width:h.Em(i.w),"margin-left":h.Em(-i.w),"vertical-align":h.Em(-i.d),"background-color":"green"}}]]);t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},CHTMLnotEmpty:function(t){for(;t&&t.data.length<2&&(t.type==="mrow"||t.type==="texatom");)t=t.data[0];return!!t}},{CHTMLautoload:function(){this.constructor.Augment({toCommonHTML:d.mbase.CHTMLautoloadFail});var t=h.autoloadDir+"/"+this.type+".js";E.RestartAfter(k.Require(t))},CHTMLautoloadFail:function(){throw Error("CommonHTML can't autoload '"+this.type+"'")},CHTMLautoloadList:{},CHTMLautoloadFile:function(t){if(d.mbase.CHTMLautoloadList.hasOwnProperty(t))throw Error("CommonHTML can't autoload file '"+t+"'");d.mbase.CHTMLautoloadList[t]=!0;var i=h.autoloadDir+"/"+t+".js";E.RestartAfter(k.Require(i))},CHTMLstretchV:function(t,i){return this.Core().CHTMLstretchV(t,i),this.toCommonHTML(this.CHTMLnodeElement(),{stretch:!0}),this.CHTML},CHTMLstretchH:function(t,i){return this.CHTMLupdateFrom(this.CHTMLstretchCoreH(t,i)),this.toCommonHTML(t,{stretch:!0}),this.CHTML}}),d.chars.Augment({toCommonHTML:function(t,i){this.CHTML=null,i==null&&(i={});var e=this.toString();i.remap&&(e=i.remap(e,i.remapchars)),this.CHTMLhandleText(t,e,i.variant||this.parent.CHTMLvariant)}}),d.entity.Augment({toCommonHTML:function(t,i){i==null&&(i={});var e=this.toString();i.remapchars&&(e=i.remap(e,i.remapchars)),this.CHTMLhandleText(t,e,i.variant||this.parent.CHTMLvariant)}}),d.math.Augment({toCommonHTML:function(t){t=this.CHTMLdefaultNode(t),this.CHTML.w<0&&(t.parentNode.style.width="0px",t.parentNode.style.marginRight=h.Em(this.CHTML.w));var i=this.Get("alttext");if(i&&!t.getAttribute("aria-label")&&t.setAttribute("aria-label",i),this.CHTML.pwidth)t.parentNode.style.minWidth=this.CHTML.mwidth||h.Em(this.CHTML.w),t.parentNode.className="mjx-full-width "+t.parentNode.className,t.style.width=this.CHTML.pwidth;else if(!this.isMultiline&&this.Get("display")==="block"){var e=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");e.indentalignfirst!==d.INDENTALIGN.INDENTALIGN&&(e.indentalign=e.indentalignfirst),e.indentalign===d.INDENTALIGN.AUTO&&(e.indentalign=z.displayAlign),e.indentshiftfirst!==d.INDENTSHIFT.INDENTSHIFT&&(e.indentshift=e.indentshiftfirst),e.indentshift==="auto"&&(e.indentshift="0");var s=this.CHTMLlength2em(e.indentshift,h.cwidth);if(z.displayIndent!=="0"){var a=this.CHTMLlength2em(z.displayIndent,h.cwidth);s+=e.indentalign===d.INDENTALIGN.RIGHT?-a:a}var r=t.parentNode.parentNode.style;t.parentNode.style.textAlign=r.textAlign=e.indentalign,s&&(e.indentalign==="right"&&(t.style.marginRight=h.Em(-s)),s*=h.em/h.outerEm,E.Insert(r,{left:{textIndent:h.Em(s)},right:{display:"flex",flexDirection:"row-reverse"},center:{textIndent:h.Em(2*s)}}[e.indentalign]))}return t}}),d.mi.Augment({toCommonHTML:function(t){t=this.CHTMLdefaultNode(t);var i=this.CHTML,e=this.data.join("");return i.skew!=null&&!h.isChar(e)&&delete i.skew,i.r>i.w&&h.isChar(e)&&!this.CHTMLvariant.noIC&&(i.ic=i.r-i.w,i.w=i.r,t.lastChild.style.paddingRight=h.Em(i.ic)),t}}),d.mn.Augment({CHTMLremapMinus:function(t){return t.replace(/^-/,"\u2212")},toCommonHTML:function(t){t=this.CHTMLdefaultNode(t,{childOptions:{remap:this.CHTMLremapMinus}});var i=this.CHTML,e=this.data.join("");return i.skew!=null&&!h.isChar(e)&&delete i.skew,i.r>i.w&&h.isChar(e)&&!this.CHTMLvariant.noIC&&(i.ic=i.r-i.w,i.w=i.r,t.lastChild.style.paddingRight=h.Em(i.ic)),t}}),d.mo.Augment({toCommonHTML:function(t){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLgetVariant(),this.CHTMLhandleScale(t),h.BBOX.empty(this.CHTML);var i=this.getValues("displaystyle","largeop");if(i.variant=this.CHTMLvariant,i.text=this.data.join(""),i.text=="")this.fence&&(t.style.width=h.Em(h.TEX.nulldelimiterspace));else{this.CHTMLadjustAccent(i),this.CHTMLadjustVariant(i);for(var e=0,s=this.data.length;e<s;e++)this.CHTMLaddChild(t,e,{childOptions:{variant:i.mathvariant,remap:this.remap,remapchars:i.remapchars}});h.isChar(i.text)?this.CHTML.w===0&&this.CHTML.l<0&&this.CHTMLfixCombiningChar(t):delete this.CHTML.skew,i.largeop&&this.CHTMLcenterOp(t)}return this.CHTML.clean(),this.CHTMLhandleBBox(t),this.CHTMLhandleSpace(t),this.CHTMLhandleColor(t),t},CHTMLhandleSpace:function(t){if(this.hasMMLspacing()){var i=this.getValues("scriptlevel","lspace","rspace");i.lspace=Math.max(0,this.CHTMLlength2em(i.lspace)),i.rspace=Math.max(0,this.CHTMLlength2em(i.rspace)),i.scriptlevel>0&&(this.hasValue("lspace")||(i.lspace=.15),this.hasValue("rspace")||(i.rspace=.15));for(var e=this,s=this.Parent();s&&s.isEmbellished()&&s.Core()===e;)e=s,s=s.Parent(),t=e.CHTMLnodeElement();i.lspace&&(t.style.paddingLeft=h.Em(i.lspace)),i.rspace&&(t.style.paddingRight=h.Em(i.rspace)),this.CHTML.L=i.lspace,this.CHTML.R=i.rspace}else this.SUPER(arguments).CHTMLhandleSpace.apply(this,arguments)},CHTMLadjustAccent:function(t){var i=this.CoreParent();if(t.parent=i,h.isChar(t.text)&&i&&i.isa(d.munderover)){var e=i.data[i.over],s=i.data[i.under];e&&this===e.CoreMO()&&i.Get("accent")?t.remapchars=h.FONTDATA.REMAPACCENT:s&&this===s.CoreMO()&&i.Get("accentunder")&&(t.remapchars=h.FONTDATA.REMAPACCENTUNDER)}},CHTMLadjustVariant:function(t){var i=t.parent,e=i&&i.isa(d.msubsup)&&this!==i.data[i.base];t.largeop&&(t.mathvariant=t.displaystyle?"-largeOp":"-smallOp"),e&&(t.remapchars=this.remapChars,t.text.match(/['`"\u00B4\u2032-\u2037\u2057]/)&&(t.mathvariant="-TeX-variant"))},CHTMLfixCombiningChar:function(t){t=t.firstChild;var i=h.Element("mjx-box",{style:{width:".25em","margin-left":"-.25em"}});t.insertBefore(i,t.firstChild)},CHTMLcenterOp:function(t){var i=this.CHTML,e=(i.h-i.d)/2-h.TEX.axis_height;Math.abs(e)>.001&&(t.style.verticalAlign=h.Em(-e)),i.h-=e,i.d+=e,i.r>i.w&&(i.ic=i.r-i.w,i.w=i.r,t.style.paddingRight=h.Em(i.ic))},CHTMLcanStretch:function(t,i,e){if(!this.Get("stretchy"))return!1;var s=this.data.join("");if(!h.isChar(s))return!1;var a={text:s};this.CHTMLadjustAccent(a),a.remapchars&&(s=a.remapchars[s]||s),s=h.FONTDATA.DELIMITERS[s.charCodeAt(0)];var r=s&&s.dir===t.substr(0,1);return r&&(r=this.CHTML.h!==i||this.CHTML.d!==e||!!this.Get("minsize",!0)||!!this.Get("maxsize",!0),r&&(this.CHTML.stretch=!0)),r},CHTMLstretchV:function(t,i){var e=this.CHTMLnodeElement(),s=this.CHTML,a=this.getValues("symmetric","maxsize","minsize"),r,l=h.TEX.axis_height;if(a.symmetric?r=2*Math.max(t-l,i+l):r=t+i,a.maxsize=this.CHTMLlength2em(a.maxsize,s.h+s.d),a.minsize=this.CHTMLlength2em(a.minsize,s.h+s.d),r=Math.max(a.minsize,Math.min(a.maxsize,r)),r!==s.sH){for(r!=a.minsize&&(r=[Math.max(r*h.TEX.delimiterfactor/1e3,r-h.TEX.delimitershortfall),r]);e.firstChild;)e.removeChild(e.firstChild);this.CHTML=s=h.createDelimiter(e,this.data.join("").charCodeAt(0),r,s),s.sH=r instanceof Array?r[1]:r,a.symmetric?r=(s.h+s.d)/2+l:r=(s.h+s.d)*t/(t+i),r-=s.h,Math.abs(r)>.05&&(e.style.verticalAlign=h.Em(r),s.h+=r,s.d-=r,s.t+=r,s.b-=r)}return this.CHTML},CHTMLstretchH:function(t,i){var e=this.CHTML,s=this.getValues("maxsize","minsize","mathvariant","fontweight");if((s.fontweight==="bold"||(this.removedStyles||{}).fontWeight==="bold"||parseInt(s.fontweight)>=600)&&!this.Get("mathvariant",!0)&&(s.mathvariant=d.VARIANT.BOLD),s.maxsize=this.CHTMLlength2em(s.maxsize,e.w),s.minsize=this.CHTMLlength2em(s.minsize,e.w),i=Math.max(s.minsize,Math.min(s.maxsize,i)),i!==e.sW){for(;t.firstChild;)t.removeChild(t.firstChild);this.CHTML=e=h.createDelimiter(t,this.data.join("").charCodeAt(0),i,e,s.mathvariant),e.sW=i}return this.CHTML}}),d.mtext.Augment({CHTMLgetVariant:function(){if(h.config.mtextFontInherit||this.Parent().type==="merror"){var t=h.config.scale/100/h.scale,i={cache:{},fonts:[],className:"MJXc-font-inherit",rscale:t,style:{"font-size":h.Percent(t)}},e=this.Get("mathvariant");e.match(/bold/)&&(i.style["font-weight"]="bold"),e.match(/italic|-tex-mathit/)&&(i.style["font-style"]="italic"),e==="monospace"&&(i.className+=" MJXc-monospace-font"),e==="double-struck"&&(i.className+=" MJXc-double-struck-font"),e.match(/fraktur/)&&(i.className+=" MJXc-fraktur-font"),e.match(/sans-serif/)&&(i.className+=" MJXc-sans-serif-font"),e.match(/script/)&&(i.className+=" MJXc-script-font"),this.CHTMLvariant=i}else this.SUPER(arguments).CHTMLgetVariant.call(this)}}),d.merror.Augment({toCommonHTML:function(t){t=this.CHTMLdefaultNode(t);var i=this.CHTML;return i.rescale(.9),i.h+=3/h.em,i.h>i.t&&(i.t=i.h),i.d+=3/h.em,i.d>i.b&&(i.b=i.d),i.w+=8/h.em,i.r=i.w,i.l=0,t}}),d.mspace.Augment({toCommonHTML:function(t){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t);var i=this.getValues("height","depth","width"),e=this.CHTMLlength2em(i.width),s=this.CHTMLlength2em(i.height),a=this.CHTMLlength2em(i.depth),r=this.CHTML;return r.w=r.r=e,r.h=r.t=s,r.d=r.b=a,r.l=0,e<0&&(t.style.marginRight=h.Em(e),e=0),t.style.width=h.Em(e),t.style.height=h.Em(Math.max(0,s+a)),a&&(t.style.verticalAlign=h.Em(-a)),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t}}),d.mpadded.Augment({toCommonHTML:function(t,i){var e;i&&i.stretch?(t=t.firstChild,e=t.firstChild):(t=this.CHTMLdefaultNode(t,{childNodes:"mjx-box",forceChild:!0}),e=t.firstChild,t=h.addElement(t,"mjx-block"),t.appendChild(e),h.addElement(t,"mjx-strut"));var s=this.CHTMLbboxFor(0),a=this.getValues("width","height","depth","lspace","voffset"),r=0,l=0,n=s.w,m=s.h,f=s.d;e.style.width=0,e.style.margin=h.Em(-m)+" 0 "+h.Em(-f),a.width!==""&&(n=this.CHTMLdimen(a.width,"w",n,0)),a.height!==""&&(m=this.CHTMLdimen(a.height,"h",m,0)),a.depth!==""&&(f=this.CHTMLdimen(a.depth,"d",f,0)),a.voffset!==""&&(l=this.CHTMLdimen(a.voffset),l&&(e.style.position="relative",e.style.top=h.Em(-l))),a.lspace!==""&&(r=this.CHTMLdimen(a.lspace),r&&(e.style.position="relative",e.style.left=h.Em(r))),t.style.width=0,t.style.marginTop=h.Em(m-X),t.style.padding="0 "+h.Em(n)+" "+h.Em(f)+" 0";var u=h.BBOX({w:n,h:m,d:f,l:0,r:n,t:m,b:f,scale:this.CHTML.scale,rscale:this.CHTML.rscale});return u.combine(s,r,l),u.w=n,u.h=m,u.d=f,this.CHTML=u,t.parentNode},CHTMLstretchV:d.mbase.CHTMLstretchV,CHTMLstretchH:d.mbase.CHTMLstretchH,CHTMLdimen:function(t,i,e,s){s==null&&(s=-L),t=String(t);var a=t.match(/width|height|depth/),r=a?this.CHTML[a[0].charAt(0)]:i?this.CHTML[i]:0,l=this.CHTMLlength2em(t,r)||0;return t.match(/^[-+]/)&&e!=null&&(l+=e),s!=null&&(l=Math.max(s,l)),l}}),d.munderover.Augment({toCommonHTML:function(t,i){var e=this.getValues("displaystyle","accent","accentunder","align"),s=this.data[this.base];if(!e.displaystyle&&s!=null&&(s.movablelimits||s.CoreMO().Get("movablelimits")))return d.msubsup.prototype.toCommonHTML.call(this,t,n);var a,r,l=[],n=!1;if(i&&i.stretch)this.data[this.base]&&(s=h.getNode(t,"mjx-op")),this.data[this.under]&&(a=h.getNode(t,"mjx-under")),this.data[this.over]&&(r=h.getNode(t,"mjx-over")),l[0]=s,l[1]=a||r,l[2]=r,n=!0;else{var m=["mjx-op","mjx-under","mjx-over"];this.over===1&&(m[1]=m[2]),t=this.CHTMLdefaultNode(t,{childNodes:m,noBBox:!0,forceChild:!0,minChildren:2}),l[0]=s=t.removeChild(t.firstChild),l[1]=a=r=t.removeChild(t.firstChild),t.firstChild&&(l[2]=r=t.removeChild(t.firstChild))}var f=[],u=this.CHTMLgetBBoxes(f,l,e),o=f[this.base],c=this.CHTML;c.w=u,c.h=o.h,c.d=o.d,o.h<.35&&(s.style.marginTop=h.Em(o.h-.35)),e.accent&&o.h<h.TEX.x_height&&(c.h+=h.TEX.x_height-o.h,s.style.marginTop=h.Em(h.TEX.x_height-Math.max(o.h,.35)),o.h=h.TEX.x_height);var p=s,g=0;return o.ic&&(g=1.3*o.ic+.05),this.data[this.over]&&(p=this.CHTMLaddOverscript(r,f,e,g,s,n)),this.data[this.under]?this.CHTMLaddUnderscript(a,f,e,g,t,p,n):n||t.appendChild(p),this.CHTMLplaceBoxes(s,a,r,e,f),t},CHTMLgetBBoxes:function(t,i,e){var s,a=this.data.length,r,l=-L,n=l;for(s=0;s<a;s++)t[s]=this.CHTMLbboxFor(s),t[s].x=t[s].y=0,this.data[s]&&(t[s].stretch=this.data[s].CHTMLcanStretch("Horizontal")),r=s===this.base?1:t[s].rscale,s!==this.base&&(delete t[s].L,delete t[s].R),n=Math.max(n,r*(t[s].w+(t[s].L||0)+(t[s].R||0))),!t[s].stretch&&n>l&&(l=n);for(l===-L&&(l=n),s=0;s<a;s++)t[s].stretch&&(r=s===this.base?1:t[s].rscale,t[s]=this.data[s].CHTMLstretchH(i[s].firstChild,l/r),t[s].x=t[s].y=0,n=Math.max(n,r*(t[s].w+(t[s].L||0)+(t[s].R||0))));return t[this.base]||(t[this.base]=h.BBOX.empty()),n},CHTMLaddOverscript:function(t,i,e,s,a,r){var l=this.CHTML,n,m,f=h.TEX.big_op_spacing5,u,o=i[this.over],c=i[this.base],p=o.rscale;if(!r){var g=h.Element("mjx-stack");g.appendChild(t),g.appendChild(a)}return o.D&&(o.d=o.D),o.d<0&&(t.firstChild.style.verticalAlign="top",t.style.height=h.Em(o.h+o.d)),o.x=0,e.accent?(o.w<.001&&(o.x+=(o.r-o.l)/2),u=h.TEX.rule_thickness,f=0,c.skew&&(o.x+=p*c.skew,l.skew=p*c.skew,o.x+p*o.w>l.w&&(l.skew+=(l.w-(o.x+p*o.w))/2))):(n=h.TEX.big_op_spacing1,m=h.TEX.big_op_spacing3,u=Math.max(n,m-Math.max(0,p*o.d))),o.x+=s/2,o.y=l.h+u+f+p*o.d,u&&(t.style.paddingBottom=h.Em(u/p)),f&&(t.style.paddingTop=h.Em(f/p)),g},CHTMLaddUnderscript:function(t,i,e,s,a,r,l){var n=this.CHTML,m,f,u=h.TEX.big_op_spacing5,o,c=i[this.under],p=c.rscale;l||(h.addElement(a,"mjx-itable",{},[["mjx-row",{},[["mjx-cell"]]],["mjx-row"]]),a.firstChild.firstChild.firstChild.appendChild(r),a.firstChild.lastChild.appendChild(t)),c.D&&(c.d=c.D),c.d<0&&(t.firstChild.style.verticalAlign="top",a.firstChild.style.marginBottom=h.Em(c.d)),e.accentunder?(o=2*h.TEX.rule_thickness,u=0):(m=h.TEX.big_op_spacing2,f=h.TEX.big_op_spacing4,o=Math.max(m,f-p*c.h)),c.x=-s/2,c.y=-(n.d+o+u+p*c.h),o&&(t.style.paddingTop=h.Em(o/p)),u&&(t.style.paddingBottom=h.Em(u/p))},CHTMLplaceBoxes:function(t,i,e,s,a){var r=this.CHTML.w,l,n=a.length,m,f=h.BBOX.zero();f.scale=this.CHTML.scale,f.rscale=this.CHTML.rscale,a[this.base].x=a[this.base].y=0;var u=L;for(l=0;l<n;l++){m=l===this.base?1:a[l].rscale;var o=m*(a[l].w+(a[l].L||0)+(a[l].R||0));a[l].x+={left:0,center:(r-o)/2,right:r-o}[s.align],a[l].x<u&&(u=a[l].x)}for(l=0;l<n;l++)if(this.data[l]){if(m=l===this.base?1:a[l].rscale,a[l].x-u){var c=l===this.base?t:l===this.over?e:i;c.style.paddingLeft=h.Em((a[l].x-u)/m)}f.combine(a[l],a[l].x-u,a[l].y)}this.CHTML=f},CHTMLstretchV:d.mbase.CHTMLstretchV,CHTMLstretchH:d.mbase.CHTMLstretchH,CHTMLchildNode:function(t,i){var e=["mjx-op","mjx-under","mjx-over"];return this.over===1&&(e[1]=e[2]),h.getNode(t,e[i])}}),d.msubsup.Augment({toCommonHTML:function(t,i){var e=this.getValues("displaystyle","subscriptshift","superscriptshift","texprimestyle"),s,a,r;if(i&&i.stretch)this.data[this.base]&&(s=h.getNode(t,"mjx-base")),this.data[this.sub]&&(a=h.getNode(t,"mjx-sub")),this.data[this.sup]&&(r=h.getNode(t,"mjx-sup")),n=h.getNode(t,"mjx-stack");else{var l=["mjx-base","mjx-sub","mjx-sup"];if(this.sup===1&&(l[1]=l[2]),t=this.CHTMLdefaultNode(t,{childNodes:l,noBBox:!0,forceChild:!0,minChildren:3}),s=t.childNodes[this.base],a=t.childNodes[this.sub],r=t.childNodes[this.sup],this.CHTMLnotEmpty(this.data[this.sub])||(t.removeChild(a),a=null),this.CHTMLnotEmpty(this.data[this.sup])||(t.removeChild(r),r=null),t.childNodes.length===3){var n=h.addElement(t,"mjx-stack");n.appendChild(r),n.appendChild(a)}}for(var m=[],f=h.BBOX.empty(this.CHTML),u=0,o=this.data.length;u<o;u++)m[u]=this.CHTMLbboxFor(u);var c=m[this.base]||h.BBOX.empty(),p=m[this.sub],g=m[this.sup],y=a?p.rscale:1,C=r?g.rscale:1;f.combine(c,0,0);var v=h.TEX.x_height,M=h.TEX.scriptspace,w=h.TEX.sup_drop*C,A=h.TEX.sub_drop*y,x=c.h-w,T=c.d+A,H=0,_;c.ic&&(f.w-=c.ic,s.style.marginRight=h.Em(-c.ic),H=1.3*c.ic+.05);var j=this.data[this.base];j&&((j.type==="mrow"||j.type==="mstyle")&&j.data.length===1&&(j=j.data[0]),(j.type==="mi"||j.type==="mo")&&h.isChar(j.data.join(""))&&c.rscale===1&&!c.sH&&!j.Get("largeop")&&(x=T=0)),e.subscriptshift=e.subscriptshift===""?0:this.CHTMLlength2em(e.subscriptshift),e.superscriptshift=e.superscriptshift===""?0:this.CHTMLlength2em(e.superscriptshift);var B=f.w;if(a&&(p.w+=M),r&&(g.w+=M),!r)a&&(T=Math.max(T,h.TEX.sub1,y*p.h-4/5*v,e.subscriptshift),a.style.verticalAlign=h.Em(-T/y),a.style.paddingRight=h.Em(M/y),f.combine(p,B,-T));else if(!a)_=h.TEX[e.displaystyle?"sup1":e.texprimestyle?"sup3":"sup2"],x=Math.max(x,_,C*g.d+1/4*v,e.superscriptshift),r.style.verticalAlign=h.Em(x/C),r.style.paddingLeft=h.Em(H/C),r.style.paddingRight=h.Em(M/C),f.combine(g,B+H,x);else{T=Math.max(T,h.TEX.sub2);var P=h.TEX.rule_thickness;x-C*g.d-(y*p.h-T)<3*P&&(T=3*P-x+C*g.d+y*p.h,w=4/5*v-(x-C*g.d),w>0&&(x+=w,T-=w)),x=Math.max(x,e.superscriptshift),T=Math.max(T,e.subscriptshift),a.style.paddingRight=h.Em(M/y),r.style.paddingBottom=h.Em(x/C+T/y-g.d-p.h/y*C),r.style.paddingLeft=h.Em(H/C),r.style.paddingRight=h.Em(M/C),n.style.verticalAlign=h.Em(-T),f.combine(g,B+H,x),f.combine(p,B,-T)}return f.clean(),t},CHTMLstretchV:d.mbase.CHTMLstretchV,CHTMLstretchH:d.mbase.CHTMLstretchH,CHTMLchildNode:function(t,i){var e=["mjx-base","mjx-sub","mjx-sup"];return this.over===1&&(e[1]=e[2]),h.getNode(t,e[i])}}),d.mfrac.Augment({toCommonHTML:function(t){t=this.CHTMLdefaultNode(t,{childNodes:["mjx-numerator","mjx-denominator"],childOptions:{autowidth:!0},forceChild:!0,noBBox:!0,minChildren:2});var i=this.getValues("linethickness","displaystyle","numalign","denomalign","bevelled"),e=i.displaystyle,s=t.firstChild,a=t.lastChild,r=h.addElement(t,"mjx-box");r.appendChild(s),r.appendChild(a),t.appendChild(r),i.numalign!=="center"&&(s.style.textAlign=i.numalign),i.denomalign!=="center"&&(a.style.textAlign=i.denomalign);var l=this.CHTMLbboxFor(0),n=this.CHTMLbboxFor(1),m=h.BBOX.empty(this.CHTML),f=l.rscale,u=n.rscale;i.linethickness=Math.max(0,h.thickness2em(i.linethickness||"0",m.scale));var o=h.TEX.min_rule_thickness/h.em,c=h.TEX.axis_height,p=i.linethickness,g,y,C,v;if(i.bevelled){r.className+=" MJXc-bevelled";var M=e?.4:.15,w=Math.max(f*(l.h+l.d),u*(n.h+n.d))+2*M,A=h.Element("mjx-bevel");r.insertBefore(A,a);var x=h.createDelimiter(A,47,w);C=f*(l.d-l.h)/2+c+M,v=u*(n.d-n.h)/2+c-M,C&&(s.style.verticalAlign=h.Em(C/f)),v&&(a.style.verticalAlign=h.Em(v/u)),A.style.marginLeft=A.style.marginRight=h.Em(-M/2),m.combine(l,0,C),m.combine(x,f*l.w-M/2,0),m.combine(n,f*l.w+x.w-M,v),m.clean()}else{if(r.className+=" MJXc-stacked",e?(C=h.TEX.num1,v=h.TEX.denom1):(C=p===0?h.TEX.num3:h.TEX.num2,v=h.TEX.denom2),p===0)g=Math.max((e?7:3)*h.TEX.rule_thickness,2*o),y=C-l.d*f-(n.h*u-v),y<g&&(C+=(g-y)/2,v+=(g-y)/2);else{g=Math.max((e?2:0)*o+p,p/2+1.5*o),p=Math.max(p,o),y=C-l.d*f-(c+p/2),y<g&&(C+=g-y),y=c-p/2-(n.h*u-v),y<g&&(v+=g-y),l.L=l.R=n.L=n.R=.1;var T=h.addElement(r,"mjx-line",{style:{"border-bottom":h.Px(p*m.scale,1)+" solid",top:h.Em(-p/2-c)}})}m.combine(l,0,C),m.combine(n,0,-v),m.clean(),r.style.width=h.Em(m.w),s.style.width=h.Em(m.w/f),a.style.width=h.Em(m.w/u),T&&(T.style.width=r.style.width),s.style.top=h.Em(-m.h/f),a.style.bottom=h.Em(-m.d/u),h.addElement(t,"mjx-vsize",{style:{height:h.Em(m.h+m.d),verticalAlign:h.Em(-m.d)}})}if(!this.texWithDelims){var H=h.TEX.nulldelimiterspace;r.style.padding="0 "+h.Em(H),m.l+=H,m.r+=H,m.w+=2*H}return t},CHTMLcanStretch:function(t){return!1}}),d.msqrt.Augment({toCommonHTML:function(t){t=this.CHTMLdefaultNode(t,{childNodes:["mjx-box","mjx-root"],forceChild:!0,noBBox:!0});var i=t.firstChild||h.Element("mjx-box"),e=h.addElement(t,"mjx-box");e.appendChild(i);var s=this.CHTMLbboxFor(0),a=h.BBOX.empty(this.CHTML),r=h.TEX.rule_thickness,l=h.TEX.surd_height,n=r,m,f;this.Get("displaystyle")&&(n=h.TEX.x_height),m=r+n/4,f=s.h+s.d+m+r;var u=h.Element("mjx-surd");e.insertBefore(u,i);var o=h.createDelimiter(u,8730,[f-.04,f]);o.h+o.d>f&&(m=(o.h+o.d-(f-r))/2),f=s.h+m+r;var c=this.CHTMLaddRoot(t,o,o.h+o.d-f);return i.style.paddingTop=h.Em(m),i.style.borderTop=h.Px(l*s.scale,1)+" solid",e.style.paddingTop=h.Em(2*r-l),s.h+=m+2*r,a.combine(o,c,f-o.h),a.combine(s,c+o.w,0),a.clean(),t},CHTMLaddRoot:function(){return 0},CHTMLhandleBBox:function(t){var i=this.CHTMLbboxFor(0);delete i.pwidth,this.SUPER(arguments).CHTMLhandleBBox.apply(this,arguments)}}),d.mroot.Augment({toCommonHTML:d.msqrt.prototype.toCommonHTML,CHTMLhandleBBox:d.msqrt.prototype.CHTMLhandleBBox,CHTMLaddRoot:function(t,i,e){if(this.data[1]){var s=this.CHTML,a=this.data[1].CHTML,r=t.firstChild,l=a.rscale,n=this.CHTMLrootHeight(a,i,s.scale)-e,m=Math.min(a.w,a.r),f=Math.max(m,i.offset/l);return n&&(r.style.verticalAlign=h.Em(n/l)),f>m&&(r.firstChild.style.paddingLeft=h.Em(f-m)),f-=i.offset/l,r.style.width=h.Em(f),s.combine(a,0,n),f*l}},CHTMLrootHeight:function(t,i,e){return .45*(i.h+i.d-.9*e)+.6*e+Math.max(0,t.d*t.scale-.075)}}),d.mfenced.Augment({toCommonHTML:function(t){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),this.CHTMLaddChild(t,"open",{});for(var i=0,e=this.data.length;i<e;i++)this.CHTMLaddChild(t,"sep"+i,{}),this.CHTMLaddChild(t,i,{});this.CHTMLaddChild(t,"close",{});var s=this.CHTML.h,a=this.CHTML.d;for(this.CHTMLstretchChildV("open",s,a),i=0,e=this.data.length;i<e;i++)this.CHTMLstretchChildV("sep"+i,s,a),this.CHTMLstretchChildV(i,s,a);return this.CHTMLstretchChildV("close",s,a),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t}}),d.mrow.Augment({toCommonHTML:function(t,i){i=i||{},t=this.CHTMLdefaultNode(t);for(var e=this.CHTML,s=e.h,a=e.d,r,l=0,n=this.data.length;l<n;l++)this.CHTMLstretchChildV(l,s,a),this.data[l]&&this.data[l].CHTML&&this.data[l].CHTML.w<0&&(r=!0);return this.CHTMLlineBreaks()?(this.CHTMLmultiline(t),i.autowidth&&(t.style.width="")):(r&&e.w&&(t.style.width=h.Em(Math.max(0,e.w))),e.w<0&&(t.style.marginRight=h.Em(e.w))),t},CHTMLlineBreaks:function(){return this.parent.linebreakContainer?D.automatic&&this.CHTML.w>h.linebreakWidth||this.hasNewline():!1},CHTMLstretchV:function(t,i){return this.CHTMLstretchChildV(this.CoreIndex(),t,i),this.CHTML},CHTMLstretchH:function(t,i){return this.CHTMLstretchChildH(this.CoreIndex(),i,t),this.CHTML}}),d.TeXAtom.Augment({toCommonHTML:function(t,i){if((!i||!i.stretch)&&(t=this.CHTMLdefaultNode(t)),this.texClass===d.TEXCLASS.VCENTER){var e=h.TEX.axis_height,s=this.CHTML,a=e-(s.h+s.d)/2+s.d;Math.abs(a)>.001&&(t.style.verticalAlign=h.Em(a),s.h+=a,s.t+=a,s.d-=a,s.b-=a)}return t},CHTMLstretchV:function(t,i){return this.CHTMLupdateFrom(this.Core().CHTMLstretchV(t,i)),this.toCommonHTML(this.CHTMLnodeElement(),{stretch:!0}),this.CHTML},CHTMLstretchH:function(t,i){return this.CHTMLupdateFrom(this.CHTMLstretchCoreH(t,i)),this.toCommonHTML(t,{stretch:!0}),this.CHTML}}),d.semantics.Augment({toCommonHTML:function(t){return t=this.CHTMLcreateNode(t),this.data[0]&&(this.data[0].toCommonHTML(t),this.CHTMLupdateFrom(this.data[0].CHTML),this.CHTMLhandleBBox(t)),t}}),d.annotation.Augment({toCommonHTML:function(t){return this.CHTMLcreateNode(t)}}),d["annotation-xml"].Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.ms.Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.mglyph.Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.menclose.Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.maction.Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.mmultiscripts.Augment({toCommonHTML:d.mbase.CHTMLautoload}),d.mtable.Augment({toCommonHTML:d.mbase.CHTMLautoload}),MathJax.Hub.Register.StartupHook("onLoad",function(){setTimeout(MathJax.Callback(["loadComplete",h,"jax.js"]),0)})}),MathJax.Hub.Register.StartupHook("End Cookie",function(){E.config.menuSettings.zoom!=="None"&&k.Require("[MathJax]/extensions/MathZoom.js")})})(MathJax.Ajax,MathJax.Hub,MathJax.HTML,MathJax.OutputJax.CommonHTML);
