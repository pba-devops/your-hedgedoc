MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var J="2.7.9",o=MathJax.ElementJax.mml,G=MathJax.Hub.config,r=MathJax.OutputJax.CommonHTML,I=MathJax.Hub.SplitList,u=-1,W=1e6;o.mtable.Augment({toCommonHTML:function(l){var i={rows:[],labels:[],labeled:!1};l=this.CHTMLdefaultNode(l,{noBBox:!0,childOptions:i});for(var f=r.Element("mjx-table");l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f);var t=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","width","side","minlabelspacing","useHeight"),n=r.TEX.min_rule_thickness/r.em;i.t=r.Px(n*this.CHTML.scale,1),this.CHTMLgetBoxSizes(t,i),this.CHTMLgetAttributes(t,i),this.CHTMLadjustCells(t,i),t.frame&&(f.style.border=i.t+" "+t.frame),this.CHTMLalignV(t,i,l),this.CHTMLcolumnWidths(t,i,l),this.CHTMLstretchCells(t,i),i.labeled&&this.CHTMLaddLabels(t,i,l,f);var h=this.CHTML;return h.w=h.r=i.R,h.h=h.t=i.T-i.B,h.d=h.b=i.B,!t.frame&&!h.pwidth&&(l.style.padding="0 "+r.Em(1/6),h.L=h.R=1/6),this.CHTMLhandleSpace(l),this.CHTMLhandleBBox(l),this.CHTMLhandleColor(l),l},CHTMLgetBoxSizes:function(l,i){var f=r.FONTDATA.lineH*l.useHeight,t=r.FONTDATA.lineD*l.useHeight,n=[],h=[],e=[],T=-1,m,d;for(m=0,d=this.data.length;m<d;m++){var a=this.data[m],C=a.type==="mtr"?0:u;n[m]=f,h[m]=t;for(var g=C,L=a.data.length+C;g<L;g++){e[g]==null&&(e[g]=-W,g>T&&(T=g));var E=a.data[g-C].CHTML;E.h>n[m]&&(n[m]=E.h),E.d>h[m]&&(h[m]=E.d),E.w>e[g]&&(e[g]=E.w)}}if(l.equalrows){i.HD=!0;var s=Math.max.apply(Math,n),c=Math.max.apply(Math,h);for(m=0,d=n.length;m<d;m++)n[m]=s,h[m]=c}i.H=n,i.D=h,i.W=e,i.J=T},CHTMLgetAttributes:function(l,i){var f=I(l.columnspacing),t=I(l.rowspacing),n=I(l.columnalign),h=I(l.rowalign),e=I(l.columnlines),T=I(l.rowlines),m=I(l.columnwidth),d=[],a,C,g=i.J,L=i.rows.length-1;for(a=0,C=f.length;a<C;a++)f[a]=this.CHTMLlength2em(f[a]);for(a=0,C=t.length;a<C;a++)t[a]=this.CHTMLlength2em(t[a]);for(;f.length<g;)f.push(f[f.length-1]);for(;n.length<=g;)n.push(n[n.length-1]);for(;e.length<g;)e.push(e[e.length-1]);for(;m.length<=g;)m.push(m[m.length-1]);for(;t.length<L;)t.push(t[t.length-1]);for(;h.length<=L;)h.push(h[h.length-1]);for(;T.length<L;)T.push(T[T.length-1]);for(n[u]=l.side.substr(0,1)==="l"?"left":"right",a=0;a<=L;a++){var E=this.data[a];if(d[a]=[],E.rowalign&&(h[a]=E.rowalign),E.columnalign)for(d[a]=I(E.columnalign);d[a].length<=g;)d[a].push(d[a][d[a].length-1])}var s=I(l.framespacing);s.length!=2&&(s=I(this.defaults.framespacing)),s[0]=Math.max(0,this.CHTMLlength2em(s[0])),s[1]=Math.max(0,this.CHTMLlength2em(s[1])),(l.columnlines.replace(/none/g,"").replace(/ /g,"")!==""||l.rowlines.replace(/none/g,"").replace(/ /g,"")!=="")&&(l.fspace=!0),l.frame===o.LINES.NONE?delete l.frame:l.fspace=!0,l.frame&&(s[0]=Math.max(0,s[0]),s[1]=Math.max(0,s[1])),l.fspace?(f[g]=s[0],t[L]=s[1]):f[g]=t[L]=0,e[g]=T[L]=o.LINES.NONE,i.CSPACE=f,i.RSPACE=t,i.CALIGN=n,i.RALIGN=h,i.CLINES=e,i.RLINES=T,i.CWIDTH=m,i.RCALIGN=d,i.FSPACE=s},CHTMLadjustCells:function(l,i){var f=i.rows,t=i.CSPACE,n=i.CLINES,h=i.RSPACE,e=i.RLINES,T=i.CALIGN,m=i.RALIGN,d=i.RCALIGN;t[i.J]*=2,h[f.length-1]*=2;var a="0",C,g,L,E,s,c,H=0;l.fspace&&(H=i.FSPACE[1],a=r.Em(i.FSPACE[1])),i.RHD=[],i.RH=[];for(var M=0,p=f.length;M<p;M++){var A=f[M],S=this.data[M];if(C=h[M]/2,E=null,L="0",e[M]!==o.LINES.NONE&&e[M]!==""&&(E=i.t+" "+e[M]),E||n[N]!==o.LINES.NONE&&n[N]!=="")for(;A.length<=i.J;)A.push(r.addElement(A.node,"mjx-mtd",null,[["span"]]));i.RH[M]=H+i.H[M],H=Math.max(0,C),i.RHD[M]=i.RH[M]+H+i.D[M],C=r.Em(H),l.fspace&&(L=r.Em(i.FSPACE[0]));for(var N=0,y=A.length;N<y;N++){var D=S.type==="mtr"?0:u,b=S.data[N-D]||{CHTML:r.BBOX.zero()},w=A[N].style;s=b.CHTML,g=t[N]/2,n[N]!==o.LINES.NONE&&(w.borderRight=i.t+" "+n[N],g-=1/r.em/2),g=r.Em(Math.max(0,g)),w.padding=a+" "+g+" 0px "+L,E&&(w.borderBottom=E),L=g,c=b.rowalign||(this.data[M]||{}).rowalign||m[M];var v=Math.max(1,s.h),P=Math.max(.2,s.d),R=i.H[M]+i.D[M]-(v+P),x=A[N].firstChild.style;c===o.ALIGN.TOP?(R&&(x.marginBottom=r.Em(R)),w.verticalAlign="top"):c===o.ALIGN.BOTTOM?(w.verticalAlign="bottom",R&&(x.marginTop=r.Em(R))):c===o.ALIGN.CENTER?(R&&(x.marginTop=x.marginBottom=r.Em(R/2)),w.verticalAlign="middle"):v!==i.H[M]&&(x.marginTop=r.Em(i.H[M]-v)),c=b.columnalign||d[M][N]||T[N],c!==o.ALIGN.CENTER&&(w.textAlign=c)}A.node.style.height=r.Em(i.RHD[M]),a=C}t[i.J]/=2,h[f.length-1]/=2},CHTMLalignV:function(l,i,f){var t,n=i.rows.length,h=i.H,e=i.D,T=i.RSPACE;typeof l.align!="string"&&(l.align=String(l.align)),l.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(t=parseInt(RegExp.$3||"0"),l.align=RegExp.$1,t<0&&(t+=i.rows.length+1),(t>n||t<=0)&&(t=null)):l.align=this.defaults.align;var m=0,d=0,a=r.TEX.axis_height;l.fspace&&(m+=i.FSPACE[1]),l.frame&&(m+=2/r.em,d+=1/r.em);for(var C=0;C<n;C++){var g=h[C],L=e[C];m+=g+L+T[C],t&&(C===t-1&&(d+={top:g+L,bottom:0,center:(g+L)/2,baseline:L,axis:a+L}[l.align]+T[C]),C>=t&&(d+=g+L+T[C]))}t||(d={top:m,bottom:0,center:m/2,baseline:m/2,axis:m/2-a}[l.align]),d&&(f.style.verticalAlign=r.Em(-d)),i.T=m,i.B=d},CHTMLcolumnWidths:function(l,i,f){var t=i.CWIDTH,n=i.CSPACE,h=i.J,e,T=0,m=!1,d=l.width.match(/%$/),a,C,g;if(l.width!=="auto"&&!d&&(T=Math.max(0,this.CHTMLlength2em(l.width,i.R)),m=!0),l.equalcolumns){if(d){var L=r.Percent(1/(h+1));for(e=0;e<=h;e++)t[e]=L}else{if(g=Math.max.apply(Math,i.W),l.width!=="auto"){var E=l.fspace?i.FSPACE[0]+(l.frame?2/r.em:0):0;for(e=0;e<=h;e++)E+=n[e];g=Math.max((T-E)/(h+1),g)}for(g=r.Em(g),e=0;e<=h;e++)t[e]=g}m=!0}var s=0;l.fspace&&(s=i.FSPACE[0]);var c=[],H=[],M=[],p=[],A=i.rows[0];for(e=0;e<=h;e++)p[e]=i.W[e],t[e]==="auto"?c.push(e):t[e]==="fit"?H.push(e):t[e].match(/%$/)?M.push(e):p[e]=this.CHTMLlength2em(t[e],p[e]),s+=p[e]+n[e],A[e]&&(A[e].style.width=r.Em(p[e]));l.frame&&(s+=2/r.em);var S=H.length>0;if(m||d&&S)if(d)for(e=0;e<=h;e++)cell=A[e].style,t[e]==="auto"&&!S||t[e]==="fit"?cell.width="":t[e].match(/%$/)?cell.width=t[e]:cell.minWidth=cell.maxWidth=cell.width;else{if(T>s){var N=0;for(a=0,C=M.length;a<C;a++)e=M[a],g=Math.max(p[e],this.CHTMLlength2em(t[e],T)),N+=g-p[e],p[e]=g,A[e].style.width=r.Em(g);s+=N}if(S||(H=c),T>s&&H.length){var y=(T-s)/H.length;for(a=0,C=H.length;a<C;a++)e=H[a],p[e]+=y,A[e].style.width=r.Em(p[e]);s=T}}p[u]=i.W[u],i.W=p,i.R=s,d&&(f.style.width=this.CHTML.pwidth="100%",this.CHTML.mwidth=r.Em(s),f.firstChild.style.width=l.width,f.firstChild.style.margin="auto")},CHTMLstretchCells:function(l,i){for(var f=i.rows,t=i.H,n=i.D,h=i.W,e=i.J,T=f.length-1,m=0;m<=T;m++)for(var d=f[m],a=this.data[m],C=t[m],g=n[m],L=0;L<=e;L++){var E=d[L],s=a.data[L];s&&(s.CHTML.stretch==="V"?s.CHTMLstretchV(C,g):s.CHTML.stretch==="H"&&s.CHTMLstretchH(E,h[L]))}},CHTMLaddLabels:function(l,i,f,t){var n=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");n.indentalignfirst!==o.INDENTALIGN.INDENTALIGN&&(n.indentalign=n.indentalignfirst),n.indentalign===o.INDENTALIGN.AUTO&&(n.indentalign=G.displayAlign),n.indentshiftfirst!==o.INDENTSHIFT.INDENTSHIFT&&(n.indentshift=n.indentshiftfirst),n.indentshift==="auto"&&(n.indentshift="0");var h=this.CHTMLlength2em(n.indentshift,r.cwidth),e=this.CHTMLlength2em(l.minlabelspacing,.8),T=e+i.W[u],m=0,d=i.R,a=this.CHTMLlength2em(G.displayIndent,r.cwidth),C=i.CALIGN[u]===o.INDENTALIGN.RIGHT?-1:1;n.indentalign===o.INDENTALIGN.CENTER?(d+=2*(T-C*(h+a)),h+=a):i.CALIGN[u]===n.indentalign?(a<0&&(m=C*a,a=0),h+=C*a,T>C*h&&(h=C*T),h+=m,h*=C,d+=h):(d+=T-C*h+a,h-=C*a,h*=-C);var g=r.addElement(f,"mjx-box",{style:{width:"100%","text-align":n.indentalign}});g.appendChild(t);var L=r.Element("mjx-itable");if(t.style.display="inline-table",t.style.width||(t.style.width="auto"),L.style.verticalAlign="top",t.style.verticalAlign=r.Em(i.T-i.B-i.H[0]),f.style.verticalAlign="",h)if(n.indentalign===o.INDENTALIGN.CENTER)t.style.marginLeft=r.Em(h),t.style.marginRight=r.Em(-h);else{var E="margin"+(n.indentalign===o.INDENTALIGN.RIGHT?"Right":"Left");t.style[E]=r.Em(h)}i.CALIGN[u]==="left"?(f.insertBefore(L,g),L.style.marginRight=r.Em(-i.W[u]-m),m&&(L.style.marginLeft=r.Em(m))):(f.appendChild(L),L.style.marginLeft=r.Em(-i.W[u]+m));var s=i.labels,c=0;l.fspace&&(c=i.FSPACE[0]+(l.frame?1/r.em:0));for(var H=0,M=s.length;H<M;H++)if(s[H]&&this.data[H].data[0]){L.appendChild(s[H]);var p=this.data[H].data[0].CHTML;c=i.RH[H]-Math.max(1,p.h),c&&(s[H].firstChild.firstChild.style.marginTop=r.Em(c)),s[H].style.height=r.Em(i.RHD[H])}else r.addElement(L,"mjx-label",{style:{height:r.Em(i.RHD[H])}});f.style.width=this.CHTML.pwidth="100%",f.style.minWidth=this.CHTML.mwidth=r.Em(Math.max(0,d))}}),o.mtr.Augment({toCommonHTML:function(l,i){l=this.CHTMLcreateNode(l),this.CHTMLhandleStyle(l),this.CHTMLhandleScale(l),i||(i={rows:[],labels:[]});var f=[];i.rows.push(f),f.node=l,i.labels.push(null);for(var t=0,n=this.data.length;t<n;t++)f.push(this.CHTMLaddChild(l,t,i));return this.CHTMLhandleColor(l),l}}),o.mlabeledtr.Augment({toCommonHTML:function(l,i){l=this.CHTMLcreateNode(l),this.CHTMLhandleStyle(l),this.CHTMLhandleScale(l),i||(i={rows:[],labels:[]});var f=[];i.rows.push(f),f.node=l;var t=r.Element("mjx-label");i.labels.push(t),this.CHTMLaddChild(t,0,i),this.data[0]&&(i.labeled=!0);for(var n=1,h=this.data.length;n<h;n++)f.push(this.CHTMLaddChild(l,n,i));return this.CHTMLhandleColor(l),l}}),o.mtd.Augment({toCommonHTML:function(l,i){if(l=this.CHTMLdefaultNode(l,i),r.addElement(l.firstChild,"mjx-strut"),this.isEmbellished()){var f=this.CoreMO(),t=this.CHTML;if(f.CHTMLcanStretch("Vertical")?t.stretch="V":f.CHTMLcanStretch("Horizontal")&&(t.stretch="H"),t.stretch){var n=f.Get("minsize",!0);if(n)if(t.stretch==="V"){var h=t.h+t.d;if(h){var e=this.CHTMLlength2em(n,h)/h;e>1&&(t.h*=e,t.d*=e)}}else t.w=Math.max(t.w,this.CHTMLlength2em(n,t.w))}}return l}}),MathJax.Hub.Startup.signal.Post("CommonHTML mtable Ready"),MathJax.Ajax.loadComplete(r.autoloadDir+"/mtable.js")});
