MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var A="2.7.9",w=MathJax.ElementJax.mml,a=MathJax.OutputJax.CommonHTML;w.mmultiscripts.Augment({toCommonHTML:function(t,e){var r=(e||{}).stretch;r||(t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLgetVariant(),this.CHTMLhandleScale(t)),a.BBOX.empty(this.CHTML);var s,i;r?s=a.getNode(t,"mjx-base"):(this.CHTMLaddChild(t,0,{type:"mjx-base",noBBox:!0,forceChild:!0}),s=t.firstChild),i=this.CHTMLbboxFor(0),i.ic&&(i.R-=i.ic,r||(s.style.marginRight=a.Em(-i.ic)),L=1.3*i.ic+.05);var p={},h={};this.CHTMLgetScripts(p,h,r,t);var l=p.sub,u=p.sup,n=p.presub,M=p.presup,H=h.sub,y=h.sup,T=h.presub,d=h.presup;r||this.CHTMLaddBoxes(t,s,p);var f=this.getValues("scriptlevel","scriptsizemultiplier"),S=this.Get("scriptlevel")<3?f.scriptsizemultiplier:1,g=a.TEX.x_height,C=a.TEX.scriptspace,b=a.TEX.sup_drop*S,P=a.TEX.sub_drop*S,c=i.h-b,m=i.d+P,L=0,j,o=this.data[this.base];o&&(o.type==="mi"||o.type==="mo")&&a.isChar(o.data.join(""))&&i.rscale===1&&!i.sH&&!o.Get("largeop")&&(c=m=0),f=this.getValues("displaystyle","subscriptshift","superscriptshift","texprimestyle"),f.subscriptshift=f.subscriptshift===""?0:this.CHTMLlength2em(f.subscriptshift),f.superscriptshift=f.superscriptshift===""?0:this.CHTMLlength2em(f.superscriptshift);var N=n?C+T.w:M?C+d.w-L:0;this.CHTML.combine(i,N,0);var E=this.CHTML.w;if(!u&&!M)m=Math.max(m,a.TEX.sub1,f.subscriptshift),l&&(m=Math.max(m,H.h-4/5*g)),n&&(m=Math.max(m,T.h-4/5*g)),l&&this.CHTMLplaceSubOnly(l,H,E,m,C),n&&this.CHTMLplacePresubOnly(n,T,m,C);else if(!l&&!n)j=a.TEX[f.displaystyle?"sup1":f.texprimestyle?"sup3":"sup2"],c=Math.max(c,j,f.superscriptshift),u&&(c=Math.max(c,y.d+1/4*g)),M&&(c=Math.max(c,d.d+1/4*g)),u&&this.CHTMLplaceSupOnly(u,y,E,L,c,C),M&&this.CHTMLplacePresupOnly(M,d,L,c,C);else{m=Math.max(m,a.TEX.sub2);var R=a.TEX.rule_thickness,x=(H||T).h,v=(y||d).d;n&&(x=Math.max(x,T.h)),M&&(v=Math.max(v,d.d)),c-v-(x-m)<3*R&&(m=3*R-c+v+x,b=4/5*g-(c-v),b>0&&(c+=b,m-=b)),c=Math.max(c,f.superscriptshift),m=Math.max(m,f.subscriptshift),u?l?this.CHTMLplaceSubSup(l,H,u,y,E,L,c,m,C):this.CHTMLplaceSupOnly(u,y,E,L,c,C):l&&this.CHTMLplaceSubOnly(l,H,E,m,C),M?n?this.CHTMLplacePresubPresup(n,T,M,d,L,c,m,C):this.CHTMLplacePresupOnly(M,d,L,c,C):n&&this.CHTMLplacePresubOnly(n,T,m,C)}return this.CHTML.clean(),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLgetScripts:function(t,e,r,s){if(r){t.sub=a.getNode(s,"mjx-sub"),t.sup=a.getNode(s,"mjx-sup"),t.presub=a.getNode(s,"mjx-presub"),t.presup=a.getNode(s,"mjx-presup"),e.sub=this.CHTMLbbox.sub,e.sup=this.CHTMLbbox.sup,e.presub=this.CHTMLbbox.presub,e.presup=this.CHTMLbbox.presup;return}this.CHTMLbbox=e;for(var i={i:1,w:0,BOX:t,BBOX:e},p=this.data.length,h="sub",l="sup";i.i<p;)if((this.data[i.i]||{}).type==="mprescripts")i.i++,i.w=0,h="presub",l="presup";else{var u=this.CHTMLaddScript(h,i,s),n=this.CHTMLaddScript(l,i,s),M=Math.max(u?u.rscale*u.w:0,n?n.rscale*n.w:0);this.CHTMLpadScript(h,M,u,i),this.CHTMLpadScript(l,M,n,i),i.w+=M}e.sub&&e.sub.clean(),e.sup&&e.sup.clean(),e.presub&&e.presub.clean(),e.presup&&e.presup.clean()},CHTMLaddScript:function(t,e,r){var s,i,p=this.data[e.i];return p&&p.type!=="none"&&p.type!=="mprescripts"&&(s=e.BOX[t],s||(s=e.BOX[t]=a.addElement(r,"mjx-"+t),i=e.BBOX[t]=a.BBOX.empty(),e.w&&(s.style.paddingLeft=a.Em(e.w),i.w=i.r=e.w,i.x=e.w)),p.toCommonHTML(s),i=p.CHTML),p&&p.type!=="mprescripts"&&e.i++,i},CHTMLpadScript:function(t,e,r,s){r||(r={w:0,fake:1,rscale:1});var i=s.BBOX[t],p=0,h=0;if(i){if(r.rscale*r.w<e){var l=s.BOX[t];h=e-r.rscale*r.w;var u=a.Element("mjx-spacer",{style:{width:a.Em(h)}});t.substr(0,3)==="pre"&&!r.fake?(l.insertBefore(u,l.lastChild),p=h,h=0):l.appendChild(u)}r.fake?i.w+=p:i.combine(r,i.w+p,0),i.w+=h}},CHTMLaddBoxes:function(t,e,r){var s=r.sub,i=r.sup,p=r.presub,h=r.presup;if(p&&h){var l=a.Element("mjx-prestack");t.insertBefore(l,e),l.appendChild(h),l.appendChild(p)}else p&&t.insertBefore(p,e),h&&t.insertBefore(h,e);if(s&&i){var u=a.addElement(t,"mjx-stack");u.appendChild(i),u.appendChild(s)}else s&&t.appendChild(s),i&&t.appendChild(i)},CHTMLplaceSubOnly:function(t,e,r,s,i){t.style.verticalAlign=a.Em(-s),t.style.marginRight=a.Em(i),e.w+=i,this.CHTML.combine(e,r,-s)},CHTMLplaceSupOnly:function(t,e,r,s,i,p){t.style.verticalAlign=a.Em(i),t.style.paddingLeft=a.Em(s),t.style.paddingRight=a.Em(p),e.w+=p,this.CHTML.combine(e,r+s,i)},CHTMLplaceSubSup:function(t,e,r,s,i,p,h,l,u){t.style.paddingRight=a.Em(u),e.w+=u,r.style.paddingBottom=a.Em(h+l-s.d-e.h),r.style.paddingLeft=a.Em(p+(s.x||0)),r.style.paddingRight=a.Em(u),s.w+=u,r.parentNode.style.verticalAlign=a.Em(-l),this.CHTML.combine(e,i,-l),this.CHTML.combine(s,i+p,h)},CHTMLplacePresubOnly:function(t,e,r,s){t.style.verticalAlign=a.Em(-r),t.style.marginLeft=a.Em(s),this.CHTML.combine(e,s,-r)},CHTMLplacePresupOnly:function(t,e,r,s,i){t.style.verticalAlign=a.Em(s),t.style.paddingLeft=a.Em(i),t.style.paddingRight=a.Em(-r),this.CHTML.combine(e,i,s)},CHTMLplacePresubPresup:function(t,e,r,s,i,p,h,l){t.style.paddingLeft=a.Em(l),r.style.paddingBottom=a.Em(p+h-s.d-e.h),r.style.paddingLeft=a.Em(i+l+(s.x||0)),r.style.paddingRight=a.Em(-i),r.parentNode.style.verticalAlign=a.Em(-h),this.CHTML.combine(e,l,-h),this.CHTML.combine(s,l+i,p)},CHTMLstretchH:w.mbase.CHTMLstretchH,CHTMLstretchV:w.mbase.CHTMLstretchV}),MathJax.Hub.Startup.signal.Post("CommonHTML mmultiscripts Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/mmultiscripts.js")});
