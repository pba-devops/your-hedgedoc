MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var m="2.7.9",f=MathJax.ElementJax.mml,L=MathJax.OutputJax["HTML-CSS"],c=f.mo().With({HTMLspanElement:function(){return{bbox:{w:0},style:{}}}}),u={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],maxwidth:1.33,toobig:800,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},M={linebreakstyle:"after"};f.mbase.Augment({HTMLlinebreakPenalty:u,HTMLmultiline:function(e){for(var a=this;a.inferred||a.parent&&a.parent.type==="mrow"&&a.isEmbellished();)a=a.parent;var i=a.type==="math"&&a.Get("display")==="block"||a.type==="mtd";a.isMultiline=!0;var t=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast");t.linebreakstyle===f.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(t.linebreakstyle=this.Get("infixlinebreakstyle")),t.lineleading=L.length2em(t.lineleading,1,.5),this.HTMLremoveColor(e);var s=L.createStack(e);this.HTMLgetScale();for(var n={n:0,Y:0,scale:this.scale||1,isTop:i,values:{},VALUES:t},l=this.HTMLgetAlign(n,{}),h=this.HTMLgetShift(n,{},l),r=[],d={index:[],penalty:u.nobreak,w:0,W:h,shift:h,scanW:h,nest:0},b=!1;this.HTMLbetterBreak(d,n,!0)&&(d.scanW>=L.linebreakWidth||d.penalty===u.newline);)this.HTMLaddLine(s,r,d.index,n,d.values,b),r=d.index.slice(0),b=!0,l=this.HTMLgetAlign(n,d.values),h=this.HTMLgetShift(n,d.values,l),l===f.INDENTALIGN.CENTER&&(h=0),d.W=d.shift=d.scanW=h,d.penalty=u.nobreak;return n.isLast=!0,this.HTMLaddLine(s,r,[],n,M,b),a.type==="math"&&(s.style.width=e.bbox.width="100%"),this.HTMLhandleSpace(e),this.HTMLhandleColor(e),e.bbox.isMultiline=!0,e},HTMLbetterBreak:function(e,a,i){if(this.isToken)return!1;if(this.isEmbellished())return e.embellished=this,this.CoreMO().HTMLbetterBreak(e,a);if(this.linebreakContainer)return!1;var t=e.index.slice(0),s=e.index.shift(),n=this.data.length,l,h,r,d=e.index.length>0,b=!1;for(s==null&&(s=-1),d||(s++,e.W+=e.w,e.w=0),r=e.scanW=e.W,e.nest++;s<n&&(e.scanW<u.maxwidth*L.linebreakWidth||e.w===0);){if(this.data[s]){if(this.data[s].HTMLbetterBreak(e,a)&&(b=!0,t=[s].concat(e.index),l=e.W,h=e.w,e.penalty===u.newline))return e.index=t,e.nest&&e.nest--,!0;r=d?e.scanW:this.HTMLaddWidth(s,e,r)}e.index=[],s++,d=!1}return i&&b&&(c.parent=this.parent,c.inherit=this.inherit,c.HTMLbetterBreak(e,a)&&(b=!1,t=e.index)),e.nest&&e.nest--,e.index=t,b&&(e.W=l,e.w=h),b},HTMLaddWidth:function(e,a,i){if(this.data[e]){var t=this.data[e].HTMLspanElement();i+=t.bbox.w,t.style.paddingLeft&&(i+=L.unEm(t.style.paddingLeft)),t.style.paddingRight&&(i+=L.unEm(t.style.paddingRight)),a.W=a.scanW=i,a.w=0}return i},HTMLaddLine:function(e,a,i,t,s,n){line=L.createBox(e),line.bbox=this.HTMLemptyBBox({}),t.first=n,t.last=!0,this.HTMLmoveLine(a,i,line,t,s),this.HTMLcleanBBox(line.bbox);var l=this.HTMLgetAlign(t,s),h=this.HTMLgetShift(t,s,l);if(t.n>0){var r=L.FONTDATA.baselineskip*t.scale,d=(t.values.lineleading==null?t.VALUES:t.values).lineleading*t.scale;t.Y-=Math.max(r,t.d+line.bbox.h+d)}L.alignBox(line,l,t.Y,h),t.d=line.bbox.d,t.values=s,t.n++},HTMLgetAlign:function(e,a){var i=a,t=e.values,s=e.VALUES,n;return e.n===0?n=i.indentalignfirst||t.indentalignfirst||s.indentalignfirst:e.isLast?n=t.indentalignlast||s.indentalignlast:n=t.indentalign||s.indentalign,n===f.INDENTALIGN.INDENTALIGN&&(n=t.indentalign||s.indentalign),n===f.INDENTALIGN.AUTO&&(n=e.isTop?this.displayAlign:f.INDENTALIGN.LEFT),n},HTMLgetShift:function(e,a,i){var t=a,s=e.values,n=e.VALUES,l;if(e.n===0?l=t.indentshiftfirst||s.indentshiftfirst||n.indentshiftfirst:e.isLast?l=s.indentshiftlast||n.indentshiftlast:l=s.indentshift||n.indentshift,l===f.INDENTSHIFT.INDENTSHIFT&&(l=s.indentshift||n.indentshift),(l==="auto"||l==="")&&(l="0"),l=L.length2em(l,1,L.cwidth),e.isTop&&this.displayIndent!=="0"){var h=L.length2em(this.displayIndent,1,L.cwidth);l+=i===f.INDENTALIGN.RIGHT?-h:h}return l},HTMLmoveLine:function(e,a,i,t,s){var n=e[0],l=a[0];if(n==null&&(n=-1),l==null&&(l=this.data.length-1),n===l&&e.length>1)this.data[n].HTMLmoveSlice(e.slice(1),a.slice(1),i,t,s,"paddingLeft");else{var h=t.last;for(t.last=!1;n<l;)this.data[n]&&(e.length<=1?this.data[n].HTMLmoveSpan(i,t,s):this.data[n].HTMLmoveSlice(e.slice(1),[],i,t,s,"paddingLeft")),n++,t.first=!1,e=[];t.last=h,this.data[n]&&(a.length<=1?this.data[n].HTMLmoveSpan(i,t,s):this.data[n].HTMLmoveSlice([],a.slice(1),i,t,s,"paddingRight"))}},HTMLmoveSlice:function(e,a,i,t,s,n){this.HTMLremoveColor();var l=this.HTMLcreateSliceSpan(i);if(this.HTMLmoveLine(e,a,l,t,s),l.style[n]="",this.HTMLcombineBBoxes(l,i.bbox),this.HTMLcleanBBox(l.bbox),a.length===0){i=this.HTMLspanElement();var h=i;this.href&&(i=i.parentNode),i.parentNode.removeChild(i),i.nextMathJaxSpan.id=h.id;for(var r=0;h=h.nextMathJaxSpan;){h.nodeName.toLowerCase()==="a"&&(h=h.firstChild);var d=this.HTMLhandleColor(h);d&&(d.id+="-MathJax-Continue-"+r,r++)}}return l},HTMLcreateSliceSpan:function(e){var a=this.HTMLspanElement(),i=0;this.href&&(a=a.parentNode);for(var t=a;t.nextMathJaxSpan;)t=t.nextMathJaxSpan,i++;var s=a.cloneNode(!1);return t.nextMathJaxSpan=s,s.nextMathJaxSpan=null,s.id+="-MathJax-Continue-"+i,s.bbox=this.HTMLemptyBBox({}),e.appendChild(s)},HTMLmoveSpan:function(e,a,i){if(!(a.first||a.last)||a.first&&a.values.linebreakstyle===f.LINEBREAKSTYLE.BEFORE||a.last&&i.linebreakstyle===f.LINEBREAKSTYLE.AFTER){var t=document.getElementById("MathJax-Color-"+this.spanID+L.idPostfix);t&&e.appendChild(t);var s=this.HTMLspanElement();this.href&&(s=s.parentNode),e.appendChild(s),a.last&&(s.style.paddingRight=""),(a.first||a.nextIsFirst)&&(s.style.paddingLeft="",t&&(this.HTMLremoveColor(s),this.HTMLhandleColor(s))),a.first&&s.bbox.w===0?a.nextIsFirst=!0:delete a.nextIsFirst,this.HTMLcombineBBoxes(this,e.bbox)}}}),f.mfenced.Augment({HTMLbetterBreak:function(e,a){var i=e.index.slice(0),t=e.index.shift(),s=this.data.length,n,l,h,r=e.index.length>0,d=!1;if(t==null&&(t=-1),r||(t++,e.W+=e.w,e.w=0),h=e.scanW=e.W,e.nest++,!this.dataI){this.dataI=[],this.data.open&&this.dataI.push("open"),s&&this.dataI.push(0);for(var b=1;b<s;b++)this.data["sep"+b]&&this.dataI.push("sep"+b),this.dataI.push(b);this.data.close&&this.dataI.push("close")}for(s=this.dataI.length;t<s&&(e.scanW<u.maxwidth*L.linebreakWidth||e.w===0);){var T=this.dataI[t];if(this.data[T]){if(this.data[T].HTMLbetterBreak(e,a)&&(d=!0,i=[t].concat(e.index),n=e.W,l=e.w,e.penalty===u.newline))return e.index=i,e.nest&&e.nest--,!0;h=r?e.scanW:this.HTMLaddWidth(t,e,h)}e.index=[],t++,r=!1}return e.nest&&e.nest--,e.index=i,d&&(e.W=n,e.w=l),d},HTMLmoveLine:function(e,a,i,t,s){var n=e[0],l=a[0];if(n==null&&(n=-1),l==null&&(l=this.dataI.length-1),n===l&&e.length>1)this.data[this.dataI[n]].HTMLmoveSlice(e.slice(1),a.slice(1),i,t,s,"paddingLeft");else{var h=t.last;t.last=!1;for(var r=this.dataI[n];n<l;)this.data[r]&&(e.length<=1?this.data[r].HTMLmoveSpan(i,t,s):this.data[r].HTMLmoveSlice(e.slice(1),[],i,t,s,"paddingLeft")),n++,r=this.dataI[n],t.first=!1,e=[];t.last=h,this.data[r]&&(a.length<=1?this.data[r].HTMLmoveSpan(i,t,s):this.data[r].HTMLmoveSlice([],a.slice(1),i,t,s,"paddingRight"))}}}),f.msubsup.Augment({HTMLbetterBreak:function(e,a){if(!this.data[this.base])return!1;var i=e.index.slice(0),t=e.index.shift(),s,n,l,h=e.index.length>0,r=!1;return h||(e.W+=e.w,e.w=0),l=e.scanW=e.W,t==null&&(this.HTMLbaseW=this.data[this.base].HTMLspanElement().bbox.w,this.HTMLdw=this.HTMLspanElement().bbox.w-this.HTMLbaseW),this.data[this.base].HTMLbetterBreak(e,a)&&(r=!0,i=[this.base].concat(e.index),s=e.W,n=e.w,e.penalty===u.newline&&(r=h=!0)),h||this.HTMLaddWidth(this.base,e,l),e.scanW+=this.HTMLdw,e.W=e.scanW,e.index=[],r&&(e.W=s,e.w=n,e.index=i),r},HTMLmoveLine:function(e,a,i,t,s){if(this.data[this.base]&&(e.length>1?this.data[this.base].HTMLmoveSlice(e.slice(1),a.slice(1),i,t,s,"paddingLeft"):a.length<=1?this.data[this.base].HTMLmoveSpan(i,t,s):this.data[this.base].HTMLmoveSlice([],a.slice(1),i,t,s,"paddingRight")),a.length===0){var n=this.data[this.sup]||this.data[this.sub];if(n&&this.HTMLnotEmpty(n)){var l=n.HTMLspanElement().parentNode;n.href&&(l=l.parentNode);var h=l.parentNode;if(this.data[this.base]){var r=this.data[this.base].HTMLspanElement().bbox.ic;r&&(h.style.marginLeft=L.Em(-r)),h.removeChild(h.firstChild)}for(l=h.firstChild;l;l=l.nextSibling)l.style.left=L.Em(L.unEm(l.style.left)-this.HTMLbaseW);h.bbox.w-=this.HTMLbaseW,h.style.width=L.Em(h.bbox.w),this.HTMLcombineBBoxes(h,i.bbox),i.appendChild(h)}}}}),f.mmultiscripts.Augment({HTMLbetterBreak:function(e,a){if(!this.data[this.base])return!1;var i=e.index.slice(0);e.index.shift();var t,s,n,l=e.index.length>0,h=!1;l||(e.W+=e.w,e.w=0),e.scanW=e.W;var r=this.HTMLspanElement().bbox,d=this.data[this.base].HTMLspanElement().bbox,b=r.w-d.w;return e.scanW+=r.dx,n=e.scanW,this.data[this.base].HTMLbetterBreak(e,a)&&(h=!0,i=[this.base].concat(e.index),t=e.W,s=e.w,e.penalty===u.newline&&(h=l=!0)),l||this.HTMLaddWidth(this.base,e,n),e.scanW+=b,e.W=e.scanW,e.index=[],h&&(e.W=t,e.w=s,e.index=i),h},HTMLmoveLine:function(e,a,i,t,s){var n=this.HTMLspanElement(),l=n.bbox,h=n.firstChild,r={};L.msiePaddingWidthBug&&(h=h.nextSibling);for(var d=h.firstChild;d;)d.bbox&&d.bbox.name&&(r[d.bbox.name]=d),d=d.nextSibling;if(e.length<1&&(r.presub||r.presup)){var b=L.createStack(i);r.presup&&(L.addBox(b,r.presup),L.placeBox(r.presup,l.dx-r.presup.bbox.w,l.u)),r.presub&&(L.addBox(b,r.presub),L.placeBox(r.presub,l.dx+l.delta-r.presub.bbox.w,-l.v)),this.HTMLcombineBBoxes(b,i.bbox),i.appendChild(b),b.style.width=L.Em(l.dx)}if(this.data[this.base]&&(e.length>1?this.data[this.base].HTMLmoveSlice(e.slice(1),a.slice(1),i,t,s,"paddingLeft"):a.length<=1?this.data[this.base].HTMLmoveSpan(i,t,s):this.data[this.base].HTMLmoveSlice([],a.slice(1),i,t,s,"paddingRight")),a.length===0){for(this.data[this.base]&&h.removeChild(h.firstChild),d=h.firstChild;d;d=d.nextSibling)d.style.left=L.Em(L.unEm(d.style.left)-l.px);h.bbox.w-=l.px,h.style.width=L.Em(h.bbox.w),this.HTMLcombineBBoxes(h,i.bbox),i.appendChild(h)}}}),f.mo.Augment({HTMLbetterBreak:function(e,a){if(e.values&&e.values.id===this.spanID)return!1;var i=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence");i.linebreakstyle===f.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.texClass===f.TEXCLASS.OPEN&&e.nest++,i.texClass===f.TEXCLASS.CLOSE&&e.nest&&e.nest--;var t=e.scanW,s=e.embellished||this;delete e.embellished;var n=s.HTMLspanElement(),l=n.bbox.w;if(n.style.paddingLeft&&(l+=L.unEm(n.style.paddingLeft)),i.linebreakstyle===f.LINEBREAKSTYLE.AFTER&&(t+=l,l=0),t-e.shift===0&&i.linebreak!==f.LINEBREAK.NEWLINE)return!1;var h=L.linebreakWidth-t;if(a.n===0&&(i.indentshiftfirst!==a.VALUES.indentshiftfirst||i.indentalignfirst!==a.VALUES.indentalignfirst)){var r=this.HTMLgetAlign(a,i),d=this.HTMLgetShift(a,i,r);h+=e.shift-d}var b=Math.floor(h/L.linebreakWidth*1e3);b<0&&(b=u.toobig-3*b),i.fence&&(b+=u.fence),(i.linebreakstyle===f.LINEBREAKSTYLE.AFTER&&i.texClass===f.TEXCLASS.OPEN||i.texClass===f.TEXCLASS.CLOSE)&&(b+=u.close),b+=e.nest*u.nestfactor;var T=u[i.linebreak||f.LINEBREAK.AUTO]||0;return MathJax.Object.isArray(T)?b=Math.max(1,b+T[0]*e.nest):(T||h>=0)&&(b=T*e.nest),b>=e.penalty?!1:(e.penalty=b,e.values=i,e.W=t,e.w=l,i.lineleading=L.length2em(i.lineleading,1,a.VALUES.lineleading),i.id=this.spanID,!0)}}),f.mspace.Augment({HTMLbetterBreak:function(e,a){if(e.values&&e.values.id===this.spanID)return!1;var i=this.getValues("linebreak"),t=i.linebreak;(!t||this.hasDimAttr())&&(t=f.LINEBREAK.AUTO);var s=e.scanW,n=this.HTMLspanElement(),l=n.bbox.w;if(n.style.paddingLeft&&(l+=L.unEm(n.style.paddingLeft)),s-e.shift===0)return!1;var h=L.linebreakWidth-s,r=Math.floor(h/L.linebreakWidth*1e3);r<0&&(r=u.toobig-3*r),r+=e.nest*u.nestfactor;var d=u[t]||0;return t===f.LINEBREAK.AUTO&&l>=u.spacelimit&&!this.mathbackground&&!this.background&&(d=[(l+u.spaceoffset)*u.spacefactor]),MathJax.Object.isArray(d)?r=Math.max(1,r+d[0]*e.nest):(d||h>=0)&&(r=d*e.nest),r>=e.penalty?!1:(e.penalty=r,e.values=i,e.W=s,e.w=l,i.lineleading=a.VALUES.lineleading,i.linebreakstyle="before",i.id=this.spanID,!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){f.TeXmathchoice.Augment({HTMLbetterBreak:function(e,a){return this.Core().HTMLbetterBreak(e,a)},HTMLmoveLine:function(e,a,i,t,s){return this.Core().HTMLmoveSlice(e,a,i,t,s)}})}),f.maction.Augment({HTMLbetterBreak:function(e,a){return this.Core().HTMLbetterBreak(e,a)},HTMLmoveLine:function(e,a,i,t,s){return this.Core().HTMLmoveSlice(e,a,i,t,s)},HTMLmoveSlice:function(e,a,i,t,s,n){var l=document.getElementById("MathJax-HitBox-"+this.spanID+L.idPostfix);l&&l.parentNode.removeChild(l);var h=this.SUPER(arguments).HTMLmoveSlice.apply(this,arguments);if(a.length===0){i=this.HTMLspanElement();for(var r=0;i;)l=this.HTMLhandleHitBox(i,"-Continue-"+r),i=i.nextMathJaxSpan,r++}return h}}),f.semantics.Augment({HTMLbetterBreak:function(e,a){return this.data[0]?this.data[0].HTMLbetterBreak(e,a):!1},HTMLmoveLine:function(e,a,i,t,s){return this.data[0]?this.data[0].HTMLmoveSlice(e,a,i,t,s):null}}),MathJax.Hub.Startup.signal.Post("HTML-CSS multiline Ready"),MathJax.Ajax.loadComplete(L.autoloadDir+"/multiline.js")});
