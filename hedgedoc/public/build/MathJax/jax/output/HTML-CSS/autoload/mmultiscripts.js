MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var R="2.7.9",y=MathJax.ElementJax.mml,t=MathJax.OutputJax["HTML-CSS"];y.mmultiscripts.Augment({toHTML:function(p,d,o){p=this.HTMLcreateSpan(p);var s=this.HTMLgetScale(),a=t.createStack(p),f,h=t.createBox(a);if(this.data[this.base]){var T=this.data[this.base].toHTML(h);o!=null?this.data[this.base].HTMLstretchV(h,d,o):d!=null&&this.data[this.base].HTMLstretchH(h,d),t.Measured(T,h)}else h.bbox=this.HTMLzeroBBox();for(var i=t.TeX.x_height*s,l=t.TeX.scriptspace*s*.75,e=this.HTMLgetScripts(a,l),M=e[0],b=e[1],c=e[2],u=e[3],S=s,v=1;v<this.data.length;v++)if(this.data[v]&&this.data[v].spanID){S=this.data[v].HTMLgetScale();break}var B=t.TeX.sup_drop*S,E=t.TeX.sub_drop*S,x=h.bbox.h-B,r=h.bbox.d+E,H=0,C;h.bbox.ic&&(H=h.bbox.ic),this.data[this.base]&&(this.data[this.base].type==="mi"||this.data[this.base].type==="mo")&&t.isChar(this.data[this.base].data.join(""))&&h.bbox.scale===1&&!this.data[this.base].Get("largeop")&&(x=r=0);var n=this.getValues("subscriptshift","superscriptshift"),J=this.HTMLgetMu(p);n.subscriptshift=n.subscriptshift===""?0:t.length2em(n.subscriptshift,J),n.superscriptshift=n.superscriptshift===""?0:t.length2em(n.superscriptshift,J);var m=0;if(c?m=c.bbox.w+H:u&&(m=u.bbox.w-H),m<0&&(m=0),t.placeBox(h,m,0),!b&&!u)r=Math.max(r,t.TeX.sub1*s,n.subscriptshift),M&&(r=Math.max(r,M.bbox.h-4/5*i)),c&&(r=Math.max(r,c.bbox.h-4/5*i)),M&&t.placeBox(M,m+h.bbox.w+l-H,-r),c&&t.placeBox(c,0,-r);else if(!M&&!c)f=this.getValues("displaystyle","texprimestyle"),C=t.TeX[f.displaystyle?"sup1":f.texprimestyle?"sup3":"sup2"],x=Math.max(x,C*s,n.superscriptshift),b&&(x=Math.max(x,b.bbox.d+1/4*i)),u&&(x=Math.max(x,u.bbox.d+1/4*i)),b&&t.placeBox(b,m+h.bbox.w+l,x),u&&t.placeBox(u,0,x);else{r=Math.max(r,t.TeX.sub2*s);var X=t.TeX.rule_thickness*s,w=(M||c).bbox.h,g=(b||u).bbox.d;c&&(w=Math.max(w,c.bbox.h)),u&&(g=Math.max(g,u.bbox.d)),x-g-(w-r)<3*X&&(r=3*X-x+g+w,B=4/5*i-(x-g),B>0&&(x+=B,r-=B)),x=Math.max(x,n.superscriptshift),r=Math.max(r,n.subscriptshift),b&&t.placeBox(b,m+h.bbox.w+l,x),u&&t.placeBox(u,m+H-u.bbox.w,x),M&&t.placeBox(M,m+h.bbox.w+l-H,-r),c&&t.placeBox(c,m-c.bbox.w,-r)}this.HTMLhandleSpace(p),this.HTMLhandleColor(p);var L=p.bbox;return L.dx=m,L.s=l,L.u=x,L.v=r,L.delta=H,L.px=m+h.bbox.w,p},HTMLgetScripts:function(p,d){for(var o,s,a=[],f=1,h=this.data.length,T=0,i=0;i<4;i+=2){for(;f<h&&(this.data[f]||{}).type!=="mprescripts";){for(var l=[null,null,null,null],e=i;e<i+2;e++)this.data[f]&&this.data[f].type!=="none"&&this.data[f].type!=="mprescripts"?(a[e]||(a[e]=t.createBox(p),a[e].bbox=this.HTMLemptyBBox({}),T&&(t.createBlank(a[e],T),a[e].bbox.w=a[e].bbox.rw=T)),l[e]=this.data[f].toHTML(a[e])):l[e]=MathJax.HTML.Element("span",{bbox:this.HTMLemptyBBox({})}),(this.data[f]||{}).type!=="mprescripts"&&f++;var M=i===2;if(s=a[i],o=a[i+1],s&&o){var b=l[i+1].bbox.w-l[i].bbox.w;b>0?M?(this.HTMLmoveColor(l[i],b,1),a[i].w+=b):t.createBlank(s,b):b<0&&(M?(this.HTMLmoveColor(l[i+1],-b,-1),a[i+1].w+=-b):t.createBlank(o,-b)),this.HTMLcombineBBoxes(l[i],s.bbox),this.HTMLcombineBBoxes(l[i+1],o.bbox),b>0?(s.bbox.w=o.bbox.w,s.bbox.rw=Math.max(s.bbox.w,s.bbox.rw)):b<0&&(o.bbox.w=s.bbox.w,o.bbox.rw=Math.max(o.bbox.w,o.bbox.rw))}else s&&this.HTMLcombineBBoxes(l[i],s.bbox),o&&this.HTMLcombineBBoxes(l[i+1],o.bbox);s?T=s.bbox.w:o&&(T=o.bbox.w)}f++,T=0}for(e=0;e<4;e++)a[e]&&(a[e].bbox.w+=d,a[e].bbox.rw=Math.max(a[e].bbox.w,a[e].bbox.rw),a[e].bbox.name=["sub","sup","presub","presup"][e],this.HTMLcleanBBox(a[e].bbox));return a},HTMLmoveColor:function(p,d,o){var s=d/(p.scale||1);p.style.paddingLeft=t.Em(s);var a=p.previousSibling;a&&(a.id||"").match(/^MathJax-Color-/)&&(a.style.marginLeft=t.Em(s+parseFloat(a.style.marginLeft)),a.style.marginRight=t.Em(o*(s-parseFloat(a.style.marginRight))))},HTMLstretchH:y.mbase.HTMLstretchH,HTMLstretchV:y.mbase.HTMLstretchV}),MathJax.Hub.Startup.signal.Post("HTML-CSS mmultiscripts Ready"),MathJax.Ajax.loadComplete(t.autoloadDir+"/mmultiscripts.js")});
